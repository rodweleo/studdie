"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@amcharts";
exports.ids = ["vendor-chunks/@amcharts"];
exports.modules = {

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XYChart: () => (/* binding */ XYChart)\n/* harmony export */ });\n/* harmony import */ var _XYChartDefaultTheme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./XYChartDefaultTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _core_render_SerialChart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/SerialChart */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_render_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/render/Button */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js\");\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Order__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/util/Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n/* harmony import */ var _core_util_Object__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates an XY chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/} for more info\r\n * @important\r\n */\r\nclass XYChart extends _core_render_SerialChart__WEBPACK_IMPORTED_MODULE_0__.SerialChart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A list of horizontal axes.\r\n         */\r\n        Object.defineProperty(this, \"xAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListAutoDispose()\r\n        });\r\n        /**\r\n         * A list of vertical axes.\r\n         */\r\n        Object.defineProperty(this, \"yAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListAutoDispose()\r\n        });\r\n        /**\r\n         * A [[Container]] located on top of the chart, used to store top horizontal\r\n         * axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, layout: this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle the chart, used to store vertical axes\r\n         * and plot area container.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"yAxesAndPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on bottom of the chart, used to store bottom\r\n         * horizontal axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bottomAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, layout: this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on left of the chart, used to store left-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"leftAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store plotContainer and topPlotContainer\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"plotsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, maskContent: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store actual\r\n         * plots (series).\r\n         *\r\n         * NOTE: `plotContainer` will automatically have its `background` preset. If\r\n         * you need to modify background or outline for chart's plot area, you can\r\n         * use `plotContainer.get(\"background\")` for that.*\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"plotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotsContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] used for any elements that need to be displayed over\r\n         * regular `plotContainer`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotsContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, isMeasured: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis background grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A [[Container]] located on right of the chart, used to store right-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"rightAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis headers are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"axisHeadersContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotContainer.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A button that is shown when chart is not fully zoomed out.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Zoom_out_button} for more info\r\n         * @default Button.new()\r\n         */\r\n        Object.defineProperty(this, \"zoomOutButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.topPlotContainer.children.push(_core_render_Button__WEBPACK_IMPORTED_MODULE_4__.Button.new(this._root, {\r\n                themeTags: [\"zoom\"],\r\n                icon: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics.new(this._root, {\r\n                    themeTags: [\"button\", \"icon\"]\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_wheelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_otherCharts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_movePoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_downStartX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEndX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downStartY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEndY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._defaultThemes.push(_XYChartDefaultTheme__WEBPACK_IMPORTED_MODULE_6__.XYChartDefaultTheme.new(this._root));\r\n        super._afterNew();\r\n        this._disposers.push(this.xAxes);\r\n        this._disposers.push(this.yAxes);\r\n        const root = this._root;\r\n        let verticalLayout = this._root.verticalLayout;\r\n        const zoomOutButton = this.zoomOutButton;\r\n        zoomOutButton.events.on(\"click\", () => {\r\n            this.zoomOut();\r\n        });\r\n        zoomOutButton.hide(0);\r\n        zoomOutButton.states.lookup(\"default\").set(\"opacity\", 1);\r\n        this.chartContainer.set(\"layout\", verticalLayout);\r\n        const plotContainer = this.plotContainer;\r\n        plotContainer.children.push(this.seriesContainer);\r\n        this._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));\r\n        this._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));\r\n        plotContainer.children.push(this.topGridContainer);\r\n        plotContainer.children.push(this.bulletsContainer);\r\n        // Setting trasnparent background so that full body of the plot container\r\n        // is interactive\r\n        plotContainer.set(\"interactive\", true);\r\n        plotContainer.set(\"interactiveChildren\", false);\r\n        plotContainer.set(\"background\", _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_7__.Rectangle.new(root, {\r\n            themeTags: [\"plotbackground\", \"xy\", \"background\"]\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\r\n            this._handlePlotDown(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\r\n            this._handlePlotUp(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\r\n            this._handlePlotMove(event);\r\n        }));\r\n        this._maskGrid();\r\n        this._setUpTouch();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pinchZoomX\") || this.isDirty(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) {\r\n            this._setUpTouch();\r\n        }\r\n    }\r\n    _setUpTouch() {\r\n        if (!this.plotContainer._display.cancelTouch) {\r\n            this.plotContainer._display.cancelTouch = (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) ? true : false;\r\n        }\r\n    }\r\n    _maskGrid() {\r\n        this.gridContainer.set(\"maskContent\", true);\r\n        this.topGridContainer.set(\"maskContent\", true);\r\n    }\r\n    _removeSeries(series) {\r\n        series._unstack();\r\n        if (series._posXDp) {\r\n            series._posXDp.dispose();\r\n        }\r\n        if (series._posYDp) {\r\n            series._posYDp.dispose();\r\n        }\r\n        series.set(\"baseAxis\", undefined);\r\n        const xAxis = series.get(\"xAxis\");\r\n        if (xAxis) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.remove(xAxis.series, series);\r\n            xAxis.markDirtyExtremes();\r\n        }\r\n        const yAxis = series.get(\"yAxis\");\r\n        if (yAxis) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.remove(yAxis.series, series);\r\n            yAxis.markDirtyExtremes();\r\n        }\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            const snapToSeries = cursor.get(\"snapToSeries\");\r\n            if (snapToSeries) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.remove(snapToSeries, series);\r\n            }\r\n        }\r\n        super._removeSeries(series);\r\n    }\r\n    /**\r\n     * This method is invoked when mouse wheel is used over chart's plot\r\n     * container, and handles zooming/pan.\r\n     *\r\n     * You can invoke this method manually, if you need to mimic chart's wheel\r\n     * behavior over other elements of the chart.\r\n     */\r\n    handleWheel(event) {\r\n        const wheelX = this.get(\"wheelX\");\r\n        const wheelY = this.get(\"wheelY\");\r\n        const plotContainer = this.plotContainer;\r\n        const wheelEvent = event.originalEvent;\r\n        // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n        // some page element is over the chart.\r\n        if (_core_util_Utils__WEBPACK_IMPORTED_MODULE_9__.isLocalEvent(wheelEvent, this)) {\r\n            wheelEvent.preventDefault();\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        const plotPoint = plotContainer.toLocal(event.point);\r\n        const wheelStep = this.get(\"wheelStep\", 0.2);\r\n        const shiftY = wheelEvent.deltaY / 100;\r\n        const shiftX = wheelEvent.deltaX / 100;\r\n        const wheelZoomPositionX = this.get(\"wheelZoomPositionX\");\r\n        const wheelZoomPositionY = this.get(\"wheelZoomPositionY\");\r\n        if ((wheelX === \"zoomX\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                    if (wheelZoomPositionX != null) {\r\n                        position = wheelZoomPositionX;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"zoomX\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                    if (wheelZoomPositionX != null) {\r\n                        position = wheelZoomPositionX;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"zoomY\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                    if (wheelZoomPositionY != null) {\r\n                        position = wheelZoomPositionY;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"zoomY\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                    if (wheelZoomPositionY != null) {\r\n                        position = wheelZoomPositionY;\r\n                    }\r\n                    let newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                    let newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"panX\" || wheelX === \"panXY\") && shiftX != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"panX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"panX\" || wheelY === \"panXY\") && shiftY != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"panX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"panY\" || wheelX === \"panXY\") && shiftX != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"panY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"panY\" || wheelY === \"panXY\") && shiftY != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"panY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                    let newStart = start - delta;\r\n                    let newEnd = end - delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _handleSetWheel() {\r\n        const wheelX = this.get(\"wheelX\");\r\n        const wheelY = this.get(\"wheelY\");\r\n        const plotContainer = this.plotContainer;\r\n        if (wheelX !== \"none\" || wheelY !== \"none\") {\r\n            this._wheelDp = plotContainer.events.on(\"wheel\", (event) => {\r\n                const wheelEvent = event.originalEvent;\r\n                if ((wheelX !== \"none\" && Math.abs(wheelEvent.deltaX) != 0) || (wheelY !== \"none\" && Math.abs(wheelEvent.deltaY) != 0)) {\r\n                    this.handleWheel(event);\r\n                }\r\n            });\r\n            this._disposers.push(this._wheelDp);\r\n        }\r\n        else {\r\n            if (this._wheelDp) {\r\n                this._wheelDp.dispose();\r\n            }\r\n        }\r\n    }\r\n    _getWheelSign(axis) {\r\n        let sign = 1;\r\n        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n            sign = -1;\r\n        }\r\n        return sign;\r\n    }\r\n    _fixWheel(start, end) {\r\n        const diff = end - start;\r\n        if (start < 0) {\r\n            start = 0;\r\n            end = start + diff;\r\n        }\r\n        if (end > 1) {\r\n            end = 1;\r\n            start = end - diff;\r\n        }\r\n        return [start, end];\r\n    }\r\n    _handlePlotDown(event) {\r\n        const originalEvent = event.originalEvent;\r\n        if (originalEvent.button == 2) {\r\n            return;\r\n        }\r\n        const plotContainer = this.plotContainer;\r\n        let local = plotContainer.toLocal(event.point);\r\n        if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n            const pointerId = originalEvent.pointerId;\r\n            if (pointerId) {\r\n                if (_core_util_Object__WEBPACK_IMPORTED_MODULE_10__.keys(plotContainer._downPoints).length > 0) {\r\n                    const xAxis = this.xAxes.getIndex(0);\r\n                    const yAxis = this.yAxes.getIndex(0);\r\n                    if (xAxis) {\r\n                        this._downStartX = xAxis.get(\"start\", 0);\r\n                        this._downEndX = xAxis.get(\"end\", 1);\r\n                    }\r\n                    if (yAxis) {\r\n                        this._downStartY = yAxis.get(\"start\", 0);\r\n                        this._downEndY = yAxis.get(\"end\", 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.get(\"panX\") || this.get(\"panY\")) {\r\n            if (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {\r\n                //this._downPoint = local;\r\n                this._downPoint = { x: originalEvent.clientX, y: originalEvent.clientY };\r\n                const panX = this.get(\"panX\");\r\n                const panY = this.get(\"panY\");\r\n                if (panX) {\r\n                    this.xAxes.each((axis) => {\r\n                        axis._panStart = axis.get(\"start\");\r\n                        axis._panEnd = axis.get(\"end\");\r\n                    });\r\n                }\r\n                if (panY) {\r\n                    this.yAxes.each((axis) => {\r\n                        axis._panStart = axis.get(\"start\");\r\n                        axis._panEnd = axis.get(\"end\");\r\n                    });\r\n                }\r\n                const eventType = \"panstarted\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleWheelAnimation(animation) {\r\n        if (animation) {\r\n            animation.events.on(\"stopped\", () => {\r\n                this._dispatchWheelAnimation();\r\n            });\r\n        }\r\n        else {\r\n            this._dispatchWheelAnimation();\r\n        }\r\n    }\r\n    _dispatchWheelAnimation() {\r\n        const eventType = \"wheelended\";\r\n        if (this.events.isEnabled(eventType)) {\r\n            this.events.dispatch(eventType, { type: eventType, target: this });\r\n        }\r\n    }\r\n    _handlePlotUp(event) {\r\n        const downPoint = this._downPoint;\r\n        if (downPoint) {\r\n            if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                if (event.originalEvent.clientX == downPoint.x && event.originalEvent.clientY == downPoint.y) {\r\n                    const eventType = \"pancancelled\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                    }\r\n                }\r\n                const eventType = \"panended\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n        }\r\n        // TODO: handle multitouch\r\n        this._downPoint = undefined;\r\n        this.xAxes.each((xAxis) => {\r\n            xAxis._isPanning = false;\r\n        });\r\n        this.yAxes.each((yAxis) => {\r\n            yAxis._isPanning = false;\r\n        });\r\n    }\r\n    _handlePlotMove(event) {\r\n        const plotContainer = this.plotContainer;\r\n        if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n            const touchEvent = event.originalEvent;\r\n            const pointerId = touchEvent.pointerId;\r\n            if (pointerId) {\r\n                this._movePoints[pointerId] = event.point;\r\n                if (_core_util_Object__WEBPACK_IMPORTED_MODULE_10__.keys(plotContainer._downPoints).length > 1) {\r\n                    this._handlePinch();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        let downPoint = this._downPoint;\r\n        if (downPoint) {\r\n            downPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));\r\n            let local = plotContainer.toLocal(event.point);\r\n            const panX = this.get(\"panX\");\r\n            const panY = this.get(\"panY\");\r\n            if (panX) {\r\n                let scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX) {\r\n                    scrollbarX.events.disableType(\"rangechanged\");\r\n                }\r\n                this.xAxes.each((axis) => {\r\n                    if (axis.get(\"panX\")) {\r\n                        axis._isPanning = true;\r\n                        //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                        let panStart = axis._panStart;\r\n                        let panEnd = axis._panEnd;\r\n                        let difference = (panEnd - panStart);\r\n                        let deltaX = difference * (downPoint.x - local.x) / plotContainer.width();\r\n                        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                            deltaX *= -1;\r\n                        }\r\n                        let start = panStart + deltaX;\r\n                        let end = panEnd + deltaX;\r\n                        if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                            axis.set(\"start\", start);\r\n                            axis.set(\"end\", end);\r\n                        }\r\n                    }\r\n                });\r\n                if (scrollbarX) {\r\n                    scrollbarX.events.enableType(\"rangechanged\");\r\n                }\r\n            }\r\n            if (panY) {\r\n                let scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY) {\r\n                    scrollbarY.events.disableType(\"rangechanged\");\r\n                }\r\n                this.yAxes.each((axis) => {\r\n                    if (axis.get(\"panY\")) {\r\n                        axis._isPanning = true;\r\n                        //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                        let panStart = axis._panStart;\r\n                        let panEnd = axis._panEnd;\r\n                        let difference = (panEnd - panStart);\r\n                        let deltaY = difference * (downPoint.y - local.y) / plotContainer.height();\r\n                        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                            deltaY *= -1;\r\n                        }\r\n                        let start = panStart - deltaY;\r\n                        let end = panEnd - deltaY;\r\n                        if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                            axis.set(\"start\", start);\r\n                            axis.set(\"end\", end);\r\n                        }\r\n                    }\r\n                });\r\n                if (scrollbarY) {\r\n                    scrollbarY.events.enableType(\"rangechanged\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handlePinch() {\r\n        const plotContainer = this.plotContainer;\r\n        let i = 0;\r\n        let downPoints = [];\r\n        let movePoints = [];\r\n        _core_util_Object__WEBPACK_IMPORTED_MODULE_10__.each(plotContainer._downPoints, (k, point) => {\r\n            downPoints[i] = point;\r\n            let movePoint = this._movePoints[k];\r\n            if (movePoint) {\r\n                movePoints[i] = movePoint;\r\n            }\r\n            i++;\r\n        });\r\n        if (downPoints.length > 1 && movePoints.length > 1) {\r\n            const w = plotContainer.width();\r\n            const h = plotContainer.height();\r\n            let downPoint0 = downPoints[0];\r\n            let downPoint1 = downPoints[1];\r\n            let movePoint0 = movePoints[0];\r\n            let movePoint1 = movePoints[1];\r\n            if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\r\n                movePoint0 = plotContainer.toLocal(movePoint0);\r\n                movePoint1 = plotContainer.toLocal(movePoint1);\r\n                downPoint0 = plotContainer.toLocal(downPoint0);\r\n                downPoint1 = plotContainer.toLocal(downPoint1);\r\n                if (this.get(\"pinchZoomX\")) {\r\n                    const downStartX = this._downStartX;\r\n                    const downEndX = this._downEndX;\r\n                    if (downStartX != null && downEndX != null) {\r\n                        if (downPoint0.x > downPoint1.x) {\r\n                            [downPoint0, downPoint1] = [downPoint1, downPoint0];\r\n                            [movePoint0, movePoint1] = [movePoint1, movePoint0];\r\n                        }\r\n                        let downPos0 = downStartX + (downPoint0.x / w) * (downEndX - downStartX);\r\n                        let downPos1 = downStartX + (downPoint1.x / w) * (downEndX - downStartX);\r\n                        let movePos0 = downStartX + (movePoint0.x / w) * (downEndX - downStartX);\r\n                        let movePos1 = downStartX + (movePoint1.x / w) * (downEndX - downStartX);\r\n                        let initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                        let currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                        let d = initialDistance / currentDistance;\r\n                        let s = downStartX * d + downPos0 - movePos0 * d;\r\n                        let e = downEndX * d + downPos1 - movePos1 * d;\r\n                        this.xAxes.each((xAxis) => {\r\n                            let sa = xAxis.fixPosition(s);\r\n                            let ea = xAxis.fixPosition(e);\r\n                            xAxis.zoom(sa, ea, 0);\r\n                        });\r\n                    }\r\n                }\r\n                if (this.get(\"pinchZoomY\")) {\r\n                    const downStartY = this._downStartY;\r\n                    const downEndY = this._downEndY;\r\n                    if (downStartY != null && downEndY != null) {\r\n                        if (downPoint0.y < downPoint1.y) {\r\n                            [downPoint0, downPoint1] = [downPoint1, downPoint0];\r\n                            [movePoint0, movePoint1] = [movePoint1, movePoint0];\r\n                        }\r\n                        let downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);\r\n                        let downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);\r\n                        let movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);\r\n                        let movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);\r\n                        let initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                        let currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                        let d = initialDistance / currentDistance;\r\n                        let s = downStartY * d + downPos0 - movePos0 * d;\r\n                        let e = downEndY * d + downPos1 - movePos1 * d;\r\n                        this.yAxes.each((yAxis) => {\r\n                            let sa = yAxis.fixPosition(s);\r\n                            let ea = yAxis.fixPosition(e);\r\n                            yAxis.zoom(sa, ea, 0);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleCursorPosition() {\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            const cursorPoint = cursor.getPrivate(\"point\");\r\n            let snapToSeries = cursor.get(\"snapToSeries\");\r\n            if (cursor._downPoint) {\r\n                snapToSeries = undefined;\r\n            }\r\n            if (snapToSeries && cursorPoint) {\r\n                const snapToSeriesBy = cursor.get(\"snapToSeriesBy\");\r\n                const dataItems = [];\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(snapToSeries, (series) => {\r\n                    if (!series.isHidden() && !series.isHiding()) {\r\n                        if (snapToSeriesBy != \"x!\" && snapToSeriesBy != \"y!\") {\r\n                            const startIndex = series.startIndex();\r\n                            const endIndex = series.endIndex();\r\n                            for (let i = startIndex; i < endIndex; i++) {\r\n                                const dataItem = series.dataItems[i];\r\n                                if (dataItem && !dataItem.isHidden()) {\r\n                                    dataItems.push(dataItem);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            const tooltipDataItem = series.get(\"tooltipDataItem\");\r\n                            if (tooltipDataItem) {\r\n                                dataItems.push(tooltipDataItem);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                let minDistance = Infinity;\r\n                let closestItem;\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(dataItems, (dataItem) => {\r\n                    const point = dataItem.get(\"point\");\r\n                    if (point) {\r\n                        let distance = 0;\r\n                        if (snapToSeriesBy == \"x\" || snapToSeriesBy == \"x!\") {\r\n                            distance = Math.abs(cursorPoint.x - point.x);\r\n                        }\r\n                        else if (snapToSeriesBy == \"y\" || snapToSeriesBy == \"y!\") {\r\n                            distance = Math.abs(cursorPoint.y - point.y);\r\n                        }\r\n                        else {\r\n                            distance = Math.hypot(cursorPoint.x - point.x, cursorPoint.y - point.y);\r\n                        }\r\n                        if (distance < minDistance) {\r\n                            minDistance = distance;\r\n                            closestItem = dataItem;\r\n                        }\r\n                    }\r\n                });\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(snapToSeries, (series) => {\r\n                    const tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        tooltip._setDataItem(undefined);\r\n                    }\r\n                });\r\n                if (closestItem) {\r\n                    let series = closestItem.component;\r\n                    series.showDataItemTooltip(closestItem);\r\n                    series.setRaw(\"tooltipDataItem\", closestItem);\r\n                    const point = closestItem.get(\"point\");\r\n                    if (point) {\r\n                        // removing x and y to solve #72225\r\n                        cursor.handleMove(series.toGlobal({ x: point.x - series.x(), y: point.y - series.y() }), true);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateCursor() {\r\n        let cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            cursor.updateCursor();\r\n        }\r\n    }\r\n    _addCursor(cursor) {\r\n        this.plotContainer.children.push(cursor);\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this.series.each((series) => {\r\n            this._colorize(series);\r\n        });\r\n        if (this.isDirty(\"wheelX\") || this.isDirty(\"wheelY\")) {\r\n            this._handleSetWheel();\r\n        }\r\n        if (this.isDirty(\"cursor\")) {\r\n            const previous = this._prevSettings.cursor;\r\n            const cursor = this.get(\"cursor\");\r\n            if (cursor !== previous) {\r\n                this._disposeProperty(\"cursor\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (cursor) {\r\n                    cursor._setChart(this);\r\n                    this._addCursor(cursor);\r\n                    this._pushPropertyDisposer(\"cursor\", cursor.events.on(\"selectended\", () => {\r\n                        this._handleCursorSelectEnd();\r\n                    }));\r\n                }\r\n                //this.setRaw(\"cursor\", cursor) // to reset previous value\r\n                this._prevSettings.cursor = cursor;\r\n            }\r\n        }\r\n        if (this.isDirty(\"scrollbarX\")) {\r\n            const previous = this._prevSettings.scrollbarX;\r\n            const scrollbarX = this.get(\"scrollbarX\");\r\n            if (scrollbarX !== previous) {\r\n                this._disposeProperty(\"scrollbarX\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (scrollbarX) {\r\n                    if (!scrollbarX.parent) {\r\n                        this.topAxesContainer.children.push(scrollbarX);\r\n                    }\r\n                    this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"rangechanged\", (e) => {\r\n                        this._handleScrollbar(this.xAxes, e.start, e.end, e.grip);\r\n                    }));\r\n                    this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"released\", () => {\r\n                        this.xAxes.each((axis) => {\r\n                            if (axis.get(\"zoomable\")) {\r\n                                this._handleAxisSelection(axis);\r\n                            }\r\n                        });\r\n                    }));\r\n                    // Used to populate `ariaLabel` with meaningful values\r\n                    scrollbarX.setPrivate(\"positionTextFunction\", (position) => {\r\n                        const axis = this.xAxes.getIndex(0);\r\n                        return axis ? axis.getTooltipText(position, false) || \"\" : \"\";\r\n                    });\r\n                }\r\n                this._prevSettings.scrollbarX = scrollbarX;\r\n            }\r\n        }\r\n        if (this.isDirty(\"scrollbarY\")) {\r\n            const previous = this._prevSettings.scrollbarY;\r\n            const scrollbarY = this.get(\"scrollbarY\");\r\n            if (scrollbarY !== previous) {\r\n                this._disposeProperty(\"scrollbarY\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (scrollbarY) {\r\n                    if (!scrollbarY.parent) {\r\n                        this.rightAxesContainer.children.push(scrollbarY);\r\n                    }\r\n                    this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"rangechanged\", (e) => {\r\n                        this._handleScrollbar(this.yAxes, e.start, e.end, e.grip);\r\n                    }));\r\n                    this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"released\", () => {\r\n                        this.yAxes.each((axis) => {\r\n                            if (axis.get(\"zoomable\")) {\r\n                                this._handleAxisSelection(axis);\r\n                            }\r\n                        });\r\n                    }));\r\n                    // Used to populate `ariaLabel` with meaningful values\r\n                    scrollbarY.setPrivate(\"positionTextFunction\", (position) => {\r\n                        const axis = this.yAxes.getIndex(0);\r\n                        return axis ? axis.getTooltipText(position, false) || \"\" : \"\";\r\n                    });\r\n                }\r\n                this._prevSettings.scrollbarY = scrollbarY;\r\n            }\r\n        }\r\n        this._handleZoomOut();\r\n    }\r\n    _processSeries(series) {\r\n        super._processSeries(series);\r\n        const xAxis = series.get(\"xAxis\");\r\n        const yAxis = series.get(\"yAxis\");\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.move(xAxis.series, series);\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.move(yAxis.series, series);\r\n        series._posXDp = series.addDisposer(xAxis.events.on(\"positionchanged\", () => {\r\n            series._fixPosition();\r\n        }));\r\n        series._posXDp = series.addDisposer(yAxis.events.on(\"positionchanged\", () => {\r\n            series._fixPosition();\r\n        }));\r\n        if (!series.get(\"baseAxis\")) {\r\n            if (yAxis.isType(\"CategoryAxis\") || yAxis.isType(\"DateAxis\")) {\r\n                series.set(\"baseAxis\", yAxis);\r\n            }\r\n            else {\r\n                series.set(\"baseAxis\", xAxis);\r\n            }\r\n        }\r\n        if (series.get(\"stacked\")) {\r\n            series._markDirtyKey(\"stacked\");\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(series.dataItems, (dataItem) => {\r\n                dataItem.set(\"stackToItemY\", undefined);\r\n                dataItem.set(\"stackToItemX\", undefined);\r\n            });\r\n        }\r\n        series._markDirtyAxes();\r\n        yAxis.markDirtyExtremes();\r\n        xAxis.markDirtyExtremes();\r\n        xAxis._seriesAdded = true;\r\n        yAxis._seriesAdded = true;\r\n        this._colorize(series);\r\n    }\r\n    _colorize(series) {\r\n        const colorSet = this.get(\"colors\");\r\n        if (colorSet) {\r\n            if (series.get(\"fill\") == null) {\r\n                const color = colorSet.next();\r\n                series._setSoft(\"stroke\", color);\r\n                series._setSoft(\"fill\", color);\r\n            }\r\n        }\r\n    }\r\n    _handleCursorSelectEnd() {\r\n        const cursor = this.get(\"cursor\");\r\n        const behavior = cursor.get(\"behavior\");\r\n        const downPositionX = cursor.getPrivate(\"downPositionX\", 0);\r\n        const downPositionY = cursor.getPrivate(\"downPositionY\", 0);\r\n        const positionX = Math.min(1, Math.max(0, cursor.getPrivate(\"positionX\", 0.5)));\r\n        const positionY = Math.min(1, Math.max(0, cursor.getPrivate(\"positionY\", 0.5)));\r\n        this.xAxes.each((axis) => {\r\n            if (behavior === \"zoomX\" || behavior === \"zoomXY\") {\r\n                let position0 = axis.toAxisPosition(downPositionX);\r\n                let position1 = axis.toAxisPosition(positionX);\r\n                axis.zoom(position0, position1);\r\n            }\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n        });\r\n        this.yAxes.each((axis) => {\r\n            if (behavior === \"zoomY\" || behavior === \"zoomXY\") {\r\n                let position0 = axis.toAxisPosition(downPositionY);\r\n                let position1 = axis.toAxisPosition(positionY);\r\n                axis.zoom(position0, position1);\r\n            }\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n        });\r\n    }\r\n    _handleScrollbar(axes, start, end, priority) {\r\n        axes.each((axis) => {\r\n            let axisStart = axis.fixPosition(start);\r\n            let axisEnd = axis.fixPosition(end);\r\n            let zoomAnimation = axis.zoom(axisStart, axisEnd, undefined, priority);\r\n            const updateScrollbar = \"updateScrollbar\";\r\n            axis.setPrivateRaw(updateScrollbar, false);\r\n            if (zoomAnimation) {\r\n                zoomAnimation.events.on(\"stopped\", () => {\r\n                    axis.setPrivateRaw(updateScrollbar, true);\r\n                });\r\n            }\r\n            else {\r\n                axis.setPrivateRaw(updateScrollbar, true);\r\n            }\r\n        });\r\n    }\r\n    _processAxis(axes, container) {\r\n        return axes.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(change.oldValues, (axis) => {\r\n                    this._removeAxis(axis);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                container.children.push(change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                container.children.setIndex(change.index, change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                container.children.insertIndex(change.index, change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeAxis(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                container.children.moveValue(change.value, change.newIndex);\r\n                change.value.processChart(this);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _removeAxis(axis) {\r\n        if (!axis.isDisposed()) {\r\n            const axisParent = axis.parent;\r\n            if (axisParent) {\r\n                axisParent.children.removeValue(axis);\r\n            }\r\n            const gridContainer = axis.gridContainer;\r\n            const gridParent = gridContainer.parent;\r\n            if (gridParent) {\r\n                gridParent.children.removeValue(gridContainer);\r\n            }\r\n            const topGridContainer = axis.topGridContainer;\r\n            const topGridParent = topGridContainer.parent;\r\n            if (topGridParent) {\r\n                topGridParent.children.removeValue(topGridContainer);\r\n            }\r\n        }\r\n    }\r\n    _updateChartLayout() {\r\n        const left = this.leftAxesContainer.width();\r\n        const right = this.rightAxesContainer.width();\r\n        const bottomAxesContainer = this.bottomAxesContainer;\r\n        bottomAxesContainer.set(\"paddingLeft\", left);\r\n        bottomAxesContainer.set(\"paddingRight\", right);\r\n        const topAxesContainer = this.topAxesContainer;\r\n        topAxesContainer.set(\"paddingLeft\", left);\r\n        topAxesContainer.set(\"paddingRight\", right);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis(axis) {\r\n        var cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            this.addDisposer(axis.on(\"start\", () => {\r\n                this._updateCursor();\r\n            }));\r\n            this.addDisposer(axis.on(\"end\", () => {\r\n                this._updateCursor();\r\n            }));\r\n        }\r\n    }\r\n    _handleAxisSelection(axis, force) {\r\n        let start = axis.fixPosition(axis.get(\"start\", 0));\r\n        let end = axis.fixPosition(axis.get(\"end\", 1));\r\n        if (start > end) {\r\n            [start, end] = [end, start];\r\n        }\r\n        if (this.xAxes.indexOf(axis) != -1) {\r\n            if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                let scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX && (!scrollbarX.getPrivate(\"isBusy\") || force)) {\r\n                    scrollbarX.setRaw(\"start\", start);\r\n                    scrollbarX.setRaw(\"end\", end);\r\n                    scrollbarX.updateGrips();\r\n                }\r\n            }\r\n        }\r\n        else if (this.yAxes.indexOf(axis) != -1) {\r\n            if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                let scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY && (!scrollbarY.getPrivate(\"isBusy\") || force)) {\r\n                    scrollbarY.setRaw(\"start\", start);\r\n                    scrollbarY.setRaw(\"end\", end);\r\n                    scrollbarY.updateGrips();\r\n                }\r\n            }\r\n        }\r\n        this._handleZoomOut();\r\n    }\r\n    _handleZoomOut() {\r\n        let zoomOutButton = this.zoomOutButton;\r\n        if (zoomOutButton && zoomOutButton.parent) {\r\n            let visible = false;\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                    visible = true;\r\n                }\r\n            });\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                    visible = true;\r\n                }\r\n            });\r\n            if (visible) {\r\n                if (zoomOutButton.isHidden()) {\r\n                    zoomOutButton.show();\r\n                }\r\n            }\r\n            else {\r\n                zoomOutButton.hide();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if point is within plot area.\r\n     *\r\n     * @param   point  Reference point\r\n     * @return         Is within plot area?\r\n     */\r\n    inPlot(point) {\r\n        const plotContainer = this.plotContainer;\r\n        const otherCharts = this.getPrivate(\"otherCharts\", this._otherCharts);\r\n        const global = plotContainer.toGlobal(point);\r\n        if (point.x >= -0.5 && point.y >= -0.5 && point.x <= plotContainer.width() + 0.5 && point.y <= plotContainer.height() + 0.5) {\r\n            return true;\r\n        }\r\n        if (otherCharts) {\r\n            for (let i = otherCharts.length - 1; i >= 0; i--) {\r\n                const chart = otherCharts[i];\r\n                if (chart != this) {\r\n                    const chartPlotContainer = chart.plotContainer;\r\n                    const documentPoint = this._root.rootPointToDocument(global);\r\n                    const chartRoot = chart._root.documentPointToRoot(documentPoint);\r\n                    const local = chartPlotContainer.toLocal(chartRoot);\r\n                    if (local.x >= -0.1 && local.y >= -0.1 && local.x <= chartPlotContainer.width() + 0.1 && local.y <= chartPlotContainer.height() + 0.1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    arrangeTooltips() {\r\n        const plotContainer = this.plotContainer;\r\n        const w = plotContainer.width();\r\n        const h = plotContainer.height();\r\n        const hh = this.height();\r\n        let plotT = plotContainer._display.toGlobal({ x: 0, y: 0 });\r\n        let plotB = plotContainer._display.toGlobal({ x: w, y: h });\r\n        const tooltips = [];\r\n        let sum = 0;\r\n        let minDistance = Infinity;\r\n        let movePoint = this._movePoint;\r\n        let maxTooltipDistance = this.get(\"maxTooltipDistance\");\r\n        let maxTooltipDistanceBy = this.get(\"maxTooltipDistanceBy\", \"xy\");\r\n        let closest;\r\n        let closestPoint;\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(maxTooltipDistance)) {\r\n            this.series.each((series) => {\r\n                if (!series.isHidden()) {\r\n                    const tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        let point = tooltip.get(\"pointTo\");\r\n                        if (point) {\r\n                            let distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);\r\n                            if (maxTooltipDistanceBy == \"x\") {\r\n                                distance = Math.abs(movePoint.x - point.x);\r\n                            }\r\n                            else if (maxTooltipDistanceBy == \"y\") {\r\n                                distance = Math.abs(movePoint.y - point.y);\r\n                            }\r\n                            if (distance < minDistance) {\r\n                                minDistance = distance;\r\n                                closest = series;\r\n                                closestPoint = point;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        const tooltipSeries = [];\r\n        this.series.each((series) => {\r\n            const tooltip = series.get(\"tooltip\");\r\n            if (tooltip && !tooltip.get(\"forceHidden\")) {\r\n                let hidden = false;\r\n                let point = tooltip.get(\"pointTo\");\r\n                if (point) {\r\n                    if (maxTooltipDistance >= 0) {\r\n                        let point = tooltip.get(\"pointTo\");\r\n                        if (point && closestPoint) {\r\n                            if (series != closest) {\r\n                                let distance = Math.hypot(closestPoint.x - point.x, closestPoint.y - point.y);\r\n                                if (maxTooltipDistanceBy == \"x\") {\r\n                                    distance = Math.abs(closestPoint.x - point.x);\r\n                                }\r\n                                else if (maxTooltipDistanceBy == \"y\") {\r\n                                    distance = Math.abs(closestPoint.y - point.y);\r\n                                }\r\n                                if (distance > maxTooltipDistance) {\r\n                                    hidden = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (maxTooltipDistance == -1) {\r\n                        if (series != closest) {\r\n                            hidden = true;\r\n                        }\r\n                    }\r\n                    if (!this.inPlot(this._tooltipToLocal(point)) || !tooltip.dataItem) {\r\n                        hidden = true;\r\n                    }\r\n                    else {\r\n                        if (!hidden) {\r\n                            sum += point.y;\r\n                        }\r\n                    }\r\n                    if (hidden || series.isHidden() || series.isHiding()) {\r\n                        tooltip.hide(0);\r\n                    }\r\n                    else {\r\n                        tooltip.show();\r\n                        tooltips.push(tooltip);\r\n                        tooltipSeries.push(series);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.setPrivate(\"tooltipSeries\", tooltipSeries);\r\n        if (this.get(\"arrangeTooltips\")) {\r\n            const tooltipContainer = this._root.tooltipContainer;\r\n            const count = tooltips.length;\r\n            const average = sum / count;\r\n            if (average > h / 2 + plotT.y) {\r\n                tooltips.sort((a, b) => _core_util_Order__WEBPACK_IMPORTED_MODULE_12__.compareNumber(b.get(\"pointTo\").y, a.get(\"pointTo\").y));\r\n                let prevY = plotB.y;\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(tooltips, (tooltip) => {\r\n                    let height = tooltip.height();\r\n                    let centerY = tooltip.get(\"centerY\");\r\n                    if (centerY instanceof _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.Percent) {\r\n                        height *= centerY.value;\r\n                    }\r\n                    height += tooltip.get(\"marginBottom\", 0);\r\n                    tooltip.set(\"bounds\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY });\r\n                    tooltip.setPrivate(\"customData\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY });\r\n                    prevY = Math.min(prevY - height, tooltip._fy - height);\r\n                    if (tooltip.parent == tooltipContainer) {\r\n                        tooltipContainer.children.moveValue(tooltip, 0);\r\n                    }\r\n                });\r\n                if (prevY < 0) {\r\n                    tooltips.reverse();\r\n                    let prevBottom = prevY;\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(tooltips, (tooltip) => {\r\n                        let bounds = tooltip.get(\"bounds\");\r\n                        if (bounds) {\r\n                            let top = bounds.top - prevY;\r\n                            let bottom = bounds.bottom - prevY;\r\n                            if (top < prevBottom) {\r\n                                top = prevBottom;\r\n                                bottom = top + tooltip.height();\r\n                            }\r\n                            tooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom });\r\n                            prevBottom = bounds.bottom - prevY + tooltip.get(\"marginBottom\", 0);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                tooltips.reverse();\r\n                tooltips.sort((a, b) => _core_util_Order__WEBPACK_IMPORTED_MODULE_12__.compareNumber(a.get(\"pointTo\").y, b.get(\"pointTo\").y));\r\n                let prevY = 0;\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(tooltips, (tooltip) => {\r\n                    let height = tooltip.height();\r\n                    let centerY = tooltip.get(\"centerY\");\r\n                    if (centerY instanceof _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.Percent) {\r\n                        height *= centerY.value;\r\n                    }\r\n                    height += tooltip.get(\"marginBottom\", 0);\r\n                    tooltip.set(\"bounds\", { left: plotT.x, top: prevY, right: plotB.x, bottom: Math.max(plotT.y + hh, prevY + height) });\r\n                    if (tooltip.parent == tooltipContainer) {\r\n                        tooltipContainer.children.moveValue(tooltip, 0);\r\n                    }\r\n                    prevY = Math.max(prevY + height, tooltip._fy + height);\r\n                });\r\n                if (prevY > hh) {\r\n                    tooltips.reverse();\r\n                    let prevBottom = hh;\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(tooltips, (tooltip) => {\r\n                        let bounds = tooltip.get(\"bounds\");\r\n                        if (bounds) {\r\n                            let top = bounds.top - (hh - prevY);\r\n                            let bottom = bounds.bottom - (hh - prevY);\r\n                            if (bottom > prevBottom) {\r\n                                bottom = prevBottom;\r\n                                top = bottom - tooltip.height();\r\n                            }\r\n                            tooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom });\r\n                            prevBottom = bottom - tooltip.height() - tooltip.get(\"marginBottom\", 0);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _tooltipToLocal(point) {\r\n        return this.plotContainer.toLocal(point);\r\n    }\r\n    /**\r\n     * Fully zooms out the chart.\r\n     */\r\n    zoomOut() {\r\n        this.xAxes.each((axis) => {\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n            axis.zoom(0, 1);\r\n        });\r\n        this.yAxes.each((axis) => {\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n            axis.zoom(0, 1);\r\n        });\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        // Explicitly disposing cursor to avoid memory leak of cursor adding\r\n        // keyboard events after parent chart has been disposed\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            cursor.dispose();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(XYChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYChart\"\r\n});\r\nObject.defineProperty(XYChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_SerialChart__WEBPACK_IMPORTED_MODULE_0__.SerialChart.classNames.concat([XYChart.className])\r\n});\r\n//# sourceMappingURL=XYChart.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L1hZQ2hhcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUM0RDtBQUNKO0FBQ0E7QUFDSTtBQUNMO0FBQ1I7QUFDRztBQUNJO0FBQ0o7QUFDRjtBQUNGO0FBQ0U7QUFDRTtBQUNGO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLFNBQVMseURBQXlEO0FBQ2xFO0FBQ0E7QUFDTyxzQkFBc0IsaUVBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDREQUFlO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw0REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkVBQTZFO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw2REFBUyxtQkFBbUIsT0FBTyxvREFBSSxxQ0FBcUM7QUFDakksU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUE2RTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSx1Q0FBdUM7QUFDakosU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUE2RTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUkscUNBQXFDO0FBQ2pJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2RUFBNkU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDZEQUFTLG1CQUFtQixRQUFRLG9EQUFJLHVDQUF1QztBQUMzSSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUE2RTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSxzQkFBc0I7QUFDdkksU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkVBQTZFO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw2REFBUyxtQkFBbUIsT0FBTyxvREFBSSxVQUFVLG9EQUFJLEVBQUU7QUFDNUcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUE2RTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSxFQUFFO0FBQzVHLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkVBQTZFO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCw2REFBUyxtQkFBbUIsT0FBTyxvREFBSSxVQUFVLG9EQUFJLHFCQUFxQjtBQUM5SCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUE2RTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSxxQkFBcUI7QUFDN0YsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUE2RTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsNkRBQVMsbUJBQW1CLFFBQVEsb0RBQUksdUNBQXVDO0FBQzNJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQTJFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCw2REFBUyxtQkFBbUI7QUFDaEYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzRkFBc0Y7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHVEQUFNO0FBQzdEO0FBQ0Esc0JBQXNCLDJEQUFRO0FBQzlCO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlDQUFpQyxxRUFBbUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw2REFBUztBQUNqRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELG1FQUFtRTtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsK0JBQStCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxtRUFBbUU7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsbUVBQW1FO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvREFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGNBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxrREFBa0Q7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVc7QUFDbkIsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxRQUFRO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFlBQVk7QUFDbEUsc0RBQXNELFlBQVk7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsNERBQW9CO0FBQzVEO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQSwyQ0FBMkMsdURBQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDREQUE0RDtBQUN4Ryx1REFBdUQsNERBQTREO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGtFQUFrRTtBQUN0SDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDREQUFvQjtBQUM1RDtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0EsMkNBQTJDLHVEQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywyRkFBMkY7QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0VBQWtFO0FBQ3RIO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlFQUFXO0FBQ3RCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L1hZQ2hhcnQuanM/Yjg3YiJdLCJzb3VyY2VzQ29udGVudCI6WyI7XHJcbmltcG9ydCB7IFhZQ2hhcnREZWZhdWx0VGhlbWUgfSBmcm9tIFwiLi9YWUNoYXJ0RGVmYXVsdFRoZW1lXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL1JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTZXJpYWxDaGFydCB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9TZXJpYWxDaGFydFwiO1xyXG5pbXBvcnQgeyBMaXN0QXV0b0Rpc3Bvc2UgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0IHsgcDEwMCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQnV0dG9uXCI7XHJcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0dyYXBoaWNzXCI7XHJcbmltcG9ydCB7IFBlcmNlbnQgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRvcmRlciBmcm9tIFwiLi4vLi4vY29yZS91dGlsL09yZGVyXCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9PYmplY3RcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gWFkgY2hhcnQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFhZQ2hhcnQgZXh0ZW5kcyBTZXJpYWxDaGFydCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgbGlzdCBvZiBob3Jpem9udGFsIGF4ZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieEF4ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IExpc3RBdXRvRGlzcG9zZSgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIHZlcnRpY2FsIGF4ZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieUF4ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IExpc3RBdXRvRGlzcG9zZSgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBbW0NvbnRhaW5lcl1dIGxvY2F0ZWQgb24gdG9wIG9mIHRoZSBjaGFydCwgdXNlZCB0byBzdG9yZSB0b3AgaG9yaXpvbnRhbFxyXG4gICAgICAgICAqIGF4ZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQveHktY2hhcnQtY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3BBeGVzQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hhcnRDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHsgd2lkdGg6IHAxMDAsIGxheW91dDogdGhpcy5fcm9vdC52ZXJ0aWNhbExheW91dCB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gbG9jYXRlZCBpbiB0aGUgbWlkZGxlIHRoZSBjaGFydCwgdXNlZCB0byBzdG9yZSB2ZXJ0aWNhbCBheGVzXHJcbiAgICAgICAgICogYW5kIHBsb3QgYXJlYSBjb250YWluZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQveHktY2hhcnQtY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5QXhlc0FuZFBsb3RDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGFydENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwLCBsYXlvdXQ6IHRoaXMuX3Jvb3QuaG9yaXpvbnRhbExheW91dCB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gbG9jYXRlZCBvbiBib3R0b20gb2YgdGhlIGNoYXJ0LCB1c2VkIHRvIHN0b3JlIGJvdHRvbVxyXG4gICAgICAgICAqIGhvcml6b250YWwgYXhlcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC94eS1jaGFydC1jb250YWluZXJzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqIEBkZWZhdWx0IENvbnRhaW5lci5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJvdHRvbUF4ZXNDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGFydENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyB3aWR0aDogcDEwMCwgbGF5b3V0OiB0aGlzLl9yb290LnZlcnRpY2FsTGF5b3V0IH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSBsb2NhdGVkIG9uIGxlZnQgb2YgdGhlIGNoYXJ0LCB1c2VkIHRvIHN0b3JlIGxlZnQtaGFuZFxyXG4gICAgICAgICAqIHZlcnRpY2FsIGF4ZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQveHktY2hhcnQtY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsZWZ0QXhlc0NvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnlBeGVzQW5kUGxvdENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyBoZWlnaHQ6IHAxMDAsIGxheW91dDogdGhpcy5fcm9vdC5ob3Jpem9udGFsTGF5b3V0IH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSBsb2NhdGVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIGNoYXJ0LCB1c2VkIHRvIHN0b3JlIHBsb3RDb250YWluZXIgYW5kIHRvcFBsb3RDb250YWluZXJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC94eS1jaGFydC1jb250YWluZXJzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqIEBkZWZhdWx0IENvbnRhaW5lci5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBsb3RzQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMueUF4ZXNBbmRQbG90Q29udGFpbmVyLmNoaWxkcmVuLnB1c2goQ29udGFpbmVyLm5ldyh0aGlzLl9yb290LCB7IHdpZHRoOiBwMTAwLCBoZWlnaHQ6IHAxMDAsIG1hc2tDb250ZW50OiBmYWxzZSB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gbG9jYXRlZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSBjaGFydCwgdXNlZCB0byBzdG9yZSBhY3R1YWxcclxuICAgICAgICAgKiBwbG90cyAoc2VyaWVzKS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIE5PVEU6IGBwbG90Q29udGFpbmVyYCB3aWxsIGF1dG9tYXRpY2FsbHkgaGF2ZSBpdHMgYGJhY2tncm91bmRgIHByZXNldC4gSWZcclxuICAgICAgICAgKiB5b3UgbmVlZCB0byBtb2RpZnkgYmFja2dyb3VuZCBvciBvdXRsaW5lIGZvciBjaGFydCdzIHBsb3QgYXJlYSwgeW91IGNhblxyXG4gICAgICAgICAqIHVzZSBgcGxvdENvbnRhaW5lci5nZXQoXCJiYWNrZ3JvdW5kXCIpYCBmb3IgdGhhdC4qXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQveHktY2hhcnQtY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbG90Q29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMucGxvdHNDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHsgd2lkdGg6IHAxMDAsIGhlaWdodDogcDEwMCB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gdXNlZCBmb3IgYW55IGVsZW1lbnRzIHRoYXQgbmVlZCB0byBiZSBkaXNwbGF5ZWQgb3ZlclxyXG4gICAgICAgICAqIHJlZ3VsYXIgYHBsb3RDb250YWluZXJgLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL3h5LWNoYXJ0L3h5LWNoYXJ0LWNvbnRhaW5lcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wUGxvdENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnBsb3RzQ29udGFpbmVyLmNoaWxkcmVuLnB1c2goQ29udGFpbmVyLm5ldyh0aGlzLl9yb290LCB7IHdpZHRoOiBwMTAwLCBoZWlnaHQ6IHAxMDAgfSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBbW0NvbnRhaW5lcl1dIGF4aXMgZ3JpZCBlbGVtZW50cyBhcmUgc3RvcmVkIGluLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL3h5LWNoYXJ0L3h5LWNoYXJ0LWNvbnRhaW5lcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ3JpZENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnBsb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHsgd2lkdGg6IHAxMDAsIGhlaWdodDogcDEwMCwgaXNNZWFzdXJlZDogZmFsc2UgfSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBbW0NvbnRhaW5lcl1dIGF4aXMgYmFja2dyb3VuZCBncmlkIGVsZW1lbnRzIGFyZSBzdG9yZWQgaW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQveHktY2hhcnQtY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3BHcmlkQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwLCBpc01lYXN1cmVkOiBmYWxzZSB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSBsb2NhdGVkIG9uIHJpZ2h0IG9mIHRoZSBjaGFydCwgdXNlZCB0byBzdG9yZSByaWdodC1oYW5kXHJcbiAgICAgICAgICogdmVydGljYWwgYXhlcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC94eS1jaGFydC1jb250YWluZXJzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqIEBkZWZhdWx0IENvbnRhaW5lci5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJpZ2h0QXhlc0NvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnlBeGVzQW5kUGxvdENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyBoZWlnaHQ6IHAxMDAsIGxheW91dDogdGhpcy5fcm9vdC5ob3Jpem9udGFsTGF5b3V0IH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSBheGlzIGhlYWRlcnMgYXJlIHN0b3JlZCBpbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzL2F4aXMtaGVhZGVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJheGlzSGVhZGVyc0NvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnBsb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHt9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGJ1dHRvbiB0aGF0IGlzIHNob3duIHdoZW4gY2hhcnQgaXMgbm90IGZ1bGx5IHpvb21lZCBvdXQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvem9vbS1hbmQtcGFuLyNab29tX291dF9idXR0b259IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBCdXR0b24ubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ6b29tT3V0QnV0dG9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudG9wUGxvdENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKEJ1dHRvbi5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiBbXCJ6b29tXCJdLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogR3JhcGhpY3MubmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6IFtcImJ1dHRvblwiLCBcImljb25cIl1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tb3ZlUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeyB4OiAwLCB5OiAwIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfd2hlZWxEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb3RoZXJDaGFydHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX21vdmVQb2ludHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZG93blN0YXJ0WFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZG93bkVuZFhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rvd25TdGFydFlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rvd25FbmRZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRUaGVtZXMucHVzaChYWUNoYXJ0RGVmYXVsdFRoZW1lLm5ldyh0aGlzLl9yb290KSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy54QXhlcyk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy55QXhlcyk7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuX3Jvb3Q7XHJcbiAgICAgICAgbGV0IHZlcnRpY2FsTGF5b3V0ID0gdGhpcy5fcm9vdC52ZXJ0aWNhbExheW91dDtcclxuICAgICAgICBjb25zdCB6b29tT3V0QnV0dG9uID0gdGhpcy56b29tT3V0QnV0dG9uO1xyXG4gICAgICAgIHpvb21PdXRCdXR0b24uZXZlbnRzLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21PdXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB6b29tT3V0QnV0dG9uLmhpZGUoMCk7XHJcbiAgICAgICAgem9vbU91dEJ1dHRvbi5zdGF0ZXMubG9va3VwKFwiZGVmYXVsdFwiKS5zZXQoXCJvcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgIHRoaXMuY2hhcnRDb250YWluZXIuc2V0KFwibGF5b3V0XCIsIHZlcnRpY2FsTGF5b3V0KTtcclxuICAgICAgICBjb25zdCBwbG90Q29udGFpbmVyID0gdGhpcy5wbG90Q29udGFpbmVyO1xyXG4gICAgICAgIHBsb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aGlzLnNlcmllc0NvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fcHJvY2Vzc0F4aXModGhpcy54QXhlcywgdGhpcy5ib3R0b21BeGVzQ29udGFpbmVyKSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fcHJvY2Vzc0F4aXModGhpcy55QXhlcywgdGhpcy5sZWZ0QXhlc0NvbnRhaW5lcikpO1xyXG4gICAgICAgIHBsb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aGlzLnRvcEdyaWRDb250YWluZXIpO1xyXG4gICAgICAgIHBsb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aGlzLmJ1bGxldHNDb250YWluZXIpO1xyXG4gICAgICAgIC8vIFNldHRpbmcgdHJhc25wYXJlbnQgYmFja2dyb3VuZCBzbyB0aGF0IGZ1bGwgYm9keSBvZiB0aGUgcGxvdCBjb250YWluZXJcclxuICAgICAgICAvLyBpcyBpbnRlcmFjdGl2ZVxyXG4gICAgICAgIHBsb3RDb250YWluZXIuc2V0KFwiaW50ZXJhY3RpdmVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgcGxvdENvbnRhaW5lci5zZXQoXCJpbnRlcmFjdGl2ZUNoaWxkcmVuXCIsIGZhbHNlKTtcclxuICAgICAgICBwbG90Q29udGFpbmVyLnNldChcImJhY2tncm91bmRcIiwgUmVjdGFuZ2xlLm5ldyhyb290LCB7XHJcbiAgICAgICAgICAgIHRoZW1lVGFnczogW1wicGxvdGJhY2tncm91bmRcIiwgXCJ4eVwiLCBcImJhY2tncm91bmRcIl1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2gocGxvdENvbnRhaW5lci5ldmVudHMub24oXCJwb2ludGVyZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlUGxvdERvd24oZXZlbnQpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChwbG90Q29udGFpbmVyLmV2ZW50cy5vbihcImdsb2JhbHBvaW50ZXJ1cFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlUGxvdFVwKGV2ZW50KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2gocGxvdENvbnRhaW5lci5ldmVudHMub24oXCJnbG9iYWxwb2ludGVybW92ZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlUGxvdE1vdmUoZXZlbnQpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLl9tYXNrR3JpZCgpO1xyXG4gICAgICAgIHRoaXMuX3NldFVwVG91Y2goKTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInBpbmNoWm9vbVhcIikgfHwgdGhpcy5pc0RpcnR5KFwicGluY2hab29tWVwiKSB8fCB0aGlzLmdldChcInBhblhcIikgfHwgdGhpcy5nZXQoXCJwYW5ZXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldFVwVG91Y2goKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0VXBUb3VjaCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGxvdENvbnRhaW5lci5fZGlzcGxheS5jYW5jZWxUb3VjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnBsb3RDb250YWluZXIuX2Rpc3BsYXkuY2FuY2VsVG91Y2ggPSAodGhpcy5nZXQoXCJwaW5jaFpvb21YXCIpIHx8IHRoaXMuZ2V0KFwicGluY2hab29tWVwiKSB8fCB0aGlzLmdldChcInBhblhcIikgfHwgdGhpcy5nZXQoXCJwYW5ZXCIpKSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbWFza0dyaWQoKSB7XHJcbiAgICAgICAgdGhpcy5ncmlkQ29udGFpbmVyLnNldChcIm1hc2tDb250ZW50XCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMudG9wR3JpZENvbnRhaW5lci5zZXQoXCJtYXNrQ29udGVudFwiLCB0cnVlKTtcclxuICAgIH1cclxuICAgIF9yZW1vdmVTZXJpZXMoc2VyaWVzKSB7XHJcbiAgICAgICAgc2VyaWVzLl91bnN0YWNrKCk7XHJcbiAgICAgICAgaWYgKHNlcmllcy5fcG9zWERwKSB7XHJcbiAgICAgICAgICAgIHNlcmllcy5fcG9zWERwLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlcmllcy5fcG9zWURwKSB7XHJcbiAgICAgICAgICAgIHNlcmllcy5fcG9zWURwLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VyaWVzLnNldChcImJhc2VBeGlzXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgeEF4aXMgPSBzZXJpZXMuZ2V0KFwieEF4aXNcIik7XHJcbiAgICAgICAgaWYgKHhBeGlzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmUoeEF4aXMuc2VyaWVzLCBzZXJpZXMpO1xyXG4gICAgICAgICAgICB4QXhpcy5tYXJrRGlydHlFeHRyZW1lcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB5QXhpcyA9IHNlcmllcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICBpZiAoeUF4aXMpIHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZSh5QXhpcy5zZXJpZXMsIHNlcmllcyk7XHJcbiAgICAgICAgICAgIHlBeGlzLm1hcmtEaXJ0eUV4dHJlbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMuZ2V0KFwiY3Vyc29yXCIpO1xyXG4gICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgY29uc3Qgc25hcFRvU2VyaWVzID0gY3Vyc29yLmdldChcInNuYXBUb1Nlcmllc1wiKTtcclxuICAgICAgICAgICAgaWYgKHNuYXBUb1Nlcmllcykge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LnJlbW92ZShzbmFwVG9TZXJpZXMsIHNlcmllcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX3JlbW92ZVNlcmllcyhzZXJpZXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnZva2VkIHdoZW4gbW91c2Ugd2hlZWwgaXMgdXNlZCBvdmVyIGNoYXJ0J3MgcGxvdFxyXG4gICAgICogY29udGFpbmVyLCBhbmQgaGFuZGxlcyB6b29taW5nL3Bhbi5cclxuICAgICAqXHJcbiAgICAgKiBZb3UgY2FuIGludm9rZSB0aGlzIG1ldGhvZCBtYW51YWxseSwgaWYgeW91IG5lZWQgdG8gbWltaWMgY2hhcnQncyB3aGVlbFxyXG4gICAgICogYmVoYXZpb3Igb3ZlciBvdGhlciBlbGVtZW50cyBvZiB0aGUgY2hhcnQuXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVdoZWVsKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3Qgd2hlZWxYID0gdGhpcy5nZXQoXCJ3aGVlbFhcIik7XHJcbiAgICAgICAgY29uc3Qgd2hlZWxZID0gdGhpcy5nZXQoXCJ3aGVlbFlcIik7XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IHRoaXMucGxvdENvbnRhaW5lcjtcclxuICAgICAgICBjb25zdCB3aGVlbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAvLyBJZ25vcmUgd2hlZWwgZXZlbnQgaWYgaXQgaXMgaGFwcGVuaW5nIG9uIGEgbm9uLWNoYXJ0IGVsZW1lbnQsIGUuZy4gaWZcclxuICAgICAgICAvLyBzb21lIHBhZ2UgZWxlbWVudCBpcyBvdmVyIHRoZSBjaGFydC5cclxuICAgICAgICBpZiAoJHV0aWxzLmlzTG9jYWxFdmVudCh3aGVlbEV2ZW50LCB0aGlzKSkge1xyXG4gICAgICAgICAgICB3aGVlbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBsb3RQb2ludCA9IHBsb3RDb250YWluZXIudG9Mb2NhbChldmVudC5wb2ludCk7XHJcbiAgICAgICAgY29uc3Qgd2hlZWxTdGVwID0gdGhpcy5nZXQoXCJ3aGVlbFN0ZXBcIiwgMC4yKTtcclxuICAgICAgICBjb25zdCBzaGlmdFkgPSB3aGVlbEV2ZW50LmRlbHRhWSAvIDEwMDtcclxuICAgICAgICBjb25zdCBzaGlmdFggPSB3aGVlbEV2ZW50LmRlbHRhWCAvIDEwMDtcclxuICAgICAgICBjb25zdCB3aGVlbFpvb21Qb3NpdGlvblggPSB0aGlzLmdldChcIndoZWVsWm9vbVBvc2l0aW9uWFwiKTtcclxuICAgICAgICBjb25zdCB3aGVlbFpvb21Qb3NpdGlvblkgPSB0aGlzLmdldChcIndoZWVsWm9vbVBvc2l0aW9uWVwiKTtcclxuICAgICAgICBpZiAoKHdoZWVsWCA9PT0gXCJ6b29tWFwiIHx8IHdoZWVsWCA9PT0gXCJ6b29tWFlcIikgJiYgc2hpZnRYICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy54QXhlcy5lYWNoKChheGlzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpcy5nZXQoXCJ6b29tWFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGF4aXMuZ2V0KFwic3RhcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IGF4aXMuZ2V0KFwiZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IGF4aXMuZml4UG9zaXRpb24ocGxvdFBvaW50LnggLyBwbG90Q29udGFpbmVyLndpZHRoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbFpvb21Qb3NpdGlvblggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHdoZWVsWm9vbVBvc2l0aW9uWDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1N0YXJ0ID0gc3RhcnQgLSB3aGVlbFN0ZXAgKiAoZW5kIC0gc3RhcnQpICogc2hpZnRYICogcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VuZCA9IGVuZCArIHdoZWVsU3RlcCAqIChlbmQgLSBzdGFydCkgKiBzaGlmdFggKiAoMSAtIHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMSAvIChuZXdFbmQgLSBuZXdTdGFydCkgPCBheGlzLmdldFByaXZhdGUoXCJtYXhab29tRmFjdG9yXCIsIEluZmluaXR5KSAvIGF4aXMuZ2V0KFwibWluWm9vbUNvdW50XCIsIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVdoZWVsQW5pbWF0aW9uKGF4aXMuem9vbShuZXdTdGFydCwgbmV3RW5kKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh3aGVlbFkgPT09IFwiem9vbVhcIiB8fCB3aGVlbFkgPT09IFwiem9vbVhZXCIpICYmIHNoaWZ0WSAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXMuZ2V0KFwiem9vbVhcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBheGlzLmdldChcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBheGlzLmdldChcImVuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBheGlzLmZpeFBvc2l0aW9uKHBsb3RQb2ludC54IC8gcGxvdENvbnRhaW5lci53aWR0aCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWxab29tUG9zaXRpb25YICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB3aGVlbFpvb21Qb3NpdGlvblg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdTdGFydCA9IHN0YXJ0IC0gd2hlZWxTdGVwICogKGVuZCAtIHN0YXJ0KSAqIHNoaWZ0WSAqIHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbmQgPSBlbmQgKyB3aGVlbFN0ZXAgKiAoZW5kIC0gc3RhcnQpICogc2hpZnRZICogKDEgLSBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDEgLyAobmV3RW5kIC0gbmV3U3RhcnQpIDwgYXhpcy5nZXRQcml2YXRlKFwibWF4Wm9vbUZhY3RvclwiLCBJbmZpbml0eSkgLyBheGlzLmdldChcIm1pblpvb21Db3VudFwiLCAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVXaGVlbEFuaW1hdGlvbihheGlzLnpvb20obmV3U3RhcnQsIG5ld0VuZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgod2hlZWxYID09PSBcInpvb21ZXCIgfHwgd2hlZWxYID09PSBcInpvb21YWVwiKSAmJiBzaGlmdFggIT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnlBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzLmdldChcInpvb21ZXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gYXhpcy5nZXQoXCJzdGFydFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gYXhpcy5nZXQoXCJlbmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gYXhpcy5maXhQb3NpdGlvbihwbG90UG9pbnQueSAvIHBsb3RDb250YWluZXIuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbFpvb21Qb3NpdGlvblkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHdoZWVsWm9vbVBvc2l0aW9uWTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1N0YXJ0ID0gc3RhcnQgLSB3aGVlbFN0ZXAgKiAoZW5kIC0gc3RhcnQpICogc2hpZnRYICogcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VuZCA9IGVuZCArIHdoZWVsU3RlcCAqIChlbmQgLSBzdGFydCkgKiBzaGlmdFggKiAoMSAtIHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMSAvIChuZXdFbmQgLSBuZXdTdGFydCkgPCBheGlzLmdldFByaXZhdGUoXCJtYXhab29tRmFjdG9yXCIsIEluZmluaXR5KSAvIGF4aXMuZ2V0KFwibWluWm9vbUNvdW50XCIsIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVdoZWVsQW5pbWF0aW9uKGF4aXMuem9vbShuZXdTdGFydCwgbmV3RW5kKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh3aGVlbFkgPT09IFwiem9vbVlcIiB8fCB3aGVlbFkgPT09IFwiem9vbVhZXCIpICYmIHNoaWZ0WSAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueUF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXMuZ2V0KFwiem9vbVlcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBheGlzLmdldChcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBheGlzLmdldChcImVuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBheGlzLmZpeFBvc2l0aW9uKHBsb3RQb2ludC55IC8gcGxvdENvbnRhaW5lci5oZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsWm9vbVBvc2l0aW9uWSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gd2hlZWxab29tUG9zaXRpb25ZO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3U3RhcnQgPSBzdGFydCAtIHdoZWVsU3RlcCAqIChlbmQgLSBzdGFydCkgKiBzaGlmdFkgKiBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RW5kID0gZW5kICsgd2hlZWxTdGVwICogKGVuZCAtIHN0YXJ0KSAqIHNoaWZ0WSAqICgxIC0gcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgxIC8gKG5ld0VuZCAtIG5ld1N0YXJ0KSA8IGF4aXMuZ2V0UHJpdmF0ZShcIm1heFpvb21GYWN0b3JcIiwgSW5maW5pdHkpIC8gYXhpcy5nZXQoXCJtaW5ab29tQ291bnRcIiwgMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlV2hlZWxBbmltYXRpb24oYXhpcy56b29tKG5ld1N0YXJ0LCBuZXdFbmQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHdoZWVsWCA9PT0gXCJwYW5YXCIgfHwgd2hlZWxYID09PSBcInBhblhZXCIpICYmIHNoaWZ0WCAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXMuZ2V0KFwicGFuWFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGF4aXMuZ2V0KFwic3RhcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IGF4aXMuZ2V0KFwiZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IHRoaXMuX2dldFdoZWVsU2lnbihheGlzKSAqIHdoZWVsU3RlcCAqIChlbmQgLSBzdGFydCkgKiBzaGlmdFg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1N0YXJ0ID0gc3RhcnQgKyBkZWx0YTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RW5kID0gZW5kICsgZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlID0gdGhpcy5fZml4V2hlZWwobmV3U3RhcnQsIG5ld0VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhcnQgPSBzZVswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdFbmQgPSBzZVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVXaGVlbEFuaW1hdGlvbihheGlzLnpvb20obmV3U3RhcnQsIG5ld0VuZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh3aGVlbFkgPT09IFwicGFuWFwiIHx8IHdoZWVsWSA9PT0gXCJwYW5YWVwiKSAmJiBzaGlmdFkgIT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnhBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzLmdldChcInBhblhcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBheGlzLmdldChcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBheGlzLmdldChcImVuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9nZXRXaGVlbFNpZ24oYXhpcykgKiB3aGVlbFN0ZXAgKiAoZW5kIC0gc3RhcnQpICogc2hpZnRZO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdTdGFydCA9IHN0YXJ0ICsgZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VuZCA9IGVuZCArIGRlbHRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZSA9IHRoaXMuX2ZpeFdoZWVsKG5ld1N0YXJ0LCBuZXdFbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXJ0ID0gc2VbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RW5kID0gc2VbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlV2hlZWxBbmltYXRpb24oYXhpcy56b29tKG5ld1N0YXJ0LCBuZXdFbmQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgod2hlZWxYID09PSBcInBhbllcIiB8fCB3aGVlbFggPT09IFwicGFuWFlcIikgJiYgc2hpZnRYICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy55QXhlcy5lYWNoKChheGlzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpcy5nZXQoXCJwYW5ZXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gYXhpcy5nZXQoXCJzdGFydFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gYXhpcy5nZXQoXCJlbmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gdGhpcy5fZ2V0V2hlZWxTaWduKGF4aXMpICogd2hlZWxTdGVwICogKGVuZCAtIHN0YXJ0KSAqIHNoaWZ0WDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3U3RhcnQgPSBzdGFydCArIGRlbHRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbmQgPSBlbmQgKyBkZWx0YTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2UgPSB0aGlzLl9maXhXaGVlbChuZXdTdGFydCwgbmV3RW5kKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdTdGFydCA9IHNlWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0VuZCA9IHNlWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVdoZWVsQW5pbWF0aW9uKGF4aXMuem9vbShuZXdTdGFydCwgbmV3RW5kKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHdoZWVsWSA9PT0gXCJwYW5ZXCIgfHwgd2hlZWxZID09PSBcInBhblhZXCIpICYmIHNoaWZ0WSAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueUF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXMuZ2V0KFwicGFuWVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGF4aXMuZ2V0KFwic3RhcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IGF4aXMuZ2V0KFwiZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IHRoaXMuX2dldFdoZWVsU2lnbihheGlzKSAqIHdoZWVsU3RlcCAqIChlbmQgLSBzdGFydCkgKiBzaGlmdFk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1N0YXJ0ID0gc3RhcnQgLSBkZWx0YTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RW5kID0gZW5kIC0gZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlID0gdGhpcy5fZml4V2hlZWwobmV3U3RhcnQsIG5ld0VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhcnQgPSBzZVswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdFbmQgPSBzZVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVXaGVlbEFuaW1hdGlvbihheGlzLnpvb20obmV3U3RhcnQsIG5ld0VuZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlU2V0V2hlZWwoKSB7XHJcbiAgICAgICAgY29uc3Qgd2hlZWxYID0gdGhpcy5nZXQoXCJ3aGVlbFhcIik7XHJcbiAgICAgICAgY29uc3Qgd2hlZWxZID0gdGhpcy5nZXQoXCJ3aGVlbFlcIik7XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IHRoaXMucGxvdENvbnRhaW5lcjtcclxuICAgICAgICBpZiAod2hlZWxYICE9PSBcIm5vbmVcIiB8fCB3aGVlbFkgIT09IFwibm9uZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3doZWVsRHAgPSBwbG90Q29udGFpbmVyLmV2ZW50cy5vbihcIndoZWVsXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHdoZWVsWCAhPT0gXCJub25lXCIgJiYgTWF0aC5hYnMod2hlZWxFdmVudC5kZWx0YVgpICE9IDApIHx8ICh3aGVlbFkgIT09IFwibm9uZVwiICYmIE1hdGguYWJzKHdoZWVsRXZlbnQuZGVsdGFZKSAhPSAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlV2hlZWwoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fd2hlZWxEcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fd2hlZWxEcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2hlZWxEcC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0V2hlZWxTaWduKGF4aXMpIHtcclxuICAgICAgICBsZXQgc2lnbiA9IDE7XHJcbiAgICAgICAgaWYgKGF4aXMuZ2V0KFwicmVuZGVyZXJcIikuZ2V0KFwiaW52ZXJzZWRcIikpIHtcclxuICAgICAgICAgICAgc2lnbiA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2lnbjtcclxuICAgIH1cclxuICAgIF9maXhXaGVlbChzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgY29uc3QgZGlmZiA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgICAgIGlmIChzdGFydCA8IDApIHtcclxuICAgICAgICAgICAgc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICBlbmQgPSBzdGFydCArIGRpZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbmQgPiAxKSB7XHJcbiAgICAgICAgICAgIGVuZCA9IDE7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gZW5kIC0gZGlmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVQbG90RG93bihldmVudCkge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgIGlmIChvcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IHRoaXMucGxvdENvbnRhaW5lcjtcclxuICAgICAgICBsZXQgbG9jYWwgPSBwbG90Q29udGFpbmVyLnRvTG9jYWwoZXZlbnQucG9pbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcInBpbmNoWm9vbVhcIikgfHwgdGhpcy5nZXQoXCJwaW5jaFpvb21ZXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IG9yaWdpbmFsRXZlbnQucG9pbnRlcklkO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJG9iamVjdC5rZXlzKHBsb3RDb250YWluZXIuX2Rvd25Qb2ludHMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4QXhpcyA9IHRoaXMueEF4ZXMuZ2V0SW5kZXgoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeUF4aXMgPSB0aGlzLnlBeGVzLmdldEluZGV4KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4QXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb3duU3RhcnRYID0geEF4aXMuZ2V0KFwic3RhcnRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rvd25FbmRYID0geEF4aXMuZ2V0KFwiZW5kXCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoeUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG93blN0YXJ0WSA9IHlBeGlzLmdldChcInN0YXJ0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb3duRW5kWSA9IHlBeGlzLmdldChcImVuZFwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicGFuWFwiKSB8fCB0aGlzLmdldChcInBhbllcIikpIHtcclxuICAgICAgICAgICAgaWYgKGxvY2FsLnggPj0gMCAmJiBsb2NhbC55ID49IDAgJiYgbG9jYWwueCA8PSBwbG90Q29udGFpbmVyLndpZHRoKCkgJiYgbG9jYWwueSA8PSB0aGlzLmhlaWdodCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuX2Rvd25Qb2ludCA9IGxvY2FsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG93blBvaW50ID0geyB4OiBvcmlnaW5hbEV2ZW50LmNsaWVudFgsIHk6IG9yaWdpbmFsRXZlbnQuY2xpZW50WSB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFuWCA9IHRoaXMuZ2V0KFwicGFuWFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhblkgPSB0aGlzLmdldChcInBhbllcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFuWCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzLl9wYW5TdGFydCA9IGF4aXMuZ2V0KFwic3RhcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMuX3BhbkVuZCA9IGF4aXMuZ2V0KFwiZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhblkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy5fcGFuU3RhcnQgPSBheGlzLmdldChcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzLl9wYW5FbmQgPSBheGlzLmdldChcImVuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IFwicGFuc3RhcnRlZFwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZChldmVudFR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnRUeXBlLCB7IHR5cGU6IGV2ZW50VHlwZSwgdGFyZ2V0OiB0aGlzLCBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZVdoZWVsQW5pbWF0aW9uKGFuaW1hdGlvbikge1xyXG4gICAgICAgIGlmIChhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLmV2ZW50cy5vbihcInN0b3BwZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hXaGVlbEFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoV2hlZWxBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hXaGVlbEFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBcIndoZWVsZW5kZWRcIjtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKGV2ZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnRUeXBlLCB7IHR5cGU6IGV2ZW50VHlwZSwgdGFyZ2V0OiB0aGlzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVQbG90VXAoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBkb3duUG9pbnQgPSB0aGlzLl9kb3duUG9pbnQ7XHJcbiAgICAgICAgaWYgKGRvd25Qb2ludCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJwYW5YXCIpIHx8IHRoaXMuZ2V0KFwicGFuWVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2xpZW50WCA9PSBkb3duUG9pbnQueCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LmNsaWVudFkgPT0gZG93blBvaW50LnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudFR5cGUgPSBcInBhbmNhbmNlbGxlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoZXZlbnRUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudFR5cGUsIHsgdHlwZTogZXZlbnRUeXBlLCB0YXJnZXQ6IHRoaXMsIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gXCJwYW5lbmRlZFwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZChldmVudFR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnRUeXBlLCB7IHR5cGU6IGV2ZW50VHlwZSwgdGFyZ2V0OiB0aGlzLCBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBtdWx0aXRvdWNoXHJcbiAgICAgICAgdGhpcy5fZG93blBvaW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoeEF4aXMpID0+IHtcclxuICAgICAgICAgICAgeEF4aXMuX2lzUGFubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMueUF4ZXMuZWFjaCgoeUF4aXMpID0+IHtcclxuICAgICAgICAgICAgeUF4aXMuX2lzUGFubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZVBsb3RNb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IHRoaXMucGxvdENvbnRhaW5lcjtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJwaW5jaFpvb21YXCIpIHx8IHRoaXMuZ2V0KFwicGluY2hab29tWVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b3VjaEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRlcklkID0gdG91Y2hFdmVudC5wb2ludGVySWQ7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVySWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVQb2ludHNbcG9pbnRlcklkXSA9IGV2ZW50LnBvaW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKCRvYmplY3Qua2V5cyhwbG90Q29udGFpbmVyLl9kb3duUG9pbnRzKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlUGluY2goKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRvd25Qb2ludCA9IHRoaXMuX2Rvd25Qb2ludDtcclxuICAgICAgICBpZiAoZG93blBvaW50KSB7XHJcbiAgICAgICAgICAgIGRvd25Qb2ludCA9IHBsb3RDb250YWluZXIudG9Mb2NhbCh0aGlzLl9yb290LmRvY3VtZW50UG9pbnRUb1Jvb3QoZG93blBvaW50KSk7XHJcbiAgICAgICAgICAgIGxldCBsb2NhbCA9IHBsb3RDb250YWluZXIudG9Mb2NhbChldmVudC5wb2ludCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhblggPSB0aGlzLmdldChcInBhblhcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhblkgPSB0aGlzLmdldChcInBhbllcIik7XHJcbiAgICAgICAgICAgIGlmIChwYW5YKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsYmFyWCA9IHRoaXMuZ2V0KFwic2Nyb2xsYmFyWFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxiYXJYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyWC5ldmVudHMuZGlzYWJsZVR5cGUoXCJyYW5nZWNoYW5nZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXhpcy5nZXQoXCJwYW5YXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMuX2lzUGFubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc3QgbWF4RGV2aWF0aW9uID0gYXhpcy5nZXQoXCJtYXhEZXZpYXRpb25cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYW5TdGFydCA9IGF4aXMuX3BhblN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFuRW5kID0gYXhpcy5fcGFuRW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IChwYW5FbmQgLSBwYW5TdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YVggPSBkaWZmZXJlbmNlICogKGRvd25Qb2ludC54IC0gbG9jYWwueCkgLyBwbG90Q29udGFpbmVyLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChheGlzLmdldChcInJlbmRlcmVyXCIpLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YVggKj0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcGFuU3RhcnQgKyBkZWx0YVg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBwYW5FbmQgKyBkZWx0YVg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmQgLSBzdGFydCA8IDEgKyBheGlzLmdldChcIm1heERldmlhdGlvblwiLCAxKSAqIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMuc2V0KFwic3RhcnRcIiwgc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcy5zZXQoXCJlbmRcIiwgZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbGJhclgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxiYXJYLmV2ZW50cy5lbmFibGVUeXBlKFwicmFuZ2VjaGFuZ2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwYW5ZKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsYmFyWSA9IHRoaXMuZ2V0KFwic2Nyb2xsYmFyWVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxiYXJZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyWS5ldmVudHMuZGlzYWJsZVR5cGUoXCJyYW5nZWNoYW5nZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXhpcy5nZXQoXCJwYW5ZXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMuX2lzUGFubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc3QgbWF4RGV2aWF0aW9uID0gYXhpcy5nZXQoXCJtYXhEZXZpYXRpb25cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYW5TdGFydCA9IGF4aXMuX3BhblN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFuRW5kID0gYXhpcy5fcGFuRW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IChwYW5FbmQgLSBwYW5TdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YVkgPSBkaWZmZXJlbmNlICogKGRvd25Qb2ludC55IC0gbG9jYWwueSkgLyBwbG90Q29udGFpbmVyLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXhpcy5nZXQoXCJyZW5kZXJlclwiKS5nZXQoXCJpbnZlcnNlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFZICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHBhblN0YXJ0IC0gZGVsdGFZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gcGFuRW5kIC0gZGVsdGFZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kIC0gc3RhcnQgPCAxICsgYXhpcy5nZXQoXCJtYXhEZXZpYXRpb25cIiwgMSkgKiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzLnNldChcInN0YXJ0XCIsIHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aXMuc2V0KFwiZW5kXCIsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxiYXJZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyWS5ldmVudHMuZW5hYmxlVHlwZShcInJhbmdlY2hhbmdlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVQaW5jaCgpIHtcclxuICAgICAgICBjb25zdCBwbG90Q29udGFpbmVyID0gdGhpcy5wbG90Q29udGFpbmVyO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgZG93blBvaW50cyA9IFtdO1xyXG4gICAgICAgIGxldCBtb3ZlUG9pbnRzID0gW107XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKHBsb3RDb250YWluZXIuX2Rvd25Qb2ludHMsIChrLCBwb2ludCkgPT4ge1xyXG4gICAgICAgICAgICBkb3duUG9pbnRzW2ldID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlUG9pbnQgPSB0aGlzLl9tb3ZlUG9pbnRzW2tdO1xyXG4gICAgICAgICAgICBpZiAobW92ZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlUG9pbnRzW2ldID0gbW92ZVBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZG93blBvaW50cy5sZW5ndGggPiAxICYmIG1vdmVQb2ludHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gcGxvdENvbnRhaW5lci53aWR0aCgpO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gcGxvdENvbnRhaW5lci5oZWlnaHQoKTtcclxuICAgICAgICAgICAgbGV0IGRvd25Qb2ludDAgPSBkb3duUG9pbnRzWzBdO1xyXG4gICAgICAgICAgICBsZXQgZG93blBvaW50MSA9IGRvd25Qb2ludHNbMV07XHJcbiAgICAgICAgICAgIGxldCBtb3ZlUG9pbnQwID0gbW92ZVBvaW50c1swXTtcclxuICAgICAgICAgICAgbGV0IG1vdmVQb2ludDEgPSBtb3ZlUG9pbnRzWzFdO1xyXG4gICAgICAgICAgICBpZiAoZG93blBvaW50MCAmJiBkb3duUG9pbnQxICYmIG1vdmVQb2ludDAgJiYgbW92ZVBvaW50MSkge1xyXG4gICAgICAgICAgICAgICAgbW92ZVBvaW50MCA9IHBsb3RDb250YWluZXIudG9Mb2NhbChtb3ZlUG9pbnQwKTtcclxuICAgICAgICAgICAgICAgIG1vdmVQb2ludDEgPSBwbG90Q29udGFpbmVyLnRvTG9jYWwobW92ZVBvaW50MSk7XHJcbiAgICAgICAgICAgICAgICBkb3duUG9pbnQwID0gcGxvdENvbnRhaW5lci50b0xvY2FsKGRvd25Qb2ludDApO1xyXG4gICAgICAgICAgICAgICAgZG93blBvaW50MSA9IHBsb3RDb250YWluZXIudG9Mb2NhbChkb3duUG9pbnQxKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChcInBpbmNoWm9vbVhcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duU3RhcnRYID0gdGhpcy5fZG93blN0YXJ0WDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duRW5kWCA9IHRoaXMuX2Rvd25FbmRYO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb3duU3RhcnRYICE9IG51bGwgJiYgZG93bkVuZFggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG93blBvaW50MC54ID4gZG93blBvaW50MS54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZG93blBvaW50MCwgZG93blBvaW50MV0gPSBbZG93blBvaW50MSwgZG93blBvaW50MF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbW92ZVBvaW50MCwgbW92ZVBvaW50MV0gPSBbbW92ZVBvaW50MSwgbW92ZVBvaW50MF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvd25Qb3MwID0gZG93blN0YXJ0WCArIChkb3duUG9pbnQwLnggLyB3KSAqIChkb3duRW5kWCAtIGRvd25TdGFydFgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG93blBvczEgPSBkb3duU3RhcnRYICsgKGRvd25Qb2ludDEueCAvIHcpICogKGRvd25FbmRYIC0gZG93blN0YXJ0WCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlUG9zMCA9IGRvd25TdGFydFggKyAobW92ZVBvaW50MC54IC8gdykgKiAoZG93bkVuZFggLSBkb3duU3RhcnRYKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmVQb3MxID0gZG93blN0YXJ0WCArIChtb3ZlUG9pbnQxLnggLyB3KSAqIChkb3duRW5kWCAtIGRvd25TdGFydFgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbERpc3RhbmNlID0gTWF0aC5tYXgoMC4wMDEsIGRvd25Qb3MxIC0gZG93blBvczApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudERpc3RhbmNlID0gTWF0aC5tYXgoMC4wMDEsIG1vdmVQb3MxIC0gbW92ZVBvczApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IGluaXRpYWxEaXN0YW5jZSAvIGN1cnJlbnREaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHMgPSBkb3duU3RhcnRYICogZCArIGRvd25Qb3MwIC0gbW92ZVBvczAgKiBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZSA9IGRvd25FbmRYICogZCArIGRvd25Qb3MxIC0gbW92ZVBvczEgKiBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnhBeGVzLmVhY2goKHhBeGlzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2EgPSB4QXhpcy5maXhQb3NpdGlvbihzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlYSA9IHhBeGlzLmZpeFBvc2l0aW9uKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeEF4aXMuem9vbShzYSwgZWEsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJwaW5jaFpvb21ZXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93blN0YXJ0WSA9IHRoaXMuX2Rvd25TdGFydFk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93bkVuZFkgPSB0aGlzLl9kb3duRW5kWTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG93blN0YXJ0WSAhPSBudWxsICYmIGRvd25FbmRZICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvd25Qb2ludDAueSA8IGRvd25Qb2ludDEueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rvd25Qb2ludDAsIGRvd25Qb2ludDFdID0gW2Rvd25Qb2ludDEsIGRvd25Qb2ludDBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21vdmVQb2ludDAsIG1vdmVQb2ludDFdID0gW21vdmVQb2ludDEsIG1vdmVQb2ludDBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb3duUG9zMCA9IGRvd25TdGFydFkgKyAoMSAtIGRvd25Qb2ludDAueSAvIGgpICogKGRvd25FbmRZIC0gZG93blN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb3duUG9zMSA9IGRvd25TdGFydFkgKyAoMSAtIGRvd25Qb2ludDEueSAvIGgpICogKGRvd25FbmRZIC0gZG93blN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlUG9zMCA9IGRvd25TdGFydFkgKyAoMSAtIG1vdmVQb2ludDAueSAvIGgpICogKGRvd25FbmRZIC0gZG93blN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlUG9zMSA9IGRvd25TdGFydFkgKyAoMSAtIG1vdmVQb2ludDEueSAvIGgpICogKGRvd25FbmRZIC0gZG93blN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbml0aWFsRGlzdGFuY2UgPSBNYXRoLm1heCgwLjAwMSwgZG93blBvczEgLSBkb3duUG9zMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RGlzdGFuY2UgPSBNYXRoLm1heCgwLjAwMSwgbW92ZVBvczEgLSBtb3ZlUG9zMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gaW5pdGlhbERpc3RhbmNlIC8gY3VycmVudERpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IGRvd25TdGFydFkgKiBkICsgZG93blBvczAgLSBtb3ZlUG9zMCAqIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gZG93bkVuZFkgKiBkICsgZG93blBvczEgLSBtb3ZlUG9zMSAqIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMuZWFjaCgoeUF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYSA9IHlBeGlzLmZpeFBvc2l0aW9uKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVhID0geUF4aXMuZml4UG9zaXRpb24oZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5QXhpcy56b29tKHNhLCBlYSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVDdXJzb3JQb3NpdGlvbigpIHtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLmdldChcImN1cnNvclwiKTtcclxuICAgICAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclBvaW50ID0gY3Vyc29yLmdldFByaXZhdGUoXCJwb2ludFwiKTtcclxuICAgICAgICAgICAgbGV0IHNuYXBUb1NlcmllcyA9IGN1cnNvci5nZXQoXCJzbmFwVG9TZXJpZXNcIik7XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3IuX2Rvd25Qb2ludCkge1xyXG4gICAgICAgICAgICAgICAgc25hcFRvU2VyaWVzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzbmFwVG9TZXJpZXMgJiYgY3Vyc29yUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBUb1Nlcmllc0J5ID0gY3Vyc29yLmdldChcInNuYXBUb1Nlcmllc0J5XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChzbmFwVG9TZXJpZXMsIChzZXJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcmllcy5pc0hpZGRlbigpICYmICFzZXJpZXMuaXNIaWRpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcFRvU2VyaWVzQnkgIT0gXCJ4IVwiICYmIHNuYXBUb1Nlcmllc0J5ICE9IFwieSFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IHNlcmllcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHNlcmllcy5lbmRJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBzZXJpZXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSAmJiAhZGF0YUl0ZW0uaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbXMucHVzaChkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcERhdGFJdGVtID0gc2VyaWVzLmdldChcInRvb2x0aXBEYXRhSXRlbVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwRGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbXMucHVzaCh0b29sdGlwRGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWluRGlzdGFuY2UgPSBJbmZpbml0eTtcclxuICAgICAgICAgICAgICAgIGxldCBjbG9zZXN0SXRlbTtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBkYXRhSXRlbS5nZXQoXCJwb2ludFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBUb1Nlcmllc0J5ID09IFwieFwiIHx8IHNuYXBUb1Nlcmllc0J5ID09IFwieCFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhjdXJzb3JQb2ludC54IC0gcG9pbnQueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc25hcFRvU2VyaWVzQnkgPT0gXCJ5XCIgfHwgc25hcFRvU2VyaWVzQnkgPT0gXCJ5IVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGN1cnNvclBvaW50LnkgLSBwb2ludC55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5oeXBvdChjdXJzb3JQb2ludC54IC0gcG9pbnQueCwgY3Vyc29yUG9pbnQueSAtIHBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VzdEl0ZW0gPSBkYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goc25hcFRvU2VyaWVzLCAoc2VyaWVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9IHNlcmllcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuX3NldERhdGFJdGVtKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VzdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VyaWVzID0gY2xvc2VzdEl0ZW0uY29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcmllcy5zaG93RGF0YUl0ZW1Ub29sdGlwKGNsb3Nlc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJpZXMuc2V0UmF3KFwidG9vbHRpcERhdGFJdGVtXCIsIGNsb3Nlc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IGNsb3Nlc3RJdGVtLmdldChcInBvaW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyB4IGFuZCB5IHRvIHNvbHZlICM3MjIyNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuaGFuZGxlTW92ZShzZXJpZXMudG9HbG9iYWwoeyB4OiBwb2ludC54IC0gc2VyaWVzLngoKSwgeTogcG9pbnQueSAtIHNlcmllcy55KCkgfSksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVDdXJzb3IoKSB7XHJcbiAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuZ2V0KFwiY3Vyc29yXCIpO1xyXG4gICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgY3Vyc29yLnVwZGF0ZUN1cnNvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRDdXJzb3IoY3Vyc29yKSB7XHJcbiAgICAgICAgdGhpcy5wbG90Q29udGFpbmVyLmNoaWxkcmVuLnB1c2goY3Vyc29yKTtcclxuICAgIH1cclxuICAgIF9wcmVwYXJlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgc3VwZXIuX3ByZXBhcmVDaGlsZHJlbigpO1xyXG4gICAgICAgIHRoaXMuc2VyaWVzLmVhY2goKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvcml6ZShzZXJpZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ3aGVlbFhcIikgfHwgdGhpcy5pc0RpcnR5KFwid2hlZWxZXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNldFdoZWVsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjdXJzb3JcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3MuY3Vyc29yO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLmdldChcImN1cnNvclwiKTtcclxuICAgICAgICAgICAgaWYgKGN1cnNvciAhPT0gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VQcm9wZXJ0eShcImN1cnNvclwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IuX3NldENoYXJ0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEN1cnNvcihjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3B1c2hQcm9wZXJ0eURpc3Bvc2VyKFwiY3Vyc29yXCIsIGN1cnNvci5ldmVudHMub24oXCJzZWxlY3RlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUN1cnNvclNlbGVjdEVuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5zZXRSYXcoXCJjdXJzb3JcIiwgY3Vyc29yKSAvLyB0byByZXNldCBwcmV2aW91cyB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldlNldHRpbmdzLmN1cnNvciA9IGN1cnNvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwic2Nyb2xsYmFyWFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX3ByZXZTZXR0aW5ncy5zY3JvbGxiYXJYO1xyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxiYXJYID0gdGhpcy5nZXQoXCJzY3JvbGxiYXJYXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2Nyb2xsYmFyWCAhPT0gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VQcm9wZXJ0eShcInNjcm9sbGJhclhcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsYmFyWCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2Nyb2xsYmFyWC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BBeGVzQ29udGFpbmVyLmNoaWxkcmVuLnB1c2goc2Nyb2xsYmFyWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3B1c2hQcm9wZXJ0eURpc3Bvc2VyKFwic2Nyb2xsYmFyWFwiLCBzY3JvbGxiYXJYLmV2ZW50cy5vbihcInJhbmdlY2hhbmdlZFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVTY3JvbGxiYXIodGhpcy54QXhlcywgZS5zdGFydCwgZS5lbmQsIGUuZ3JpcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3B1c2hQcm9wZXJ0eURpc3Bvc2VyKFwic2Nyb2xsYmFyWFwiLCBzY3JvbGxiYXJYLmV2ZW50cy5vbihcInJlbGVhc2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54QXhlcy5lYWNoKChheGlzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXhpcy5nZXQoXCJ6b29tYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUF4aXNTZWxlY3Rpb24oYXhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VkIHRvIHBvcHVsYXRlIGBhcmlhTGFiZWxgIHdpdGggbWVhbmluZ2Z1bCB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxiYXJYLnNldFByaXZhdGUoXCJwb3NpdGlvblRleHRGdW5jdGlvblwiLCAocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMueEF4ZXMuZ2V0SW5kZXgoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlzID8gYXhpcy5nZXRUb29sdGlwVGV4dChwb3NpdGlvbiwgZmFsc2UpIHx8IFwiXCIgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldlNldHRpbmdzLnNjcm9sbGJhclggPSBzY3JvbGxiYXJYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzY3JvbGxiYXJZXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fcHJldlNldHRpbmdzLnNjcm9sbGJhclk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbGJhclkgPSB0aGlzLmdldChcInNjcm9sbGJhcllcIik7XHJcbiAgICAgICAgICAgIGlmIChzY3JvbGxiYXJZICE9PSBwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZVByb3BlcnR5KFwic2Nyb2xsYmFyWVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxiYXJZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzY3JvbGxiYXJZLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QXhlc0NvbnRhaW5lci5jaGlsZHJlbi5wdXNoKHNjcm9sbGJhclkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoUHJvcGVydHlEaXNwb3NlcihcInNjcm9sbGJhcllcIiwgc2Nyb2xsYmFyWS5ldmVudHMub24oXCJyYW5nZWNoYW5nZWRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlU2Nyb2xsYmFyKHRoaXMueUF4ZXMsIGUuc3RhcnQsIGUuZW5kLCBlLmdyaXApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoUHJvcGVydHlEaXNwb3NlcihcInNjcm9sbGJhcllcIiwgc2Nyb2xsYmFyWS5ldmVudHMub24oXCJyZWxlYXNlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF4aXMuZ2V0KFwiem9vbWFibGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVBeGlzU2VsZWN0aW9uKGF4aXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlZCB0byBwb3B1bGF0ZSBgYXJpYUxhYmVsYCB3aXRoIG1lYW5pbmdmdWwgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyWS5zZXRQcml2YXRlKFwicG9zaXRpb25UZXh0RnVuY3Rpb25cIiwgKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLnlBeGVzLmdldEluZGV4KDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpcyA/IGF4aXMuZ2V0VG9vbHRpcFRleHQocG9zaXRpb24sIGZhbHNlKSB8fCBcIlwiIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZTZXR0aW5ncy5zY3JvbGxiYXJZID0gc2Nyb2xsYmFyWTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9oYW5kbGVab29tT3V0KCk7XHJcbiAgICB9XHJcbiAgICBfcHJvY2Vzc1NlcmllcyhzZXJpZXMpIHtcclxuICAgICAgICBzdXBlci5fcHJvY2Vzc1NlcmllcyhzZXJpZXMpO1xyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gc2VyaWVzLmdldChcInhBeGlzXCIpO1xyXG4gICAgICAgIGNvbnN0IHlBeGlzID0gc2VyaWVzLmdldChcInlBeGlzXCIpO1xyXG4gICAgICAgICRhcnJheS5tb3ZlKHhBeGlzLnNlcmllcywgc2VyaWVzKTtcclxuICAgICAgICAkYXJyYXkubW92ZSh5QXhpcy5zZXJpZXMsIHNlcmllcyk7XHJcbiAgICAgICAgc2VyaWVzLl9wb3NYRHAgPSBzZXJpZXMuYWRkRGlzcG9zZXIoeEF4aXMuZXZlbnRzLm9uKFwicG9zaXRpb25jaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgc2VyaWVzLl9maXhQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBzZXJpZXMuX3Bvc1hEcCA9IHNlcmllcy5hZGREaXNwb3Nlcih5QXhpcy5ldmVudHMub24oXCJwb3NpdGlvbmNoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXJpZXMuX2ZpeFBvc2l0aW9uKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGlmICghc2VyaWVzLmdldChcImJhc2VBeGlzXCIpKSB7XHJcbiAgICAgICAgICAgIGlmICh5QXhpcy5pc1R5cGUoXCJDYXRlZ29yeUF4aXNcIikgfHwgeUF4aXMuaXNUeXBlKFwiRGF0ZUF4aXNcIikpIHtcclxuICAgICAgICAgICAgICAgIHNlcmllcy5zZXQoXCJiYXNlQXhpc1wiLCB5QXhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXJpZXMuc2V0KFwiYmFzZUF4aXNcIiwgeEF4aXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZXJpZXMuZ2V0KFwic3RhY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBzZXJpZXMuX21hcmtEaXJ0eUtleShcInN0YWNrZWRcIik7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHNlcmllcy5kYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwic3RhY2tUb0l0ZW1ZXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXQoXCJzdGFja1RvSXRlbVhcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlcmllcy5fbWFya0RpcnR5QXhlcygpO1xyXG4gICAgICAgIHlBeGlzLm1hcmtEaXJ0eUV4dHJlbWVzKCk7XHJcbiAgICAgICAgeEF4aXMubWFya0RpcnR5RXh0cmVtZXMoKTtcclxuICAgICAgICB4QXhpcy5fc2VyaWVzQWRkZWQgPSB0cnVlO1xyXG4gICAgICAgIHlBeGlzLl9zZXJpZXNBZGRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fY29sb3JpemUoc2VyaWVzKTtcclxuICAgIH1cclxuICAgIF9jb2xvcml6ZShzZXJpZXMpIHtcclxuICAgICAgICBjb25zdCBjb2xvclNldCA9IHRoaXMuZ2V0KFwiY29sb3JzXCIpO1xyXG4gICAgICAgIGlmIChjb2xvclNldCkge1xyXG4gICAgICAgICAgICBpZiAoc2VyaWVzLmdldChcImZpbGxcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb2xvclNldC5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBzZXJpZXMuX3NldFNvZnQoXCJzdHJva2VcIiwgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgc2VyaWVzLl9zZXRTb2Z0KFwiZmlsbFwiLCBjb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlQ3Vyc29yU2VsZWN0RW5kKCkge1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMuZ2V0KFwiY3Vyc29yXCIpO1xyXG4gICAgICAgIGNvbnN0IGJlaGF2aW9yID0gY3Vyc29yLmdldChcImJlaGF2aW9yXCIpO1xyXG4gICAgICAgIGNvbnN0IGRvd25Qb3NpdGlvblggPSBjdXJzb3IuZ2V0UHJpdmF0ZShcImRvd25Qb3NpdGlvblhcIiwgMCk7XHJcbiAgICAgICAgY29uc3QgZG93blBvc2l0aW9uWSA9IGN1cnNvci5nZXRQcml2YXRlKFwiZG93blBvc2l0aW9uWVwiLCAwKTtcclxuICAgICAgICBjb25zdCBwb3NpdGlvblggPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBjdXJzb3IuZ2V0UHJpdmF0ZShcInBvc2l0aW9uWFwiLCAwLjUpKSk7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25ZID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgY3Vyc29yLmdldFByaXZhdGUoXCJwb3NpdGlvbllcIiwgMC41KSkpO1xyXG4gICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmVoYXZpb3IgPT09IFwiem9vbVhcIiB8fCBiZWhhdmlvciA9PT0gXCJ6b29tWFlcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uMCA9IGF4aXMudG9BeGlzUG9zaXRpb24oZG93blBvc2l0aW9uWCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24xID0gYXhpcy50b0F4aXNQb3NpdGlvbihwb3NpdGlvblgpO1xyXG4gICAgICAgICAgICAgICAgYXhpcy56b29tKHBvc2l0aW9uMCwgcG9zaXRpb24xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBheGlzLnNldFByaXZhdGUoXCJ1cGRhdGVTY3JvbGxiYXJcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy55QXhlcy5lYWNoKChheGlzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChiZWhhdmlvciA9PT0gXCJ6b29tWVwiIHx8IGJlaGF2aW9yID09PSBcInpvb21YWVwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24wID0gYXhpcy50b0F4aXNQb3NpdGlvbihkb3duUG9zaXRpb25ZKTtcclxuICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbjEgPSBheGlzLnRvQXhpc1Bvc2l0aW9uKHBvc2l0aW9uWSk7XHJcbiAgICAgICAgICAgICAgICBheGlzLnpvb20ocG9zaXRpb24wLCBwb3NpdGlvbjEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF4aXMuc2V0UHJpdmF0ZShcInVwZGF0ZVNjcm9sbGJhclwiLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVTY3JvbGxiYXIoYXhlcywgc3RhcnQsIGVuZCwgcHJpb3JpdHkpIHtcclxuICAgICAgICBheGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgbGV0IGF4aXNTdGFydCA9IGF4aXMuZml4UG9zaXRpb24oc3RhcnQpO1xyXG4gICAgICAgICAgICBsZXQgYXhpc0VuZCA9IGF4aXMuZml4UG9zaXRpb24oZW5kKTtcclxuICAgICAgICAgICAgbGV0IHpvb21BbmltYXRpb24gPSBheGlzLnpvb20oYXhpc1N0YXJ0LCBheGlzRW5kLCB1bmRlZmluZWQsIHByaW9yaXR5KTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlU2Nyb2xsYmFyID0gXCJ1cGRhdGVTY3JvbGxiYXJcIjtcclxuICAgICAgICAgICAgYXhpcy5zZXRQcml2YXRlUmF3KHVwZGF0ZVNjcm9sbGJhciwgZmFsc2UpO1xyXG4gICAgICAgICAgICBpZiAoem9vbUFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgem9vbUFuaW1hdGlvbi5ldmVudHMub24oXCJzdG9wcGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzLnNldFByaXZhdGVSYXcodXBkYXRlU2Nyb2xsYmFyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXhpcy5zZXRQcml2YXRlUmF3KHVwZGF0ZVNjcm9sbGJhciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9wcm9jZXNzQXhpcyhheGVzLCBjb250YWluZXIpIHtcclxuICAgICAgICByZXR1cm4gYXhlcy5ldmVudHMub25BbGwoKGNoYW5nZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlLnR5cGUgPT09IFwiY2xlYXJcIikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goY2hhbmdlLm9sZFZhbHVlcywgKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVBeGlzKGF4aXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4ucHVzaChjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlLm5ld1ZhbHVlLnByb2Nlc3NDaGFydCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJzZXRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4uc2V0SW5kZXgoY2hhbmdlLmluZGV4LCBjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlLm5ld1ZhbHVlLnByb2Nlc3NDaGFydCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJpbnNlcnRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4uaW5zZXJ0SW5kZXgoY2hhbmdlLmluZGV4LCBjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlLm5ld1ZhbHVlLnByb2Nlc3NDaGFydCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJyZW1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVBeGlzKGNoYW5nZS5vbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwibW92ZUluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5tb3ZlVmFsdWUoY2hhbmdlLnZhbHVlLCBjaGFuZ2UubmV3SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlLnZhbHVlLnByb2Nlc3NDaGFydCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gSUxpc3RFdmVudCB0eXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlQXhpcyhheGlzKSB7XHJcbiAgICAgICAgaWYgKCFheGlzLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBheGlzUGFyZW50ID0gYXhpcy5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChheGlzUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBheGlzUGFyZW50LmNoaWxkcmVuLnJlbW92ZVZhbHVlKGF4aXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBheGlzLmdyaWRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRQYXJlbnQgPSBncmlkQ29udGFpbmVyLnBhcmVudDtcclxuICAgICAgICAgICAgaWYgKGdyaWRQYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGdyaWRQYXJlbnQuY2hpbGRyZW4ucmVtb3ZlVmFsdWUoZ3JpZENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdG9wR3JpZENvbnRhaW5lciA9IGF4aXMudG9wR3JpZENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgdG9wR3JpZFBhcmVudCA9IHRvcEdyaWRDb250YWluZXIucGFyZW50O1xyXG4gICAgICAgICAgICBpZiAodG9wR3JpZFBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdG9wR3JpZFBhcmVudC5jaGlsZHJlbi5yZW1vdmVWYWx1ZSh0b3BHcmlkQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVDaGFydExheW91dCgpIHtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5sZWZ0QXhlc0NvbnRhaW5lci53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5yaWdodEF4ZXNDb250YWluZXIud2lkdGgoKTtcclxuICAgICAgICBjb25zdCBib3R0b21BeGVzQ29udGFpbmVyID0gdGhpcy5ib3R0b21BeGVzQ29udGFpbmVyO1xyXG4gICAgICAgIGJvdHRvbUF4ZXNDb250YWluZXIuc2V0KFwicGFkZGluZ0xlZnRcIiwgbGVmdCk7XHJcbiAgICAgICAgYm90dG9tQXhlc0NvbnRhaW5lci5zZXQoXCJwYWRkaW5nUmlnaHRcIiwgcmlnaHQpO1xyXG4gICAgICAgIGNvbnN0IHRvcEF4ZXNDb250YWluZXIgPSB0aGlzLnRvcEF4ZXNDb250YWluZXI7XHJcbiAgICAgICAgdG9wQXhlc0NvbnRhaW5lci5zZXQoXCJwYWRkaW5nTGVmdFwiLCBsZWZ0KTtcclxuICAgICAgICB0b3BBeGVzQ29udGFpbmVyLnNldChcInBhZGRpbmdSaWdodFwiLCByaWdodCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcHJvY2Vzc0F4aXMoYXhpcykge1xyXG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmdldChcImN1cnNvclwiKTtcclxuICAgICAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRGlzcG9zZXIoYXhpcy5vbihcInN0YXJ0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUN1cnNvcigpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRGlzcG9zZXIoYXhpcy5vbihcImVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJzb3IoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVBeGlzU2VsZWN0aW9uKGF4aXMsIGZvcmNlKSB7XHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gYXhpcy5maXhQb3NpdGlvbihheGlzLmdldChcInN0YXJ0XCIsIDApKTtcclxuICAgICAgICBsZXQgZW5kID0gYXhpcy5maXhQb3NpdGlvbihheGlzLmdldChcImVuZFwiLCAxKSk7XHJcbiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgICAgIFtzdGFydCwgZW5kXSA9IFtlbmQsIHN0YXJ0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMueEF4ZXMuaW5kZXhPZihheGlzKSAhPSAtMSkge1xyXG4gICAgICAgICAgICBpZiAoZm9yY2UgfHwgYXhpcy5nZXRQcml2YXRlKFwidXBkYXRlU2Nyb2xsYmFyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsYmFyWCA9IHRoaXMuZ2V0KFwic2Nyb2xsYmFyWFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxiYXJYICYmICghc2Nyb2xsYmFyWC5nZXRQcml2YXRlKFwiaXNCdXN5XCIpIHx8IGZvcmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhclguc2V0UmF3KFwic3RhcnRcIiwgc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhclguc2V0UmF3KFwiZW5kXCIsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyWC51cGRhdGVHcmlwcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMueUF4ZXMuaW5kZXhPZihheGlzKSAhPSAtMSkge1xyXG4gICAgICAgICAgICBpZiAoZm9yY2UgfHwgYXhpcy5nZXRQcml2YXRlKFwidXBkYXRlU2Nyb2xsYmFyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsYmFyWSA9IHRoaXMuZ2V0KFwic2Nyb2xsYmFyWVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxiYXJZICYmICghc2Nyb2xsYmFyWS5nZXRQcml2YXRlKFwiaXNCdXN5XCIpIHx8IGZvcmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhclkuc2V0UmF3KFwic3RhcnRcIiwgc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhclkuc2V0UmF3KFwiZW5kXCIsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyWS51cGRhdGVHcmlwcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVpvb21PdXQoKTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVab29tT3V0KCkge1xyXG4gICAgICAgIGxldCB6b29tT3V0QnV0dG9uID0gdGhpcy56b29tT3V0QnV0dG9uO1xyXG4gICAgICAgIGlmICh6b29tT3V0QnV0dG9uICYmIHpvb21PdXRCdXR0b24ucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGxldCB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXMuZ2V0KFwic3RhcnRcIikgIT0gMCB8fCBheGlzLmdldChcImVuZFwiKSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnlBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzLmdldChcInN0YXJ0XCIpICE9IDAgfHwgYXhpcy5nZXQoXCJlbmRcIikgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh6b29tT3V0QnV0dG9uLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB6b29tT3V0QnV0dG9uLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHpvb21PdXRCdXR0b24uaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgcG9pbnQgaXMgd2l0aGluIHBsb3QgYXJlYS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBwb2ludCAgUmVmZXJlbmNlIHBvaW50XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgSXMgd2l0aGluIHBsb3QgYXJlYT9cclxuICAgICAqL1xyXG4gICAgaW5QbG90KHBvaW50KSB7XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IHRoaXMucGxvdENvbnRhaW5lcjtcclxuICAgICAgICBjb25zdCBvdGhlckNoYXJ0cyA9IHRoaXMuZ2V0UHJpdmF0ZShcIm90aGVyQ2hhcnRzXCIsIHRoaXMuX290aGVyQ2hhcnRzKTtcclxuICAgICAgICBjb25zdCBnbG9iYWwgPSBwbG90Q29udGFpbmVyLnRvR2xvYmFsKHBvaW50KTtcclxuICAgICAgICBpZiAocG9pbnQueCA+PSAtMC41ICYmIHBvaW50LnkgPj0gLTAuNSAmJiBwb2ludC54IDw9IHBsb3RDb250YWluZXIud2lkdGgoKSArIDAuNSAmJiBwb2ludC55IDw9IHBsb3RDb250YWluZXIuaGVpZ2h0KCkgKyAwLjUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvdGhlckNoYXJ0cykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gb3RoZXJDaGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gb3RoZXJDaGFydHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQgIT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJ0UGxvdENvbnRhaW5lciA9IGNoYXJ0LnBsb3RDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRQb2ludCA9IHRoaXMuX3Jvb3Qucm9vdFBvaW50VG9Eb2N1bWVudChnbG9iYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJ0Um9vdCA9IGNoYXJ0Ll9yb290LmRvY3VtZW50UG9pbnRUb1Jvb3QoZG9jdW1lbnRQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWwgPSBjaGFydFBsb3RDb250YWluZXIudG9Mb2NhbChjaGFydFJvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbC54ID49IC0wLjEgJiYgbG9jYWwueSA+PSAtMC4xICYmIGxvY2FsLnggPD0gY2hhcnRQbG90Q29udGFpbmVyLndpZHRoKCkgKyAwLjEgJiYgbG9jYWwueSA8PSBjaGFydFBsb3RDb250YWluZXIuaGVpZ2h0KCkgKyAwLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBhcnJhbmdlVG9vbHRpcHMoKSB7XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IHRoaXMucGxvdENvbnRhaW5lcjtcclxuICAgICAgICBjb25zdCB3ID0gcGxvdENvbnRhaW5lci53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IGggPSBwbG90Q29udGFpbmVyLmhlaWdodCgpO1xyXG4gICAgICAgIGNvbnN0IGhoID0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICBsZXQgcGxvdFQgPSBwbG90Q29udGFpbmVyLl9kaXNwbGF5LnRvR2xvYmFsKHsgeDogMCwgeTogMCB9KTtcclxuICAgICAgICBsZXQgcGxvdEIgPSBwbG90Q29udGFpbmVyLl9kaXNwbGF5LnRvR2xvYmFsKHsgeDogdywgeTogaCB9KTtcclxuICAgICAgICBjb25zdCB0b29sdGlwcyA9IFtdO1xyXG4gICAgICAgIGxldCBzdW0gPSAwO1xyXG4gICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IEluZmluaXR5O1xyXG4gICAgICAgIGxldCBtb3ZlUG9pbnQgPSB0aGlzLl9tb3ZlUG9pbnQ7XHJcbiAgICAgICAgbGV0IG1heFRvb2x0aXBEaXN0YW5jZSA9IHRoaXMuZ2V0KFwibWF4VG9vbHRpcERpc3RhbmNlXCIpO1xyXG4gICAgICAgIGxldCBtYXhUb29sdGlwRGlzdGFuY2VCeSA9IHRoaXMuZ2V0KFwibWF4VG9vbHRpcERpc3RhbmNlQnlcIiwgXCJ4eVwiKTtcclxuICAgICAgICBsZXQgY2xvc2VzdDtcclxuICAgICAgICBsZXQgY2xvc2VzdFBvaW50O1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhUb29sdGlwRGlzdGFuY2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzLmVhY2goKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZXJpZXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzZXJpZXMuZ2V0KFwidG9vbHRpcFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSB0b29sdGlwLmdldChcInBvaW50VG9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChtb3ZlUG9pbnQueCAtIHBvaW50LngsIG1vdmVQb2ludC55IC0gcG9pbnQueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4VG9vbHRpcERpc3RhbmNlQnkgPT0gXCJ4XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKG1vdmVQb2ludC54IC0gcG9pbnQueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXhUb29sdGlwRGlzdGFuY2VCeSA9PSBcInlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMobW92ZVBvaW50LnkgLSBwb2ludC55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0ID0gc2VyaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcFNlcmllcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2VyaWVzLmVhY2goKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gc2VyaWVzLmdldChcInRvb2x0aXBcIik7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwICYmICF0b29sdGlwLmdldChcImZvcmNlSGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSB0b29sdGlwLmdldChcInBvaW50VG9cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4VG9vbHRpcERpc3RhbmNlID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gdG9vbHRpcC5nZXQoXCJwb2ludFRvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQgJiYgY2xvc2VzdFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzICE9IGNsb3Nlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLmh5cG90KGNsb3Nlc3RQb2ludC54IC0gcG9pbnQueCwgY2xvc2VzdFBvaW50LnkgLSBwb2ludC55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4VG9vbHRpcERpc3RhbmNlQnkgPT0gXCJ4XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhjbG9zZXN0UG9pbnQueCAtIHBvaW50LngpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXhUb29sdGlwRGlzdGFuY2VCeSA9PSBcInlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGNsb3Nlc3RQb2ludC55IC0gcG9pbnQueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IG1heFRvb2x0aXBEaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXhUb29sdGlwRGlzdGFuY2UgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmllcyAhPSBjbG9zZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pblBsb3QodGhpcy5fdG9vbHRpcFRvTG9jYWwocG9pbnQpKSB8fCAhdG9vbHRpcC5kYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwb2ludC55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWRkZW4gfHwgc2VyaWVzLmlzSGlkZGVuKCkgfHwgc2VyaWVzLmlzSGlkaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBzLnB1c2godG9vbHRpcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBTZXJpZXMucHVzaChzZXJpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInRvb2x0aXBTZXJpZXNcIiwgdG9vbHRpcFNlcmllcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiYXJyYW5nZVRvb2x0aXBzXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBDb250YWluZXIgPSB0aGlzLl9yb290LnRvb2x0aXBDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdG9vbHRpcHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBhdmVyYWdlID0gc3VtIC8gY291bnQ7XHJcbiAgICAgICAgICAgIGlmIChhdmVyYWdlID4gaCAvIDIgKyBwbG90VC55KSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwcy5zb3J0KChhLCBiKSA9PiAkb3JkZXIuY29tcGFyZU51bWJlcihiLmdldChcInBvaW50VG9cIikueSwgYS5nZXQoXCJwb2ludFRvXCIpLnkpKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcmV2WSA9IHBsb3RCLnk7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0b29sdGlwcywgKHRvb2x0aXApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ID0gdG9vbHRpcC5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VudGVyWSA9IHRvb2x0aXAuZ2V0KFwiY2VudGVyWVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VudGVyWSBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICo9IGNlbnRlclkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSB0b29sdGlwLmdldChcIm1hcmdpbkJvdHRvbVwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcImJvdW5kc1wiLCB7IGxlZnQ6IHBsb3RULngsIHRvcDogcGxvdFQueSwgcmlnaHQ6IHBsb3RCLngsIGJvdHRvbTogcHJldlkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zZXRQcml2YXRlKFwiY3VzdG9tRGF0YVwiLCB7IGxlZnQ6IHBsb3RULngsIHRvcDogcGxvdFQueSwgcmlnaHQ6IHBsb3RCLngsIGJvdHRvbTogcHJldlkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlkgPSBNYXRoLm1pbihwcmV2WSAtIGhlaWdodCwgdG9vbHRpcC5fZnkgLSBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwLnBhcmVudCA9PSB0b29sdGlwQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBDb250YWluZXIuY2hpbGRyZW4ubW92ZVZhbHVlKHRvb2x0aXAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZZIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldkJvdHRvbSA9IHByZXZZO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRvb2x0aXBzLCAodG9vbHRpcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm91bmRzID0gdG9vbHRpcC5nZXQoXCJib3VuZHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3AgPSBib3VuZHMudG9wIC0gcHJldlk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gYm91bmRzLmJvdHRvbSAtIHByZXZZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvcCA8IHByZXZCb3R0b20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBwcmV2Qm90dG9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IHRvcCArIHRvb2x0aXAuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcImJvdW5kc1wiLCB7IGxlZnQ6IGJvdW5kcy5sZWZ0LCB0b3A6IHRvcCwgcmlnaHQ6IGJvdW5kcy5yaWdodCwgYm90dG9tOiBib3R0b20gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2Qm90dG9tID0gYm91bmRzLmJvdHRvbSAtIHByZXZZICsgdG9vbHRpcC5nZXQoXCJtYXJnaW5Cb3R0b21cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBzLnNvcnQoKGEsIGIpID0+ICRvcmRlci5jb21wYXJlTnVtYmVyKGEuZ2V0KFwicG9pbnRUb1wiKS55LCBiLmdldChcInBvaW50VG9cIikueSkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXZZID0gMDtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRvb2x0aXBzLCAodG9vbHRpcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSB0b29sdGlwLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZW50ZXJZID0gdG9vbHRpcC5nZXQoXCJjZW50ZXJZXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXJZIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKj0gY2VudGVyWS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHRvb2x0aXAuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwiYm91bmRzXCIsIHsgbGVmdDogcGxvdFQueCwgdG9wOiBwcmV2WSwgcmlnaHQ6IHBsb3RCLngsIGJvdHRvbTogTWF0aC5tYXgocGxvdFQueSArIGhoLCBwcmV2WSArIGhlaWdodCkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXAucGFyZW50ID09IHRvb2x0aXBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcENvbnRhaW5lci5jaGlsZHJlbi5tb3ZlVmFsdWUodG9vbHRpcCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZZID0gTWF0aC5tYXgocHJldlkgKyBoZWlnaHQsIHRvb2x0aXAuX2Z5ICsgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZZID4gaGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZCb3R0b20gPSBoaDtcclxuICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0b29sdGlwcywgKHRvb2x0aXApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvdW5kcyA9IHRvb2x0aXAuZ2V0KFwiYm91bmRzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9wID0gYm91bmRzLnRvcCAtIChoaCAtIHByZXZZKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSBib3VuZHMuYm90dG9tIC0gKGhoIC0gcHJldlkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvdHRvbSA+IHByZXZCb3R0b20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b20gPSBwcmV2Qm90dG9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IGJvdHRvbSAtIHRvb2x0aXAuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcImJvdW5kc1wiLCB7IGxlZnQ6IGJvdW5kcy5sZWZ0LCB0b3A6IHRvcCwgcmlnaHQ6IGJvdW5kcy5yaWdodCwgYm90dG9tOiBib3R0b20gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2Qm90dG9tID0gYm90dG9tIC0gdG9vbHRpcC5oZWlnaHQoKSAtIHRvb2x0aXAuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdG9vbHRpcFRvTG9jYWwocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbG90Q29udGFpbmVyLnRvTG9jYWwocG9pbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGdWxseSB6b29tcyBvdXQgdGhlIGNoYXJ0LlxyXG4gICAgICovXHJcbiAgICB6b29tT3V0KCkge1xyXG4gICAgICAgIHRoaXMueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICBheGlzLnNldFByaXZhdGUoXCJ1cGRhdGVTY3JvbGxiYXJcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGF4aXMuem9vbSgwLCAxKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnlBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgYXhpcy5zZXRQcml2YXRlKFwidXBkYXRlU2Nyb2xsYmFyXCIsIHRydWUpO1xyXG4gICAgICAgICAgICBheGlzLnpvb20oMCwgMSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIC8vIEV4cGxpY2l0bHkgZGlzcG9zaW5nIGN1cnNvciB0byBhdm9pZCBtZW1vcnkgbGVhayBvZiBjdXJzb3IgYWRkaW5nXHJcbiAgICAgICAgLy8ga2V5Ym9hcmQgZXZlbnRzIGFmdGVyIHBhcmVudCBjaGFydCBoYXMgYmVlbiBkaXNwb3NlZFxyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMuZ2V0KFwiY3Vyc29yXCIpO1xyXG4gICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgY3Vyc29yLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFhZQ2hhcnQsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlhZQ2hhcnRcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFhZQ2hhcnQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogU2VyaWFsQ2hhcnQuY2xhc3NOYW1lcy5jb25jYXQoW1hZQ2hhcnQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVhZQ2hhcnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XYChartDefaultTheme: () => (/* binding */ XYChartDefaultTheme)\n/* harmony export */ });\n/* harmony import */ var _core_Theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Theme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_util_ColorSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/ColorSet */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js\");\n/* harmony import */ var _themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../themes/DefaultTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js\");\n/* harmony import */ var _core_util_Time__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/util/Time */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Math__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _core_util_Object__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nclass XYChartDefaultTheme extends _core_Theme__WEBPACK_IMPORTED_MODULE_0__.Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const language = this._root.language;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         */\r\n        r(\"XYChart\").setAll({\r\n            colors: _core_util_ColorSet__WEBPACK_IMPORTED_MODULE_1__.ColorSet.new(this._root, {}),\r\n            paddingLeft: 20,\r\n            paddingRight: 20,\r\n            paddingTop: 16,\r\n            paddingBottom: 16,\r\n            panX: false,\r\n            panY: false,\r\n            wheelStep: 0.25,\r\n            arrangeTooltips: true,\r\n            pinchZoomX: false,\r\n            pinchZoomY: false\r\n        });\r\n        r(\"XYSeries\").setAll({\r\n            legendLabelText: \"{name}\"\r\n        });\r\n        r(\"Rectangle\", [\"plotbackground\", \"xy\", \"background\"]).setAll({\r\n            fill: _core_util_Color__WEBPACK_IMPORTED_MODULE_2__.Color.fromHex(0x000000),\r\n            fillOpacity: 0\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: XYChartScrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYChart\", [\"scrollbar\", \"chart\"]).setAll({\r\n            paddingBottom: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingRight: 0,\r\n            colors: _core_util_ColorSet__WEBPACK_IMPORTED_MODULE_1__.ColorSet.new(this._root, {\r\n                saturation: 0\r\n            })\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"scrollbar\", \"overlay\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.5\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"background\");\r\n        }\r\n        // Class: RoundedRectangle\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusBL: 0,\r\n            fillOpacity: 0,\r\n            focusable: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).states.create(\"hover\", { fillOpacity: 0.4 });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\"]).setAll({\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\", \"resize\", \"button\"]).setAll({\r\n            cornerRadiusBL: 40,\r\n            cornerRadiusBR: 40,\r\n            cornerRadiusTL: 40,\r\n            cornerRadiusTR: 40\r\n        });\r\n        r(\"AxisRendererX\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n            strokeOpacity: 0,\r\n            inside: true\r\n        });\r\n        r(\"AxisRendererY\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n            strokeOpacity: 0,\r\n            inside: true,\r\n            minGridDistance: 5\r\n        });\r\n        r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n            opacity: 0.5,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100,\r\n            minPosition: 0.01,\r\n            maxPosition: 0.99,\r\n            fontSize: \"0.8em\"\r\n        });\r\n        r(\"AxisLabel\", [\"category\"]).setAll({\r\n            text: \"{category}\",\r\n            populateText: true\r\n        });\r\n        r(\"AxisLabel\", [\"x\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"inside\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"inside\", \"opposite\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"opposite\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\"]).setAll({\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"inside\"]).setAll({\r\n            centerX: 0\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"inside\", \"opposite\"]).setAll({\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n            centerX: 0\r\n        });\r\n        r(\"AxisLabel\", [\"minor\"]).setAll({\r\n            fontSize: \"0.6em\"\r\n        });\r\n        r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n            visible: false\r\n        });\r\n        // Class: Grid\r\n        r(\"Grid\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n            visible: false\r\n        });\r\n        // Class: Grid\r\n        r(\"Grid\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n            opacity: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Cursor\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYCursor\").setAll({\r\n            behavior: \"none\",\r\n            layer: 30,\r\n            exportable: false,\r\n            snapToSeriesBy: \"xy\",\r\n            moveThreshold: 1\r\n        });\r\n        {\r\n            const rule = r(\"Grid\", [\"cursor\", \"x\"]);\r\n            rule.setAll({\r\n                forceInactive: true,\r\n                strokeOpacity: 0.8,\r\n                strokeDasharray: [2, 2],\r\n                role: \"slider\",\r\n                ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"Grid\", [\"cursor\", \"y\"]);\r\n            rule.setAll({\r\n                forceInactive: true,\r\n                strokeOpacity: 0.8,\r\n                strokeDasharray: [2, 2],\r\n                role: \"slider\",\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"cursor\", \"selection\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.15,\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Axes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Axis\").setAll({\r\n            start: 0,\r\n            end: 1,\r\n            minZoomCount: 1,\r\n            maxZoomCount: Infinity,\r\n            maxZoomFactor: 1000,\r\n            maxDeviation: 0.1,\r\n            snapTooltip: true,\r\n            tooltipLocation: 0.5,\r\n            panX: true,\r\n            panY: true,\r\n            zoomX: true,\r\n            zoomY: true,\r\n            fixAxisSize: true\r\n        });\r\n        r(\"AxisLabel\").setAll({\r\n            location: 0.5,\r\n            multiLocation: 0,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p50,\r\n            paddingTop: 3,\r\n            paddingBottom: 3,\r\n            paddingLeft: 5,\r\n            paddingRight: 5\r\n        });\r\n        // The following is deprecated following text measuring updates in 5.0.5\r\n        // r(\"AxisLabel\", [\"y\"]).setAll({\r\n        // \ttextAlign: \"right\"\r\n        // });\r\n        // r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n        // \ttextAlign: \"left\"\r\n        // });\r\n        r(\"Container\", [\"axis\", \"header\"]).setAll({\r\n            layer: 30\r\n        });\r\n        r(\"Rectangle\", [\"axis\", \"header\", \"background\"]).setAll({\r\n            crisp: true\r\n        });\r\n        {\r\n            const rule = r(\"AxisRenderer\");\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"AxisRendererX\").setAll({\r\n            minGridDistance: 120,\r\n            opposite: false,\r\n            inversed: false,\r\n            cellStartLocation: 0,\r\n            cellEndLocation: 1,\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        r(\"AxisRendererY\").setAll({\r\n            minGridDistance: 40,\r\n            opposite: false,\r\n            inversed: false,\r\n            cellStartLocation: 0,\r\n            cellEndLocation: 1,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"axis\", \"thumb\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"alternativeBackground\");\r\n            rule.states.create(\"hover\", { fillOpacity: 0.1 });\r\n        }\r\n        r(\"Rectangle\", [\"axis\", \"thumb\", \"x\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        r(\"Rectangle\", [\"axis\", \"thumb\", \"y\"]).setAll({\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        {\r\n            const rule = r(\"Grid\");\r\n            rule.setAll({\r\n                location: 0,\r\n                strokeOpacity: 0.15,\r\n                crisp: true\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        {\r\n            const rule = r(\"Grid\", [\"minor\"]);\r\n            rule.setAll({\r\n                location: 0,\r\n                strokeOpacity: 0.07,\r\n                crisp: true\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Grid\", [\"base\"]).setAll({\r\n            strokeOpacity: 0.3\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"axis\", \"fill\"]);\r\n            rule.setAll({\r\n                visible: false,\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                fillOpacity: 0.05,\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Graphics\", [\"axis\", \"fill\", \"range\"]).setAll({\r\n            isMeasured: true\r\n        });\r\n        // hides all elements of series axis range\r\n        r(\"Graphics\", [\"series\", \"fill\", \"range\"]).setAll({\r\n            visible: false,\r\n            isMeasured: true\r\n        });\r\n        r(\"Grid\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        r(\"AxisTick\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        r(\"AxisLabel\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        {\r\n            const rule = r(\"AxisTick\");\r\n            rule.setAll({\r\n                location: 0.5,\r\n                multiLocation: 0,\r\n                strokeOpacity: 1,\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                visible: false\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"CategoryAxis\").setAll({\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            fillRule: (dataItem, index) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(index) || index % 2 == 0) {\r\n                        axisFill.setPrivate(\"visible\", true);\r\n                    }\r\n                    else {\r\n                        axisFill.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        const gridIntervals = [\r\n            { timeUnit: \"millisecond\", count: 1 },\r\n            { timeUnit: \"millisecond\", count: 5 },\r\n            { timeUnit: \"millisecond\", count: 10 },\r\n            { timeUnit: \"millisecond\", count: 50 },\r\n            { timeUnit: \"millisecond\", count: 100 },\r\n            { timeUnit: \"millisecond\", count: 500 },\r\n            { timeUnit: \"second\", count: 1 },\r\n            { timeUnit: \"second\", count: 5 },\r\n            { timeUnit: \"second\", count: 10 },\r\n            { timeUnit: \"second\", count: 30 },\r\n            { timeUnit: \"minute\", count: 1 },\r\n            { timeUnit: \"minute\", count: 5 },\r\n            { timeUnit: \"minute\", count: 10 },\r\n            { timeUnit: \"minute\", count: 15 },\r\n            { timeUnit: \"minute\", count: 30 },\r\n            { timeUnit: \"hour\", count: 1 },\r\n            { timeUnit: \"hour\", count: 3 },\r\n            { timeUnit: \"hour\", count: 6 },\r\n            { timeUnit: \"hour\", count: 12 },\r\n            { timeUnit: \"day\", count: 1 },\r\n            { timeUnit: \"day\", count: 2 },\r\n            { timeUnit: \"day\", count: 3 },\r\n            { timeUnit: \"day\", count: 4 },\r\n            { timeUnit: \"day\", count: 5 },\r\n            { timeUnit: \"week\", count: 1 },\r\n            { timeUnit: \"month\", count: 1 },\r\n            { timeUnit: \"month\", count: 2 },\r\n            { timeUnit: \"month\", count: 3 },\r\n            { timeUnit: \"month\", count: 6 },\r\n            { timeUnit: \"year\", count: 1 },\r\n            { timeUnit: \"year\", count: 2 },\r\n            { timeUnit: \"year\", count: 5 },\r\n            { timeUnit: \"year\", count: 10 },\r\n            { timeUnit: \"year\", count: 50 },\r\n            { timeUnit: \"year\", count: 100 },\r\n            { timeUnit: \"year\", count: 200 },\r\n            { timeUnit: \"year\", count: 500 },\r\n            { timeUnit: \"year\", count: 1000 },\r\n            { timeUnit: \"year\", count: 2000 },\r\n            { timeUnit: \"year\", count: 5000 },\r\n            { timeUnit: \"year\", count: 10000 },\r\n            { timeUnit: \"year\", count: 100000 }\r\n        ];\r\n        const dateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond\"),\r\n            \"second\": language.translate(\"_date_second\"),\r\n            \"minute\": language.translate(\"_date_minute\"),\r\n            \"hour\": language.translate(\"_date_hour\"),\r\n            \"day\": language.translate(\"_date_day\"),\r\n            \"week\": language.translate(\"_date_day\"),\r\n            \"month\": language.translate(\"_date_month\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        const periodChangeDateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond\"),\r\n            \"second\": language.translate(\"_date_second\"),\r\n            \"minute\": language.translate(\"_date_minute\"),\r\n            \"hour\": language.translate(\"_date_day\"),\r\n            \"day\": language.translate(\"_date_day\"),\r\n            \"week\": language.translate(\"_date_day\"),\r\n            \"month\": language.translate(\"_date_month\") + \" \" + language.translate(\"_date_year\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        const tooltipDateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond_full\"),\r\n            \"second\": language.translate(\"_date_second_full\"),\r\n            \"minute\": language.translate(\"_date_minute_full\"),\r\n            \"hour\": language.translate(\"_date_hour_full\"),\r\n            \"day\": language.translate(\"_date_day_full\"),\r\n            \"week\": language.translate(\"_date_week_full\"),\r\n            \"month\": language.translate(\"_date_month_full\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        r(\"CategoryDateAxis\").setAll({\r\n            markUnitChange: true,\r\n            gridIntervals: _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.copy(gridIntervals),\r\n            dateFormats: _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.copy(dateFormats),\r\n            periodChangeDateFormats: _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.copy(periodChangeDateFormats)\r\n        });\r\n        r(\"DateAxis\").setAll({\r\n            maxZoomFactor: null,\r\n            strictMinMax: true,\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            markUnitChange: true,\r\n            groupData: false,\r\n            groupCount: 500,\r\n            gridIntervals: _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.copy(gridIntervals),\r\n            dateFormats: _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.copy(dateFormats),\r\n            periodChangeDateFormats: _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.copy(periodChangeDateFormats),\r\n            tooltipDateFormats: tooltipDateFormats,\r\n            groupIntervals: [\r\n                { timeUnit: \"millisecond\", count: 1 },\r\n                { timeUnit: \"millisecond\", count: 10 },\r\n                { timeUnit: \"millisecond\", count: 100 },\r\n                { timeUnit: \"second\", count: 1 },\r\n                { timeUnit: \"second\", count: 10 },\r\n                { timeUnit: \"minute\", count: 1 },\r\n                { timeUnit: \"minute\", count: 10 },\r\n                { timeUnit: \"hour\", count: 1 },\r\n                { timeUnit: \"day\", count: 1 },\r\n                { timeUnit: \"week\", count: 1 },\r\n                { timeUnit: \"month\", count: 1 },\r\n                { timeUnit: \"year\", count: 1 }\r\n            ],\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const axis = dataItem.component;\r\n                    const value = dataItem.get(\"value\");\r\n                    const endValue = dataItem.get(\"endValue\");\r\n                    const intervalDuration = axis.intervalDuration();\r\n                    const baseInterval = axis.getPrivate(\"baseInterval\");\r\n                    const gridInterval = axis.getPrivate(\"gridInterval\", baseInterval);\r\n                    let min = axis.getPrivate(\"min\", 0);\r\n                    min = _core_util_Time__WEBPACK_IMPORTED_MODULE_8__.round(new Date(min), gridInterval.timeUnit, gridInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n                    if (value != null && endValue != null) {\r\n                        const val = Math.round(Math.round((value - min) / intervalDuration)) / 2;\r\n                        if (val == Math.round(val)) {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        r(\"GaplessDateAxis\").setAll({\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const index = dataItem.get(\"index\");\r\n                    let visible = false;\r\n                    if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(index) || index % 2 == 0) {\r\n                        visible = true;\r\n                    }\r\n                    axisFill.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        });\r\n        r(\"ValueAxis\").setAll({\r\n            baseValue: 0,\r\n            logarithmic: false,\r\n            strictMinMax: false,\r\n            autoZoom: true,\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const axis = dataItem.component;\r\n                    const value = dataItem.get(\"value\");\r\n                    const step = axis.getPrivate(\"step\");\r\n                    if (_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(value) && _core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(step)) {\r\n                        if (_core_util_Math__WEBPACK_IMPORTED_MODULE_9__.round(value / step / 2, 5) == Math.round(value / step / 2)) {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        r(\"DurationAxis\").setAll({\r\n            baseUnit: \"second\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Series\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYSeries\").setAll({\r\n            maskBullets: true,\r\n            stackToNegative: true,\r\n            locationX: 0.5,\r\n            locationY: 0.5,\r\n            snapTooltip: false,\r\n            openValueXGrouped: \"open\",\r\n            openValueYGrouped: \"open\",\r\n            valueXGrouped: \"close\",\r\n            valueYGrouped: \"close\",\r\n            seriesTooltipTarget: \"series\"\r\n        });\r\n        r(\"BaseColumnSeries\").setAll({\r\n            adjustBulletPosition: true\r\n        });\r\n        r(\"ColumnSeries\").setAll({\r\n            clustered: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"series\", \"column\"]).setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            width: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.percent)(70),\r\n            height: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.percent)(70),\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTR: 0,\r\n            fillOpacity: 1,\r\n            role: \"figure\"\r\n        });\r\n        r(\"LineSeries\").setAll({\r\n            connect: true,\r\n            autoGapCount: 1.1,\r\n            stackToNegative: false\r\n        });\r\n        r(\"Graphics\", [\"series\", \"stroke\"]).setAll({\r\n            position: \"absolute\",\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            isMeasured: false\r\n        });\r\n        r(\"Graphics\", [\"series\", \"fill\"]).setAll({\r\n            visible: false,\r\n            fillOpacity: 0,\r\n            position: \"absolute\",\r\n            strokeWidth: 0,\r\n            strokeOpacity: 0,\r\n            isMeasured: false\r\n        });\r\n        r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).setAll({\r\n            draw: (display, sprite) => {\r\n                const parent = sprite.parent;\r\n                if (parent) {\r\n                    const h = parent.height();\r\n                    const w = parent.width();\r\n                    display.moveTo(0, h / 2);\r\n                    display.lineTo(w, h / 2);\r\n                }\r\n            }\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).states.create(\"disabled\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).setAll({\r\n            draw: (display, sprite) => {\r\n                const parent = sprite.parent;\r\n                if (parent) {\r\n                    const h = parent.height();\r\n                    const w = parent.width();\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(w, 0);\r\n                    display.lineTo(w, h);\r\n                    display.lineTo(0, h);\r\n                    display.lineTo(0, 0);\r\n                }\r\n            }\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).states.create(\"disabled\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"SmoothedXYLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"SmoothedXLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"SmoothedYLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"Candlestick\").setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            width: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.percent)(50),\r\n            height: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.percent)(50),\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTR: 0,\r\n            fillOpacity: 1,\r\n            role: \"figure\"\r\n        });\r\n        r(\"OHLC\").setAll({\r\n            width: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.percent)(80),\r\n            height: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.percent)(80)\r\n        });\r\n        r(\"CandlestickSeries\").setAll({\r\n            lowValueXGrouped: \"low\",\r\n            lowValueYGrouped: \"low\",\r\n            highValueXGrouped: \"high\",\r\n            highValueYGrouped: \"high\",\r\n            openValueXGrouped: \"open\",\r\n            openValueYGrouped: \"open\",\r\n            valueXGrouped: \"close\",\r\n            valueYGrouped: \"close\"\r\n        });\r\n        // These rules can be used for regular columns, too\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"riseFromOpen\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"positive\");\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"positive\");\r\n        }\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"dropFromOpen\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"negative\");\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"negative\");\r\n        }\r\n        // Hollow\r\n        r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromOpen\", { fillOpacity: 0 });\r\n        r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromOpen\", { fillOpacity: 1 });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromPrevious\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"positive\");\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"positive\");\r\n        }\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromPrevious\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"fill\", ic, \"negative\");\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"negative\");\r\n        }\r\n        // AXIS RANGE GRIP\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"rangegrip\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0,\r\n                fillOpacity: 0,\r\n                strokeWidth: 1,\r\n                width: 12,\r\n                height: 12\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"rangegrip\", \"button\", \"icon\"]);\r\n            rule.setAll({\r\n                interactive: false,\r\n                crisp: true,\r\n                strokeOpacity: 0.5,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0.5);\r\n                    display.lineTo(0, 12.5);\r\n                    display.moveTo(2, 0.5);\r\n                    display.lineTo(2, 12.5);\r\n                    display.moveTo(4, 0.5);\r\n                    display.lineTo(4, 12.5);\r\n                }\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_3__.setColor)(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n        }\r\n        r(\"Button\", [\"rangegrip\"]).setAll({\r\n            draggable: true,\r\n            paddingTop: 0,\r\n            paddingBottom: 0\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"vertical\"]).setAll({\r\n            rotation: 90,\r\n            cursorOverStyle: \"ns-resize\",\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p50\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"horizontal\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\",\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p50\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"vertical\", \"left\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"vertical\", \"right\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"horizontal\", \"top\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"horizontal\", \"bottom\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=XYChartDefaultTheme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L1hZQ2hhcnREZWZhdWx0VGhlbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFDb0I7QUFDZjtBQUNNO0FBQ0M7QUFDUDtBQUNBO0FBQ0E7QUFDSTtBQUNGO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPLGtDQUFrQyw4Q0FBSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlEQUFRLG1CQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLCtCQUErQixLQUFLO0FBQ3BDLFNBQVM7QUFDVDtBQUNBLGtCQUFrQixtREFBSztBQUN2QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBUTtBQUM1QjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QscUZBQXFGLGtCQUFrQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQixvREFBSTtBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQixvREFBSTtBQUN6QixTQUFTO0FBQ1Q7QUFDQSxxQkFBcUIsb0RBQUk7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUIsb0RBQUk7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQUk7QUFDeEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEIsMENBQTBDLGtCQUFrQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pELGNBQWMsbUNBQW1DO0FBQ2pELGNBQWMsb0NBQW9DO0FBQ2xELGNBQWMsb0NBQW9DO0FBQ2xELGNBQWMscUNBQXFDO0FBQ25ELGNBQWMscUNBQXFDO0FBQ25ELGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsMkJBQTJCO0FBQ3pDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNEJBQTRCO0FBQzFDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsNkJBQTZCO0FBQzNDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsOEJBQThCO0FBQzVDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsZ0NBQWdDO0FBQzlDLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEMseUJBQXlCLG1EQUFZO0FBQ3JDLHFDQUFxQyxtREFBWTtBQUNqRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrREFBVztBQUN0Qyx5QkFBeUIsbURBQVk7QUFDckMscUNBQXFDLG1EQUFZO0FBQ2pEO0FBQ0E7QUFDQSxrQkFBa0IsbUNBQW1DO0FBQ3JELGtCQUFrQixvQ0FBb0M7QUFDdEQsa0JBQWtCLHFDQUFxQztBQUN2RCxrQkFBa0IsOEJBQThCO0FBQ2hELGtCQUFrQiwrQkFBK0I7QUFDakQsa0JBQWtCLDhCQUE4QjtBQUNoRCxrQkFBa0IsK0JBQStCO0FBQ2pELGtCQUFrQiw0QkFBNEI7QUFDOUMsa0JBQWtCLDJCQUEyQjtBQUM3QyxrQkFBa0IsNEJBQTRCO0FBQzlDLGtCQUFrQiw2QkFBNkI7QUFDL0Msa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscURBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFjLFdBQVcscURBQWM7QUFDL0QsNEJBQTRCLGtEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJEQUFPO0FBQzFCLG9CQUFvQiwyREFBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxSEFBcUg7QUFDckgsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUhBQW1IO0FBQ25ILFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkRBQU87QUFDMUIsb0JBQW9CLDJEQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxtQkFBbUIsMkRBQU87QUFDMUIsb0JBQW9CLDJEQUFPO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlHQUFpRztBQUNqRyxZQUFZLDhEQUFRO0FBQ3BCLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBLGlHQUFpRztBQUNqRyxZQUFZLDhEQUFRO0FBQ3BCLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBLHVGQUF1RixnQkFBZ0I7QUFDdkcsdUZBQXVGLGdCQUFnQjtBQUN2RztBQUNBLDRHQUE0RztBQUM1RyxZQUFZLDhEQUFRO0FBQ3BCLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBLDRHQUE0RztBQUM1RyxZQUFZLDhEQUFRO0FBQ3BCLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQUc7QUFDeEIsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsbURBQUc7QUFDeEIsU0FBUztBQUNUO0FBQ0EscUJBQXFCLG9EQUFJO0FBQ3pCLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUIsb0RBQUk7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L1hZQ2hhcnREZWZhdWx0VGhlbWUuanM/NDJlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaGVtZSB9IGZyb20gXCIuLi8uLi9jb3JlL1RoZW1lXCI7XHJcbmltcG9ydCB7IHBlcmNlbnQsIHA1MCwgcDEwMCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQ29sb3JcIjtcclxuaW1wb3J0IHsgQ29sb3JTZXQgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0NvbG9yU2V0XCI7XHJcbmltcG9ydCB7IHNldENvbG9yIH0gZnJvbSBcIi4uLy4uL3RoZW1lcy9EZWZhdWx0VGhlbWVcIjtcclxuaW1wb3J0ICogYXMgJHRpbWUgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UaW1lXCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vLi4vY29yZS91dGlsL01hdGhcIjtcclxuaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi4vLi4vY29yZS91dGlsL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9BcnJheVwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFhZQ2hhcnREZWZhdWx0VGhlbWUgZXh0ZW5kcyBUaGVtZSB7XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHtcclxuICAgICAgICBzdXBlci5zZXR1cERlZmF1bHRSdWxlcygpO1xyXG4gICAgICAgIGNvbnN0IGljID0gdGhpcy5fcm9vdC5pbnRlcmZhY2VDb2xvcnM7XHJcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSB0aGlzLl9yb290Lmxhbmd1YWdlO1xyXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJ1bGUuYmluZCh0aGlzKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgKiBjaGFydHMveHlcclxuICAgICAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiWFlDaGFydFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjb2xvcnM6IENvbG9yU2V0Lm5ldyh0aGlzLl9yb290LCB7fSksXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAyMCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAyMCxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMTYsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDE2LFxyXG4gICAgICAgICAgICBwYW5YOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFuWTogZmFsc2UsXHJcbiAgICAgICAgICAgIHdoZWVsU3RlcDogMC4yNSxcclxuICAgICAgICAgICAgYXJyYW5nZVRvb2x0aXBzOiB0cnVlLFxyXG4gICAgICAgICAgICBwaW5jaFpvb21YOiBmYWxzZSxcclxuICAgICAgICAgICAgcGluY2hab29tWTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiWFlTZXJpZXNcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgbGVnZW5kTGFiZWxUZXh0OiBcIntuYW1lfVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlJlY3RhbmdsZVwiLCBbXCJwbG90YmFja2dyb3VuZFwiLCBcInh5XCIsIFwiYmFja2dyb3VuZFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgZmlsbDogQ29sb3IuZnJvbUhleCgweDAwMDAwMCksXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY2hhcnRzL3h5OiBYWUNoYXJ0U2Nyb2xsYmFyXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIlhZQ2hhcnRcIiwgW1wic2Nyb2xsYmFyXCIsIFwiY2hhcnRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDAsXHJcbiAgICAgICAgICAgIGNvbG9yczogQ29sb3JTZXQubmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHNhdHVyYXRpb246IDBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1wic2Nyb2xsYmFyXCIsIFwib3ZlcmxheVwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDbGFzczogUm91bmRlZFJlY3RhbmdsZVxyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInh5XCIsIFwic2Nyb2xsYmFyXCIsIFwidGh1bWJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAwLFxyXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgZm9jdXNhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wieHlcIiwgXCJzY3JvbGxiYXJcIiwgXCJ0aHVtYlwiXSkuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHsgZmlsbE9wYWNpdHk6IDAuNCB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJ4eVwiLCBcInNjcm9sbGJhclwiLCBcImNoYXJ0XCIsIFwiYmFja2dyb3VuZFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJ4eVwiLCBcInNjcm9sbGJhclwiLCBcImNoYXJ0XCIsIFwiYmFja2dyb3VuZFwiLCBcInJlc2l6ZVwiLCBcImJ1dHRvblwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDQwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogNDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiA0MCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVFI6IDQwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNSZW5kZXJlclhcIiwgW1wieHlcIiwgXCJjaGFydFwiLCBcInNjcm9sbGJhclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgaW5zaWRlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNSZW5kZXJlcllcIiwgW1wieHlcIiwgXCJjaGFydFwiLCBcInNjcm9sbGJhclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgaW5zaWRlOiB0cnVlLFxyXG4gICAgICAgICAgICBtaW5HcmlkRGlzdGFuY2U6IDVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQXhpc0xhYmVsXCIsIFtcInh5XCIsIFwic2Nyb2xsYmFyXCIsIFwieFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgb3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwMTAwLFxyXG4gICAgICAgICAgICBtaW5Qb3NpdGlvbjogMC4wMSxcclxuICAgICAgICAgICAgbWF4UG9zaXRpb246IDAuOTksXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQXhpc0xhYmVsXCIsIFtcImNhdGVnb3J5XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZXh0OiBcIntjYXRlZ29yeX1cIixcclxuICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNMYWJlbFwiLCBbXCJ4XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjZW50ZXJZOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNMYWJlbFwiLCBbXCJ4XCIsIFwiaW5zaWRlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjZW50ZXJZOiBwMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNMYWJlbFwiLCBbXCJ4XCIsIFwiaW5zaWRlXCIsIFwib3Bwb3NpdGVcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQXhpc0xhYmVsXCIsIFtcInhcIiwgXCJvcHBvc2l0ZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY2VudGVyWTogcDEwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJBeGlzTGFiZWxcIiwgW1wieVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY2VudGVyWDogcDEwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJBeGlzTGFiZWxcIiwgW1wieVwiLCBcImluc2lkZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY2VudGVyWDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJBeGlzTGFiZWxcIiwgW1wieVwiLCBcImluc2lkZVwiLCBcIm9wcG9zaXRlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjZW50ZXJYOiBwMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNMYWJlbFwiLCBbXCJ5XCIsIFwib3Bwb3NpdGVcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclg6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQXhpc0xhYmVsXCIsIFtcIm1pbm9yXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjZlbVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkF4aXNMYWJlbFwiLCBbXCJ4eVwiLCBcInNjcm9sbGJhclwiLCBcInlcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ2xhc3M6IEdyaWRcclxuICAgICAgICByKFwiR3JpZFwiLCBbXCJ4eVwiLCBcInNjcm9sbGJhclwiLCBcInlcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ2xhc3M6IEdyaWRcclxuICAgICAgICByKFwiR3JpZFwiLCBbXCJ4eVwiLCBcInNjcm9sbGJhclwiLCBcInhcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNoYXJ0cy94eTogQ3Vyc29yXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIlhZQ3Vyc29yXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGJlaGF2aW9yOiBcIm5vbmVcIixcclxuICAgICAgICAgICAgbGF5ZXI6IDMwLFxyXG4gICAgICAgICAgICBleHBvcnRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgc25hcFRvU2VyaWVzQnk6IFwieHlcIixcclxuICAgICAgICAgICAgbW92ZVRocmVzaG9sZDogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmlkXCIsIFtcImN1cnNvclwiLCBcInhcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBmb3JjZUluYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlRGFzaGFycmF5OiBbMiwgMl0sXHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInNsaWRlclwiLFxyXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJVc2UgbGVmdCBhbmQgcmlnaHQgYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJhbHRlcm5hdGl2ZUJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmlkXCIsIFtcImN1cnNvclwiLCBcInlcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBmb3JjZUluYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlRGFzaGFycmF5OiBbMiwgMl0sXHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInNsaWRlclwiLFxyXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJVc2UgdXAgYW5kIGRvd24gYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJhbHRlcm5hdGl2ZUJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmFwaGljc1wiLCBbXCJjdXJzb3JcIiwgXCJzZWxlY3Rpb25cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4xNSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJhbHRlcm5hdGl2ZUJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNoYXJ0cy94eTogQXhlc1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJBeGlzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICBlbmQ6IDEsXHJcbiAgICAgICAgICAgIG1pblpvb21Db3VudDogMSxcclxuICAgICAgICAgICAgbWF4Wm9vbUNvdW50OiBJbmZpbml0eSxcclxuICAgICAgICAgICAgbWF4Wm9vbUZhY3RvcjogMTAwMCxcclxuICAgICAgICAgICAgbWF4RGV2aWF0aW9uOiAwLjEsXHJcbiAgICAgICAgICAgIHNuYXBUb29sdGlwOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sdGlwTG9jYXRpb246IDAuNSxcclxuICAgICAgICAgICAgcGFuWDogdHJ1ZSxcclxuICAgICAgICAgICAgcGFuWTogdHJ1ZSxcclxuICAgICAgICAgICAgem9vbVg6IHRydWUsXHJcbiAgICAgICAgICAgIHpvb21ZOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXhBeGlzU2l6ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJBeGlzTGFiZWxcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgbG9jYXRpb246IDAuNSxcclxuICAgICAgICAgICAgbXVsdGlMb2NhdGlvbjogMCxcclxuICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDMsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDMsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDVcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGlzIGRlcHJlY2F0ZWQgZm9sbG93aW5nIHRleHQgbWVhc3VyaW5nIHVwZGF0ZXMgaW4gNS4wLjVcclxuICAgICAgICAvLyByKFwiQXhpc0xhYmVsXCIsIFtcInlcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgLy8gXHR0ZXh0QWxpZ246IFwicmlnaHRcIlxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIHIoXCJBeGlzTGFiZWxcIiwgW1wieVwiLCBcIm9wcG9zaXRlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgIC8vIFx0dGV4dEFsaWduOiBcImxlZnRcIlxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIHIoXCJDb250YWluZXJcIiwgW1wiYXhpc1wiLCBcImhlYWRlclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgbGF5ZXI6IDMwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlJlY3RhbmdsZVwiLCBbXCJheGlzXCIsIFwiaGVhZGVyXCIsIFwiYmFja2dyb3VuZFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY3Jpc3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiQXhpc1JlbmRlcmVyXCIpO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjcmlzcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcImdyaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJBeGlzUmVuZGVyZXJYXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG1pbkdyaWREaXN0YW5jZTogMTIwLFxyXG4gICAgICAgICAgICBvcHBvc2l0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGludmVyc2VkOiBmYWxzZSxcclxuICAgICAgICAgICAgY2VsbFN0YXJ0TG9jYXRpb246IDAsXHJcbiAgICAgICAgICAgIGNlbGxFbmRMb2NhdGlvbjogMSxcclxuICAgICAgICAgICAgd2lkdGg6IHAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQXhpc1JlbmRlcmVyWVwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBtaW5HcmlkRGlzdGFuY2U6IDQwLFxyXG4gICAgICAgICAgICBvcHBvc2l0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGludmVyc2VkOiBmYWxzZSxcclxuICAgICAgICAgICAgY2VsbFN0YXJ0TG9jYXRpb246IDAsXHJcbiAgICAgICAgICAgIGNlbGxFbmRMb2NhdGlvbjogMSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBwMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJlY3RhbmdsZVwiLCBbXCJheGlzXCIsIFwidGh1bWJcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImFsdGVybmF0aXZlQmFja2dyb3VuZFwiKTtcclxuICAgICAgICAgICAgcnVsZS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwgeyBmaWxsT3BhY2l0eTogMC4xIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiUmVjdGFuZ2xlXCIsIFtcImF4aXNcIiwgXCJ0aHVtYlwiLCBcInhcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGN1cnNvck92ZXJTdHlsZTogXCJldy1yZXNpemVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSZWN0YW5nbGVcIiwgW1wiYXhpc1wiLCBcInRodW1iXCIsIFwieVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcIm5zLXJlc2l6ZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkdyaWRcIik7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC4xNSxcclxuICAgICAgICAgICAgICAgIGNyaXNwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJncmlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JpZFwiLCBbXCJtaW5vclwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC4wNyxcclxuICAgICAgICAgICAgICAgIGNyaXNwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJncmlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiR3JpZFwiLCBbXCJiYXNlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjNcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1wiYXhpc1wiLCBcImZpbGxcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjA1LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImFsdGVybmF0aXZlQmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIkdyYXBoaWNzXCIsIFtcImF4aXNcIiwgXCJmaWxsXCIsIFwicmFuZ2VcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGlzTWVhc3VyZWQ6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBoaWRlcyBhbGwgZWxlbWVudHMgb2Ygc2VyaWVzIGF4aXMgcmFuZ2VcclxuICAgICAgICByKFwiR3JhcGhpY3NcIiwgW1wic2VyaWVzXCIsIFwiZmlsbFwiLCBcInJhbmdlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNNZWFzdXJlZDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmlkXCIsIFtcInNlcmllc1wiLCBcInJhbmdlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJBeGlzVGlja1wiLCBbXCJzZXJpZXNcIiwgXCJyYW5nZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQXhpc0xhYmVsXCIsIFtcInNlcmllc1wiLCBcInJhbmdlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJBeGlzVGlja1wiKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IDAuNSxcclxuICAgICAgICAgICAgICAgIG11bHRpTG9jYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgaXNNZWFzdXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcImdyaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJDYXRlZ29yeUF4aXNcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgc3RhcnRMb2NhdGlvbjogMCxcclxuICAgICAgICAgICAgZW5kTG9jYXRpb246IDEsXHJcbiAgICAgICAgICAgIGZpbGxSdWxlOiAoZGF0YUl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzRmlsbCA9IGRhdGFJdGVtLmdldChcImF4aXNGaWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXNGaWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihpbmRleCkgfHwgaW5kZXggJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0ZpbGwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzRmlsbC5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZ3JpZEludGVydmFscyA9IFtcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJtaWxsaXNlY29uZFwiLCBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1pbGxpc2Vjb25kXCIsIGNvdW50OiA1IH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibWlsbGlzZWNvbmRcIiwgY291bnQ6IDEwIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibWlsbGlzZWNvbmRcIiwgY291bnQ6IDUwIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibWlsbGlzZWNvbmRcIiwgY291bnQ6IDEwMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1pbGxpc2Vjb25kXCIsIGNvdW50OiA1MDAgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJzZWNvbmRcIiwgY291bnQ6IDEgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJzZWNvbmRcIiwgY291bnQ6IDUgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJzZWNvbmRcIiwgY291bnQ6IDEwIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwic2Vjb25kXCIsIGNvdW50OiAzMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1pbnV0ZVwiLCBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1pbnV0ZVwiLCBjb3VudDogNSB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1pbnV0ZVwiLCBjb3VudDogMTAgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJtaW51dGVcIiwgY291bnQ6IDE1IH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibWludXRlXCIsIGNvdW50OiAzMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcImhvdXJcIiwgY291bnQ6IDEgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJob3VyXCIsIGNvdW50OiAzIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwiaG91clwiLCBjb3VudDogNiB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcImhvdXJcIiwgY291bnQ6IDEyIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwiZGF5XCIsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwiZGF5XCIsIGNvdW50OiAyIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwiZGF5XCIsIGNvdW50OiAzIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwiZGF5XCIsIGNvdW50OiA0IH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwiZGF5XCIsIGNvdW50OiA1IH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwid2Vla1wiLCBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1vbnRoXCIsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibW9udGhcIiwgY291bnQ6IDIgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJtb250aFwiLCBjb3VudDogMyB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1vbnRoXCIsIGNvdW50OiA2IH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwieWVhclwiLCBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDIgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJ5ZWFyXCIsIGNvdW50OiA1IH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwieWVhclwiLCBjb3VudDogMTAgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJ5ZWFyXCIsIGNvdW50OiA1MCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDEwMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDIwMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDUwMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDEwMDAgfSxcclxuICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJ5ZWFyXCIsIGNvdW50OiAyMDAwIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwieWVhclwiLCBjb3VudDogNTAwMCB9LFxyXG4gICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDEwMDAwIH0sXHJcbiAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwieWVhclwiLCBjb3VudDogMTAwMDAwIH1cclxuICAgICAgICBdO1xyXG4gICAgICAgIGNvbnN0IGRhdGVGb3JtYXRzID0ge1xyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX21pbGxpc2Vjb25kXCIpLFxyXG4gICAgICAgICAgICBcInNlY29uZFwiOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJfZGF0ZV9zZWNvbmRcIiksXHJcbiAgICAgICAgICAgIFwibWludXRlXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX21pbnV0ZVwiKSxcclxuICAgICAgICAgICAgXCJob3VyXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX2hvdXJcIiksXHJcbiAgICAgICAgICAgIFwiZGF5XCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX2RheVwiKSxcclxuICAgICAgICAgICAgXCJ3ZWVrXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX2RheVwiKSxcclxuICAgICAgICAgICAgXCJtb250aFwiOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJfZGF0ZV9tb250aFwiKSxcclxuICAgICAgICAgICAgXCJ5ZWFyXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX3llYXJcIilcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHBlcmlvZENoYW5nZURhdGVGb3JtYXRzID0ge1xyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX21pbGxpc2Vjb25kXCIpLFxyXG4gICAgICAgICAgICBcInNlY29uZFwiOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJfZGF0ZV9zZWNvbmRcIiksXHJcbiAgICAgICAgICAgIFwibWludXRlXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX21pbnV0ZVwiKSxcclxuICAgICAgICAgICAgXCJob3VyXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX2RheVwiKSxcclxuICAgICAgICAgICAgXCJkYXlcIjogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiX2RhdGVfZGF5XCIpLFxyXG4gICAgICAgICAgICBcIndlZWtcIjogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiX2RhdGVfZGF5XCIpLFxyXG4gICAgICAgICAgICBcIm1vbnRoXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX21vbnRoXCIpICsgXCIgXCIgKyBsYW5ndWFnZS50cmFuc2xhdGUoXCJfZGF0ZV95ZWFyXCIpLFxyXG4gICAgICAgICAgICBcInllYXJcIjogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiX2RhdGVfeWVhclwiKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcERhdGVGb3JtYXRzID0ge1xyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX21pbGxpc2Vjb25kX2Z1bGxcIiksXHJcbiAgICAgICAgICAgIFwic2Vjb25kXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX3NlY29uZF9mdWxsXCIpLFxyXG4gICAgICAgICAgICBcIm1pbnV0ZVwiOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJfZGF0ZV9taW51dGVfZnVsbFwiKSxcclxuICAgICAgICAgICAgXCJob3VyXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX2hvdXJfZnVsbFwiKSxcclxuICAgICAgICAgICAgXCJkYXlcIjogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiX2RhdGVfZGF5X2Z1bGxcIiksXHJcbiAgICAgICAgICAgIFwid2Vla1wiOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJfZGF0ZV93ZWVrX2Z1bGxcIiksXHJcbiAgICAgICAgICAgIFwibW9udGhcIjogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiX2RhdGVfbW9udGhfZnVsbFwiKSxcclxuICAgICAgICAgICAgXCJ5ZWFyXCI6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIl9kYXRlX3llYXJcIilcclxuICAgICAgICB9O1xyXG4gICAgICAgIHIoXCJDYXRlZ29yeURhdGVBeGlzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG1hcmtVbml0Q2hhbmdlOiB0cnVlLFxyXG4gICAgICAgICAgICBncmlkSW50ZXJ2YWxzOiAkYXJyYXkuY29weShncmlkSW50ZXJ2YWxzKSxcclxuICAgICAgICAgICAgZGF0ZUZvcm1hdHM6ICRvYmplY3QuY29weShkYXRlRm9ybWF0cyksXHJcbiAgICAgICAgICAgIHBlcmlvZENoYW5nZURhdGVGb3JtYXRzOiAkb2JqZWN0LmNvcHkocGVyaW9kQ2hhbmdlRGF0ZUZvcm1hdHMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkRhdGVBeGlzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG1heFpvb21GYWN0b3I6IG51bGwsXHJcbiAgICAgICAgICAgIHN0cmljdE1pbk1heDogdHJ1ZSxcclxuICAgICAgICAgICAgc3RhcnRMb2NhdGlvbjogMCxcclxuICAgICAgICAgICAgZW5kTG9jYXRpb246IDEsXHJcbiAgICAgICAgICAgIG1hcmtVbml0Q2hhbmdlOiB0cnVlLFxyXG4gICAgICAgICAgICBncm91cERhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBncm91cENvdW50OiA1MDAsXHJcbiAgICAgICAgICAgIGdyaWRJbnRlcnZhbHM6ICRhcnJheS5jb3B5KGdyaWRJbnRlcnZhbHMpLFxyXG4gICAgICAgICAgICBkYXRlRm9ybWF0czogJG9iamVjdC5jb3B5KGRhdGVGb3JtYXRzKSxcclxuICAgICAgICAgICAgcGVyaW9kQ2hhbmdlRGF0ZUZvcm1hdHM6ICRvYmplY3QuY29weShwZXJpb2RDaGFuZ2VEYXRlRm9ybWF0cyksXHJcbiAgICAgICAgICAgIHRvb2x0aXBEYXRlRm9ybWF0czogdG9vbHRpcERhdGVGb3JtYXRzLFxyXG4gICAgICAgICAgICBncm91cEludGVydmFsczogW1xyXG4gICAgICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJtaWxsaXNlY29uZFwiLCBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJtaWxsaXNlY29uZFwiLCBjb3VudDogMTAgfSxcclxuICAgICAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibWlsbGlzZWNvbmRcIiwgY291bnQ6IDEwMCB9LFxyXG4gICAgICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJzZWNvbmRcIiwgY291bnQ6IDEgfSxcclxuICAgICAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwic2Vjb25kXCIsIGNvdW50OiAxMCB9LFxyXG4gICAgICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJtaW51dGVcIiwgY291bnQ6IDEgfSxcclxuICAgICAgICAgICAgICAgIHsgdGltZVVuaXQ6IFwibWludXRlXCIsIGNvdW50OiAxMCB9LFxyXG4gICAgICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJob3VyXCIsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgICAgICB7IHRpbWVVbml0OiBcImRheVwiLCBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICAgICAgeyB0aW1lVW5pdDogXCJ3ZWVrXCIsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgICAgICB7IHRpbWVVbml0OiBcIm1vbnRoXCIsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgICAgICB7IHRpbWVVbml0OiBcInllYXJcIiwgY291bnQ6IDEgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBmaWxsUnVsZTogKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzRmlsbCA9IGRhdGFJdGVtLmdldChcImF4aXNGaWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXNGaWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXhpcyA9IGRhdGFJdGVtLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGFJdGVtLmdldChcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZFZhbHVlID0gZGF0YUl0ZW0uZ2V0KFwiZW5kVmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWxEdXJhdGlvbiA9IGF4aXMuaW50ZXJ2YWxEdXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VJbnRlcnZhbCA9IGF4aXMuZ2V0UHJpdmF0ZShcImJhc2VJbnRlcnZhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBncmlkSW50ZXJ2YWwgPSBheGlzLmdldFByaXZhdGUoXCJncmlkSW50ZXJ2YWxcIiwgYmFzZUludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWluID0gYXhpcy5nZXRQcml2YXRlKFwibWluXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9ICR0aW1lLnJvdW5kKG5ldyBEYXRlKG1pbiksIGdyaWRJbnRlcnZhbC50aW1lVW5pdCwgZ3JpZEludGVydmFsLmNvdW50LCB0aGlzLl9yb290LmxvY2FsZS5maXJzdERheU9mV2VlaywgdGhpcy5fcm9vdC51dGMsIHVuZGVmaW5lZCwgdGhpcy5fcm9vdC50aW1lem9uZSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIGVuZFZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gTWF0aC5yb3VuZChNYXRoLnJvdW5kKCh2YWx1ZSAtIG1pbikgLyBpbnRlcnZhbER1cmF0aW9uKSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IE1hdGgucm91bmQodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0ZpbGwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzRmlsbC5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiR2FwbGVzc0RhdGVBeGlzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGZpbGxSdWxlOiAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNGaWxsID0gZGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpc0ZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGRhdGFJdGVtLmdldChcImluZGV4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihpbmRleCkgfHwgaW5kZXggJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNGaWxsLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHZpc2libGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlZhbHVlQXhpc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBiYXNlVmFsdWU6IDAsXHJcbiAgICAgICAgICAgIGxvZ2FyaXRobWljOiBmYWxzZSxcclxuICAgICAgICAgICAgc3RyaWN0TWluTWF4OiBmYWxzZSxcclxuICAgICAgICAgICAgYXV0b1pvb206IHRydWUsXHJcbiAgICAgICAgICAgIGZpbGxSdWxlOiAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNGaWxsID0gZGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpc0ZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gZGF0YUl0ZW0uY29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGF4aXMuZ2V0UHJpdmF0ZShcInN0ZXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHZhbHVlKSAmJiAkdHlwZS5pc051bWJlcihzdGVwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJG1hdGgucm91bmQodmFsdWUgLyBzdGVwIC8gMiwgNSkgPT0gTWF0aC5yb3VuZCh2YWx1ZSAvIHN0ZXAgLyAyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0ZpbGwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0ZpbGwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiRHVyYXRpb25BeGlzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGJhc2VVbml0OiBcInNlY29uZFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY2hhcnRzL3h5OiBTZXJpZXNcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiWFlTZXJpZXNcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgbWFza0J1bGxldHM6IHRydWUsXHJcbiAgICAgICAgICAgIHN0YWNrVG9OZWdhdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgbG9jYXRpb25YOiAwLjUsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uWTogMC41LFxyXG4gICAgICAgICAgICBzbmFwVG9vbHRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIG9wZW5WYWx1ZVhHcm91cGVkOiBcIm9wZW5cIixcclxuICAgICAgICAgICAgb3BlblZhbHVlWUdyb3VwZWQ6IFwib3BlblwiLFxyXG4gICAgICAgICAgICB2YWx1ZVhHcm91cGVkOiBcImNsb3NlXCIsXHJcbiAgICAgICAgICAgIHZhbHVlWUdyb3VwZWQ6IFwiY2xvc2VcIixcclxuICAgICAgICAgICAgc2VyaWVzVG9vbHRpcFRhcmdldDogXCJzZXJpZXNcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJCYXNlQ29sdW1uU2VyaWVzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGFkanVzdEJ1bGxldFBvc2l0aW9uOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkNvbHVtblNlcmllc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjbHVzdGVyZWQ6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzZXJpZXNcIiwgXCJjb2x1bW5cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB3aWR0aDogcGVyY2VudCg3MCksXHJcbiAgICAgICAgICAgIGhlaWdodDogcGVyY2VudCg3MCksXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogMCxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIHJvbGU6IFwiZmlndXJlXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGluZVNlcmllc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjb25uZWN0OiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvR2FwQ291bnQ6IDEuMSxcclxuICAgICAgICAgICAgc3RhY2tUb05lZ2F0aXZlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJzZXJpZXNcIiwgXCJzdHJva2VcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICBpc01lYXN1cmVkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJzZXJpZXNcIiwgXCJmaWxsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLFxyXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICBpc01lYXN1cmVkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJsaW5lXCIsIFwic2VyaWVzXCIsIFwibGVnZW5kXCIsIFwibWFya2VyXCIsIFwic3Ryb2tlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBkcmF3OiAoZGlzcGxheSwgc3ByaXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzcHJpdGUucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSBwYXJlbnQuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IHBhcmVudC53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIGggLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBoIC8gMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1wibGluZVwiLCBcInNlcmllc1wiLCBcImxlZ2VuZFwiLCBcIm1hcmtlclwiLCBcInN0cm9rZVwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJsaW5lXCIsIFwic2VyaWVzXCIsIFwibGVnZW5kXCIsIFwibWFya2VyXCIsIFwiZmlsbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgZHJhdzogKGRpc3BsYXksIHNwcml0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gc3ByaXRlLnBhcmVudDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gcGFyZW50LmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHcgPSBwYXJlbnQud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBoKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCBoKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmFwaGljc1wiLCBbXCJsaW5lXCIsIFwic2VyaWVzXCIsIFwibGVnZW5kXCIsIFwibWFya2VyXCIsIFwiZmlsbFwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJTbW9vdGhlZFhZTGluZVNlcmllc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZW5zaW9uOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiU21vb3RoZWRYTGluZVNlcmllc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZW5zaW9uOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiU21vb3RoZWRZTGluZVNlcmllc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZW5zaW9uOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQ2FuZGxlc3RpY2tcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgaXNNZWFzdXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHdpZHRoOiBwZXJjZW50KDUwKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBwZXJjZW50KDUwKSxcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXHJcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwLFxyXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMSxcclxuICAgICAgICAgICAgcm9sZTogXCJmaWd1cmVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJPSExDXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiBwZXJjZW50KDgwKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBwZXJjZW50KDgwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJDYW5kbGVzdGlja1Nlcmllc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBsb3dWYWx1ZVhHcm91cGVkOiBcImxvd1wiLFxyXG4gICAgICAgICAgICBsb3dWYWx1ZVlHcm91cGVkOiBcImxvd1wiLFxyXG4gICAgICAgICAgICBoaWdoVmFsdWVYR3JvdXBlZDogXCJoaWdoXCIsXHJcbiAgICAgICAgICAgIGhpZ2hWYWx1ZVlHcm91cGVkOiBcImhpZ2hcIixcclxuICAgICAgICAgICAgb3BlblZhbHVlWEdyb3VwZWQ6IFwib3BlblwiLFxyXG4gICAgICAgICAgICBvcGVuVmFsdWVZR3JvdXBlZDogXCJvcGVuXCIsXHJcbiAgICAgICAgICAgIHZhbHVlWEdyb3VwZWQ6IFwiY2xvc2VcIixcclxuICAgICAgICAgICAgdmFsdWVZR3JvdXBlZDogXCJjbG9zZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVGhlc2UgcnVsZXMgY2FuIGJlIHVzZWQgZm9yIHJlZ3VsYXIgY29sdW1ucywgdG9vXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJlY3RhbmdsZVwiLCBbXCJjb2x1bW5cIiwgXCJhdXRvY29sb3JcIl0pLnN0YXRlcy5jcmVhdGUoXCJyaXNlRnJvbU9wZW5cIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicG9zaXRpdmVcIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcInBvc2l0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUmVjdGFuZ2xlXCIsIFtcImNvbHVtblwiLCBcImF1dG9jb2xvclwiXSkuc3RhdGVzLmNyZWF0ZShcImRyb3BGcm9tT3BlblwiLCB7fSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJuZWdhdGl2ZVwiKTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwibmVnYXRpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhvbGxvd1xyXG4gICAgICAgIHIoXCJSZWN0YW5nbGVcIiwgW1wiY29sdW1uXCIsIFwiYXV0b2NvbG9yXCIsIFwicHJvXCJdKS5zdGF0ZXMuY3JlYXRlKFwicmlzZUZyb21PcGVuXCIsIHsgZmlsbE9wYWNpdHk6IDAgfSk7XHJcbiAgICAgICAgcihcIlJlY3RhbmdsZVwiLCBbXCJjb2x1bW5cIiwgXCJhdXRvY29sb3JcIiwgXCJwcm9cIl0pLnN0YXRlcy5jcmVhdGUoXCJkcm9wRnJvbU9wZW5cIiwgeyBmaWxsT3BhY2l0eTogMSB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUmVjdGFuZ2xlXCIsIFtcImNvbHVtblwiLCBcImF1dG9jb2xvclwiLCBcInByb1wiXSkuc3RhdGVzLmNyZWF0ZShcInJpc2VGcm9tUHJldmlvdXNcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicG9zaXRpdmVcIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcInBvc2l0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUmVjdGFuZ2xlXCIsIFtcImNvbHVtblwiLCBcImF1dG9jb2xvclwiLCBcInByb1wiXSkuc3RhdGVzLmNyZWF0ZShcImRyb3BGcm9tUHJldmlvdXNcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwibmVnYXRpdmVcIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcIm5lZ2F0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBWElTIFJBTkdFIEdSSVBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJyYW5nZWdyaXBcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMTJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmFwaGljc1wiLCBbXCJyYW5nZWdyaXBcIiwgXCJidXR0b25cIiwgXCJpY29uXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY3Jpc3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgMTIuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oMiwgMC41KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygyLCAxMi41KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbyg0LCAwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDQsIDEyLjUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwic2Vjb25kYXJ5QnV0dG9uVGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJyYW5nZWdyaXBcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wicmFuZ2VncmlwXCIsIFwidmVydGljYWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiA5MCxcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcIm5zLXJlc2l6ZVwiLFxyXG4gICAgICAgICAgICBjZW50ZXJYOiBwNTBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInJhbmdlZ3JpcFwiLCBcImhvcml6b250YWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGN1cnNvck92ZXJTdHlsZTogXCJldy1yZXNpemVcIixcclxuICAgICAgICAgICAgY2VudGVyWDogcDUwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJyYW5nZWdyaXBcIiwgXCJ2ZXJ0aWNhbFwiLCBcImxlZnRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclk6IHAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInJhbmdlZ3JpcFwiLCBcInZlcnRpY2FsXCIsIFwicmlnaHRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInJhbmdlZ3JpcFwiLCBcImhvcml6b250YWxcIiwgXCJ0b3BcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInJhbmdlZ3JpcFwiLCBcImhvcml6b250YWxcIiwgXCJib3R0b21cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclk6IHAxMDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1YWUNoYXJ0RGVmYXVsdFRoZW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYCursor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYCursor.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XYCursor: () => (/* binding */ XYCursor)\n/* harmony export */ });\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _axes_Grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./axes/Grid */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _core_util_Math__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Object__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n\r\n\r\n\r\n\r\n//import { Animations } from \"../core/util/Animation\";\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a chart cursor for an [[XYChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/} for more info\r\n * @important\r\n */\r\nclass XYCursor extends _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_alwaysShow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(this, \"lineX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_axes_Grid__WEBPACK_IMPORTED_MODULE_1__.Grid.new(this._root, {\r\n                themeTags: [\"x\"]\r\n            }))\r\n        });\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(this, \"lineY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_axes_Grid__WEBPACK_IMPORTED_MODULE_1__.Grid.new(this._root, {\r\n                themeTags: [\"y\"]\r\n            }))\r\n        });\r\n        /**\r\n         * An element that represents current selection.\r\n         *\r\n         * @default Graphics.new()\r\n         */\r\n        Object.defineProperty(this, \"selection\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Graphics__WEBPACK_IMPORTED_MODULE_2__.Graphics.new(this._root, {\r\n                themeTags: [\"selection\", \"cursor\"], layer: 30\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_lastPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_lastPoint2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_tooltipX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_tooltipY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart cursor is attached to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.mergeTags(this._settings.themeTags, [\"xy\", \"cursor\"]);\r\n        super._afterNew();\r\n        this.setAll({ \"width\": _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_4__.p100, isMeasured: true, position: \"absolute\" });\r\n        this.states.create(\"hidden\", { visible: true, opacity: 0 });\r\n        this._drawLines();\r\n        this.setPrivateRaw(\"visible\", false);\r\n        this._disposers.push(this.setTimeout(() => {\r\n            this.setPrivate(\"visible\", true);\r\n        }, 500));\r\n        this._disposers.push(this.lineX.events.on(\"positionchanged\", () => {\r\n            this._handleXLine();\r\n        }));\r\n        this._disposers.push(this.lineY.events.on(\"positionchanged\", () => {\r\n            this._handleYLine();\r\n        }));\r\n        this._disposers.push(this.lineX.events.on(\"focus\", () => this._handleLineFocus()));\r\n        this._disposers.push(this.lineX.events.on(\"blur\", () => this._handleLineBlur()));\r\n        this._disposers.push(this.lineY.events.on(\"focus\", () => this._handleLineFocus()));\r\n        this._disposers.push(this.lineY.events.on(\"blur\", () => this._handleLineBlur()));\r\n        if (_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.supports(\"keyboardevents\")) {\r\n            this._disposers.push(_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.addEventListener(document, \"keydown\", (ev) => {\r\n                this._handleLineMove(_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.getEventKey(ev), ev.ctrlKey);\r\n            }));\r\n        }\r\n    }\r\n    _setUpTouch() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.plotContainer._display.cancelTouch = this.get(\"behavior\") != \"none\" ? true : false;\r\n        }\r\n    }\r\n    _handleXLine() {\r\n        let x = this.lineX.x();\r\n        let visible = true;\r\n        if (x < 0 || x > this.width()) {\r\n            visible = false;\r\n        }\r\n        this.lineX.setPrivate(\"visible\", visible);\r\n    }\r\n    _handleYLine() {\r\n        let y = this.lineY.y();\r\n        let visible = true;\r\n        if (y < 0 || y > this.height()) {\r\n            visible = false;\r\n        }\r\n        this.lineY.setPrivate(\"visible\", visible);\r\n    }\r\n    _handleLineMove(key, ctrlKey) {\r\n        let dir = \"\";\r\n        const chart = this.chart;\r\n        let axis;\r\n        if (chart && chart.xAxes.length) {\r\n            if (this._root.focused(this.lineX)) {\r\n                dir = \"positionX\";\r\n                axis = chart.xAxes.getIndex(0);\r\n            }\r\n            else if (this._root.focused(this.lineY)) {\r\n                axis = chart.yAxes.getIndex(0);\r\n                dir = \"positionY\";\r\n            }\r\n            let m = 1;\r\n            if (ctrlKey) {\r\n                m = 5;\r\n            }\r\n            if (axis) {\r\n                let inversed = axis.get(\"renderer\").get(\"inversed\", false);\r\n                let step;\r\n                if (key == \"ArrowRight\" || key == \"ArrowDown\") {\r\n                    step = 1;\r\n                }\r\n                else if (key == \"ArrowLeft\" || key == \"ArrowUp\") {\r\n                    step = -1;\r\n                }\r\n                else if (key == \"Tab\") {\r\n                    step = 0;\r\n                }\r\n                if (step != null) {\r\n                    if (inversed) {\r\n                        step *= -1;\r\n                    }\r\n                    this.set(dir, axis.nextPosition(step * m));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleLineFocus() {\r\n        this._alwaysShow = this.get(\"alwaysShow\", false);\r\n        this.setAll({\r\n            positionX: this.getPrivate(\"positionX\", 0),\r\n            positionY: this.getPrivate(\"positionY\", 0),\r\n            alwaysShow: true\r\n        });\r\n        this._handleLineMove(\"Tab\");\r\n    }\r\n    _handleLineBlur() {\r\n        if (this.lineX.isFocus() || this.lineY.isFocus()) {\r\n            this.setAll({\r\n                positionX: undefined,\r\n                positionY: undefined,\r\n                alwaysShow: this._alwaysShow\r\n            });\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"xAxis\")) {\r\n            this._tooltipX = false;\r\n            const xAxis = this.get(\"xAxis\");\r\n            if (xAxis) {\r\n                const tooltip = xAxis.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    this._tooltipX = true;\r\n                    this._disposers.push(tooltip.on(\"pointTo\", () => {\r\n                        this._updateXLine(tooltip);\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"yAxis\")) {\r\n            this._tooltipY = false;\r\n            const yAxis = this.get(\"yAxis\");\r\n            if (yAxis) {\r\n                const tooltip = yAxis.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    this._tooltipY = true;\r\n                    this._disposers.push(tooltip.on(\"pointTo\", () => {\r\n                        this._updateYLine(tooltip);\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleSyncWith() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            const syncWith = this.get(\"syncWith\");\r\n            const otherCharts = [];\r\n            if (syncWith) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_5__.each(syncWith, (cursor) => {\r\n                    const chart = cursor.chart;\r\n                    if (chart) {\r\n                        otherCharts.push(chart);\r\n                    }\r\n                });\r\n            }\r\n            chart._otherCharts = otherCharts;\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._handleSyncWith();\r\n        if (this.isDirty(\"positionX\") || this.isDirty(\"positionY\")) {\r\n            const positionX = this.get(\"positionX\");\r\n            const positionY = this.get(\"positionY\");\r\n            if (positionX == null && positionY == null) {\r\n                this.hide(0);\r\n            }\r\n            else {\r\n                this._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\r\n                this.handleMove();\r\n            }\r\n        }\r\n    }\r\n    _updateXLine(tooltip) {\r\n        let x = _core_util_Math__WEBPACK_IMPORTED_MODULE_6__.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).x, 3);\r\n        if (this._toX != x) {\r\n            this.lineX.animate({ key: \"x\", to: x, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n            this._toX = x;\r\n        }\r\n    }\r\n    _updateYLine(tooltip) {\r\n        let y = _core_util_Math__WEBPACK_IMPORTED_MODULE_6__.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).y, 3);\r\n        if (this._toY != y) {\r\n            this.lineY.animate({ key: \"y\", to: y, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n            this._toY = y;\r\n        }\r\n    }\r\n    _drawLines() {\r\n        this.lineX.set(\"draw\", (display) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, this.height());\r\n        });\r\n        this.lineY.set(\"draw\", (display) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(this.width(), 0);\r\n        });\r\n    }\r\n    updateCursor() {\r\n        if (this.get(\"alwaysShow\")) {\r\n            this._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\r\n        }\r\n        this.handleMove();\r\n    }\r\n    _setChart(chart) {\r\n        this.chart = chart;\r\n        this._handleSyncWith();\r\n        const plotContainer = chart.plotContainer;\r\n        this.events.on(\"boundschanged\", () => {\r\n            this._disposers.push(this.setTimeout(() => {\r\n                this.updateCursor();\r\n            }, 50));\r\n        });\r\n        //this._display.interactive = true;\r\n        if (_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.supports(\"touchevents\")) {\r\n            this._disposers.push(plotContainer.events.on(\"click\", (event) => {\r\n                if (_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.isTouchEvent(event.originalEvent)) {\r\n                    this._handleMove(event);\r\n                }\r\n            }));\r\n            this._setUpTouch();\r\n        }\r\n        this._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\r\n            this._handleCursorDown(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\r\n            this._handleCursorUp(event);\r\n            if (!event.native && !this.isHidden()) {\r\n                this._handleMove(event);\r\n            }\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\r\n            if (!this.get(\"syncWith\")) {\r\n                if (_core_util_Object__WEBPACK_IMPORTED_MODULE_7__.keys(plotContainer._downPoints).length == 0 && !event.native && this.isHidden()) {\r\n                    // Ignore mouse movement if it originates on outside element and\r\n                    // we're not dragging.\r\n                    return;\r\n                }\r\n            }\r\n            this._handleMove(event);\r\n            if (Math.hypot(this._lastPoint2.x - event.point.x, this._lastPoint2.y - event.point.y) > 1) {\r\n                this._handleLineBlur();\r\n                this._lastPoint2 = event.point;\r\n            }\r\n        }));\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this.selection);\r\n        }\r\n    }\r\n    _inPlot(point) {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            return chart.inPlot(point);\r\n        }\r\n        return false;\r\n    }\r\n    _handleCursorDown(event) {\r\n        if (event.originalEvent.button == 2) {\r\n            return;\r\n        }\r\n        const rootPoint = event.point;\r\n        let local = this._display.toLocal(rootPoint);\r\n        const chart = this.chart;\r\n        this.selection.set(\"draw\", () => { });\r\n        if (chart && this._inPlot(local)) {\r\n            this._downPoint = local;\r\n            if (this.get(\"behavior\") != \"none\") {\r\n                this.selection.show();\r\n                const type = \"selectstarted\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n            let positionX = this._getPosition(local).x;\r\n            let positionY = this._getPosition(local).y;\r\n            this.setPrivate(\"downPositionX\", positionX);\r\n            this.setPrivate(\"downPositionY\", positionY);\r\n        }\r\n    }\r\n    _handleCursorUp(event) {\r\n        // TODO: handle multitouch\r\n        if (this._downPoint) {\r\n            const behavior = this.get(\"behavior\", \"none\");\r\n            if (behavior != \"none\") {\r\n                if (behavior.charAt(0) === \"z\") {\r\n                    this.selection.hide();\r\n                }\r\n                const rootPoint = event.point;\r\n                let local = this._display.toLocal(rootPoint);\r\n                const downPoint = this._downPoint;\r\n                const moveThreshold = this.get(\"moveThreshold\", 1);\r\n                if (local && downPoint) {\r\n                    let dispatch = false;\r\n                    if (behavior === \"zoomX\" || behavior === \"zoomXY\" || behavior === \"selectX\" || behavior === \"selectXY\") {\r\n                        if (Math.abs(local.x - downPoint.x) > moveThreshold) {\r\n                            dispatch = true;\r\n                        }\r\n                    }\r\n                    if (behavior === \"zoomY\" || behavior === \"zoomXY\" || behavior === \"selectY\" || behavior === \"selectXY\") {\r\n                        if (Math.abs(local.y - downPoint.y) > moveThreshold) {\r\n                            dispatch = true;\r\n                        }\r\n                    }\r\n                    if (dispatch) {\r\n                        const type = \"selectended\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\r\n                        }\r\n                    }\r\n                    else {\r\n                        const type = \"selectcancelled\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._downPoint = undefined;\r\n    }\r\n    _handleMove(event) {\r\n        if (this.getPrivate(\"visible\")) {\r\n            const chart = this.chart;\r\n            if (chart && _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.keys(chart.plotContainer._downPoints).length > 1) {\r\n                this.set(\"forceHidden\", true);\r\n                return;\r\n            }\r\n            else {\r\n                this.set(\"forceHidden\", false);\r\n            }\r\n            // TODO: handle multitouch\r\n            const rootPoint = event.point;\r\n            const lastPoint = this._lastPoint;\r\n            if (Math.round(lastPoint.x) === Math.round(rootPoint.x) && Math.round(lastPoint.y) === Math.round(rootPoint.y)) {\r\n                return;\r\n            }\r\n            this._lastPoint = rootPoint;\r\n            this.setPrivate(\"lastPoint\", rootPoint);\r\n            this.handleMove({ x: rootPoint.x, y: rootPoint.y }, false, event.originalEvent);\r\n        }\r\n    }\r\n    _getPosition(point) {\r\n        return { x: point.x / this.width(), y: point.y / this.height() };\r\n    }\r\n    /**\r\n     * Moves the cursor to X/Y coordinates within chart container (`point`).\r\n     *\r\n     * If `skipEvent` parameter is set to `true`, the move will not invoke\r\n     * the `\"cursormoved\"` event.\r\n     *\r\n     * @param  point      X/Y to move cursor to\r\n     * @param  skipEvent  Do not fire \"cursormoved\" event\r\n     */\r\n    handleMove(point, skipEvent, originalEvent) {\r\n        if (!point) {\r\n            point = this._movePoint;\r\n        }\r\n        const alwaysShow = this.get(\"alwaysShow\");\r\n        if (!point) {\r\n            this.hide(0);\r\n            return;\r\n        }\r\n        this._movePoint = point;\r\n        let local = this._display.toLocal(point);\r\n        let chart = this.chart;\r\n        if (chart && (this._inPlot(local) || this._downPoint)) {\r\n            chart._movePoint = point;\r\n            if (this.isHidden()) {\r\n                this.show();\r\n                const behavior = this.get(\"behavior\", \"\");\r\n                if (behavior.charAt(0) == \"z\") {\r\n                    this.selection.set(\"draw\", () => { });\r\n                }\r\n            }\r\n            let x = local.x;\r\n            let y = local.y;\r\n            let xyPos = this._getPosition(local);\r\n            this.setPrivate(\"point\", local);\r\n            let snapToSeries = this.get(\"snapToSeries\");\r\n            if (this._downPoint) {\r\n                snapToSeries = undefined;\r\n            }\r\n            let userPositionX = this.get(\"positionX\");\r\n            let positionX = xyPos.x;\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(userPositionX)) {\r\n                positionX = userPositionX;\r\n            }\r\n            let userPositionY = this.get(\"positionY\");\r\n            let positionY = xyPos.y;\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(userPositionY)) {\r\n                positionY = userPositionY;\r\n            }\r\n            this.setPrivate(\"positionX\", positionX);\r\n            this.setPrivate(\"positionY\", positionY);\r\n            const xy = this._getPoint(positionX, positionY);\r\n            x = xy.x;\r\n            y = xy.y;\r\n            chart.xAxes.each((axis) => {\r\n                axis._handleCursorPosition(positionX, snapToSeries);\r\n                if (alwaysShow) {\r\n                    axis.handleCursorShow();\r\n                }\r\n            });\r\n            chart.yAxes.each((axis) => {\r\n                axis._handleCursorPosition(positionY, snapToSeries);\r\n                if (alwaysShow) {\r\n                    axis.handleCursorShow();\r\n                }\r\n            });\r\n            if (!skipEvent) {\r\n                chart._handleCursorPosition();\r\n                const type = \"cursormoved\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this, point: point, originalEvent: originalEvent });\r\n                }\r\n            }\r\n            this._updateLines(x, y);\r\n            chart.arrangeTooltips();\r\n        }\r\n        else if (!this._downPoint) {\r\n            if (!alwaysShow) {\r\n                this.hide(0);\r\n                const type = \"cursorhidden\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this });\r\n                }\r\n            }\r\n        }\r\n        if (this._downPoint && this.get(\"behavior\") != \"none\") {\r\n            this._updateSelection(local);\r\n        }\r\n    }\r\n    _getPoint(positionX, positionY) {\r\n        return { x: this.width() * positionX, y: this.height() * positionY };\r\n    }\r\n    _updateLines(x, y) {\r\n        if (!this._tooltipX) {\r\n            this.lineX.set(\"x\", x);\r\n        }\r\n        if (!this._tooltipY) {\r\n            this.lineY.set(\"y\", y);\r\n        }\r\n        this._drawLines();\r\n    }\r\n    _updateSelection(point) {\r\n        const selection = this.selection;\r\n        const behavior = this.get(\"behavior\");\r\n        const w = this.width();\r\n        const h = this.height();\r\n        if (point.x < 0) {\r\n            point.x = 0;\r\n        }\r\n        if (point.x > w) {\r\n            point.x = w;\r\n        }\r\n        if (point.y < 0) {\r\n            point.y = 0;\r\n        }\r\n        if (point.y > h) {\r\n            point.y = h;\r\n        }\r\n        selection.set(\"draw\", (display) => {\r\n            const downPoint = this._downPoint;\r\n            if (downPoint) {\r\n                if (behavior === \"zoomXY\" || behavior === \"selectXY\") {\r\n                    display.moveTo(downPoint.x, downPoint.y);\r\n                    display.lineTo(downPoint.x, point.y);\r\n                    display.lineTo(point.x, point.y);\r\n                    display.lineTo(point.x, downPoint.y);\r\n                    display.lineTo(downPoint.x, downPoint.y);\r\n                }\r\n                else if (behavior === \"zoomX\" || behavior === \"selectX\") {\r\n                    display.moveTo(downPoint.x, 0);\r\n                    display.lineTo(downPoint.x, h);\r\n                    display.lineTo(point.x, h);\r\n                    display.lineTo(point.x, 0);\r\n                    display.lineTo(downPoint.x, 0);\r\n                }\r\n                else if (behavior === \"zoomY\" || behavior === \"selectY\") {\r\n                    display.moveTo(0, downPoint.y);\r\n                    display.lineTo(w, downPoint.y);\r\n                    display.lineTo(w, point.y);\r\n                    display.lineTo(0, point.y);\r\n                    display.lineTo(0, downPoint.y);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _onHide() {\r\n        if (this.isHidden()) {\r\n            let chart = this.chart;\r\n            if (chart) {\r\n                chart.xAxes.each((axis) => {\r\n                    axis.handleCursorHide();\r\n                });\r\n                chart.yAxes.each((axis) => {\r\n                    axis.handleCursorHide();\r\n                });\r\n                chart.series.each((series) => {\r\n                    series.handleCursorHide();\r\n                });\r\n            }\r\n        }\r\n        super._onHide();\r\n    }\r\n    _onShow() {\r\n        if (!this.isHidden()) {\r\n            let chart = this.chart;\r\n            if (chart) {\r\n                chart.xAxes.each((axis) => {\r\n                    axis.handleCursorShow();\r\n                });\r\n                chart.yAxes.each((axis) => {\r\n                    axis.handleCursorShow();\r\n                });\r\n            }\r\n        }\r\n        super._onShow();\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this.selection.dispose();\r\n    }\r\n}\r\nObject.defineProperty(XYCursor, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYCursor\"\r\n});\r\nObject.defineProperty(XYCursor, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([XYCursor.className])\r\n});\r\n//# sourceMappingURL=XYCursor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L1hZQ3Vyc29yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDVDtBQUNPO0FBQ25CO0FBQ25DLFdBQVcsYUFBYTtBQUNzQjtBQUNFO0FBQ0Y7QUFDRTtBQUNFO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0VBQWdFO0FBQ3pFO0FBQ0E7QUFDTyx1QkFBdUIsNkRBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDRDQUFJO0FBQzFDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNENBQUk7QUFDMUM7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywyREFBUTtBQUM5QztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbUNBQW1DLHVEQUFnQjtBQUNuRDtBQUNBLHNCQUFzQixTQUFTLG9EQUFJLFVBQVUsb0RBQUksMENBQTBDO0FBQzNGLHVDQUF1QywyQkFBMkI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBZTtBQUMzQixpQ0FBaUMsOERBQXVCO0FBQ3hELHFDQUFxQyx5REFBa0I7QUFDdkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVyxnREFBZ0QsWUFBWTtBQUN2RjtBQUNBLGlDQUFpQyx3R0FBd0c7QUFDekk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVcsZ0RBQWdELFlBQVk7QUFDdkY7QUFDQSxpQ0FBaUMsd0dBQXdHO0FBQ3pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFlBQVksc0RBQWU7QUFDM0I7QUFDQSxvQkFBb0IsMERBQW1CO0FBQ3ZDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CLG1EQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCw4REFBOEQ7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCw4REFBOEQ7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCw4REFBOEQ7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbURBQVk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixnQ0FBZ0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxzRUFBc0U7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMEJBQTBCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkRBQVM7QUFDcEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jaGFydHMveHkvWFlDdXJzb3IuanM/OWM5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IHAxMDAgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvR3JhcGhpY3NcIjtcclxuaW1wb3J0IHsgR3JpZCB9IGZyb20gXCIuL2F4ZXMvR3JpZFwiO1xyXG4vL2ltcG9ydCB7IEFuaW1hdGlvbnMgfSBmcm9tIFwiLi4vY29yZS91dGlsL0FuaW1hdGlvblwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJG1hdGggZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9NYXRoXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9PYmplY3RcIjtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBjaGFydCBjdXJzb3IgZm9yIGFuIFtbWFlDaGFydF1dLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvY3Vyc29yL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgWFlDdXJzb3IgZXh0ZW5kcyBDb250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYWx3YXlzU2hvd1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tHcmlkXV0gZWxtZW50IHRoYXQgdXNlZCBmb3IgaG9yaXpvbnRhbCBsaW5lIG9mIHRoZSBjdXJzb3IgY3Jvc3NoYWlyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgR3JpZC5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmVYXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ucHVzaChHcmlkLm5ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6IFtcInhcIl1cclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBbW0dyaWRdXSBlbG1lbnQgdGhhdCB1c2VkIGZvciBob3Jpem9udGFsIGxpbmUgb2YgdGhlIGN1cnNvciBjcm9zc2hhaXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBHcmlkLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGluZVlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGlsZHJlbi5wdXNoKEdyaWQubmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogW1wieVwiXVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBlbGVtZW50IHRoYXQgcmVwcmVzZW50cyBjdXJyZW50IHNlbGVjdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IEdyYXBoaWNzLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VsZWN0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ucHVzaChHcmFwaGljcy5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiBbXCJzZWxlY3Rpb25cIiwgXCJjdXJzb3JcIl0sIGxheWVyOiAzMFxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbW92ZVBvaW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sYXN0UG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeyB4OiAwLCB5OiAwIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdFBvaW50MlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7IHg6IDAsIHk6IDAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwWFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwWVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgY2hhcnQgY3Vyc29yIGlzIGF0dGFjaGVkIHRvLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXJ0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b1hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RvWVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MgPSAkdXRpbHMubWVyZ2VUYWdzKHRoaXMuX3NldHRpbmdzLnRoZW1lVGFncywgW1wieHlcIiwgXCJjdXJzb3JcIl0pO1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIHRoaXMuc2V0QWxsKHsgXCJ3aWR0aFwiOiBwMTAwLCBoZWlnaHQ6IHAxMDAsIGlzTWVhc3VyZWQ6IHRydWUsIHBvc2l0aW9uOiBcImFic29sdXRlXCIgfSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuY3JlYXRlKFwiaGlkZGVuXCIsIHsgdmlzaWJsZTogdHJ1ZSwgb3BhY2l0eTogMCB9KTtcclxuICAgICAgICB0aGlzLl9kcmF3TGluZXMoKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIH0sIDUwMCkpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMubGluZVguZXZlbnRzLm9uKFwicG9zaXRpb25jaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlWExpbmUoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5saW5lWS5ldmVudHMub24oXCJwb3NpdGlvbmNoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVZTGluZSgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmxpbmVYLmV2ZW50cy5vbihcImZvY3VzXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpbmVGb2N1cygpKSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5saW5lWC5ldmVudHMub24oXCJibHVyXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpbmVCbHVyKCkpKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmxpbmVZLmV2ZW50cy5vbihcImZvY3VzXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpbmVGb2N1cygpKSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5saW5lWS5ldmVudHMub24oXCJibHVyXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpbmVCbHVyKCkpKTtcclxuICAgICAgICBpZiAoJHV0aWxzLnN1cHBvcnRzKFwia2V5Ym9hcmRldmVudHNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwia2V5ZG93blwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxpbmVNb3ZlKCR1dGlscy5nZXRFdmVudEtleShldiksIGV2LmN0cmxLZXkpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldFVwVG91Y2goKSB7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIGlmIChjaGFydCkge1xyXG4gICAgICAgICAgICBjaGFydC5wbG90Q29udGFpbmVyLl9kaXNwbGF5LmNhbmNlbFRvdWNoID0gdGhpcy5nZXQoXCJiZWhhdmlvclwiKSAhPSBcIm5vbmVcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlWExpbmUoKSB7XHJcbiAgICAgICAgbGV0IHggPSB0aGlzLmxpbmVYLngoKTtcclxuICAgICAgICBsZXQgdmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHggPCAwIHx8IHggPiB0aGlzLndpZHRoKCkpIHtcclxuICAgICAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpbmVYLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHZpc2libGUpO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZVlMaW5lKCkge1xyXG4gICAgICAgIGxldCB5ID0gdGhpcy5saW5lWS55KCk7XHJcbiAgICAgICAgbGV0IHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIGlmICh5IDwgMCB8fCB5ID4gdGhpcy5oZWlnaHQoKSkge1xyXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGluZVkuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdmlzaWJsZSk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTGluZU1vdmUoa2V5LCBjdHJsS2V5KSB7XHJcbiAgICAgICAgbGV0IGRpciA9IFwiXCI7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIGxldCBheGlzO1xyXG4gICAgICAgIGlmIChjaGFydCAmJiBjaGFydC54QXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3QuZm9jdXNlZCh0aGlzLmxpbmVYKSkge1xyXG4gICAgICAgICAgICAgICAgZGlyID0gXCJwb3NpdGlvblhcIjtcclxuICAgICAgICAgICAgICAgIGF4aXMgPSBjaGFydC54QXhlcy5nZXRJbmRleCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9yb290LmZvY3VzZWQodGhpcy5saW5lWSkpIHtcclxuICAgICAgICAgICAgICAgIGF4aXMgPSBjaGFydC55QXhlcy5nZXRJbmRleCgwKTtcclxuICAgICAgICAgICAgICAgIGRpciA9IFwicG9zaXRpb25ZXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG0gPSAxO1xyXG4gICAgICAgICAgICBpZiAoY3RybEtleSkge1xyXG4gICAgICAgICAgICAgICAgbSA9IDU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGF4aXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnZlcnNlZCA9IGF4aXMuZ2V0KFwicmVuZGVyZXJcIikuZ2V0KFwiaW52ZXJzZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0ZXA7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IFwiQXJyb3dSaWdodFwiIHx8IGtleSA9PSBcIkFycm93RG93blwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT0gXCJBcnJvd0xlZnRcIiB8fCBrZXkgPT0gXCJBcnJvd1VwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGVwID0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT0gXCJUYWJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXAgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnZlcnNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChkaXIsIGF4aXMubmV4dFBvc2l0aW9uKHN0ZXAgKiBtKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTGluZUZvY3VzKCkge1xyXG4gICAgICAgIHRoaXMuX2Fsd2F5c1Nob3cgPSB0aGlzLmdldChcImFsd2F5c1Nob3dcIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc2V0QWxsKHtcclxuICAgICAgICAgICAgcG9zaXRpb25YOiB0aGlzLmdldFByaXZhdGUoXCJwb3NpdGlvblhcIiwgMCksXHJcbiAgICAgICAgICAgIHBvc2l0aW9uWTogdGhpcy5nZXRQcml2YXRlKFwicG9zaXRpb25ZXCIsIDApLFxyXG4gICAgICAgICAgICBhbHdheXNTaG93OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGluZU1vdmUoXCJUYWJcIik7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTGluZUJsdXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGluZVguaXNGb2N1cygpIHx8IHRoaXMubGluZVkuaXNGb2N1cygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBhbHdheXNTaG93OiB0aGlzLl9hbHdheXNTaG93XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wcmVwYXJlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgc3VwZXIuX3ByZXBhcmVDaGlsZHJlbigpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ4QXhpc1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl90b29sdGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB4QXhpcyA9IHRoaXMuZ2V0KFwieEF4aXNcIik7XHJcbiAgICAgICAgICAgIGlmICh4QXhpcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9IHhBeGlzLmdldChcInRvb2x0aXBcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0b29sdGlwLm9uKFwicG9pbnRUb1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVhMaW5lKHRvb2x0aXApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwieUF4aXNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcFkgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgeUF4aXMgPSB0aGlzLmdldChcInlBeGlzXCIpO1xyXG4gICAgICAgICAgICBpZiAoeUF4aXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSB5QXhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwWSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godG9vbHRpcC5vbihcInBvaW50VG9cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVZTGluZSh0b29sdGlwKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlU3luY1dpdGgoKSB7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIGlmIChjaGFydCkge1xyXG4gICAgICAgICAgICBjb25zdCBzeW5jV2l0aCA9IHRoaXMuZ2V0KFwic3luY1dpdGhcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IG90aGVyQ2hhcnRzID0gW107XHJcbiAgICAgICAgICAgIGlmIChzeW5jV2l0aCkge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goc3luY1dpdGgsIChjdXJzb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFydCA9IGN1cnNvci5jaGFydDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJDaGFydHMucHVzaChjaGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnQuX290aGVyQ2hhcnRzID0gb3RoZXJDaGFydHM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN5bmNXaXRoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInBvc2l0aW9uWFwiKSB8fCB0aGlzLmlzRGlydHkoXCJwb3NpdGlvbllcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25YID0gdGhpcy5nZXQoXCJwb3NpdGlvblhcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uWSA9IHRoaXMuZ2V0KFwicG9zaXRpb25ZXCIpO1xyXG4gICAgICAgICAgICBpZiAocG9zaXRpb25YID09IG51bGwgJiYgcG9zaXRpb25ZID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVQb2ludCA9IHRoaXMudG9HbG9iYWwodGhpcy5fZ2V0UG9pbnQodGhpcy5nZXQoXCJwb3NpdGlvblhcIiwgMCksIHRoaXMuZ2V0KFwicG9zaXRpb25ZXCIsIDApKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVYTGluZSh0b29sdGlwKSB7XHJcbiAgICAgICAgbGV0IHggPSAkbWF0aC5yb3VuZCh0aGlzLl9kaXNwbGF5LnRvTG9jYWwodG9vbHRpcC5nZXQoXCJwb2ludFRvXCIsIHsgeDogMCwgeTogMCB9KSkueCwgMyk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RvWCAhPSB4KSB7XHJcbiAgICAgICAgICAgIHRoaXMubGluZVguYW5pbWF0ZSh7IGtleTogXCJ4XCIsIHRvOiB4LCBkdXJhdGlvbjogdG9vbHRpcC5nZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCAwKSwgZWFzaW5nOiB0b29sdGlwLmdldChcImFuaW1hdGlvbkVhc2luZ1wiKSB9KTtcclxuICAgICAgICAgICAgdGhpcy5fdG9YID0geDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlWUxpbmUodG9vbHRpcCkge1xyXG4gICAgICAgIGxldCB5ID0gJG1hdGgucm91bmQodGhpcy5fZGlzcGxheS50b0xvY2FsKHRvb2x0aXAuZ2V0KFwicG9pbnRUb1wiLCB7IHg6IDAsIHk6IDAgfSkpLnksIDMpO1xyXG4gICAgICAgIGlmICh0aGlzLl90b1kgIT0geSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVZLmFuaW1hdGUoeyBrZXk6IFwieVwiLCB0bzogeSwgZHVyYXRpb246IHRvb2x0aXAuZ2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgMCksIGVhc2luZzogdG9vbHRpcC5nZXQoXCJhbmltYXRpb25FYXNpbmdcIikgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvWSA9IHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2RyYXdMaW5lcygpIHtcclxuICAgICAgICB0aGlzLmxpbmVYLnNldChcImRyYXdcIiwgKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIHRoaXMuaGVpZ2h0KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGluZVkuc2V0KFwiZHJhd1wiLCAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCAwKTtcclxuICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odGhpcy53aWR0aCgpLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUN1cnNvcigpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJhbHdheXNTaG93XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVQb2ludCA9IHRoaXMudG9HbG9iYWwodGhpcy5fZ2V0UG9pbnQodGhpcy5nZXQoXCJwb3NpdGlvblhcIiwgMCksIHRoaXMuZ2V0KFwicG9zaXRpb25ZXCIsIDApKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGFuZGxlTW92ZSgpO1xyXG4gICAgfVxyXG4gICAgX3NldENoYXJ0KGNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN5bmNXaXRoKCk7XHJcbiAgICAgICAgY29uc3QgcGxvdENvbnRhaW5lciA9IGNoYXJ0LnBsb3RDb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oXCJib3VuZHNjaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3Vyc29yKCk7XHJcbiAgICAgICAgICAgIH0sIDUwKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy90aGlzLl9kaXNwbGF5LmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoJHV0aWxzLnN1cHBvcnRzKFwidG91Y2hldmVudHNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2gocGxvdENvbnRhaW5lci5ldmVudHMub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgkdXRpbHMuaXNUb3VjaEV2ZW50KGV2ZW50Lm9yaWdpbmFsRXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0VXBUb3VjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChwbG90Q29udGFpbmVyLmV2ZW50cy5vbihcInBvaW50ZXJkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDdXJzb3JEb3duKGV2ZW50KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2gocGxvdENvbnRhaW5lci5ldmVudHMub24oXCJnbG9iYWxwb2ludGVydXBcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUN1cnNvclVwKGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKCFldmVudC5uYXRpdmUgJiYgIXRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2gocGxvdENvbnRhaW5lci5ldmVudHMub24oXCJnbG9iYWxwb2ludGVybW92ZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChcInN5bmNXaXRoXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJG9iamVjdC5rZXlzKHBsb3RDb250YWluZXIuX2Rvd25Qb2ludHMpLmxlbmd0aCA9PSAwICYmICFldmVudC5uYXRpdmUgJiYgdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIG1vdXNlIG1vdmVtZW50IGlmIGl0IG9yaWdpbmF0ZXMgb24gb3V0c2lkZSBlbGVtZW50IGFuZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIG5vdCBkcmFnZ2luZy5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmh5cG90KHRoaXMuX2xhc3RQb2ludDIueCAtIGV2ZW50LnBvaW50LngsIHRoaXMuX2xhc3RQb2ludDIueSAtIGV2ZW50LnBvaW50LnkpID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTGluZUJsdXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb2ludDIgPSBldmVudC5wb2ludDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5tb3ZlVmFsdWUodGhpcy5zZWxlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9pblBsb3QocG9pbnQpIHtcclxuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5pblBsb3QocG9pbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlQ3Vyc29yRG93bihldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgcm9vdFBvaW50ID0gZXZlbnQucG9pbnQ7XHJcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fZGlzcGxheS50b0xvY2FsKHJvb3RQb2ludCk7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldChcImRyYXdcIiwgKCkgPT4geyB9KTtcclxuICAgICAgICBpZiAoY2hhcnQgJiYgdGhpcy5faW5QbG90KGxvY2FsKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kb3duUG9pbnQgPSBsb2NhbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiYmVoYXZpb3JcIikgIT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcInNlbGVjdHN0YXJ0ZWRcIjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7IHR5cGU6IHR5cGUsIHRhcmdldDogdGhpcywgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb25YID0gdGhpcy5fZ2V0UG9zaXRpb24obG9jYWwpLng7XHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvblkgPSB0aGlzLl9nZXRQb3NpdGlvbihsb2NhbCkueTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwiZG93blBvc2l0aW9uWFwiLCBwb3NpdGlvblgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJkb3duUG9zaXRpb25ZXCIsIHBvc2l0aW9uWSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZUN1cnNvclVwKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIG11bHRpdG91Y2hcclxuICAgICAgICBpZiAodGhpcy5fZG93blBvaW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJlaGF2aW9yID0gdGhpcy5nZXQoXCJiZWhhdmlvclwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgICAgIGlmIChiZWhhdmlvciAhPSBcIm5vbmVcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJlaGF2aW9yLmNoYXJBdCgwKSA9PT0gXCJ6XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb290UG9pbnQgPSBldmVudC5wb2ludDtcclxuICAgICAgICAgICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2Rpc3BsYXkudG9Mb2NhbChyb290UG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG93blBvaW50ID0gdGhpcy5fZG93blBvaW50O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW92ZVRocmVzaG9sZCA9IHRoaXMuZ2V0KFwibW92ZVRocmVzaG9sZFwiLCAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChsb2NhbCAmJiBkb3duUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGlzcGF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3IgPT09IFwiem9vbVhcIiB8fCBiZWhhdmlvciA9PT0gXCJ6b29tWFlcIiB8fCBiZWhhdmlvciA9PT0gXCJzZWxlY3RYXCIgfHwgYmVoYXZpb3IgPT09IFwic2VsZWN0WFlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobG9jYWwueCAtIGRvd25Qb2ludC54KSA+IG1vdmVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3IgPT09IFwiem9vbVlcIiB8fCBiZWhhdmlvciA9PT0gXCJ6b29tWFlcIiB8fCBiZWhhdmlvciA9PT0gXCJzZWxlY3RZXCIgfHwgYmVoYXZpb3IgPT09IFwic2VsZWN0WFlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobG9jYWwueSAtIGRvd25Qb2ludC55KSA+IG1vdmVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwic2VsZWN0ZW5kZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMsIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcInNlbGVjdGNhbmNlbGxlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7IHR5cGU6IHR5cGUsIHRhcmdldDogdGhpcywgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kb3duUG9pbnQgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTW92ZShldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFByaXZhdGUoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0ICYmICRvYmplY3Qua2V5cyhjaGFydC5wbG90Q29udGFpbmVyLl9kb3duUG9pbnRzKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcImZvcmNlSGlkZGVuXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJmb3JjZUhpZGRlblwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIG11bHRpdG91Y2hcclxuICAgICAgICAgICAgY29uc3Qgcm9vdFBvaW50ID0gZXZlbnQucG9pbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHRoaXMuX2xhc3RQb2ludDtcclxuICAgICAgICAgICAgaWYgKE1hdGgucm91bmQobGFzdFBvaW50LngpID09PSBNYXRoLnJvdW5kKHJvb3RQb2ludC54KSAmJiBNYXRoLnJvdW5kKGxhc3RQb2ludC55KSA9PT0gTWF0aC5yb3VuZChyb290UG9pbnQueSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sYXN0UG9pbnQgPSByb290UG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcImxhc3RQb2ludFwiLCByb290UG9pbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1vdmUoeyB4OiByb290UG9pbnQueCwgeTogcm9vdFBvaW50LnkgfSwgZmFsc2UsIGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9nZXRQb3NpdGlvbihwb2ludCkge1xyXG4gICAgICAgIHJldHVybiB7IHg6IHBvaW50LnggLyB0aGlzLndpZHRoKCksIHk6IHBvaW50LnkgLyB0aGlzLmhlaWdodCgpIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gWC9ZIGNvb3JkaW5hdGVzIHdpdGhpbiBjaGFydCBjb250YWluZXIgKGBwb2ludGApLlxyXG4gICAgICpcclxuICAgICAqIElmIGBza2lwRXZlbnRgIHBhcmFtZXRlciBpcyBzZXQgdG8gYHRydWVgLCB0aGUgbW92ZSB3aWxsIG5vdCBpbnZva2VcclxuICAgICAqIHRoZSBgXCJjdXJzb3Jtb3ZlZFwiYCBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHBvaW50ICAgICAgWC9ZIHRvIG1vdmUgY3Vyc29yIHRvXHJcbiAgICAgKiBAcGFyYW0gIHNraXBFdmVudCAgRG8gbm90IGZpcmUgXCJjdXJzb3Jtb3ZlZFwiIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZU1vdmUocG9pbnQsIHNraXBFdmVudCwgb3JpZ2luYWxFdmVudCkge1xyXG4gICAgICAgIGlmICghcG9pbnQpIHtcclxuICAgICAgICAgICAgcG9pbnQgPSB0aGlzLl9tb3ZlUG9pbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFsd2F5c1Nob3cgPSB0aGlzLmdldChcImFsd2F5c1Nob3dcIik7XHJcbiAgICAgICAgaWYgKCFwb2ludCkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbW92ZVBvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fZGlzcGxheS50b0xvY2FsKHBvaW50KTtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIGlmIChjaGFydCAmJiAodGhpcy5faW5QbG90KGxvY2FsKSB8fCB0aGlzLl9kb3duUG9pbnQpKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0Ll9tb3ZlUG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IHRoaXMuZ2V0KFwiYmVoYXZpb3JcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3IuY2hhckF0KDApID09IFwielwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0KFwiZHJhd1wiLCAoKSA9PiB7IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB4ID0gbG9jYWwueDtcclxuICAgICAgICAgICAgbGV0IHkgPSBsb2NhbC55O1xyXG4gICAgICAgICAgICBsZXQgeHlQb3MgPSB0aGlzLl9nZXRQb3NpdGlvbihsb2NhbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInBvaW50XCIsIGxvY2FsKTtcclxuICAgICAgICAgICAgbGV0IHNuYXBUb1NlcmllcyA9IHRoaXMuZ2V0KFwic25hcFRvU2VyaWVzXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZG93blBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBzbmFwVG9TZXJpZXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHVzZXJQb3NpdGlvblggPSB0aGlzLmdldChcInBvc2l0aW9uWFwiKTtcclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uWCA9IHh5UG9zLng7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih1c2VyUG9zaXRpb25YKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gdXNlclBvc2l0aW9uWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdXNlclBvc2l0aW9uWSA9IHRoaXMuZ2V0KFwicG9zaXRpb25ZXCIpO1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb25ZID0geHlQb3MueTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHVzZXJQb3NpdGlvblkpKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSB1c2VyUG9zaXRpb25ZO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInBvc2l0aW9uWFwiLCBwb3NpdGlvblgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJwb3NpdGlvbllcIiwgcG9zaXRpb25ZKTtcclxuICAgICAgICAgICAgY29uc3QgeHkgPSB0aGlzLl9nZXRQb2ludChwb3NpdGlvblgsIHBvc2l0aW9uWSk7XHJcbiAgICAgICAgICAgIHggPSB4eS54O1xyXG4gICAgICAgICAgICB5ID0geHkueTtcclxuICAgICAgICAgICAgY2hhcnQueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgYXhpcy5faGFuZGxlQ3Vyc29yUG9zaXRpb24ocG9zaXRpb25YLCBzbmFwVG9TZXJpZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFsd2F5c1Nob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzLmhhbmRsZUN1cnNvclNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LnlBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGF4aXMuX2hhbmRsZUN1cnNvclBvc2l0aW9uKHBvc2l0aW9uWSwgc25hcFRvU2VyaWVzKTtcclxuICAgICAgICAgICAgICAgIGlmIChhbHdheXNTaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5oYW5kbGVDdXJzb3JTaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXNraXBFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX2hhbmRsZUN1cnNvclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gXCJjdXJzb3Jtb3ZlZFwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHsgdHlwZTogdHlwZSwgdGFyZ2V0OiB0aGlzLCBwb2ludDogcG9pbnQsIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGluZXMoeCwgeSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmFycmFuZ2VUb29sdGlwcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy5fZG93blBvaW50KSB7XHJcbiAgICAgICAgICAgIGlmICghYWx3YXlzU2hvdykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwiY3Vyc29yaGlkZGVuXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rvd25Qb2ludCAmJiB0aGlzLmdldChcImJlaGF2aW9yXCIpICE9IFwibm9uZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGlvbihsb2NhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldFBvaW50KHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogdGhpcy53aWR0aCgpICogcG9zaXRpb25YLCB5OiB0aGlzLmhlaWdodCgpICogcG9zaXRpb25ZIH07XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlTGluZXMoeCwgeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdG9vbHRpcFgpIHtcclxuICAgICAgICAgICAgdGhpcy5saW5lWC5zZXQoXCJ4XCIsIHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX3Rvb2x0aXBZKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGluZVkuc2V0KFwieVwiLCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZHJhd0xpbmVzKCk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlU2VsZWN0aW9uKHBvaW50KSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247XHJcbiAgICAgICAgY29uc3QgYmVoYXZpb3IgPSB0aGlzLmdldChcImJlaGF2aW9yXCIpO1xyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoKCk7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0KCk7XHJcbiAgICAgICAgaWYgKHBvaW50LnggPCAwKSB7XHJcbiAgICAgICAgICAgIHBvaW50LnggPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9pbnQueCA+IHcpIHtcclxuICAgICAgICAgICAgcG9pbnQueCA9IHc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwb2ludC55IDwgMCkge1xyXG4gICAgICAgICAgICBwb2ludC55ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvaW50LnkgPiBoKSB7XHJcbiAgICAgICAgICAgIHBvaW50LnkgPSBoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxlY3Rpb24uc2V0KFwiZHJhd1wiLCAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkb3duUG9pbnQgPSB0aGlzLl9kb3duUG9pbnQ7XHJcbiAgICAgICAgICAgIGlmIChkb3duUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChiZWhhdmlvciA9PT0gXCJ6b29tWFlcIiB8fCBiZWhhdmlvciA9PT0gXCJzZWxlY3RYWVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oZG93blBvaW50LngsIGRvd25Qb2ludC55KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhkb3duUG9pbnQueCwgcG9pbnQueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8ocG9pbnQueCwgZG93blBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKGRvd25Qb2ludC54LCBkb3duUG9pbnQueSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChiZWhhdmlvciA9PT0gXCJ6b29tWFwiIHx8IGJlaGF2aW9yID09PSBcInNlbGVjdFhcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKGRvd25Qb2ludC54LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhkb3duUG9pbnQueCwgaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8ocG9pbnQueCwgaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8ocG9pbnQueCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oZG93blBvaW50LngsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmVoYXZpb3IgPT09IFwiem9vbVlcIiB8fCBiZWhhdmlvciA9PT0gXCJzZWxlY3RZXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCBkb3duUG9pbnQueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odywgZG93blBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHcsIHBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIHBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIGRvd25Qb2ludC55KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX29uSGlkZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIGxldCBjaGFydCA9IHRoaXMuY2hhcnQ7XHJcbiAgICAgICAgICAgIGlmIChjaGFydCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQueEF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMuaGFuZGxlQ3Vyc29ySGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC55QXhlcy5lYWNoKChheGlzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5oYW5kbGVDdXJzb3JIaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnNlcmllcy5lYWNoKChzZXJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXJpZXMuaGFuZGxlQ3Vyc29ySGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX29uSGlkZSgpO1xyXG4gICAgfVxyXG4gICAgX29uU2hvdygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnhBeGVzLmVhY2goKGF4aXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzLmhhbmRsZUN1cnNvclNob3coKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQueUF4ZXMuZWFjaCgoYXhpcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMuaGFuZGxlQ3Vyc29yU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX29uU2hvdygpO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFhZQ3Vyc29yLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJYWUN1cnNvclwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoWFlDdXJzb3IsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29udGFpbmVyLmNsYXNzTmFtZXMuY29uY2F0KFtYWUN1cnNvci5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9WFlDdXJzb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYCursor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Axis: () => (/* binding */ Axis)\n/* harmony export */ });\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A base class for all axes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Adding_axes} for more info\r\n */\r\nclass Axis extends _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_isPanning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Array of minor data items.\r\n         */\r\n        Object.defineProperty(this, \"minorDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis label elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis grid and fill elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds axis grid elements which goes above the series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis bullet elements.\r\n         *\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, { isMeasured: false, width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, position: \"absolute\" }))\r\n        });\r\n        /**\r\n         * A referenece to the the chart the axis belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rangesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_panStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_panEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_sAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_eAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_skipSync\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A list of axis ranges.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         * @default new List()\r\n         */\r\n        Object.defineProperty(this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_3__.List()\r\n        });\r\n        Object.defineProperty(this, \"_seriesAxisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A control label that is invisible but is used to keep width the width of\r\n         * the axis constant.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Ghost_label} for more info\r\n         */\r\n        Object.defineProperty(this, \"ghostLabel\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_cursorPosition\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: -1\r\n        });\r\n        Object.defineProperty(this, \"_snapToSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_seriesValuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_seriesAdded\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A container above the axis that can be used to add additional stuff into\r\n         * it. For example a legend, label, or an icon.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(this, \"axisHeader\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, {\r\n                themeTags: [\"axis\", \"header\"],\r\n                position: \"absolute\",\r\n                background: _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_4__.Rectangle.new(this._root, {\r\n                    themeTags: [\"header\", \"background\"],\r\n                    fill: this._root.interfaceColors.get(\"background\")\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _dispose() {\r\n        // these could be in other parents, so disposing just in case\r\n        this.gridContainer.dispose();\r\n        this.topGridContainer.dispose();\r\n        this.bulletsContainer.dispose();\r\n        this.labelsContainer.dispose();\r\n        this.axisHeader.dispose();\r\n        super._dispose();\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.setPrivate(\"updateScrollbar\", true);\r\n        this._disposers.push(this.axisRanges.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_5__.each(change.oldValues, (dataItem) => {\r\n                    this.disposeDataItem(dataItem);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this.disposeDataItem(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._processAxisRange(change.value, [\"range\"]);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n        }));\r\n        const renderer = this.get(\"renderer\");\r\n        if (renderer) {\r\n            renderer.axis = this;\r\n            renderer.processAxis();\r\n        }\r\n        this.children.push(renderer);\r\n        this.ghostLabel = renderer.makeLabel(new _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.DataItem(this, undefined, {}), []);\r\n        this.ghostLabel.adapters.disable(\"text\");\r\n        this.ghostLabel.setAll({ opacity: 0, tooltipText: undefined, tooltipHTML: undefined, interactive: false });\r\n        this.ghostLabel.events.disable();\r\n    }\r\n    _updateFinals(_start, _end) {\r\n    }\r\n    /**\r\n     * Zooms the axis to relative locations.\r\n     *\r\n     * Both `start` and `end` are relative: 0 means start of the axis, 1 - end.\r\n     *\r\n     * @param   start     Relative start\r\n     * @param   end       Relative end\r\n     * @param   duration  Duration of the zoom animation in milliseconds\r\n     * @return            Zoom animation\r\n     */\r\n    zoom(start, end, duration, priority) {\r\n        if (this.get(\"zoomable\", true)) {\r\n            this._updateFinals(start, end);\r\n            if (this.get(\"start\") !== start || this.get(\"end\") != end) {\r\n                let sAnimation = this._sAnimation;\r\n                let eAnimation = this._eAnimation;\r\n                let maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n                if (start < -maxDeviation) {\r\n                    start = -maxDeviation;\r\n                }\r\n                if (end > 1 + maxDeviation) {\r\n                    end = 1 + maxDeviation;\r\n                }\r\n                if (start > end) {\r\n                    [start, end] = [end, start];\r\n                }\r\n                if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_6__.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (!priority) {\r\n                    priority = \"end\";\r\n                }\r\n                let maxZoomFactor = this.getPrivate(\"maxZoomFactor\", this.get(\"maxZoomFactor\", 100));\r\n                let maxZoomFactorReal = maxZoomFactor;\r\n                if (end === 1 && start !== 0) {\r\n                    if (start < this.get(\"start\", 0)) {\r\n                        priority = \"start\";\r\n                    }\r\n                    else {\r\n                        priority = \"end\";\r\n                    }\r\n                }\r\n                if (start === 0 && end !== 1) {\r\n                    if (end > this.get(\"end\", 1)) {\r\n                        priority = \"end\";\r\n                    }\r\n                    else {\r\n                        priority = \"start\";\r\n                    }\r\n                }\r\n                let minZoomCount = this.get(\"minZoomCount\", 0);\r\n                let maxZoomCount = this.get(\"maxZoomCount\", Infinity);\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_6__.isNumber(minZoomCount)) {\r\n                    maxZoomFactor = maxZoomFactorReal / minZoomCount;\r\n                }\r\n                let minZoomFactor = 1;\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_6__.isNumber(maxZoomCount)) {\r\n                    minZoomFactor = maxZoomFactorReal / maxZoomCount;\r\n                }\r\n                // most likely we are dragging left scrollbar grip here, so we tend to modify end\r\n                if (priority === \"start\") {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            end = start + 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // add to the end\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                    //unless end is > 0\r\n                    if (end > 1 && end - start < 1 / maxZoomFactor) {\r\n                        //end = 1;\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                // most likely we are dragging right, so we modify left\r\n                else {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            start = end - 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // remove from start\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                    if (start < 0 && end - start < 1 / maxZoomFactor) {\r\n                        //start = 0;\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n                if (maxZoomCount != null && minZoomCount != null && (start == this.get(\"start\") && end == this.get(\"end\"))) {\r\n                    const chart = this.chart;\r\n                    if (chart) {\r\n                        chart._handleAxisSelection(this, true);\r\n                    }\r\n                }\r\n                if (((sAnimation && sAnimation.playing && sAnimation.to == start) || this.get(\"start\") == start) && ((eAnimation && eAnimation.playing && eAnimation.to == end) || this.get(\"end\") == end)) {\r\n                    return;\r\n                }\r\n                if (duration > 0) {\r\n                    let easing = this.get(\"interpolationEasing\");\r\n                    let sAnimation, eAnimation;\r\n                    if (this.get(\"start\") != start) {\r\n                        sAnimation = this.animate({ key: \"start\", to: start, duration: duration, easing: easing });\r\n                    }\r\n                    if (this.get(\"end\") != end) {\r\n                        eAnimation = this.animate({ key: \"end\", to: end, duration: duration, easing: easing });\r\n                    }\r\n                    this._sAnimation = sAnimation;\r\n                    this._eAnimation = eAnimation;\r\n                    if (sAnimation) {\r\n                        return sAnimation;\r\n                    }\r\n                    else if (eAnimation) {\r\n                        return eAnimation;\r\n                    }\r\n                }\r\n                else {\r\n                    this.set(\"start\", start);\r\n                    this.set(\"end\", end);\r\n                }\r\n            }\r\n            else {\r\n                if (this._sAnimation) {\r\n                    this._sAnimation.stop();\r\n                }\r\n                if (this._eAnimation) {\r\n                    this._eAnimation.stop();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A list of series using this axis.\r\n     *\r\n     * @return Series\r\n     */\r\n    get series() {\r\n        return this._series;\r\n    }\r\n    _processAxisRange(dataItem, themeTags) {\r\n        dataItem.setRaw(\"isRange\", true);\r\n        this._createAssets(dataItem, themeTags);\r\n        this._rangesDirty = true;\r\n        this._prepareDataItem(dataItem);\r\n        const above = dataItem.get(\"above\");\r\n        const container = this.topGridContainer;\r\n        const grid = dataItem.get(\"grid\");\r\n        if (above && grid) {\r\n            container.children.moveValue(grid);\r\n        }\r\n        const fill = dataItem.get(\"axisFill\");\r\n        if (above && fill) {\r\n            container.children.moveValue(fill);\r\n        }\r\n    }\r\n    _prepareDataItem(_dataItem, _index) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyExtremes() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySelectionExtremes() {\r\n    }\r\n    _calculateTotals() {\r\n    }\r\n    _updateAxisRanges() {\r\n        this._bullets = {};\r\n        this.axisRanges.each((axisRange) => {\r\n            this._prepareDataItem(axisRange);\r\n        });\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_5__.each(this._seriesAxisRanges, (axisRange) => {\r\n            this._prepareDataItem(axisRange);\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.get(\"fixAxisSize\")) {\r\n            this.ghostLabel.set(\"visible\", true);\r\n        }\r\n        else {\r\n            this.ghostLabel.set(\"visible\", false);\r\n        }\r\n        if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n            const chart = this.chart;\r\n            if (chart) {\r\n                chart._updateCursor();\r\n            }\r\n            let start = this.get(\"start\", 0);\r\n            let end = this.get(\"end\", 1);\r\n            let maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n            if (start < -maxDeviation) {\r\n                let delta = start + maxDeviation;\r\n                start = -maxDeviation;\r\n                this.setRaw(\"start\", start);\r\n                if (this.isDirty(\"end\")) {\r\n                    this.setRaw(\"end\", end - delta);\r\n                }\r\n            }\r\n            if (end > 1 + maxDeviation) {\r\n                let delta = end - 1 - maxDeviation;\r\n                end = 1 + maxDeviation;\r\n                this.setRaw(\"end\", end);\r\n                if (this.isDirty(\"start\")) {\r\n                    this.setRaw(\"start\", start - delta);\r\n                }\r\n            }\r\n        }\r\n        const renderer = this.get(\"renderer\");\r\n        renderer._start = this.get(\"start\");\r\n        renderer._end = this.get(\"end\");\r\n        renderer._inversed = renderer.get(\"inversed\", false);\r\n        renderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);\r\n        renderer._updateLC();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                const rendererTags = renderer.get(\"themeTags\");\r\n                tooltip.addTag(\"axis\");\r\n                tooltip.addTag(this.className.toLowerCase());\r\n                tooltip._applyThemes();\r\n                if (rendererTags) {\r\n                    tooltip.set(\"themeTags\", _core_util_Utils__WEBPACK_IMPORTED_MODULE_7__.mergeTags(tooltip.get(\"themeTags\"), rendererTags));\r\n                    tooltip.label._applyThemes();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipBounds() {\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            this.get(\"renderer\").updateTooltipBounds(tooltip);\r\n        }\r\n    }\r\n    _updateBounds() {\r\n        super._updateBounds();\r\n        this._updateTooltipBounds();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processChart(chart) {\r\n        this.chart = chart;\r\n        const renderer = this.get(\"renderer\");\r\n        renderer.chart = chart;\r\n        chart.gridContainer.children.push(this.gridContainer);\r\n        chart.topGridContainer.children.push(this.topGridContainer);\r\n        chart.axisHeadersContainer.children.push(this.axisHeader);\r\n        this.on(\"start\", () => {\r\n            chart._handleAxisSelection(this);\r\n        });\r\n        this.on(\"end\", () => {\r\n            chart._handleAxisSelection(this);\r\n        });\r\n        chart.plotContainer.onPrivate(\"width\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        chart.plotContainer.onPrivate(\"height\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        chart.processAxis(this);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hideDataItem(dataItem) {\r\n        this._toggleFHDataItem(dataItem, true);\r\n        return super.hideDataItem(dataItem);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    showDataItem(dataItem) {\r\n        this._toggleFHDataItem(dataItem, false);\r\n        return super.showDataItem(dataItem);\r\n    }\r\n    _toggleFHDataItem(dataItem, forceHidden) {\r\n        const fh = \"forceHidden\";\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            label.set(fh, forceHidden);\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            grid.set(fh, forceHidden);\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            tick.set(fh, forceHidden);\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            axisFill.set(fh, forceHidden);\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite.set(fh, forceHidden);\r\n            }\r\n        }\r\n    }\r\n    _toggleDataItem(dataItem, visible) {\r\n        const label = dataItem.get(\"label\");\r\n        const v = \"visible\";\r\n        if (label) {\r\n            label.setPrivate(v, visible);\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            grid.setPrivate(v, visible);\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            tick.setPrivate(v, visible);\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            axisFill.setPrivate(v, visible);\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite.setPrivate(v, visible);\r\n            }\r\n        }\r\n    }\r\n    _createAssets(dataItem, tags, minor) {\r\n        var _a, _b, _c;\r\n        const renderer = this.get(\"renderer\");\r\n        let m = \"minor\";\r\n        const label = dataItem.get(\"label\");\r\n        if (!label) {\r\n            renderer.makeLabel(dataItem, tags);\r\n        }\r\n        else {\r\n            let themeTags = label.get(\"themeTags\");\r\n            let remove = false;\r\n            if (minor) {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) == -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            else {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) != -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            if (remove) {\r\n                (_a = label.parent) === null || _a === void 0 ? void 0 : _a.children.removeValue(label);\r\n                renderer.makeLabel(dataItem, tags);\r\n                label.dispose();\r\n                renderer.labels.removeValue(label);\r\n            }\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (!grid) {\r\n            renderer.makeGrid(dataItem, tags);\r\n        }\r\n        else {\r\n            let themeTags = grid.get(\"themeTags\");\r\n            let remove = false;\r\n            if (minor) {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) == -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            else {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) != -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            if (remove) {\r\n                (_b = grid.parent) === null || _b === void 0 ? void 0 : _b.children.removeValue(grid);\r\n                renderer.makeGrid(dataItem, tags);\r\n                grid.dispose();\r\n                renderer.grid.removeValue(grid);\r\n            }\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (!tick) {\r\n            renderer.makeTick(dataItem, tags);\r\n        }\r\n        else {\r\n            let remove = false;\r\n            let themeTags = tick.get(\"themeTags\");\r\n            if (minor) {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) == -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            else {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) != -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            if (remove) {\r\n                (_c = tick.parent) === null || _c === void 0 ? void 0 : _c.children.removeValue(tick);\r\n                renderer.makeTick(dataItem, tags);\r\n                tick.dispose();\r\n                renderer.ticks.removeValue(tick);\r\n            }\r\n        }\r\n        if (!minor && !dataItem.get(\"axisFill\")) {\r\n            renderer.makeAxisFill(dataItem, tags);\r\n        }\r\n        this._processBullet(dataItem);\r\n    }\r\n    _processBullet(dataItem) {\r\n        let bullet = dataItem.get(\"bullet\");\r\n        let axisBullet = this.get(\"bullet\");\r\n        if (!bullet && axisBullet && !dataItem.get(\"isRange\")) {\r\n            bullet = axisBullet(this._root, this, dataItem);\r\n        }\r\n        if (bullet) {\r\n            bullet.axis = this;\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite._setDataItem(dataItem);\r\n                dataItem.setRaw(\"bullet\", bullet);\r\n                if (!sprite.parent) {\r\n                    this.bulletsContainer.children.push(sprite);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart._updateChartLayout();\r\n            chart.axisHeadersContainer.markDirtySize();\r\n        }\r\n        this.get(\"renderer\")._updatePositions();\r\n        this._seriesAdded = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const renderer = this.get(\"renderer\");\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            renderer.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            renderer.ticks.removeValue(tick);\r\n            tick.dispose();\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            renderer.grid.removeValue(grid);\r\n            grid.dispose();\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            renderer.axisFills.removeValue(axisFill);\r\n            axisFill.dispose();\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            bullet.dispose();\r\n        }\r\n    }\r\n    _updateGhost() {\r\n        this.setPrivate(\"cellWidth\", this.getCellWidthPosition() * this.get(\"renderer\").axisLength());\r\n        const ghostLabel = this.ghostLabel;\r\n        if (!ghostLabel.isHidden()) {\r\n            const bounds = ghostLabel.localBounds();\r\n            const gWidth = Math.ceil(bounds.right - bounds.left);\r\n            let text = ghostLabel.get(\"text\");\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_5__.each(this.dataItems, (dataItem) => {\r\n                const label = dataItem.get(\"label\");\r\n                if (label && !label.isHidden()) {\r\n                    const bounds = label.localBounds();\r\n                    const w = Math.ceil(bounds.right - bounds.left);\r\n                    if (w > gWidth) {\r\n                        text = label.text._getText();\r\n                    }\r\n                }\r\n            });\r\n            ghostLabel.set(\"text\", text);\r\n        }\r\n        let start = this.get(\"start\", 0);\r\n        let end = this.get(\"end\", 1);\r\n        this.get(\"renderer\").updateLabel(ghostLabel, start + (end - start) * 0.5);\r\n    }\r\n    _handleCursorPosition(position, snapToSeries) {\r\n        const renderer = this.get(\"renderer\");\r\n        position = renderer.toAxisPosition(position);\r\n        this._cursorPosition = position;\r\n        this._snapToSeries = snapToSeries;\r\n        this.updateTooltip();\r\n    }\r\n    /**\r\n     * Can be called when axis zoom changes and you need to update tooltip\r\n     * position.\r\n     */\r\n    updateTooltip() {\r\n        const snapToSeries = this._snapToSeries;\r\n        let position = this._cursorPosition;\r\n        const tooltip = this.get(\"tooltip\");\r\n        const renderer = this.get(\"renderer\");\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_6__.isNumber(position)) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_5__.each(this.series, (series) => {\r\n                if (series.get(\"baseAxis\") === this) {\r\n                    const dataItem = this.getSeriesItem(series, position, this.get(\"tooltipLocation\"));\r\n                    if (snapToSeries && snapToSeries.indexOf(series) != -1) {\r\n                        series.updateLegendMarker(dataItem);\r\n                        series.updateLegendValue(dataItem);\r\n                        series._settings.tooltipDataItem = dataItem;\r\n                    }\r\n                    else {\r\n                        series.showDataItemTooltip(dataItem);\r\n                        series.setRaw(\"tooltipDataItem\", dataItem);\r\n                    }\r\n                }\r\n            });\r\n            if (this.get(\"snapTooltip\")) {\r\n                position = this.roundAxisPosition(position, this.get(\"tooltipLocation\", 0.5));\r\n            }\r\n            this.setPrivateRaw(\"tooltipPosition\", position);\r\n            if (tooltip) {\r\n                renderer.updateTooltipBounds(tooltip);\r\n                if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_6__.isNaN(position)) {\r\n                    this._updateTooltipText(tooltip, position);\r\n                    renderer.positionTooltip(tooltip, position);\r\n                    if (position < this.get(\"start\", 0) || position > this.get(\"end\", 1)) {\r\n                        tooltip.hide(0);\r\n                    }\r\n                    else {\r\n                        tooltip.show(0);\r\n                    }\r\n                }\r\n                else {\r\n                    tooltip.hide(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipText(tooltip, position) {\r\n        tooltip.label.set(\"text\", this.getTooltipText(position));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, _location) {\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorShow() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.show();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorHide() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processSeriesDataItem(_dataItem, _fields) {\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._rangesDirty = false;\r\n    }\r\n    /**\r\n     * Converts pixel coordinate to a relative position on axis.\r\n     *\r\n     * @param   coordinate  Coordinate\r\n     * @return              Relative position\r\n     */\r\n    coordinateToPosition(coordinate) {\r\n        const renderer = this.get(\"renderer\");\r\n        return renderer.toAxisPosition(coordinate / renderer.axisLength());\r\n    }\r\n    /**\r\n     * Converts relative position of the plot area to relative position of the\r\n     * axis with zoom taken into account.\r\n     *\r\n     * @param position Position\r\n     * @return Relative position\r\n     */\r\n    toAxisPosition(position) {\r\n        return this.get(\"renderer\").toAxisPosition(position);\r\n    }\r\n    /**\r\n     * Converts relative position of the axis to a global position taking current\r\n     * zoom into account (opposite to what `toAxisPosition` does).\r\n     *\r\n     * @since 5.4.2\r\n     * @param position Position\r\n     * @return Global position\r\n     */\r\n    toGlobalPosition(position) {\r\n        return this.get(\"renderer\").toGlobalPosition(position);\r\n    }\r\n    /**\r\n     * Adjusts position with inversed taken into account.\r\n     *\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        return this.get(\"renderer\").fixPosition(position);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    shouldGap(_dataItem, _nextItem, _autoGapCount, _fieldName) {\r\n        return false;\r\n    }\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    createAxisRange(axisDataItem) {\r\n        return this.axisRanges.push(axisDataItem);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _groupSeriesData(_series) { }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        return 0.05;\r\n    }\r\n}\r\nObject.defineProperty(Axis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Axis\"\r\n});\r\nObject.defineProperty(Axis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.Component.classNames.concat([Axis.className])\r\n});\r\n//# sourceMappingURL=Axis.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDQztBQUNBO0FBQ1Q7QUFDSDtBQUNZO0FBQ1I7QUFDRjtBQUNFO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUVBQXFFO0FBQzlFO0FBQ08sbUJBQW1CLDZEQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQVMsbUJBQW1CO0FBQ2xFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSxFQUFFO0FBQzFFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSxFQUFFO0FBQzFFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQVMsbUJBQW1CLDBCQUEwQixvREFBSSxVQUFVLG9EQUFJLHdCQUF3QjtBQUN0SSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQTBFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpREFBSTtBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxRkFBcUY7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQTJFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw2REFBUztBQUMvQztBQUNBO0FBQ0EsNEJBQTRCLDZEQUFTO0FBQ3JDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsNERBQVEsb0JBQW9CO0FBQzdFO0FBQ0EsaUNBQWlDLGdGQUFnRjtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNkRBQTZEO0FBQ2pIO0FBQ0E7QUFDQSxvREFBb0QseURBQXlEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGtEQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1REFBZ0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFjO0FBQzFCLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixrREFBVztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMEVBQTBFO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkRBQVM7QUFDcEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jaGFydHMveHkvYXhlcy9BeGlzLmpzP2IyYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUl0ZW0gfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3JlbmRlci9Db21wb25lbnRcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBwMTAwIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCB7IExpc3QgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL1JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgYWxsIGF4ZXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC8jQWRkaW5nX2F4ZXN9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBeGlzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Nlcmllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc1Bhbm5pbmdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBcnJheSBvZiBtaW5vciBkYXRhIGl0ZW1zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1pbm9yRGF0YUl0ZW1zXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBbW0NvbnRhaW5lcl1dIHRoYXQgaG9sZHMgYWxsIHRoZSBheGlzIGxhYmVsIGVsZW1lbnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGFiZWxzQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHt9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gdGhhdCBob2xkcyBhbGwgdGhlIGF4aXMgZ3JpZCBhbmQgZmlsbCBlbGVtZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IENvbnRhaW5lci5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdyaWRDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogQ29udGFpbmVyLm5ldyh0aGlzLl9yb290LCB7IHdpZHRoOiBwMTAwLCBoZWlnaHQ6IHAxMDAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gdGhhdCBob2xkcyBheGlzIGdyaWQgZWxlbWVudHMgd2hpY2ggZ29lcyBhYm92ZSB0aGUgc2VyaWVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wR3JpZENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHsgd2lkdGg6IHAxMDAsIGhlaWdodDogcDEwMCB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSB0aGF0IGhvbGRzIGFsbCB0aGUgYXhpcyBidWxsZXQgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgQ29udGFpbmVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYnVsbGV0c0NvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNoaWxkcmVuLnB1c2goQ29udGFpbmVyLm5ldyh0aGlzLl9yb290LCB7IGlzTWVhc3VyZWQ6IGZhbHNlLCB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwLCBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiIH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgcmVmZXJlbmVjZSB0byB0aGUgdGhlIGNoYXJ0IHRoZSBheGlzIGJlbG9uZ3MgdG8uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Jhbmdlc0RpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhblN0YXJ0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGFuRW5kXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc0FuaW1hdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZUFuaW1hdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2tpcFN5bmNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2YgYXhpcyByYW5nZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvYXhlcy9heGlzLXJhbmdlcy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgTGlzdCgpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXhpc1Jhbmdlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Nlcmllc0F4aXNSYW5nZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGNvbnRyb2wgbGFiZWwgdGhhdCBpcyBpbnZpc2libGUgYnV0IGlzIHVzZWQgdG8ga2VlcCB3aWR0aCB0aGUgd2lkdGggb2ZcclxuICAgICAgICAgKiB0aGUgYXhpcyBjb25zdGFudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzL3ZhbHVlLWF4aXMvI0dob3N0X2xhYmVsfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2hvc3RMYWJlbFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY3Vyc29yUG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc25hcFRvU2VyaWVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXJpZXNWYWx1ZXNEaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXJpZXNBZGRlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgY29udGFpbmVyIGFib3ZlIHRoZSBheGlzIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIGFkZGl0aW9uYWwgc3R1ZmYgaW50b1xyXG4gICAgICAgICAqIGl0LiBGb3IgZXhhbXBsZSBhIGxlZ2VuZCwgbGFiZWwsIG9yIGFuIGljb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvYXhlcy9heGlzLWhlYWRlcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICogQGRlZmF1bHQgbmV3IENvbnRhaW5lclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF4aXNIZWFkZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiBbXCJheGlzXCIsIFwiaGVhZGVyXCJdLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFJlY3RhbmdsZS5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lVGFnczogW1wiaGVhZGVyXCIsIFwiYmFja2dyb3VuZFwiXSxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLl9yb290LmludGVyZmFjZUNvbG9ycy5nZXQoXCJiYWNrZ3JvdW5kXCIpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYnVsbGV0c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgLy8gdGhlc2UgY291bGQgYmUgaW4gb3RoZXIgcGFyZW50cywgc28gZGlzcG9zaW5nIGp1c3QgaW4gY2FzZVxyXG4gICAgICAgIHRoaXMuZ3JpZENvbnRhaW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy50b3BHcmlkQ29udGFpbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmF4aXNIZWFkZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIHN1cGVyLl9kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwidXBkYXRlU2Nyb2xsYmFyXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuYXhpc1Jhbmdlcy5ldmVudHMub25BbGwoKGNoYW5nZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlLnR5cGUgPT09IFwiY2xlYXJcIikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goY2hhbmdlLm9sZFZhbHVlcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzQXhpc1JhbmdlKGNoYW5nZS5uZXdWYWx1ZSwgW1wicmFuZ2VcIl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInNldEluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBeGlzUmFuZ2UoY2hhbmdlLm5ld1ZhbHVlLCBbXCJyYW5nZVwiXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwiaW5zZXJ0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0F4aXNSYW5nZShjaGFuZ2UubmV3VmFsdWUsIFtcInJhbmdlXCJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJyZW1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VEYXRhSXRlbShjaGFuZ2Uub2xkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcIm1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzQXhpc1JhbmdlKGNoYW5nZS52YWx1ZSwgW1wicmFuZ2VcIl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBJU3RyZWFtRXZlbnQgdHlwZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLmF4aXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZW5kZXJlci5wcm9jZXNzQXhpcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gocmVuZGVyZXIpO1xyXG4gICAgICAgIHRoaXMuZ2hvc3RMYWJlbCA9IHJlbmRlcmVyLm1ha2VMYWJlbChuZXcgRGF0YUl0ZW0odGhpcywgdW5kZWZpbmVkLCB7fSksIFtdKTtcclxuICAgICAgICB0aGlzLmdob3N0TGFiZWwuYWRhcHRlcnMuZGlzYWJsZShcInRleHRcIik7XHJcbiAgICAgICAgdGhpcy5naG9zdExhYmVsLnNldEFsbCh7IG9wYWNpdHk6IDAsIHRvb2x0aXBUZXh0OiB1bmRlZmluZWQsIHRvb2x0aXBIVE1MOiB1bmRlZmluZWQsIGludGVyYWN0aXZlOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLmdob3N0TGFiZWwuZXZlbnRzLmRpc2FibGUoKTtcclxuICAgIH1cclxuICAgIF91cGRhdGVGaW5hbHMoX3N0YXJ0LCBfZW5kKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFpvb21zIHRoZSBheGlzIHRvIHJlbGF0aXZlIGxvY2F0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBCb3RoIGBzdGFydGAgYW5kIGBlbmRgIGFyZSByZWxhdGl2ZTogMCBtZWFucyBzdGFydCBvZiB0aGUgYXhpcywgMSAtIGVuZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBzdGFydCAgICAgUmVsYXRpdmUgc3RhcnRcclxuICAgICAqIEBwYXJhbSAgIGVuZCAgICAgICBSZWxhdGl2ZSBlbmRcclxuICAgICAqIEBwYXJhbSAgIGR1cmF0aW9uICBEdXJhdGlvbiBvZiB0aGUgem9vbSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgWm9vbSBhbmltYXRpb25cclxuICAgICAqL1xyXG4gICAgem9vbShzdGFydCwgZW5kLCBkdXJhdGlvbiwgcHJpb3JpdHkpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJ6b29tYWJsZVwiLCB0cnVlKSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVGaW5hbHMoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcInN0YXJ0XCIpICE9PSBzdGFydCB8fCB0aGlzLmdldChcImVuZFwiKSAhPSBlbmQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzQW5pbWF0aW9uID0gdGhpcy5fc0FuaW1hdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBlQW5pbWF0aW9uID0gdGhpcy5fZUFuaW1hdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBtYXhEZXZpYXRpb24gPSB0aGlzLmdldChcIm1heERldmlhdGlvblwiLCAwLjUpICogTWF0aC5taW4oMSwgKGVuZCAtIHN0YXJ0KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPCAtbWF4RGV2aWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSAtbWF4RGV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVuZCA+IDEgKyBtYXhEZXZpYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSAxICsgbWF4RGV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgW3N0YXJ0LCBlbmRdID0gW2VuZCwgc3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihkdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuZ2V0KFwiaW50ZXJwb2xhdGlvbkR1cmF0aW9uXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmlvcml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gXCJlbmRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBtYXhab29tRmFjdG9yID0gdGhpcy5nZXRQcml2YXRlKFwibWF4Wm9vbUZhY3RvclwiLCB0aGlzLmdldChcIm1heFpvb21GYWN0b3JcIiwgMTAwKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4Wm9vbUZhY3RvclJlYWwgPSBtYXhab29tRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZCA9PT0gMSAmJiBzdGFydCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA8IHRoaXMuZ2V0KFwic3RhcnRcIiwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBcInN0YXJ0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IFwiZW5kXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiB0aGlzLmdldChcImVuZFwiLCAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IFwiZW5kXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eSA9IFwic3RhcnRcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbWluWm9vbUNvdW50ID0gdGhpcy5nZXQoXCJtaW5ab29tQ291bnRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4Wm9vbUNvdW50ID0gdGhpcy5nZXQoXCJtYXhab29tQ291bnRcIiwgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pblpvb21Db3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhab29tRmFjdG9yID0gbWF4Wm9vbUZhY3RvclJlYWwgLyBtaW5ab29tQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbWluWm9vbUZhY3RvciA9IDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4Wm9vbUNvdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pblpvb21GYWN0b3IgPSBtYXhab29tRmFjdG9yUmVhbCAvIG1heFpvb21Db3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vc3QgbGlrZWx5IHdlIGFyZSBkcmFnZ2luZyBsZWZ0IHNjcm9sbGJhciBncmlwIGhlcmUsIHNvIHdlIHRlbmQgdG8gbW9kaWZ5IGVuZFxyXG4gICAgICAgICAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcInN0YXJ0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4Wm9vbUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdG8gdGhlIGVuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoMSAvIChlbmQgLSBzdGFydCkgPCBtaW5ab29tRmFjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBzdGFydCArIDEgLyBtaW5ab29tRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0byB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDEgLyAoZW5kIC0gc3RhcnQpID4gbWF4Wm9vbUZhY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBzdGFydCArIDEgLyBtYXhab29tRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL3VubGVzcyBlbmQgaXMgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA+IDEgJiYgZW5kIC0gc3RhcnQgPCAxIC8gbWF4Wm9vbUZhY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VuZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gZW5kIC0gMSAvIG1heFpvb21GYWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgd2UgYXJlIGRyYWdnaW5nIHJpZ2h0LCBzbyB3ZSBtb2RpZnkgbGVmdFxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heFpvb21Db3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIHRoZSBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEgLyAoZW5kIC0gc3RhcnQpIDwgbWluWm9vbUZhY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQgLSAxIC8gbWluWm9vbUZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBzdGFydFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgxIC8gKGVuZCAtIHN0YXJ0KSA+IG1heFpvb21GYWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQgLSAxIC8gbWF4Wm9vbUZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0IDwgMCAmJiBlbmQgLSBzdGFydCA8IDEgLyBtYXhab29tRmFjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBzdGFydCArIDEgLyBtYXhab29tRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgxIC8gKGVuZCAtIHN0YXJ0KSA+IG1heFpvb21GYWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBzdGFydCArIDEgLyBtYXhab29tRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKDEgLyAoZW5kIC0gc3RhcnQpID4gbWF4Wm9vbUZhY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gZW5kIC0gMSAvIG1heFpvb21GYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4Wm9vbUNvdW50ICE9IG51bGwgJiYgbWluWm9vbUNvdW50ICE9IG51bGwgJiYgKHN0YXJ0ID09IHRoaXMuZ2V0KFwic3RhcnRcIikgJiYgZW5kID09IHRoaXMuZ2V0KFwiZW5kXCIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQuX2hhbmRsZUF4aXNTZWxlY3Rpb24odGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCgoc0FuaW1hdGlvbiAmJiBzQW5pbWF0aW9uLnBsYXlpbmcgJiYgc0FuaW1hdGlvbi50byA9PSBzdGFydCkgfHwgdGhpcy5nZXQoXCJzdGFydFwiKSA9PSBzdGFydCkgJiYgKChlQW5pbWF0aW9uICYmIGVBbmltYXRpb24ucGxheWluZyAmJiBlQW5pbWF0aW9uLnRvID09IGVuZCkgfHwgdGhpcy5nZXQoXCJlbmRcIikgPT0gZW5kKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWFzaW5nID0gdGhpcy5nZXQoXCJpbnRlcnBvbGF0aW9uRWFzaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzQW5pbWF0aW9uLCBlQW5pbWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChcInN0YXJ0XCIpICE9IHN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNBbmltYXRpb24gPSB0aGlzLmFuaW1hdGUoeyBrZXk6IFwic3RhcnRcIiwgdG86IHN0YXJ0LCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJlbmRcIikgIT0gZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVBbmltYXRpb24gPSB0aGlzLmFuaW1hdGUoeyBrZXk6IFwiZW5kXCIsIHRvOiBlbmQsIGR1cmF0aW9uOiBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NBbmltYXRpb24gPSBzQW5pbWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VBbmltYXRpb24gPSBlQW5pbWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzQW5pbWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlQW5pbWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwic3RhcnRcIiwgc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiZW5kXCIsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc0FuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NBbmltYXRpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lQW5pbWF0aW9uLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSBsaXN0IG9mIHNlcmllcyB1c2luZyB0aGlzIGF4aXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBTZXJpZXNcclxuICAgICAqL1xyXG4gICAgZ2V0IHNlcmllcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2VyaWVzO1xyXG4gICAgfVxyXG4gICAgX3Byb2Nlc3NBeGlzUmFuZ2UoZGF0YUl0ZW0sIHRoZW1lVGFncykge1xyXG4gICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImlzUmFuZ2VcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQXNzZXRzKGRhdGFJdGVtLCB0aGVtZVRhZ3MpO1xyXG4gICAgICAgIHRoaXMuX3Jhbmdlc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIGNvbnN0IGFib3ZlID0gZGF0YUl0ZW0uZ2V0KFwiYWJvdmVcIik7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy50b3BHcmlkQ29udGFpbmVyO1xyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkYXRhSXRlbS5nZXQoXCJncmlkXCIpO1xyXG4gICAgICAgIGlmIChhYm92ZSAmJiBncmlkKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5tb3ZlVmFsdWUoZ3JpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZpbGwgPSBkYXRhSXRlbS5nZXQoXCJheGlzRmlsbFwiKTtcclxuICAgICAgICBpZiAoYWJvdmUgJiYgZmlsbCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4ubW92ZVZhbHVlKGZpbGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wcmVwYXJlRGF0YUl0ZW0oX2RhdGFJdGVtLCBfaW5kZXgpIHsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eUV4dHJlbWVzKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eVNlbGVjdGlvbkV4dHJlbWVzKCkge1xyXG4gICAgfVxyXG4gICAgX2NhbGN1bGF0ZVRvdGFscygpIHtcclxuICAgIH1cclxuICAgIF91cGRhdGVBeGlzUmFuZ2VzKCkge1xyXG4gICAgICAgIHRoaXMuX2J1bGxldHMgPSB7fTtcclxuICAgICAgICB0aGlzLmF4aXNSYW5nZXMuZWFjaCgoYXhpc1JhbmdlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXBhcmVEYXRhSXRlbShheGlzUmFuZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3Nlcmllc0F4aXNSYW5nZXMsIChheGlzUmFuZ2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcHJlcGFyZURhdGFJdGVtKGF4aXNSYW5nZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfcHJlcGFyZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl9wcmVwYXJlQ2hpbGRyZW4oKTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJmaXhBeGlzU2l6ZVwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmdob3N0TGFiZWwuc2V0KFwidmlzaWJsZVwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2hvc3RMYWJlbC5zZXQoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInN0YXJ0XCIpIHx8IHRoaXMuaXNEaXJ0eShcImVuZFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XHJcbiAgICAgICAgICAgIGlmIChjaGFydCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3VwZGF0ZUN1cnNvcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMuZ2V0KFwic3RhcnRcIiwgMCk7XHJcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLmdldChcImVuZFwiLCAxKTtcclxuICAgICAgICAgICAgbGV0IG1heERldmlhdGlvbiA9IHRoaXMuZ2V0KFwibWF4RGV2aWF0aW9uXCIsIDAuNSkgKiBNYXRoLm1pbigxLCAoZW5kIC0gc3RhcnQpKTtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0IDwgLW1heERldmlhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gc3RhcnQgKyBtYXhEZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IC1tYXhEZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhdyhcInN0YXJ0XCIsIHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJlbmRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFJhdyhcImVuZFwiLCBlbmQgLSBkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVuZCA+IDEgKyBtYXhEZXZpYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IGVuZCAtIDEgLSBtYXhEZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICBlbmQgPSAxICsgbWF4RGV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSYXcoXCJlbmRcIiwgZW5kKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzdGFydFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UmF3KFwic3RhcnRcIiwgc3RhcnQgLSBkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLmdldChcInJlbmRlcmVyXCIpO1xyXG4gICAgICAgIHJlbmRlcmVyLl9zdGFydCA9IHRoaXMuZ2V0KFwic3RhcnRcIik7XHJcbiAgICAgICAgcmVuZGVyZXIuX2VuZCA9IHRoaXMuZ2V0KFwiZW5kXCIpO1xyXG4gICAgICAgIHJlbmRlcmVyLl9pbnZlcnNlZCA9IHJlbmRlcmVyLmdldChcImludmVyc2VkXCIsIGZhbHNlKTtcclxuICAgICAgICByZW5kZXJlci5fYXhpc0xlbmd0aCA9IHJlbmRlcmVyLmF4aXNMZW5ndGgoKSAvIChyZW5kZXJlci5fZW5kIC0gcmVuZGVyZXIuX3N0YXJ0KTtcclxuICAgICAgICByZW5kZXJlci5fdXBkYXRlTEMoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidG9vbHRpcFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyZXJUYWdzID0gcmVuZGVyZXIuZ2V0KFwidGhlbWVUYWdzXCIpO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5hZGRUYWcoXCJheGlzXCIpO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5hZGRUYWcodGhpcy5jbGFzc05hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwLl9hcHBseVRoZW1lcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVyVGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwidGhlbWVUYWdzXCIsICR1dGlscy5tZXJnZVRhZ3ModG9vbHRpcC5nZXQoXCJ0aGVtZVRhZ3NcIiksIHJlbmRlcmVyVGFncykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAubGFiZWwuX2FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlVG9vbHRpcEJvdW5kcygpIHtcclxuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0KFwicmVuZGVyZXJcIikudXBkYXRlVG9vbHRpcEJvdW5kcyh0b29sdGlwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVCb3VuZHMoKTtcclxuICAgICAgICB0aGlzLl91cGRhdGVUb29sdGlwQm91bmRzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcHJvY2Vzc0NoYXJ0KGNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xyXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5nZXQoXCJyZW5kZXJlclwiKTtcclxuICAgICAgICByZW5kZXJlci5jaGFydCA9IGNoYXJ0O1xyXG4gICAgICAgIGNoYXJ0LmdyaWRDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aGlzLmdyaWRDb250YWluZXIpO1xyXG4gICAgICAgIGNoYXJ0LnRvcEdyaWRDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aGlzLnRvcEdyaWRDb250YWluZXIpO1xyXG4gICAgICAgIGNoYXJ0LmF4aXNIZWFkZXJzQ29udGFpbmVyLmNoaWxkcmVuLnB1c2godGhpcy5heGlzSGVhZGVyKTtcclxuICAgICAgICB0aGlzLm9uKFwic3RhcnRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFydC5faGFuZGxlQXhpc1NlbGVjdGlvbih0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uKFwiZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY2hhcnQuX2hhbmRsZUF4aXNTZWxlY3Rpb24odGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2hhcnQucGxvdENvbnRhaW5lci5vblByaXZhdGUoXCJ3aWR0aFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5U2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNoYXJ0LnBsb3RDb250YWluZXIub25Qcml2YXRlKFwiaGVpZ2h0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2hhcnQucHJvY2Vzc0F4aXModGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgaGlkZURhdGFJdGVtKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlRkhEYXRhSXRlbShkYXRhSXRlbSwgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmhpZGVEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgc2hvd0RhdGFJdGVtKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlRkhEYXRhSXRlbShkYXRhSXRlbSwgZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiBzdXBlci5zaG93RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgfVxyXG4gICAgX3RvZ2dsZUZIRGF0YUl0ZW0oZGF0YUl0ZW0sIGZvcmNlSGlkZGVuKSB7XHJcbiAgICAgICAgY29uc3QgZmggPSBcImZvcmNlSGlkZGVuXCI7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgbGFiZWwuc2V0KGZoLCBmb3JjZUhpZGRlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkYXRhSXRlbS5nZXQoXCJncmlkXCIpO1xyXG4gICAgICAgIGlmIChncmlkKSB7XHJcbiAgICAgICAgICAgIGdyaWQuc2V0KGZoLCBmb3JjZUhpZGRlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRpY2sgPSBkYXRhSXRlbS5nZXQoXCJ0aWNrXCIpO1xyXG4gICAgICAgIGlmICh0aWNrKSB7XHJcbiAgICAgICAgICAgIHRpY2suc2V0KGZoLCBmb3JjZUhpZGRlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGF4aXNGaWxsID0gZGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIik7XHJcbiAgICAgICAgaWYgKGF4aXNGaWxsKSB7XHJcbiAgICAgICAgICAgIGF4aXNGaWxsLnNldChmaCwgZm9yY2VIaWRkZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBidWxsZXQgPSBkYXRhSXRlbS5nZXQoXCJidWxsZXRcIik7XHJcbiAgICAgICAgaWYgKGJ1bGxldCkge1xyXG4gICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0KGZoLCBmb3JjZUhpZGRlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdG9nZ2xlRGF0YUl0ZW0oZGF0YUl0ZW0sIHZpc2libGUpIHtcclxuICAgICAgICBjb25zdCBsYWJlbCA9IGRhdGFJdGVtLmdldChcImxhYmVsXCIpO1xyXG4gICAgICAgIGNvbnN0IHYgPSBcInZpc2libGVcIjtcclxuICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgbGFiZWwuc2V0UHJpdmF0ZSh2LCB2aXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ3JpZCA9IGRhdGFJdGVtLmdldChcImdyaWRcIik7XHJcbiAgICAgICAgaWYgKGdyaWQpIHtcclxuICAgICAgICAgICAgZ3JpZC5zZXRQcml2YXRlKHYsIHZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0aWNrID0gZGF0YUl0ZW0uZ2V0KFwidGlja1wiKTtcclxuICAgICAgICBpZiAodGljaykge1xyXG4gICAgICAgICAgICB0aWNrLnNldFByaXZhdGUodiwgdmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGF4aXNGaWxsID0gZGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIik7XHJcbiAgICAgICAgaWYgKGF4aXNGaWxsKSB7XHJcbiAgICAgICAgICAgIGF4aXNGaWxsLnNldFByaXZhdGUodiwgdmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJ1bGxldCA9IGRhdGFJdGVtLmdldChcImJ1bGxldFwiKTtcclxuICAgICAgICBpZiAoYnVsbGV0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5zZXRQcml2YXRlKHYsIHZpc2libGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NyZWF0ZUFzc2V0cyhkYXRhSXRlbSwgdGFncywgbWlub3IpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgbGV0IG0gPSBcIm1pbm9yXCI7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICBpZiAoIWxhYmVsKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLm1ha2VMYWJlbChkYXRhSXRlbSwgdGFncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdGhlbWVUYWdzID0gbGFiZWwuZ2V0KFwidGhlbWVUYWdzXCIpO1xyXG4gICAgICAgICAgICBsZXQgcmVtb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChtaW5vcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGVtZVRhZ3MgPT09IG51bGwgfHwgdGhlbWVUYWdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZVRhZ3MuaW5kZXhPZihtKSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGVtZVRhZ3MgPT09IG51bGwgfHwgdGhlbWVUYWdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZVRhZ3MuaW5kZXhPZihtKSkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIChfYSA9IGxhYmVsLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNoaWxkcmVuLnJlbW92ZVZhbHVlKGxhYmVsKTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLm1ha2VMYWJlbChkYXRhSXRlbSwgdGFncyk7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlci5sYWJlbHMucmVtb3ZlVmFsdWUobGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkYXRhSXRlbS5nZXQoXCJncmlkXCIpO1xyXG4gICAgICAgIGlmICghZ3JpZCkge1xyXG4gICAgICAgICAgICByZW5kZXJlci5tYWtlR3JpZChkYXRhSXRlbSwgdGFncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdGhlbWVUYWdzID0gZ3JpZC5nZXQoXCJ0aGVtZVRhZ3NcIik7XHJcbiAgICAgICAgICAgIGxldCByZW1vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKG1pbm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoZW1lVGFncyA9PT0gbnVsbCB8fCB0aGVtZVRhZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lVGFncy5pbmRleE9mKG0pKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoZW1lVGFncyA9PT0gbnVsbCB8fCB0aGVtZVRhZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lVGFncy5pbmRleE9mKG0pKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgKF9iID0gZ3JpZC5wYXJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jaGlsZHJlbi5yZW1vdmVWYWx1ZShncmlkKTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLm1ha2VHcmlkKGRhdGFJdGVtLCB0YWdzKTtcclxuICAgICAgICAgICAgICAgIGdyaWQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ3JpZC5yZW1vdmVWYWx1ZShncmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0aWNrID0gZGF0YUl0ZW0uZ2V0KFwidGlja1wiKTtcclxuICAgICAgICBpZiAoIXRpY2spIHtcclxuICAgICAgICAgICAgcmVuZGVyZXIubWFrZVRpY2soZGF0YUl0ZW0sIHRhZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJlbW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgdGhlbWVUYWdzID0gdGljay5nZXQoXCJ0aGVtZVRhZ3NcIik7XHJcbiAgICAgICAgICAgIGlmIChtaW5vcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGVtZVRhZ3MgPT09IG51bGwgfHwgdGhlbWVUYWdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZVRhZ3MuaW5kZXhPZihtKSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGVtZVRhZ3MgPT09IG51bGwgfHwgdGhlbWVUYWdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZVRhZ3MuaW5kZXhPZihtKSkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIChfYyA9IHRpY2sucGFyZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2hpbGRyZW4ucmVtb3ZlVmFsdWUodGljayk7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlci5tYWtlVGljayhkYXRhSXRlbSwgdGFncyk7XHJcbiAgICAgICAgICAgICAgICB0aWNrLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRpY2tzLnJlbW92ZVZhbHVlKHRpY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbWlub3IgJiYgIWRhdGFJdGVtLmdldChcImF4aXNGaWxsXCIpKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLm1ha2VBeGlzRmlsbChkYXRhSXRlbSwgdGFncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NCdWxsZXQoZGF0YUl0ZW0pO1xyXG4gICAgfVxyXG4gICAgX3Byb2Nlc3NCdWxsZXQoZGF0YUl0ZW0pIHtcclxuICAgICAgICBsZXQgYnVsbGV0ID0gZGF0YUl0ZW0uZ2V0KFwiYnVsbGV0XCIpO1xyXG4gICAgICAgIGxldCBheGlzQnVsbGV0ID0gdGhpcy5nZXQoXCJidWxsZXRcIik7XHJcbiAgICAgICAgaWYgKCFidWxsZXQgJiYgYXhpc0J1bGxldCAmJiAhZGF0YUl0ZW0uZ2V0KFwiaXNSYW5nZVwiKSkge1xyXG4gICAgICAgICAgICBidWxsZXQgPSBheGlzQnVsbGV0KHRoaXMuX3Jvb3QsIHRoaXMsIGRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJ1bGxldCkge1xyXG4gICAgICAgICAgICBidWxsZXQuYXhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwiYnVsbGV0XCIsIGJ1bGxldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNwcml0ZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuY2hpbGRyZW4ucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FmdGVyQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJDaGFuZ2VkKCk7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIGlmIChjaGFydCkge1xyXG4gICAgICAgICAgICBjaGFydC5fdXBkYXRlQ2hhcnRMYXlvdXQoKTtcclxuICAgICAgICAgICAgY2hhcnQuYXhpc0hlYWRlcnNDb250YWluZXIubWFya0RpcnR5U2l6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldChcInJlbmRlcmVyXCIpLl91cGRhdGVQb3NpdGlvbnMoKTtcclxuICAgICAgICB0aGlzLl9zZXJpZXNBZGRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2VEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLmRpc3Bvc2VEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLmdldChcInJlbmRlcmVyXCIpO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZGF0YUl0ZW0uZ2V0KFwibGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLmxhYmVscy5yZW1vdmVWYWx1ZShsYWJlbCk7XHJcbiAgICAgICAgICAgIGxhYmVsLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGljayA9IGRhdGFJdGVtLmdldChcInRpY2tcIik7XHJcbiAgICAgICAgaWYgKHRpY2spIHtcclxuICAgICAgICAgICAgcmVuZGVyZXIudGlja3MucmVtb3ZlVmFsdWUodGljayk7XHJcbiAgICAgICAgICAgIHRpY2suZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBncmlkID0gZGF0YUl0ZW0uZ2V0KFwiZ3JpZFwiKTtcclxuICAgICAgICBpZiAoZ3JpZCkge1xyXG4gICAgICAgICAgICByZW5kZXJlci5ncmlkLnJlbW92ZVZhbHVlKGdyaWQpO1xyXG4gICAgICAgICAgICBncmlkLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXhpc0ZpbGwgPSBkYXRhSXRlbS5nZXQoXCJheGlzRmlsbFwiKTtcclxuICAgICAgICBpZiAoYXhpc0ZpbGwpIHtcclxuICAgICAgICAgICAgcmVuZGVyZXIuYXhpc0ZpbGxzLnJlbW92ZVZhbHVlKGF4aXNGaWxsKTtcclxuICAgICAgICAgICAgYXhpc0ZpbGwuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBidWxsZXQgPSBkYXRhSXRlbS5nZXQoXCJidWxsZXRcIik7XHJcbiAgICAgICAgaWYgKGJ1bGxldCkge1xyXG4gICAgICAgICAgICBidWxsZXQuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVHaG9zdCgpIHtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjZWxsV2lkdGhcIiwgdGhpcy5nZXRDZWxsV2lkdGhQb3NpdGlvbigpICogdGhpcy5nZXQoXCJyZW5kZXJlclwiKS5heGlzTGVuZ3RoKCkpO1xyXG4gICAgICAgIGNvbnN0IGdob3N0TGFiZWwgPSB0aGlzLmdob3N0TGFiZWw7XHJcbiAgICAgICAgaWYgKCFnaG9zdExhYmVsLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gZ2hvc3RMYWJlbC5sb2NhbEJvdW5kcygpO1xyXG4gICAgICAgICAgICBjb25zdCBnV2lkdGggPSBNYXRoLmNlaWwoYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQpO1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9IGdob3N0TGFiZWwuZ2V0KFwidGV4dFwiKTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5kYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChsYWJlbCAmJiAhbGFiZWwuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IGxhYmVsLmxvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IE1hdGguY2VpbChib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPiBnV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGxhYmVsLnRleHQuX2dldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBnaG9zdExhYmVsLnNldChcInRleHRcIiwgdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMuZ2V0KFwic3RhcnRcIiwgMCk7XHJcbiAgICAgICAgbGV0IGVuZCA9IHRoaXMuZ2V0KFwiZW5kXCIsIDEpO1xyXG4gICAgICAgIHRoaXMuZ2V0KFwicmVuZGVyZXJcIikudXBkYXRlTGFiZWwoZ2hvc3RMYWJlbCwgc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogMC41KTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVDdXJzb3JQb3NpdGlvbihwb3NpdGlvbiwgc25hcFRvU2VyaWVzKSB7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLmdldChcInJlbmRlcmVyXCIpO1xyXG4gICAgICAgIHBvc2l0aW9uID0gcmVuZGVyZXIudG9BeGlzUG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuX2N1cnNvclBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5fc25hcFRvU2VyaWVzID0gc25hcFRvU2VyaWVzO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW4gYmUgY2FsbGVkIHdoZW4gYXhpcyB6b29tIGNoYW5nZXMgYW5kIHlvdSBuZWVkIHRvIHVwZGF0ZSB0b29sdGlwXHJcbiAgICAgKiBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgdXBkYXRlVG9vbHRpcCgpIHtcclxuICAgICAgICBjb25zdCBzbmFwVG9TZXJpZXMgPSB0aGlzLl9zbmFwVG9TZXJpZXM7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5fY3Vyc29yUG9zaXRpb247XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuZ2V0KFwidG9vbHRpcFwiKTtcclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLnNlcmllcywgKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcmllcy5nZXQoXCJiYXNlQXhpc1wiKSA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gdGhpcy5nZXRTZXJpZXNJdGVtKHNlcmllcywgcG9zaXRpb24sIHRoaXMuZ2V0KFwidG9vbHRpcExvY2F0aW9uXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc25hcFRvU2VyaWVzICYmIHNuYXBUb1Nlcmllcy5pbmRleE9mKHNlcmllcykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzLnVwZGF0ZUxlZ2VuZE1hcmtlcihkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllcy51cGRhdGVMZWdlbmRWYWx1ZShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllcy5fc2V0dGluZ3MudG9vbHRpcERhdGFJdGVtID0gZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXMuc2hvd0RhdGFJdGVtVG9vbHRpcChkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllcy5zZXRSYXcoXCJ0b29sdGlwRGF0YUl0ZW1cIiwgZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcInNuYXBUb29sdGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMucm91bmRBeGlzUG9zaXRpb24ocG9zaXRpb24sIHRoaXMuZ2V0KFwidG9vbHRpcExvY2F0aW9uXCIsIDAuNSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInRvb2x0aXBQb3NpdGlvblwiLCBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlci51cGRhdGVUb29sdGlwQm91bmRzKHRvb2x0aXApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc05hTihwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVUb29sdGlwVGV4dCh0b29sdGlwLCBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIucG9zaXRpb25Ub29sdGlwKHRvb2x0aXAsIHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPCB0aGlzLmdldChcInN0YXJ0XCIsIDApIHx8IHBvc2l0aW9uID4gdGhpcy5nZXQoXCJlbmRcIiwgMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuaGlkZSgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVUb29sdGlwVGV4dCh0b29sdGlwLCBwb3NpdGlvbikge1xyXG4gICAgICAgIHRvb2x0aXAubGFiZWwuc2V0KFwidGV4dFwiLCB0aGlzLmdldFRvb2x0aXBUZXh0KHBvc2l0aW9uKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcm91bmRBeGlzUG9zaXRpb24ocG9zaXRpb24sIF9sb2NhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVDdXJzb3JTaG93KCkge1xyXG4gICAgICAgIGxldCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVDdXJzb3JIaWRlKCkge1xyXG4gICAgICAgIGxldCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwcm9jZXNzU2VyaWVzRGF0YUl0ZW0oX2RhdGFJdGVtLCBfZmllbGRzKSB7XHJcbiAgICB9XHJcbiAgICBfY2xlYXJEaXJ0eSgpIHtcclxuICAgICAgICBzdXBlci5fY2xlYXJEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX3NpemVEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Jhbmdlc0RpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIHBpeGVsIGNvb3JkaW5hdGUgdG8gYSByZWxhdGl2ZSBwb3NpdGlvbiBvbiBheGlzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGNvb3JkaW5hdGUgIENvb3JkaW5hdGVcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICAgIFJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGNvb3JkaW5hdGVUb1Bvc2l0aW9uKGNvb3JkaW5hdGUpIHtcclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLnRvQXhpc1Bvc2l0aW9uKGNvb3JkaW5hdGUgLyByZW5kZXJlci5heGlzTGVuZ3RoKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgcGxvdCBhcmVhIHRvIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZVxyXG4gICAgICogYXhpcyB3aXRoIHpvb20gdGFrZW4gaW50byBhY2NvdW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBQb3NpdGlvblxyXG4gICAgICogQHJldHVybiBSZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICB0b0F4aXNQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldChcInJlbmRlcmVyXCIpLnRvQXhpc1Bvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGF4aXMgdG8gYSBnbG9iYWwgcG9zaXRpb24gdGFraW5nIGN1cnJlbnRcclxuICAgICAqIHpvb20gaW50byBhY2NvdW50IChvcHBvc2l0ZSB0byB3aGF0IGB0b0F4aXNQb3NpdGlvbmAgZG9lcykuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDUuNC4yXHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gUG9zaXRpb25cclxuICAgICAqIEByZXR1cm4gR2xvYmFsIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIHRvR2xvYmFsUG9zaXRpb24ocG9zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJyZW5kZXJlclwiKS50b0dsb2JhbFBvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRqdXN0cyBwb3NpdGlvbiB3aXRoIGludmVyc2VkIHRha2VuIGludG8gYWNjb3VudC5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGZpeFBvc2l0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwicmVuZGVyZXJcIikuZml4UG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNob3VsZEdhcChfZGF0YUl0ZW0sIF9uZXh0SXRlbSwgX2F1dG9HYXBDb3VudCwgX2ZpZWxkTmFtZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhbiBheGlzIHJhbmdlIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvYXhlcy9heGlzLXJhbmdlcy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGF4aXNEYXRhSXRlbSAgQXhpcyBkYXRhIGl0ZW1cclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICAgICAgQXhpcyByYW5nZVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVBeGlzUmFuZ2UoYXhpc0RhdGFJdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXhpc1Jhbmdlcy5wdXNoKGF4aXNEYXRhSXRlbSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX2dyb3VwU2VyaWVzRGF0YShfc2VyaWVzKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyByZWxhdGl2ZSBwb3NpdGlvbiBiZXR3ZWVuIHR3byBncmlkIGxpbmVzIG9mIHRoZSBheGlzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gUG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0Q2VsbFdpZHRoUG9zaXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuMDU7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEF4aXMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkF4aXNcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEF4aXMsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29tcG9uZW50LmNsYXNzTmFtZXMuY29uY2F0KFtBeGlzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1BeGlzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisLabel: () => (/* binding */ AxisLabel)\n/* harmony export */ });\n/* harmony import */ var _core_render_Label__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n\r\n/**\r\n * Draws an axis label.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\r\n * @important\r\n */\r\nclass AxisLabel extends _core_render_Label__WEBPACK_IMPORTED_MODULE_0__.Label {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(AxisLabel, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisLabel\"\r\n});\r\nObject.defineProperty(AxisLabel, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Label__WEBPACK_IMPORTED_MODULE_0__.Label.classNames.concat([AxisLabel.className])\r\n});\r\n//# sourceMappingURL=AxisLabel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc0xhYmVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUVBQXFFO0FBQzlFO0FBQ0E7QUFDTyx3QkFBd0IscURBQUs7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFEQUFLO0FBQ2hCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc0xhYmVsLmpzPzVhNTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvTGFiZWxcIjtcclxuLyoqXHJcbiAqIERyYXdzIGFuIGF4aXMgbGFiZWwuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzLyNMYWJlbHN9IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF4aXNMYWJlbCBleHRlbmRzIExhYmVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpY2tQb2ludHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc0xhYmVsLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJBeGlzTGFiZWxcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEF4aXNMYWJlbCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBMYWJlbC5jbGFzc05hbWVzLmNvbmNhdChbQXhpc0xhYmVsLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1BeGlzTGFiZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisRenderer: () => (/* binding */ AxisRenderer)\n/* harmony export */ });\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _core_util_Template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _AxisTick__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AxisTick */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js\");\n/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Grid */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js\");\n/* harmony import */ var _AxisLabel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AxisLabel */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Base class for an axis renderer.\r\n *\r\n * Should not be used on its own.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n */\r\nclass AxisRenderer extends _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        // save for quick access\r\n        Object.defineProperty(this, \"_axisLength\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 100\r\n        });\r\n        Object.defineProperty(this, \"_start\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_end\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_inversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_minSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * Chart the renderer is used in.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_lc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_ls\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_thumbDownPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A list of ticks in the axis.\r\n         *\r\n         * `ticks.template` can be used to configure ticks.\r\n         *\r\n         * @default new ListTemplate<AxisTick>\r\n         */\r\n        Object.defineProperty(this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _AxisTick__WEBPACK_IMPORTED_MODULE_3__.AxisTick._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.ticks.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.ticks.template]))\r\n        });\r\n        /**\r\n         * A list of grid elements in the axis.\r\n         *\r\n         * `grid.template` can be used to configure grid.\r\n         *\r\n         * @default new ListTemplate<Grid>\r\n         */\r\n        Object.defineProperty(this, \"grid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _Grid__WEBPACK_IMPORTED_MODULE_5__.Grid._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.grid.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.grid.template]))\r\n        });\r\n        /**\r\n         * A list of fills in the axis.\r\n         *\r\n         * `axisFills.template` can be used to configure axis fills.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(this, \"axisFills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.axisFills.template.get(\"themeTags\", [\"axis\", \"fill\"]), this.get(\"themeTags\", []))\r\n            }, [this.axisFills.template]))\r\n        });\r\n        /**\r\n         * A list of labels in the axis.\r\n         *\r\n         * `labels.template` can be used to configure axis labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabel>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _AxisLabel__WEBPACK_IMPORTED_MODULE_6__.AxisLabel._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.labels.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.labels.template]))\r\n        });\r\n        /**\r\n         * An [[Axis]] renderer is for.\r\n         */\r\n        Object.defineProperty(this, \"axis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A thumb Graphics to be used for panning the axis (the one which shows under the labels when hovered)\r\n         */\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeTick(dataItem, themeTags) {\r\n        const tick = this.ticks.make();\r\n        tick._setDataItem(dataItem);\r\n        dataItem.setRaw(\"tick\", tick);\r\n        tick.set(\"themeTags\", _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(tick.get(\"themeTags\"), themeTags));\r\n        this.axis.labelsContainer.children.push(tick);\r\n        this.ticks.push(tick);\r\n        return tick;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeGrid(dataItem, themeTags) {\r\n        const grid = this.grid.make();\r\n        grid._setDataItem(dataItem);\r\n        dataItem.setRaw(\"grid\", grid);\r\n        grid.set(\"themeTags\", _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(grid.get(\"themeTags\"), themeTags));\r\n        this.axis.gridContainer.children.push(grid);\r\n        this.grid.push(grid);\r\n        return grid;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeAxisFill(dataItem, themeTags) {\r\n        const axisFill = this.axisFills.make();\r\n        axisFill._setDataItem(dataItem);\r\n        axisFill.set(\"themeTags\", _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(axisFill.get(\"themeTags\"), themeTags));\r\n        this.axis.gridContainer.children.push(axisFill);\r\n        dataItem.setRaw(\"axisFill\", axisFill);\r\n        this.axisFills.push(axisFill);\r\n        return axisFill;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel(dataItem, themeTags) {\r\n        const label = this.labels.make();\r\n        label.set(\"themeTags\", _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(label.get(\"themeTags\"), themeTags));\r\n        this.axis.labelsContainer.children.moveValue(label, 0);\r\n        label._setDataItem(dataItem);\r\n        dataItem.setRaw(\"label\", label);\r\n        this.labels.push(label);\r\n        return label;\r\n    }\r\n    axisLength() {\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    gridCount() {\r\n        return this.axisLength() / this.get(\"minGridDistance\", 50);\r\n    }\r\n    _updatePositions() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.set(\"isMeasured\", false);\r\n        const thumb = this.thumb;\r\n        if (thumb) {\r\n            this._disposers.push(thumb.events.on(\"pointerdown\", (event) => {\r\n                this._handleThumbDown(event);\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointerup\", (event) => {\r\n                this._handleThumbUp(event);\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointermove\", (event) => {\r\n                this._handleThumbMove(event);\r\n            }));\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"minGridDistance\")) {\r\n            this.root.events.once(\"frameended\", () => {\r\n                this.axis.markDirtySize();\r\n            });\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pan\")) {\r\n            const thumb = this.thumb;\r\n            if (thumb) {\r\n                const labelsContainer = this.axis.labelsContainer;\r\n                const pan = this.get(\"pan\");\r\n                if (pan == \"zoom\") {\r\n                    labelsContainer.children.push(thumb);\r\n                }\r\n                else if (pan == \"none\") {\r\n                    labelsContainer.children.removeValue(thumb);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleThumbDown(event) {\r\n        this._thumbDownPoint = this.toLocal(event.point);\r\n        const axis = this.axis;\r\n        this._downStart = axis.get(\"start\");\r\n        this._downEnd = axis.get(\"end\");\r\n    }\r\n    _handleThumbUp(_event) {\r\n        this._thumbDownPoint = undefined;\r\n    }\r\n    _handleThumbMove(event) {\r\n        const downPoint = this._thumbDownPoint;\r\n        if (downPoint) {\r\n            const point = this.toLocal(event.point);\r\n            const downStart = this._downStart;\r\n            const downEnd = this._downEnd;\r\n            const extra = this._getPan(point, downPoint) * Math.min(1, (downEnd - downStart)) / 2;\r\n            this.axis.zoom(downStart - extra, downEnd + extra, 0);\r\n        }\r\n    }\r\n    _getPan(_point1, _point2) {\r\n        return 0;\r\n    }\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    positionToCoordinate(position) {\r\n        if (this._inversed) {\r\n            return (this._end - position) * this._axisLength;\r\n        }\r\n        else {\r\n            return (position - this._start) * this._axisLength;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(_tooltip) { }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position = position * (end - start);\r\n        if (!this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (!this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start);\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        if (this.get(\"inversed\")) {\r\n            return 1 - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n    }\r\n    toggleVisibility(sprite, position, minPosition, maxPosition) {\r\n        let axis = this.axis;\r\n        const start = axis.get(\"start\", 0);\r\n        const end = axis.get(\"end\", 1);\r\n        let updatedStart = start + (end - start) * (minPosition - 0.0001);\r\n        let updatedEnd = start + (end - start) * (maxPosition + 0.0001);\r\n        if (position < updatedStart || position > updatedEnd) {\r\n            sprite.setPrivate(\"visible\", false);\r\n        }\r\n        else {\r\n            sprite.setPrivate(\"visible\", true);\r\n        }\r\n    }\r\n    _positionTooltip(tooltip, point) {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            tooltip.set(\"pointTo\", this._display.toGlobal(point));\r\n            if (!chart.inPlot(point)) {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    }\r\n    processAxis() { }\r\n}\r\nObject.defineProperty(AxisRenderer, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRenderer\"\r\n});\r\nObject.defineProperty(AxisRenderer, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([AxisRenderer.className])\r\n});\r\n//# sourceMappingURL=AxisRenderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc1JlbmRlcmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0Y7QUFDQTtBQUNqQjtBQUNSO0FBQ1U7QUFDVztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1RUFBdUU7QUFDaEY7QUFDTywyQkFBMkIsMkRBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMsK0NBQVE7QUFDcEUsMkJBQTJCLHVEQUFnQjtBQUMzQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMsdUNBQUk7QUFDaEUsMkJBQTJCLHVEQUFnQjtBQUMzQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMsMkRBQVE7QUFDcEUsMkJBQTJCLHVEQUFnQjtBQUMzQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMsaURBQVM7QUFDckUsMkJBQTJCLHVEQUFnQjtBQUMzQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1REFBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdURBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyREFBUTtBQUNuQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy94eS9heGVzL0F4aXNSZW5kZXJlci5qcz9kZTgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL0dyYXBoaWNzXCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBMaXN0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0IHsgQXhpc1RpY2sgfSBmcm9tIFwiLi9BeGlzVGlja1wiO1xyXG5pbXBvcnQgeyBHcmlkIH0gZnJvbSBcIi4vR3JpZFwiO1xyXG5pbXBvcnQgeyBBeGlzTGFiZWwgfSBmcm9tIFwiLi9BeGlzTGFiZWxcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFuIGF4aXMgcmVuZGVyZXIuXHJcbiAqXHJcbiAqIFNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvI0F4aXNfcmVuZGVyZXJ9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBeGlzUmVuZGVyZXIgZXh0ZW5kcyBHcmFwaGljcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8vIHNhdmUgZm9yIHF1aWNrIGFjY2Vzc1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9heGlzTGVuZ3RoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDEwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdGFydFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VuZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ludmVyc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX21pblNpemVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENoYXJ0IHRoZSByZW5kZXJlciBpcyB1c2VkIGluLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXJ0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sY1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGh1bWJEb3duUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rvd25TdGFydFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZG93bkVuZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGlja3MgaW4gdGhlIGF4aXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBgdGlja3MudGVtcGxhdGVgIGNhbiBiZSB1c2VkIHRvIGNvbmZpZ3VyZSB0aWNrcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8QXhpc1RpY2s+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGlja3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IExpc3RUZW1wbGF0ZShUZW1wbGF0ZS5uZXcoe30pLCAoKSA9PiBBeGlzVGljay5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLnRpY2tzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXSksIHRoaXMuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSlcclxuICAgICAgICAgICAgfSwgW3RoaXMudGlja3MudGVtcGxhdGVdKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2YgZ3JpZCBlbGVtZW50cyBpbiB0aGUgYXhpcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIGBncmlkLnRlbXBsYXRlYCBjYW4gYmUgdXNlZCB0byBjb25maWd1cmUgZ3JpZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8R3JpZD5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJncmlkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gR3JpZC5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLmdyaWQudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgdGhpcy5nZXQoXCJ0aGVtZVRhZ3NcIiwgW10pKVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5ncmlkLnRlbXBsYXRlXSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIGZpbGxzIGluIHRoZSBheGlzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogYGF4aXNGaWxscy50ZW1wbGF0ZWAgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIGF4aXMgZmlsbHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgTGlzdFRlbXBsYXRlPEdyYXBoaWNzPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF4aXNGaWxsc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IEdyYXBoaWNzLl9uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMuYXhpc0ZpbGxzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXCJheGlzXCIsIFwiZmlsbFwiXSksIHRoaXMuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSlcclxuICAgICAgICAgICAgfSwgW3RoaXMuYXhpc0ZpbGxzLnRlbXBsYXRlXSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIGxhYmVscyBpbiB0aGUgYXhpcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIGBsYWJlbHMudGVtcGxhdGVgIGNhbiBiZSB1c2VkIHRvIGNvbmZpZ3VyZSBheGlzIGxhYmVscy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8QXhpc0xhYmVsPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhYmVsc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IEF4aXNMYWJlbC5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLmxhYmVscy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NcIiwgW10pLCB0aGlzLmdldChcInRoZW1lVGFnc1wiLCBbXSkpXHJcbiAgICAgICAgICAgIH0sIFt0aGlzLmxhYmVscy50ZW1wbGF0ZV0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuIFtbQXhpc11dIHJlbmRlcmVyIGlzIGZvci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJheGlzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgdGh1bWIgR3JhcGhpY3MgdG8gYmUgdXNlZCBmb3IgcGFubmluZyB0aGUgYXhpcyAodGhlIG9uZSB3aGljaCBzaG93cyB1bmRlciB0aGUgbGFiZWxzIHdoZW4gaG92ZXJlZClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aHVtYlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYWtlVGljayhkYXRhSXRlbSwgdGhlbWVUYWdzKSB7XHJcbiAgICAgICAgY29uc3QgdGljayA9IHRoaXMudGlja3MubWFrZSgpO1xyXG4gICAgICAgIHRpY2suX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJ0aWNrXCIsIHRpY2spO1xyXG4gICAgICAgIHRpY2suc2V0KFwidGhlbWVUYWdzXCIsICR1dGlscy5tZXJnZVRhZ3ModGljay5nZXQoXCJ0aGVtZVRhZ3NcIiksIHRoZW1lVGFncykpO1xyXG4gICAgICAgIHRoaXMuYXhpcy5sYWJlbHNDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aWNrKTtcclxuICAgICAgICB0aGlzLnRpY2tzLnB1c2godGljayk7XHJcbiAgICAgICAgcmV0dXJuIHRpY2s7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFrZUdyaWQoZGF0YUl0ZW0sIHRoZW1lVGFncykge1xyXG4gICAgICAgIGNvbnN0IGdyaWQgPSB0aGlzLmdyaWQubWFrZSgpO1xyXG4gICAgICAgIGdyaWQuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJncmlkXCIsIGdyaWQpO1xyXG4gICAgICAgIGdyaWQuc2V0KFwidGhlbWVUYWdzXCIsICR1dGlscy5tZXJnZVRhZ3MoZ3JpZC5nZXQoXCJ0aGVtZVRhZ3NcIiksIHRoZW1lVGFncykpO1xyXG4gICAgICAgIHRoaXMuYXhpcy5ncmlkQ29udGFpbmVyLmNoaWxkcmVuLnB1c2goZ3JpZCk7XHJcbiAgICAgICAgdGhpcy5ncmlkLnB1c2goZ3JpZCk7XHJcbiAgICAgICAgcmV0dXJuIGdyaWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFrZUF4aXNGaWxsKGRhdGFJdGVtLCB0aGVtZVRhZ3MpIHtcclxuICAgICAgICBjb25zdCBheGlzRmlsbCA9IHRoaXMuYXhpc0ZpbGxzLm1ha2UoKTtcclxuICAgICAgICBheGlzRmlsbC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIGF4aXNGaWxsLnNldChcInRoZW1lVGFnc1wiLCAkdXRpbHMubWVyZ2VUYWdzKGF4aXNGaWxsLmdldChcInRoZW1lVGFnc1wiKSwgdGhlbWVUYWdzKSk7XHJcbiAgICAgICAgdGhpcy5heGlzLmdyaWRDb250YWluZXIuY2hpbGRyZW4ucHVzaChheGlzRmlsbCk7XHJcbiAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwiYXhpc0ZpbGxcIiwgYXhpc0ZpbGwpO1xyXG4gICAgICAgIHRoaXMuYXhpc0ZpbGxzLnB1c2goYXhpc0ZpbGwpO1xyXG4gICAgICAgIHJldHVybiBheGlzRmlsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYWtlTGFiZWwoZGF0YUl0ZW0sIHRoZW1lVGFncykge1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5sYWJlbHMubWFrZSgpO1xyXG4gICAgICAgIGxhYmVsLnNldChcInRoZW1lVGFnc1wiLCAkdXRpbHMubWVyZ2VUYWdzKGxhYmVsLmdldChcInRoZW1lVGFnc1wiKSwgdGhlbWVUYWdzKSk7XHJcbiAgICAgICAgdGhpcy5heGlzLmxhYmVsc0NvbnRhaW5lci5jaGlsZHJlbi5tb3ZlVmFsdWUobGFiZWwsIDApO1xyXG4gICAgICAgIGxhYmVsLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwibGFiZWxcIiwgbGFiZWwpO1xyXG4gICAgICAgIHRoaXMubGFiZWxzLnB1c2gobGFiZWwpO1xyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgIH1cclxuICAgIGF4aXNMZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ3JpZENvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF4aXNMZW5ndGgoKSAvIHRoaXMuZ2V0KFwibWluR3JpZERpc3RhbmNlXCIsIDUwKTtcclxuICAgIH1cclxuICAgIF91cGRhdGVQb3NpdGlvbnMoKSB7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXQoXCJpc01lYXN1cmVkXCIsIGZhbHNlKTtcclxuICAgICAgICBjb25zdCB0aHVtYiA9IHRoaXMudGh1bWI7XHJcbiAgICAgICAgaWYgKHRodW1iKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRodW1iLmV2ZW50cy5vbihcInBvaW50ZXJkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVGh1bWJEb3duKGV2ZW50KTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aHVtYi5ldmVudHMub24oXCJnbG9iYWxwb2ludGVydXBcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVUaHVtYlVwKGV2ZW50KTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aHVtYi5ldmVudHMub24oXCJnbG9iYWxwb2ludGVybW92ZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVRodW1iTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtaW5HcmlkRGlzdGFuY2VcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290LmV2ZW50cy5vbmNlKFwiZnJhbWVlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF4aXMubWFya0RpcnR5U2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJwYW5cIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdGh1bWIgPSB0aGlzLnRodW1iO1xyXG4gICAgICAgICAgICBpZiAodGh1bWIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsc0NvbnRhaW5lciA9IHRoaXMuYXhpcy5sYWJlbHNDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYW4gPSB0aGlzLmdldChcInBhblwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYW4gPT0gXCJ6b29tXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbHNDb250YWluZXIuY2hpbGRyZW4ucHVzaCh0aHVtYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYW4gPT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbHNDb250YWluZXIuY2hpbGRyZW4ucmVtb3ZlVmFsdWUodGh1bWIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZVRodW1iRG93bihldmVudCkge1xyXG4gICAgICAgIHRoaXMuX3RodW1iRG93blBvaW50ID0gdGhpcy50b0xvY2FsKGV2ZW50LnBvaW50KTtcclxuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGlzO1xyXG4gICAgICAgIHRoaXMuX2Rvd25TdGFydCA9IGF4aXMuZ2V0KFwic3RhcnRcIik7XHJcbiAgICAgICAgdGhpcy5fZG93bkVuZCA9IGF4aXMuZ2V0KFwiZW5kXCIpO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZVRodW1iVXAoX2V2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5fdGh1bWJEb3duUG9pbnQgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlVGh1bWJNb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgZG93blBvaW50ID0gdGhpcy5fdGh1bWJEb3duUG9pbnQ7XHJcbiAgICAgICAgaWYgKGRvd25Qb2ludCkge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMudG9Mb2NhbChldmVudC5wb2ludCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvd25TdGFydCA9IHRoaXMuX2Rvd25TdGFydDtcclxuICAgICAgICAgICAgY29uc3QgZG93bkVuZCA9IHRoaXMuX2Rvd25FbmQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhID0gdGhpcy5fZ2V0UGFuKHBvaW50LCBkb3duUG9pbnQpICogTWF0aC5taW4oMSwgKGRvd25FbmQgLSBkb3duU3RhcnQpKSAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuYXhpcy56b29tKGRvd25TdGFydCAtIGV4dHJhLCBkb3duRW5kICsgZXh0cmEsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9nZXRQYW4oX3BvaW50MSwgX3BvaW50Mikge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyByZWxhdGl2ZSBwb3NpdGlvbiAoMC0xKSBvbiBheGlzIHRvIGEgcGl4ZWwgY29vcmRpbmF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gIFBvc2l0aW9uICgwLTEpXHJcbiAgICAgKiBAcmV0dXJuIENvb3JkaW5hdGUgKHB4KVxyXG4gICAgICovXHJcbiAgICBwb3NpdGlvblRvQ29vcmRpbmF0ZShwb3NpdGlvbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbnZlcnNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2VuZCAtIHBvc2l0aW9uKSAqIHRoaXMuX2F4aXNMZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKHBvc2l0aW9uIC0gdGhpcy5fc3RhcnQpICogdGhpcy5fYXhpc0xlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlVG9vbHRpcEJvdW5kcyhfdG9vbHRpcCkgeyB9XHJcbiAgICBfdXBkYXRlU2l6ZSgpIHtcclxuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB0b0F4aXNQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5fc3RhcnQgfHwgMDtcclxuICAgICAgICBjb25zdCBlbmQgPSB0aGlzLl9lbmQgfHwgMTtcclxuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICogKGVuZCAtIHN0YXJ0KTtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KFwiaW52ZXJzZWRcIikpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBzdGFydCArIHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBlbmQgLSBwb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHRvR2xvYmFsUG9zaXRpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5fZW5kIHx8IDE7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLSBzdGFydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZW5kIC0gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLyAoZW5kIC0gc3RhcnQpO1xyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBmaXhQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxIC0gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfdXBkYXRlTEMoKSB7XHJcbiAgICB9XHJcbiAgICB0b2dnbGVWaXNpYmlsaXR5KHNwcml0ZSwgcG9zaXRpb24sIG1pblBvc2l0aW9uLCBtYXhQb3NpdGlvbikge1xyXG4gICAgICAgIGxldCBheGlzID0gdGhpcy5heGlzO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gYXhpcy5nZXQoXCJzdGFydFwiLCAwKTtcclxuICAgICAgICBjb25zdCBlbmQgPSBheGlzLmdldChcImVuZFwiLCAxKTtcclxuICAgICAgICBsZXQgdXBkYXRlZFN0YXJ0ID0gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogKG1pblBvc2l0aW9uIC0gMC4wMDAxKTtcclxuICAgICAgICBsZXQgdXBkYXRlZEVuZCA9IHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIChtYXhQb3NpdGlvbiArIDAuMDAwMSk7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgdXBkYXRlZFN0YXJ0IHx8IHBvc2l0aW9uID4gdXBkYXRlZEVuZCkge1xyXG4gICAgICAgICAgICBzcHJpdGUuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wb3NpdGlvblRvb2x0aXAodG9vbHRpcCwgcG9pbnQpIHtcclxuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0KSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwicG9pbnRUb1wiLCB0aGlzLl9kaXNwbGF5LnRvR2xvYmFsKHBvaW50KSk7XHJcbiAgICAgICAgICAgIGlmICghY2hhcnQuaW5QbG90KHBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzQXhpcygpIHsgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBeGlzUmVuZGVyZXIsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkF4aXNSZW5kZXJlclwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc1JlbmRlcmVyLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEdyYXBoaWNzLmNsYXNzTmFtZXMuY29uY2F0KFtBeGlzUmVuZGVyZXIuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF4aXNSZW5kZXJlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisRendererX: () => (/* binding */ AxisRendererX)\n/* harmony export */ });\n/* harmony import */ var _AxisRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AxisRenderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Used to render horizontal axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nclass AxisRendererX extends _AxisRenderer__WEBPACK_IMPORTED_MODULE_0__.AxisRenderer {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_1__.Rectangle.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, isMeasured: false, themeTags: [\"axis\", \"x\", \"thumb\"] })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.mergeTags(this._settings.themeTags, [\"renderer\", \"x\"]);\r\n        super._afterNew();\r\n        this.setPrivateRaw(\"letter\", \"X\");\r\n        const gridTemplate = this.grid.template;\r\n        gridTemplate.set(\"height\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n        gridTemplate.set(\"width\", 0);\r\n        gridTemplate.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, graphics.height());\r\n        });\r\n        this.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(graphics.width(), 0);\r\n        });\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const axis = this.axis;\r\n        axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n        axis.ghostLabel.set(\"x\", -1000);\r\n        const opposite = \"opposite\";\r\n        const inside = \"inside\";\r\n        if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n            const chart = this.chart;\r\n            const axisChildren = axis.children;\r\n            if (this.get(inside)) {\r\n                axis.addTag(inside);\r\n            }\r\n            else {\r\n                axis.removeTag(inside);\r\n            }\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    const children = chart.topAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.insertIndex(0, axis);\r\n                    }\r\n                    axis.addTag(opposite);\r\n                    axisChildren.moveValue(this);\r\n                }\r\n                else {\r\n                    const children = chart.bottomAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis);\r\n                    }\r\n                    axis.removeTag(opposite);\r\n                    axisChildren.moveValue(this, 0);\r\n                }\r\n                axis.ghostLabel._applyThemes();\r\n                this.labels.each((label) => {\r\n                    label._applyThemes();\r\n                });\r\n                this.root._markDirtyRedraw();\r\n            }\r\n            axis.markDirtySize();\r\n        }\r\n        this.thumb.setPrivate(\"height\", axis.labelsContainer.height());\r\n    }\r\n    _getPan(point1, point2) {\r\n        return (point2.x - point1.x) / this.width();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position -= this._ls;\r\n        position = position * (end - start) / this._lc;\r\n        if (!this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (!this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start) * this._lc;\r\n        position += this._ls;\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n        const axis = this.axis;\r\n        const parent = axis.parent;\r\n        if (parent) {\r\n            const w = parent.innerWidth();\r\n            this._lc = this.axisLength() / w;\r\n            this._ls = (axis.x() - parent.get(\"paddingLeft\", 0)) / w;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updatePositions() {\r\n        const axis = this.axis;\r\n        const x = axis.x() - _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.relativeToValue(axis.get(\"centerX\", 0), axis.width()) - axis.parent.get(\"paddingLeft\", 0);\r\n        axis.gridContainer.set(\"x\", x);\r\n        axis.topGridContainer.set(\"x\", x);\r\n        axis.bulletsContainer.set(\"y\", this.y());\r\n        const chart = axis.chart;\r\n        if (chart) {\r\n            const plotContainer = chart.plotContainer;\r\n            const axisHeader = axis.axisHeader;\r\n            let width = axis.get(\"marginLeft\", 0);\r\n            let x = axis.x() - width;\r\n            const parent = axis.parent;\r\n            if (parent) {\r\n                x -= parent.get(\"paddingLeft\", 0);\r\n            }\r\n            if (axisHeader.children.length > 0) {\r\n                width = axis.axisHeader.width();\r\n                axis.set(\"marginLeft\", width + 1);\r\n            }\r\n            else {\r\n                axisHeader.set(\"width\", width);\r\n            }\r\n            axisHeader.setAll({ x: x, y: -1, height: plotContainer.height() + 2 });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis() {\r\n        super.processAxis();\r\n        const axis = this.axis;\r\n        if (axis.get(\"width\") == null) {\r\n            axis.set(\"width\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n        }\r\n        ;\r\n        const verticalLayout = this._root.verticalLayout;\r\n        axis.set(\"layout\", verticalLayout);\r\n        axis.labelsContainer.set(\"width\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n        axis.axisHeader.setAll({ layout: verticalLayout });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    axisLength() {\r\n        return this.axis.width();\r\n    }\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    positionToPoint(position) {\r\n        return { x: this.positionToCoordinate(position), y: 0 };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTick(tick, position, endPosition, count) {\r\n        if (tick) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(count) && count > 1) {\r\n                location = tick.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = tick.get(\"location\", location);\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            tick.set(\"x\", this.positionToCoordinate(position));\r\n            let length = tick.get(\"length\", 0);\r\n            const inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n            if (this.get(\"opposite\")) {\r\n                tick.set(\"y\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n                if (!inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            else {\r\n                tick.set(\"y\", 0);\r\n                if (inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            tick.set(\"draw\", (display) => {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, length);\r\n            });\r\n            this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLabel(label, position, endPosition, count) {\r\n        if (label) {\r\n            let location = 0.5;\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(count) && count > 1) {\r\n                location = label.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = label.get(\"location\", location);\r\n            }\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            const inside = label.get(\"inside\", this.get(\"inside\", false));\r\n            const opposite = this.get(\"opposite\");\r\n            if (opposite) {\r\n                if (!inside) {\r\n                    label.set(\"position\", \"relative\");\r\n                    label.set(\"y\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n                }\r\n                else {\r\n                    label.set(\"position\", \"absolute\");\r\n                    label.set(\"y\", 0);\r\n                }\r\n            }\r\n            else {\r\n                if (!inside) {\r\n                    label.set(\"y\", undefined);\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n                else {\r\n                    label.set(\"y\", 0);\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            label.set(\"x\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrid(grid, position, endPosition) {\r\n        if (grid) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = grid.get(\"location\", 0.5);\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            grid.set(\"x\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(grid, position, 0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateBullet(bullet, position, endPosition) {\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                let location = bullet.get(\"location\", 0.5);\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location;\r\n                }\r\n                let bulletPosition = this.axis.roundAxisPosition(position, location);\r\n                let previousBullet = this.axis._bullets[bulletPosition];\r\n                let d = -1;\r\n                if (this.get(\"opposite\")) {\r\n                    d = 1;\r\n                }\r\n                if (bullet.get(\"stacked\")) {\r\n                    if (previousBullet) {\r\n                        let previousSprite = previousBullet.get(\"sprite\");\r\n                        if (previousSprite) {\r\n                            sprite.set(\"y\", previousSprite.y() + previousSprite.height() * d);\r\n                        }\r\n                    }\r\n                    else {\r\n                        sprite.set(\"y\", 0);\r\n                    }\r\n                }\r\n                this.axis._bullets[bulletPosition] = bullet;\r\n                sprite.set(\"x\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(sprite, position, 0, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateFill(fill, position, endPosition) {\r\n        if (fill) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition)) {\r\n                endPosition = 1;\r\n            }\r\n            let x0 = this.positionToCoordinate(position);\r\n            let x1 = this.positionToCoordinate(endPosition);\r\n            this.fillDrawMethod(fill, x0, x1);\r\n        }\r\n    }\r\n    fillDrawMethod(fill, x0, x1) {\r\n        fill.set(\"draw\", (display) => {\r\n            //display.drawRect(x0, 0, x1 - x0, this.axis!.gridContainer.height());\r\n            // using for holes, so can not be rectangle\r\n            const h = this.axis.gridContainer.height();\r\n            const w = this.width();\r\n            if (x1 < x0) {\r\n                [x1, x0] = [x0, x1];\r\n            }\r\n            if (x0 > w || x1 < 0) {\r\n                return;\r\n            }\r\n            /*\r\n            const limit = 10000;\r\n\r\n            x0 = Math.max(-limit, x0);\r\n            x1 = Math.min(limit, x1);\r\n            */\r\n            display.moveTo(x0, 0);\r\n            display.lineTo(x1, 0);\r\n            display.lineTo(x1, h);\r\n            display.lineTo(x0, h);\r\n            display.lineTo(x0, 0);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    positionTooltip(tooltip, position) {\r\n        this._positionTooltip(tooltip, { x: this.positionToCoordinate(position), y: 0 });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(tooltip) {\r\n        const inside = this.get(\"inside\");\r\n        const num = 100000;\r\n        let global = this._display.toGlobal({ x: 0, y: 0 });\r\n        let x = global.x;\r\n        let y = 0;\r\n        let w = this.axisLength();\r\n        let h = num;\r\n        let pointerOrientation = \"up\";\r\n        if (this.get(\"opposite\")) {\r\n            if (inside) {\r\n                pointerOrientation = \"up\";\r\n                y = global.y;\r\n                h = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"down\";\r\n                y = global.y - num;\r\n                h = num;\r\n            }\r\n        }\r\n        else {\r\n            if (inside) {\r\n                pointerOrientation = \"down\";\r\n                y = global.y - num;\r\n                h = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"up\";\r\n                y = global.y;\r\n                h = num;\r\n            }\r\n        }\r\n        const bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n        const oldBounds = tooltip.get(\"bounds\");\r\n        if (!_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.sameBounds(bounds, oldBounds)) {\r\n            tooltip.set(\"bounds\", bounds);\r\n            tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(AxisRendererX, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRendererX\"\r\n});\r\nObject.defineProperty(AxisRendererX, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _AxisRenderer__WEBPACK_IMPORTED_MODULE_0__.AxisRenderer.classNames.concat([AxisRendererX.className])\r\n});\r\n//# sourceMappingURL=AxisRendererX.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc1JlbmRlcmVyWC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEM7QUFDSTtBQUNEO0FBQ0U7QUFDUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVFQUF1RTtBQUNoRjtBQUNBO0FBQ08sNEJBQTRCLHVEQUFZO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBUyxtQkFBbUIsT0FBTyxvREFBSSx3REFBd0Q7QUFDbEgsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQ0FBbUMsdURBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvREFBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkRBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaURBQWlEO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvREFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvREFBSTtBQUM5QyxpQ0FBaUMsd0JBQXdCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvREFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxREFBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvREFBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUIscURBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsOENBQThDO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGFBQWEsd0RBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBWTtBQUN2QixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy94eS9heGVzL0F4aXNSZW5kZXJlclguanM/NTRhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBeGlzUmVuZGVyZXIgfSBmcm9tIFwiLi9BeGlzUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgcDEwMCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL1JlY3RhbmdsZVwiO1xyXG4vKipcclxuICogVXNlZCB0byByZW5kZXIgaG9yaXpvbnRhbCBheGlzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvI0F4aXNfcmVuZGVyZXJ9IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF4aXNSZW5kZXJlclggZXh0ZW5kcyBBeGlzUmVuZGVyZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aHVtYlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBSZWN0YW5nbGUubmV3KHRoaXMuX3Jvb3QsIHsgd2lkdGg6IHAxMDAsIGlzTWVhc3VyZWQ6IGZhbHNlLCB0aGVtZVRhZ3M6IFtcImF4aXNcIiwgXCJ4XCIsIFwidGh1bWJcIl0gfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MgPSAkdXRpbHMubWVyZ2VUYWdzKHRoaXMuX3NldHRpbmdzLnRoZW1lVGFncywgW1wicmVuZGVyZXJcIiwgXCJ4XCJdKTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJsZXR0ZXJcIiwgXCJYXCIpO1xyXG4gICAgICAgIGNvbnN0IGdyaWRUZW1wbGF0ZSA9IHRoaXMuZ3JpZC50ZW1wbGF0ZTtcclxuICAgICAgICBncmlkVGVtcGxhdGUuc2V0KFwiaGVpZ2h0XCIsIHAxMDApO1xyXG4gICAgICAgIGdyaWRUZW1wbGF0ZS5zZXQoXCJ3aWR0aFwiLCAwKTtcclxuICAgICAgICBncmlkVGVtcGxhdGUuc2V0KFwiZHJhd1wiLCAoZGlzcGxheSwgZ3JhcGhpY3MpID0+IHtcclxuICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIGdyYXBoaWNzLmhlaWdodCgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldChcImRyYXdcIiwgKGRpc3BsYXksIGdyYXBoaWNzKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhncmFwaGljcy53aWR0aCgpLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9jaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9jaGFuZ2VkKCk7XHJcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcztcclxuICAgICAgICBheGlzLmdob3N0TGFiZWwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgIXRoaXMuZ2V0KFwiaW5zaWRlXCIpKTtcclxuICAgICAgICBheGlzLmdob3N0TGFiZWwuc2V0KFwieFwiLCAtMTAwMCk7XHJcbiAgICAgICAgY29uc3Qgb3Bwb3NpdGUgPSBcIm9wcG9zaXRlXCI7XHJcbiAgICAgICAgY29uc3QgaW5zaWRlID0gXCJpbnNpZGVcIjtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KG9wcG9zaXRlKSB8fCB0aGlzLmlzRGlydHkoaW5zaWRlKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGF4aXNDaGlsZHJlbiA9IGF4aXMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChpbnNpZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBheGlzLmFkZFRhZyhpbnNpZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXhpcy5yZW1vdmVUYWcoaW5zaWRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChvcHBvc2l0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGNoYXJ0LnRvcEF4ZXNDb250YWluZXIuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmluZGV4T2YoYXhpcykgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uaW5zZXJ0SW5kZXgoMCwgYXhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMuYWRkVGFnKG9wcG9zaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBheGlzQ2hpbGRyZW4ubW92ZVZhbHVlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGFydC5ib3R0b21BeGVzQ29udGFpbmVyLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbi5pbmRleE9mKGF4aXMpID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLm1vdmVWYWx1ZShheGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5yZW1vdmVUYWcob3Bwb3NpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNDaGlsZHJlbi5tb3ZlVmFsdWUodGhpcywgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBheGlzLmdob3N0TGFiZWwuX2FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVscy5lYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLl9hcHBseVRoZW1lcygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QuX21hcmtEaXJ0eVJlZHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF4aXMubWFya0RpcnR5U2l6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRodW1iLnNldFByaXZhdGUoXCJoZWlnaHRcIiwgYXhpcy5sYWJlbHNDb250YWluZXIuaGVpZ2h0KCkpO1xyXG4gICAgfVxyXG4gICAgX2dldFBhbihwb2ludDEsIHBvaW50Mikge1xyXG4gICAgICAgIHJldHVybiAocG9pbnQyLnggLSBwb2ludDEueCkgLyB0aGlzLndpZHRoKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdG9BeGlzUG9zaXRpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5fZW5kIHx8IDE7XHJcbiAgICAgICAgcG9zaXRpb24gLT0gdGhpcy5fbHM7XHJcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiAqIChlbmQgLSBzdGFydCkgLyB0aGlzLl9sYztcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KFwiaW52ZXJzZWRcIikpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBzdGFydCArIHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBlbmQgLSBwb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHRvR2xvYmFsUG9zaXRpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5fZW5kIHx8IDE7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLSBzdGFydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZW5kIC0gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLyAoZW5kIC0gc3RhcnQpICogdGhpcy5fbGM7XHJcbiAgICAgICAgcG9zaXRpb24gKz0gdGhpcy5fbHM7XHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIF91cGRhdGVMQygpIHtcclxuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGlzO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGF4aXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdyA9IHBhcmVudC5pbm5lcldpZHRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xjID0gdGhpcy5heGlzTGVuZ3RoKCkgLyB3O1xyXG4gICAgICAgICAgICB0aGlzLl9scyA9IChheGlzLngoKSAtIHBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKSkgLyB3O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfdXBkYXRlUG9zaXRpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XHJcbiAgICAgICAgY29uc3QgeCA9IGF4aXMueCgpIC0gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZShheGlzLmdldChcImNlbnRlclhcIiwgMCksIGF4aXMud2lkdGgoKSkgLSBheGlzLnBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICBheGlzLmdyaWRDb250YWluZXIuc2V0KFwieFwiLCB4KTtcclxuICAgICAgICBheGlzLnRvcEdyaWRDb250YWluZXIuc2V0KFwieFwiLCB4KTtcclxuICAgICAgICBheGlzLmJ1bGxldHNDb250YWluZXIuc2V0KFwieVwiLCB0aGlzLnkoKSk7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSBheGlzLmNoYXJ0O1xyXG4gICAgICAgIGlmIChjaGFydCkge1xyXG4gICAgICAgICAgICBjb25zdCBwbG90Q29udGFpbmVyID0gY2hhcnQucGxvdENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgYXhpc0hlYWRlciA9IGF4aXMuYXhpc0hlYWRlcjtcclxuICAgICAgICAgICAgbGV0IHdpZHRoID0gYXhpcy5nZXQoXCJtYXJnaW5MZWZ0XCIsIDApO1xyXG4gICAgICAgICAgICBsZXQgeCA9IGF4aXMueCgpIC0gd2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGF4aXMucGFyZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB4IC09IHBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXhpc0hlYWRlci5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGF4aXMuYXhpc0hlYWRlci53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgYXhpcy5zZXQoXCJtYXJnaW5MZWZ0XCIsIHdpZHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBheGlzSGVhZGVyLnNldChcIndpZHRoXCIsIHdpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBheGlzSGVhZGVyLnNldEFsbCh7IHg6IHgsIHk6IC0xLCBoZWlnaHQ6IHBsb3RDb250YWluZXIuaGVpZ2h0KCkgKyAyIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwcm9jZXNzQXhpcygpIHtcclxuICAgICAgICBzdXBlci5wcm9jZXNzQXhpcygpO1xyXG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XHJcbiAgICAgICAgaWYgKGF4aXMuZ2V0KFwid2lkdGhcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBheGlzLnNldChcIndpZHRoXCIsIHAxMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICA7XHJcbiAgICAgICAgY29uc3QgdmVydGljYWxMYXlvdXQgPSB0aGlzLl9yb290LnZlcnRpY2FsTGF5b3V0O1xyXG4gICAgICAgIGF4aXMuc2V0KFwibGF5b3V0XCIsIHZlcnRpY2FsTGF5b3V0KTtcclxuICAgICAgICBheGlzLmxhYmVsc0NvbnRhaW5lci5zZXQoXCJ3aWR0aFwiLCBwMTAwKTtcclxuICAgICAgICBheGlzLmF4aXNIZWFkZXIuc2V0QWxsKHsgbGF5b3V0OiB2ZXJ0aWNhbExheW91dCB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBheGlzTGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF4aXMud2lkdGgoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYXhpcyByZWxhdGl2ZSBwb3NpdGlvbiB0byBhY3R1YWwgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gIFBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgUG9pbnRcclxuICAgICAqL1xyXG4gICAgcG9zaXRpb25Ub1BvaW50KHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogdGhpcy5wb3NpdGlvblRvQ29vcmRpbmF0ZShwb3NpdGlvbiksIHk6IDAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUaWNrKHRpY2ssIHBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgY291bnQpIHtcclxuICAgICAgICBpZiAodGljaykge1xyXG4gICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IDAuNTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGNvdW50KSAmJiBjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gdGljay5nZXQoXCJtdWx0aUxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gdGljay5nZXQoXCJsb2NhdGlvblwiLCBsb2NhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGVuZFBvc2l0aW9uKSAmJiBlbmRQb3NpdGlvbiAhPSBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiArIChlbmRQb3NpdGlvbiAtIHBvc2l0aW9uKSAqIGxvY2F0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRpY2suc2V0KFwieFwiLCB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aWNrLmdldChcImxlbmd0aFwiLCAwKTtcclxuICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gdGljay5nZXQoXCJpbnNpZGVcIiwgdGhpcy5nZXQoXCJpbnNpZGVcIiwgZmFsc2UpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwib3Bwb3NpdGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHRpY2suc2V0KFwieVwiLCBwMTAwKTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGljay5zZXQoXCJ5XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCAqPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aWNrLnNldChcImRyYXdcIiwgKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgbGVuZ3RoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlzaWJpbGl0eSh0aWNrLCBwb3NpdGlvbiwgdGljay5nZXQoXCJtaW5Qb3NpdGlvblwiLCAwKSwgdGljay5nZXQoXCJtYXhQb3NpdGlvblwiLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUxhYmVsKGxhYmVsLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24sIGNvdW50KSB7XHJcbiAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IDAuNTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGNvdW50KSAmJiBjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gbGFiZWwuZ2V0KFwibXVsdGlMb2NhdGlvblwiLCBsb2NhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGxhYmVsLmdldChcImxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IGxhYmVsLmdldChcImluc2lkZVwiLCB0aGlzLmdldChcImluc2lkZVwiLCBmYWxzZSkpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHBvc2l0ZSA9IHRoaXMuZ2V0KFwib3Bwb3NpdGVcIik7XHJcbiAgICAgICAgICAgIGlmIChvcHBvc2l0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnNldChcInlcIiwgcDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnNldChcInlcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnNldChcInlcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwieVwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihlbmRQb3NpdGlvbikgJiYgZW5kUG9zaXRpb24gIT0gcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gKyAoZW5kUG9zaXRpb24gLSBwb3NpdGlvbikgKiBsb2NhdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYWJlbC5zZXQoXCJ4XCIsIHRoaXMucG9zaXRpb25Ub0Nvb3JkaW5hdGUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmlsaXR5KGxhYmVsLCBwb3NpdGlvbiwgbGFiZWwuZ2V0KFwibWluUG9zaXRpb25cIiwgMCksIGxhYmVsLmdldChcIm1heFBvc2l0aW9uXCIsIDEpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlR3JpZChncmlkLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoZ3JpZCkge1xyXG4gICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGdyaWQuZ2V0KFwibG9jYXRpb25cIiwgMC41KTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGVuZFBvc2l0aW9uKSAmJiBlbmRQb3NpdGlvbiAhPSBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiArIChlbmRQb3NpdGlvbiAtIHBvc2l0aW9uKSAqIGxvY2F0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdyaWQuc2V0KFwieFwiLCB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlzaWJpbGl0eShncmlkLCBwb3NpdGlvbiwgMCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUJ1bGxldChidWxsZXQsIHBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChidWxsZXQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb24gPSBidWxsZXQuZ2V0KFwibG9jYXRpb25cIiwgMC41KTtcclxuICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihlbmRQb3NpdGlvbikgJiYgZW5kUG9zaXRpb24gIT0gcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICsgKGVuZFBvc2l0aW9uIC0gcG9zaXRpb24pICogbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVsbGV0UG9zaXRpb24gPSB0aGlzLmF4aXMucm91bmRBeGlzUG9zaXRpb24ocG9zaXRpb24sIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c0J1bGxldCA9IHRoaXMuYXhpcy5fYnVsbGV0c1tidWxsZXRQb3NpdGlvbl07XHJcbiAgICAgICAgICAgICAgICBsZXQgZCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwib3Bwb3NpdGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChidWxsZXQuZ2V0KFwic3RhY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0J1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNTcHJpdGUgPSBwcmV2aW91c0J1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1Nwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldChcInlcIiwgcHJldmlvdXNTcHJpdGUueSgpICsgcHJldmlvdXNTcHJpdGUuaGVpZ2h0KCkgKiBkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldChcInlcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5heGlzLl9idWxsZXRzW2J1bGxldFBvc2l0aW9uXSA9IGJ1bGxldDtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5zZXQoXCJ4XCIsIHRoaXMucG9zaXRpb25Ub0Nvb3JkaW5hdGUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlzaWJpbGl0eShzcHJpdGUsIHBvc2l0aW9uLCAwLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVGaWxsKGZpbGwsIHBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChmaWxsKSB7XHJcbiAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihlbmRQb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIGVuZFBvc2l0aW9uID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgeDAgPSB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgbGV0IHgxID0gdGhpcy5wb3NpdGlvblRvQ29vcmRpbmF0ZShlbmRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbERyYXdNZXRob2QoZmlsbCwgeDAsIHgxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmaWxsRHJhd01ldGhvZChmaWxsLCB4MCwgeDEpIHtcclxuICAgICAgICBmaWxsLnNldChcImRyYXdcIiwgKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgLy9kaXNwbGF5LmRyYXdSZWN0KHgwLCAwLCB4MSAtIHgwLCB0aGlzLmF4aXMhLmdyaWRDb250YWluZXIuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAvLyB1c2luZyBmb3IgaG9sZXMsIHNvIGNhbiBub3QgYmUgcmVjdGFuZ2xlXHJcbiAgICAgICAgICAgIGNvbnN0IGggPSB0aGlzLmF4aXMuZ3JpZENvbnRhaW5lci5oZWlnaHQoKTtcclxuICAgICAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICAgICAgaWYgKHgxIDwgeDApIHtcclxuICAgICAgICAgICAgICAgIFt4MSwgeDBdID0gW3gwLCB4MV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHgwID4gdyB8fCB4MSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IDEwMDAwO1xyXG5cclxuICAgICAgICAgICAgeDAgPSBNYXRoLm1heCgtbGltaXQsIHgwKTtcclxuICAgICAgICAgICAgeDEgPSBNYXRoLm1pbihsaW1pdCwgeDEpO1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbyh4MCwgMCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHgxLCAwKTtcclxuICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oeDEsIGgpO1xyXG4gICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4MCwgaCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHgwLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwb3NpdGlvblRvb2x0aXAodG9vbHRpcCwgcG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAodG9vbHRpcCwgeyB4OiB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSwgeTogMCB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUb29sdGlwQm91bmRzKHRvb2x0aXApIHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSB0aGlzLmdldChcImluc2lkZVwiKTtcclxuICAgICAgICBjb25zdCBudW0gPSAxMDAwMDA7XHJcbiAgICAgICAgbGV0IGdsb2JhbCA9IHRoaXMuX2Rpc3BsYXkudG9HbG9iYWwoeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgICAgIGxldCB4ID0gZ2xvYmFsLng7XHJcbiAgICAgICAgbGV0IHkgPSAwO1xyXG4gICAgICAgIGxldCB3ID0gdGhpcy5heGlzTGVuZ3RoKCk7XHJcbiAgICAgICAgbGV0IGggPSBudW07XHJcbiAgICAgICAgbGV0IHBvaW50ZXJPcmllbnRhdGlvbiA9IFwidXBcIjtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJvcHBvc2l0ZVwiKSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb24gPSBcInVwXCI7XHJcbiAgICAgICAgICAgICAgICB5ID0gZ2xvYmFsLnk7XHJcbiAgICAgICAgICAgICAgICBoID0gbnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlck9yaWVudGF0aW9uID0gXCJkb3duXCI7XHJcbiAgICAgICAgICAgICAgICB5ID0gZ2xvYmFsLnkgLSBudW07XHJcbiAgICAgICAgICAgICAgICBoID0gbnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaW5zaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb24gPSBcImRvd25cIjtcclxuICAgICAgICAgICAgICAgIHkgPSBnbG9iYWwueSAtIG51bTtcclxuICAgICAgICAgICAgICAgIGggPSBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb24gPSBcInVwXCI7XHJcbiAgICAgICAgICAgICAgICB5ID0gZ2xvYmFsLnk7XHJcbiAgICAgICAgICAgICAgICBoID0gbnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHsgbGVmdDogeCwgcmlnaHQ6IHggKyB3LCB0b3A6IHksIGJvdHRvbTogeSArIGggfTtcclxuICAgICAgICBjb25zdCBvbGRCb3VuZHMgPSB0b29sdGlwLmdldChcImJvdW5kc1wiKTtcclxuICAgICAgICBpZiAoISR1dGlscy5zYW1lQm91bmRzKGJvdW5kcywgb2xkQm91bmRzKSkge1xyXG4gICAgICAgICAgICB0b29sdGlwLnNldChcImJvdW5kc1wiLCBib3VuZHMpO1xyXG4gICAgICAgICAgICB0b29sdGlwLnNldChcInBvaW50ZXJPcmllbnRhdGlvblwiLCBwb2ludGVyT3JpZW50YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc1JlbmRlcmVyWCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiQXhpc1JlbmRlcmVyWFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc1JlbmRlcmVyWCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBBeGlzUmVuZGVyZXIuY2xhc3NOYW1lcy5jb25jYXQoW0F4aXNSZW5kZXJlclguY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF4aXNSZW5kZXJlclguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisRendererY: () => (/* binding */ AxisRendererY)\n/* harmony export */ });\n/* harmony import */ var _AxisRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AxisRenderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Used to render vertical axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nclass AxisRendererY extends _AxisRenderer__WEBPACK_IMPORTED_MODULE_0__.AxisRenderer {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_downY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_1__.Rectangle.new(this._root, { height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, isMeasured: false, themeTags: [\"axis\", \"y\", \"thumb\"] })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\r\n        if (this._settings.opposite) {\r\n            this._settings.themeTags.push(\"opposite\");\r\n        }\r\n        super._afterNew();\r\n        this.setPrivateRaw(\"letter\", \"Y\");\r\n        const gridTemplate = this.grid.template;\r\n        gridTemplate.set(\"width\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n        gridTemplate.set(\"height\", 0);\r\n        gridTemplate.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(graphics.width(), 0);\r\n        });\r\n        this.set(\"draw\", (display, renderer) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, renderer.height());\r\n        });\r\n    }\r\n    _getPan(point1, point2) {\r\n        return (point1.y - point2.y) / this.height();\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const axis = this.axis;\r\n        axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n        axis.ghostLabel.set(\"y\", -1000);\r\n        const thumb = this.thumb;\r\n        const opposite = \"opposite\";\r\n        const inside = \"inside\";\r\n        const chart = this.chart;\r\n        if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n            const axisChildren = axis.children;\r\n            if (this.get(inside)) {\r\n                axis.addTag(inside);\r\n            }\r\n            else {\r\n                axis.removeTag(inside);\r\n            }\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    const children = chart.rightAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis, 0);\r\n                    }\r\n                    axis.addTag(opposite);\r\n                    axisChildren.moveValue(this, 0);\r\n                }\r\n                else {\r\n                    const children = chart.leftAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis);\r\n                    }\r\n                    axis.removeTag(opposite);\r\n                    axisChildren.moveValue(this);\r\n                }\r\n                axis.ghostLabel._applyThemes();\r\n                this.labels.each((label) => {\r\n                    label._applyThemes();\r\n                });\r\n                this.root._markDirtyRedraw();\r\n            }\r\n            axis.markDirtySize();\r\n        }\r\n        const w = axis.labelsContainer.width();\r\n        if (chart) {\r\n            if (this.get(opposite)) {\r\n                thumb.set(\"centerX\", 0);\r\n            }\r\n            else {\r\n                thumb.set(\"centerX\", w);\r\n            }\r\n        }\r\n        thumb.setPrivate(\"width\", w);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis() {\r\n        super.processAxis();\r\n        const axis = this.axis;\r\n        if (axis.get(\"height\") == null) {\r\n            axis.set(\"height\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n        }\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        axis.set(\"layout\", horizontalLayout);\r\n        axis.labelsContainer.set(\"height\", _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100);\r\n        axis.axisHeader.set(\"layout\", horizontalLayout);\r\n    }\r\n    _updatePositions() {\r\n        const axis = this.axis;\r\n        const y = axis.y() - _core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.relativeToValue(axis.get(\"centerY\", 0), axis.height());\r\n        axis.gridContainer.set(\"y\", y);\r\n        axis.topGridContainer.set(\"y\", y);\r\n        axis.bulletsContainer.set(\"x\", this.x());\r\n        const chart = axis.chart;\r\n        if (chart) {\r\n            const plotContainer = chart.plotContainer;\r\n            const axisHeader = axis.axisHeader;\r\n            let height = axis.get(\"marginTop\", 0);\r\n            if (axisHeader.children.length > 0) {\r\n                height = axis.axisHeader.height();\r\n                axis.set(\"marginTop\", height + 1);\r\n            }\r\n            else {\r\n                axisHeader.set(\"height\", height);\r\n            }\r\n            axisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    axisLength() {\r\n        return this.axis.innerHeight();\r\n    }\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    positionToPoint(position) {\r\n        return { x: 0, y: this.positionToCoordinate(position) };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLabel(label, position, endPosition, count) {\r\n        if (label) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(count) && count > 1) {\r\n                location = label.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = label.get(\"location\", location);\r\n            }\r\n            const opposite = this.get(\"opposite\");\r\n            const inside = label.get(\"inside\", this.get(\"inside\", false));\r\n            if (opposite) {\r\n                label.set(\"x\", 0);\r\n                if (inside) {\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n                else {\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    label.set(\"x\", 0);\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n                else {\r\n                    label.set(\"x\", undefined);\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            label.set(\"y\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrid(grid, position, endPosition) {\r\n        if (grid) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = grid.get(\"location\", 0.5);\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            grid.set(\"y\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(grid, position, 0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTick(tick, position, endPosition, count) {\r\n        if (tick) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(count) && count > 1) {\r\n                location = tick.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = tick.get(\"location\", location);\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            tick.set(\"y\", this.positionToCoordinate(position));\r\n            let length = tick.get(\"length\", 0);\r\n            const inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n            if (this.get(\"opposite\")) {\r\n                tick.set(\"x\", 0);\r\n                if (inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            else {\r\n                if (!inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            tick.set(\"draw\", (display) => {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(length, 0);\r\n            });\r\n            this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateBullet(bullet, position, endPosition) {\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                let location = bullet.get(\"location\", 0.5);\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location;\r\n                }\r\n                let bulletPosition = this.axis.roundAxisPosition(position, location);\r\n                let previousBullet = this.axis._bullets[bulletPosition];\r\n                let d = 1;\r\n                if (this.get(\"opposite\")) {\r\n                    d = -1;\r\n                }\r\n                if (bullet.get(\"stacked\")) {\r\n                    if (previousBullet) {\r\n                        let previousSprite = previousBullet.get(\"sprite\");\r\n                        if (previousSprite) {\r\n                            sprite.set(\"x\", previousSprite.x() + previousSprite.width() * d);\r\n                        }\r\n                    }\r\n                    else {\r\n                        sprite.set(\"x\", 0);\r\n                    }\r\n                }\r\n                this.axis._bullets[bulletPosition] = bullet;\r\n                sprite.set(\"y\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(sprite, position, 0, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateFill(fill, position, endPosition) {\r\n        if (fill) {\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(endPosition)) {\r\n                endPosition = 1;\r\n            }\r\n            let y0 = this.positionToCoordinate(position);\r\n            let y1 = this.positionToCoordinate(endPosition);\r\n            this.fillDrawMethod(fill, y0, y1);\r\n        }\r\n    }\r\n    fillDrawMethod(fill, y0, y1) {\r\n        fill.set(\"draw\", (display) => {\r\n            // using for holes, so can not be rectangle\r\n            const w = this.axis.gridContainer.width();\r\n            const h = this.height();\r\n            if (y1 < y0) {\r\n                [y1, y0] = [y0, y1];\r\n            }\r\n            if (y0 > h || y1 < 0) {\r\n                return;\r\n            }\r\n            //y0 = Math.max(0, y0);\r\n            //y1 = Math.min(h, y1);\r\n            display.moveTo(0, y0);\r\n            display.lineTo(w, y0);\r\n            display.lineTo(w, y1);\r\n            display.lineTo(0, y1);\r\n            display.lineTo(0, y0);\r\n        });\r\n    }\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    positionToCoordinate(position) {\r\n        if (!this._inversed) {\r\n            return (this._end - position) * this._axisLength;\r\n        }\r\n        else {\r\n            return (position - this._start) * this._axisLength;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    positionTooltip(tooltip, position) {\r\n        this._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(tooltip) {\r\n        const inside = this.get(\"inside\");\r\n        const num = 100000;\r\n        let global = this._display.toGlobal({ x: 0, y: 0 });\r\n        let y = global.y;\r\n        let x = 0;\r\n        let h = this.axisLength();\r\n        let w = num;\r\n        let pointerOrientation = \"right\";\r\n        if (this.get(\"opposite\")) {\r\n            if (inside) {\r\n                pointerOrientation = \"right\";\r\n                x = global.x - num;\r\n                w = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"left\";\r\n                x = global.x;\r\n                w = num;\r\n            }\r\n        }\r\n        else {\r\n            if (inside) {\r\n                pointerOrientation = \"left\";\r\n                x = global.x;\r\n                w = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"right\";\r\n                x = global.x - num;\r\n                w = num;\r\n            }\r\n        }\r\n        const bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n        const oldBounds = tooltip.get(\"bounds\");\r\n        if (!_core_util_Utils__WEBPACK_IMPORTED_MODULE_3__.sameBounds(bounds, oldBounds)) {\r\n            tooltip.set(\"bounds\", bounds);\r\n            tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n        const axis = this.axis;\r\n        const parent = axis.parent;\r\n        if (parent) {\r\n            const h = parent.innerHeight();\r\n            this._lc = this.axisLength() / h;\r\n            this._ls = axis.y() / h;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position -= this._ls;\r\n        position = position * (end - start) / this._lc;\r\n        if (this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start) * this._lc;\r\n        position += this._ls;\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        if (!this.get(\"inversed\")) {\r\n            return 1 - position;\r\n        }\r\n        return position;\r\n    }\r\n}\r\nObject.defineProperty(AxisRendererY, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRendererY\"\r\n});\r\nObject.defineProperty(AxisRendererY, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _AxisRenderer__WEBPACK_IMPORTED_MODULE_0__.AxisRenderer.classNames.concat([AxisRendererY.className])\r\n});\r\n//# sourceMappingURL=AxisRendererY.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc1JlbmRlcmVyWS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEM7QUFDSTtBQUNEO0FBQ0U7QUFDUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVFQUF1RTtBQUNoRjtBQUNBO0FBQ08sNEJBQTRCLHVEQUFZO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFTLG1CQUFtQixRQUFRLG9EQUFJLHdEQUF3RDtBQUNuSCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1DQUFtQyx1REFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG9EQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9EQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxvREFBSTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2REFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtEQUErRDtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscURBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscURBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxREFBYztBQUMvQjtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhDQUE4QztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxhQUFhLHdEQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFZO0FBQ3ZCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc1JlbmRlcmVyWS5qcz84OGFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF4aXNSZW5kZXJlciB9IGZyb20gXCIuL0F4aXNSZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBwMTAwIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9VdGlsc1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvUmVjdGFuZ2xlXCI7XHJcbi8qKlxyXG4gKiBVc2VkIHRvIHJlbmRlciB2ZXJ0aWNhbCBheGlzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvI0F4aXNfcmVuZGVyZXJ9IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF4aXNSZW5kZXJlclkgZXh0ZW5kcyBBeGlzUmVuZGVyZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZG93bllcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGh1bWJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7IGhlaWdodDogcDEwMCwgaXNNZWFzdXJlZDogZmFsc2UsIHRoZW1lVGFnczogW1wiYXhpc1wiLCBcInlcIiwgXCJ0aHVtYlwiXSB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnRoZW1lVGFncyA9ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzLCBbXCJyZW5kZXJlclwiLCBcInlcIl0pO1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5vcHBvc2l0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MucHVzaChcIm9wcG9zaXRlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJsZXR0ZXJcIiwgXCJZXCIpO1xyXG4gICAgICAgIGNvbnN0IGdyaWRUZW1wbGF0ZSA9IHRoaXMuZ3JpZC50ZW1wbGF0ZTtcclxuICAgICAgICBncmlkVGVtcGxhdGUuc2V0KFwid2lkdGhcIiwgcDEwMCk7XHJcbiAgICAgICAgZ3JpZFRlbXBsYXRlLnNldChcImhlaWdodFwiLCAwKTtcclxuICAgICAgICBncmlkVGVtcGxhdGUuc2V0KFwiZHJhd1wiLCAoZGlzcGxheSwgZ3JhcGhpY3MpID0+IHtcclxuICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKGdyYXBoaWNzLndpZHRoKCksIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0KFwiZHJhd1wiLCAoZGlzcGxheSwgcmVuZGVyZXIpID0+IHtcclxuICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIHJlbmRlcmVyLmhlaWdodCgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9nZXRQYW4ocG9pbnQxLCBwb2ludDIpIHtcclxuICAgICAgICByZXR1cm4gKHBvaW50MS55IC0gcG9pbnQyLnkpIC8gdGhpcy5oZWlnaHQoKTtcclxuICAgIH1cclxuICAgIF9jaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9jaGFuZ2VkKCk7XHJcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcztcclxuICAgICAgICBheGlzLmdob3N0TGFiZWwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgIXRoaXMuZ2V0KFwiaW5zaWRlXCIpKTtcclxuICAgICAgICBheGlzLmdob3N0TGFiZWwuc2V0KFwieVwiLCAtMTAwMCk7XHJcbiAgICAgICAgY29uc3QgdGh1bWIgPSB0aGlzLnRodW1iO1xyXG4gICAgICAgIGNvbnN0IG9wcG9zaXRlID0gXCJvcHBvc2l0ZVwiO1xyXG4gICAgICAgIGNvbnN0IGluc2lkZSA9IFwiaW5zaWRlXCI7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkob3Bwb3NpdGUpIHx8IHRoaXMuaXNEaXJ0eShpbnNpZGUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF4aXNDaGlsZHJlbiA9IGF4aXMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChpbnNpZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBheGlzLmFkZFRhZyhpbnNpZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXhpcy5yZW1vdmVUYWcoaW5zaWRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChvcHBvc2l0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGNoYXJ0LnJpZ2h0QXhlc0NvbnRhaW5lci5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4uaW5kZXhPZihheGlzKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5tb3ZlVmFsdWUoYXhpcywgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMuYWRkVGFnKG9wcG9zaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBheGlzQ2hpbGRyZW4ubW92ZVZhbHVlKHRoaXMsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGFydC5sZWZ0QXhlc0NvbnRhaW5lci5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4uaW5kZXhPZihheGlzKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5tb3ZlVmFsdWUoYXhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMucmVtb3ZlVGFnKG9wcG9zaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBheGlzQ2hpbGRyZW4ubW92ZVZhbHVlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXhpcy5naG9zdExhYmVsLl9hcHBseVRoZW1lcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbHMuZWFjaCgobGFiZWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5fYXBwbHlUaGVtZXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb290Ll9tYXJrRGlydHlSZWRyYXcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBheGlzLm1hcmtEaXJ0eVNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdyA9IGF4aXMubGFiZWxzQ29udGFpbmVyLndpZHRoKCk7XHJcbiAgICAgICAgaWYgKGNoYXJ0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChvcHBvc2l0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRodW1iLnNldChcImNlbnRlclhcIiwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHVtYi5zZXQoXCJjZW50ZXJYXCIsIHcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRodW1iLnNldFByaXZhdGUoXCJ3aWR0aFwiLCB3KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwcm9jZXNzQXhpcygpIHtcclxuICAgICAgICBzdXBlci5wcm9jZXNzQXhpcygpO1xyXG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XHJcbiAgICAgICAgaWYgKGF4aXMuZ2V0KFwiaGVpZ2h0XCIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgYXhpcy5zZXQoXCJoZWlnaHRcIiwgcDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhvcml6b250YWxMYXlvdXQgPSB0aGlzLl9yb290Lmhvcml6b250YWxMYXlvdXQ7XHJcbiAgICAgICAgYXhpcy5zZXQoXCJsYXlvdXRcIiwgaG9yaXpvbnRhbExheW91dCk7XHJcbiAgICAgICAgYXhpcy5sYWJlbHNDb250YWluZXIuc2V0KFwiaGVpZ2h0XCIsIHAxMDApO1xyXG4gICAgICAgIGF4aXMuYXhpc0hlYWRlci5zZXQoXCJsYXlvdXRcIiwgaG9yaXpvbnRhbExheW91dCk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlUG9zaXRpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XHJcbiAgICAgICAgY29uc3QgeSA9IGF4aXMueSgpIC0gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZShheGlzLmdldChcImNlbnRlcllcIiwgMCksIGF4aXMuaGVpZ2h0KCkpO1xyXG4gICAgICAgIGF4aXMuZ3JpZENvbnRhaW5lci5zZXQoXCJ5XCIsIHkpO1xyXG4gICAgICAgIGF4aXMudG9wR3JpZENvbnRhaW5lci5zZXQoXCJ5XCIsIHkpO1xyXG4gICAgICAgIGF4aXMuYnVsbGV0c0NvbnRhaW5lci5zZXQoXCJ4XCIsIHRoaXMueCgpKTtcclxuICAgICAgICBjb25zdCBjaGFydCA9IGF4aXMuY2hhcnQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsb3RDb250YWluZXIgPSBjaGFydC5wbG90Q29udGFpbmVyO1xyXG4gICAgICAgICAgICBjb25zdCBheGlzSGVhZGVyID0gYXhpcy5heGlzSGVhZGVyO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gYXhpcy5nZXQoXCJtYXJnaW5Ub3BcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChheGlzSGVhZGVyLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IGF4aXMuYXhpc0hlYWRlci5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGF4aXMuc2V0KFwibWFyZ2luVG9wXCIsIGhlaWdodCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXhpc0hlYWRlci5zZXQoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBheGlzSGVhZGVyLnNldEFsbCh7IHk6IGF4aXMueSgpIC0gaGVpZ2h0LCB4OiAtMSwgd2lkdGg6IHBsb3RDb250YWluZXIud2lkdGgoKSArIDIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGF4aXNMZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXhpcy5pbm5lckhlaWdodCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBheGlzIHJlbGF0aXZlIHBvc2l0aW9uIHRvIGFjdHVhbCBjb29yZGluYXRlIGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBwb3NpdGlvbiAgUG9zaXRpb25cclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBQb2ludFxyXG4gICAgICovXHJcbiAgICBwb3NpdGlvblRvUG9pbnQocG9zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUxhYmVsKGxhYmVsLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24sIGNvdW50KSB7XHJcbiAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gMC41O1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoY291bnQpICYmIGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSBsYWJlbC5nZXQoXCJtdWx0aUxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gbGFiZWwuZ2V0KFwibG9jYXRpb25cIiwgbG9jYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG9wcG9zaXRlID0gdGhpcy5nZXQoXCJvcHBvc2l0ZVwiKTtcclxuICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gbGFiZWwuZ2V0KFwiaW5zaWRlXCIsIHRoaXMuZ2V0KFwiaW5zaWRlXCIsIGZhbHNlKSk7XHJcbiAgICAgICAgICAgIGlmIChvcHBvc2l0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwieFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwicG9zaXRpb25cIiwgXCJyZWxhdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJ4XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnNldChcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJ4XCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwicG9zaXRpb25cIiwgXCJyZWxhdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoZW5kUG9zaXRpb24pICYmIGVuZFBvc2l0aW9uICE9IHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICsgKGVuZFBvc2l0aW9uIC0gcG9zaXRpb24pICogbG9jYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFiZWwuc2V0KFwieVwiLCB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlzaWJpbGl0eShsYWJlbCwgcG9zaXRpb24sIGxhYmVsLmdldChcIm1pblBvc2l0aW9uXCIsIDApLCBsYWJlbC5nZXQoXCJtYXhQb3NpdGlvblwiLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUdyaWQoZ3JpZCwgcG9zaXRpb24sIGVuZFBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKGdyaWQpIHtcclxuICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gPSBncmlkLmdldChcImxvY2F0aW9uXCIsIDAuNSk7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihlbmRQb3NpdGlvbikgJiYgZW5kUG9zaXRpb24gIT0gcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gKyAoZW5kUG9zaXRpb24gLSBwb3NpdGlvbikgKiBsb2NhdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBncmlkLnNldChcInlcIiwgdGhpcy5wb3NpdGlvblRvQ29vcmRpbmF0ZShwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2liaWxpdHkoZ3JpZCwgcG9zaXRpb24sIDAsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUaWNrKHRpY2ssIHBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgY291bnQpIHtcclxuICAgICAgICBpZiAodGljaykge1xyXG4gICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IDAuNTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGNvdW50KSAmJiBjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gdGljay5nZXQoXCJtdWx0aUxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gdGljay5nZXQoXCJsb2NhdGlvblwiLCBsb2NhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGVuZFBvc2l0aW9uKSAmJiBlbmRQb3NpdGlvbiAhPSBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiArIChlbmRQb3NpdGlvbiAtIHBvc2l0aW9uKSAqIGxvY2F0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRpY2suc2V0KFwieVwiLCB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aWNrLmdldChcImxlbmd0aFwiLCAwKTtcclxuICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gdGljay5nZXQoXCJpbnNpZGVcIiwgdGhpcy5nZXQoXCJpbnNpZGVcIiwgZmFsc2UpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwib3Bwb3NpdGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHRpY2suc2V0KFwieFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggKj0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCAqPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aWNrLnNldChcImRyYXdcIiwgKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8obGVuZ3RoLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlzaWJpbGl0eSh0aWNrLCBwb3NpdGlvbiwgdGljay5nZXQoXCJtaW5Qb3NpdGlvblwiLCAwKSwgdGljay5nZXQoXCJtYXhQb3NpdGlvblwiLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUJ1bGxldChidWxsZXQsIHBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChidWxsZXQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb24gPSBidWxsZXQuZ2V0KFwibG9jYXRpb25cIiwgMC41KTtcclxuICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihlbmRQb3NpdGlvbikgJiYgZW5kUG9zaXRpb24gIT0gcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICsgKGVuZFBvc2l0aW9uIC0gcG9zaXRpb24pICogbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVsbGV0UG9zaXRpb24gPSB0aGlzLmF4aXMucm91bmRBeGlzUG9zaXRpb24ocG9zaXRpb24sIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c0J1bGxldCA9IHRoaXMuYXhpcy5fYnVsbGV0c1tidWxsZXRQb3NpdGlvbl07XHJcbiAgICAgICAgICAgICAgICBsZXQgZCA9IDE7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJvcHBvc2l0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChidWxsZXQuZ2V0KFwic3RhY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0J1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNTcHJpdGUgPSBwcmV2aW91c0J1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1Nwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldChcInhcIiwgcHJldmlvdXNTcHJpdGUueCgpICsgcHJldmlvdXNTcHJpdGUud2lkdGgoKSAqIGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2V0KFwieFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF4aXMuX2J1bGxldHNbYnVsbGV0UG9zaXRpb25dID0gYnVsbGV0O1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNldChcInlcIiwgdGhpcy5wb3NpdGlvblRvQ29vcmRpbmF0ZShwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmlsaXR5KHNwcml0ZSwgcG9zaXRpb24sIDAsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUZpbGwoZmlsbCwgcG9zaXRpb24sIGVuZFBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGVuZFBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgZW5kUG9zaXRpb24gPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB5MCA9IHRoaXMucG9zaXRpb25Ub0Nvb3JkaW5hdGUocG9zaXRpb24pO1xyXG4gICAgICAgICAgICBsZXQgeTEgPSB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKGVuZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5maWxsRHJhd01ldGhvZChmaWxsLCB5MCwgeTEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbGxEcmF3TWV0aG9kKGZpbGwsIHkwLCB5MSkge1xyXG4gICAgICAgIGZpbGwuc2V0KFwiZHJhd1wiLCAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAvLyB1c2luZyBmb3IgaG9sZXMsIHNvIGNhbiBub3QgYmUgcmVjdGFuZ2xlXHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSB0aGlzLmF4aXMuZ3JpZENvbnRhaW5lci53aWR0aCgpO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICAgICAgaWYgKHkxIDwgeTApIHtcclxuICAgICAgICAgICAgICAgIFt5MSwgeTBdID0gW3kwLCB5MV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHkwID4gaCB8fCB5MSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3kwID0gTWF0aC5tYXgoMCwgeTApO1xyXG4gICAgICAgICAgICAvL3kxID0gTWF0aC5taW4oaCwgeTEpO1xyXG4gICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCB5MCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHcsIHkwKTtcclxuICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odywgeTEpO1xyXG4gICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCB5MSk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIHkwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgcmVsYXRpdmUgcG9zaXRpb24gKDAtMSkgb24gYXhpcyB0byBhIHBpeGVsIGNvb3JkaW5hdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uICBQb3NpdGlvbiAoMC0xKVxyXG4gICAgICogQHJldHVybiBDb29yZGluYXRlIChweClcclxuICAgICAqL1xyXG4gICAgcG9zaXRpb25Ub0Nvb3JkaW5hdGUocG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2ludmVyc2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZW5kIC0gcG9zaXRpb24pICogdGhpcy5fYXhpc0xlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAocG9zaXRpb24gLSB0aGlzLl9zdGFydCkgKiB0aGlzLl9heGlzTGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwb3NpdGlvblRvb2x0aXAodG9vbHRpcCwgcG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAodG9vbHRpcCwgeyB4OiAwLCB5OiB0aGlzLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uKSB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUb29sdGlwQm91bmRzKHRvb2x0aXApIHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSB0aGlzLmdldChcImluc2lkZVwiKTtcclxuICAgICAgICBjb25zdCBudW0gPSAxMDAwMDA7XHJcbiAgICAgICAgbGV0IGdsb2JhbCA9IHRoaXMuX2Rpc3BsYXkudG9HbG9iYWwoeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgICAgIGxldCB5ID0gZ2xvYmFsLnk7XHJcbiAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgIGxldCBoID0gdGhpcy5heGlzTGVuZ3RoKCk7XHJcbiAgICAgICAgbGV0IHcgPSBudW07XHJcbiAgICAgICAgbGV0IHBvaW50ZXJPcmllbnRhdGlvbiA9IFwicmlnaHRcIjtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJvcHBvc2l0ZVwiKSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb24gPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICB4ID0gZ2xvYmFsLnggLSBudW07XHJcbiAgICAgICAgICAgICAgICB3ID0gbnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlck9yaWVudGF0aW9uID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgICAgICB4ID0gZ2xvYmFsLng7XHJcbiAgICAgICAgICAgICAgICB3ID0gbnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaW5zaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb24gPSBcImxlZnRcIjtcclxuICAgICAgICAgICAgICAgIHggPSBnbG9iYWwueDtcclxuICAgICAgICAgICAgICAgIHcgPSBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb24gPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICB4ID0gZ2xvYmFsLnggLSBudW07XHJcbiAgICAgICAgICAgICAgICB3ID0gbnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHsgbGVmdDogeCwgcmlnaHQ6IHggKyB3LCB0b3A6IHksIGJvdHRvbTogeSArIGggfTtcclxuICAgICAgICBjb25zdCBvbGRCb3VuZHMgPSB0b29sdGlwLmdldChcImJvdW5kc1wiKTtcclxuICAgICAgICBpZiAoISR1dGlscy5zYW1lQm91bmRzKGJvdW5kcywgb2xkQm91bmRzKSkge1xyXG4gICAgICAgICAgICB0b29sdGlwLnNldChcImJvdW5kc1wiLCBib3VuZHMpO1xyXG4gICAgICAgICAgICB0b29sdGlwLnNldChcInBvaW50ZXJPcmllbnRhdGlvblwiLCBwb2ludGVyT3JpZW50YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfdXBkYXRlTEMoKSB7XHJcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcztcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBheGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSBwYXJlbnQuaW5uZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgdGhpcy5fbGMgPSB0aGlzLmF4aXNMZW5ndGgoKSAvIGg7XHJcbiAgICAgICAgICAgIHRoaXMuX2xzID0gYXhpcy55KCkgLyBoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB0b0F4aXNQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5fc3RhcnQgfHwgMDtcclxuICAgICAgICBjb25zdCBlbmQgPSB0aGlzLl9lbmQgfHwgMTtcclxuICAgICAgICBwb3NpdGlvbiAtPSB0aGlzLl9scztcclxuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICogKGVuZCAtIHN0YXJ0KSAvIHRoaXMuX2xjO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gc3RhcnQgKyBwb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZW5kIC0gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB0b0dsb2JhbFBvc2l0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLl9zdGFydCB8fCAwO1xyXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMuX2VuZCB8fCAxO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLSBzdGFydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZW5kIC0gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLyAoZW5kIC0gc3RhcnQpICogdGhpcy5fbGM7XHJcbiAgICAgICAgcG9zaXRpb24gKz0gdGhpcy5fbHM7XHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGZpeFBvc2l0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldChcImludmVyc2VkXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxIC0gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc1JlbmRlcmVyWSwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiQXhpc1JlbmRlcmVyWVwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc1JlbmRlcmVyWSwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBBeGlzUmVuZGVyZXIuY2xhc3NOYW1lcy5jb25jYXQoW0F4aXNSZW5kZXJlclkuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF4aXNSZW5kZXJlclkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisTick: () => (/* binding */ AxisTick)\n/* harmony export */ });\n/* harmony import */ var _core_render_Tick__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/render/Tick */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js\");\n\r\n/**\r\n * Draws an axis tick.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Ticks} for more info\r\n * @important\r\n */\r\nclass AxisTick extends _core_render_Tick__WEBPACK_IMPORTED_MODULE_0__.Tick {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(AxisTick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisTick\"\r\n});\r\nObject.defineProperty(AxisTick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Tick__WEBPACK_IMPORTED_MODULE_0__.Tick.classNames.concat([AxisTick.className])\r\n});\r\n//# sourceMappingURL=AxisTick.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQXhpc1RpY2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRUFBb0U7QUFDN0U7QUFDQTtBQUNPLHVCQUF1QixtREFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbURBQUk7QUFDZixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy94eS9heGVzL0F4aXNUaWNrLmpzPzE0MGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGljayB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3JlbmRlci9UaWNrXCI7XHJcbi8qKlxyXG4gKiBEcmF3cyBhbiBheGlzIHRpY2suXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzLyNUaWNrc30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXhpc1RpY2sgZXh0ZW5kcyBUaWNrIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpY2tQb2ludHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXhpc1RpY2ssIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkF4aXNUaWNrXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBeGlzVGljaywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBUaWNrLmNsYXNzTmFtZXMuY29uY2F0KFtBeGlzVGljay5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXhpc1RpY2suanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/CategoryAxis.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/CategoryAxis.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CategoryAxis: () => (/* binding */ CategoryAxis)\n/* harmony export */ });\n/* harmony import */ var _Axis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Axis */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _core_util_PopulateString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a category axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/category-axis/} for more info\r\n * @important\r\n */\r\nclass CategoryAxis extends _Axis__WEBPACK_IMPORTED_MODULE_0__.Axis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_frequency\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_itemMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        this.fields.push(\"category\");\r\n        this.setPrivateRaw(\"name\", \"category\");\r\n        this.addTag(\"category\");\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const len = this.dataItems.length;\r\n        let i = 0;\r\n        if (this._valuesDirty) {\r\n            this._itemMap = {};\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.dataItems, (dataItem) => {\r\n                dataItem.setRaw(\"index\", i);\r\n                this._itemMap[dataItem.get(\"category\")] = dataItem;\r\n                i++;\r\n            });\r\n            this.setPrivateRaw(\"maxZoomFactor\", len);\r\n        }\r\n        this.setPrivateRaw(\"startIndex\", Math.max(Math.round(this.get(\"start\", 0) * len), 0));\r\n        this.setPrivateRaw(\"endIndex\", Math.min(Math.round(this.get(\"end\", 1) * len), len));\r\n        if (this._sizeDirty || this._valuesDirty || (this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"endIndex\") || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\"))) {\r\n            if (this.dataItems.length > 0) {\r\n                this._handleRangeChange();\r\n                this._prepareAxisItems();\r\n                this._updateAxisRanges();\r\n            }\r\n        }\r\n    }\r\n    _handleRangeChange() {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.series, (series) => {\r\n            let startCategory = this.dataItems[this.startIndex()].get(\"category\");\r\n            let endCategory = this.dataItems[this.endIndex() - 1].get(\"category\");\r\n            let baseAxis = series.get(\"baseAxis\");\r\n            let xAxis = series.get(\"xAxis\");\r\n            let yAxis = series.get(\"yAxis\");\r\n            if (xAxis instanceof CategoryAxis && yAxis instanceof CategoryAxis) {\r\n                series._markDirtyAxes();\r\n            }\r\n            else if (baseAxis === this) {\r\n                let key;\r\n                let openKey;\r\n                let otherAxis = yAxis;\r\n                if (xAxis === baseAxis) {\r\n                    if (series.get(\"categoryXField\")) {\r\n                        key = \"categoryX\";\r\n                    }\r\n                    if (series.get(\"openCategoryXField\")) {\r\n                        openKey = \"openCategoryX\";\r\n                    }\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    if (series.get(\"categoryYField\")) {\r\n                        key = \"categoryY\";\r\n                    }\r\n                    if (series.get(\"openCategoryYField\")) {\r\n                        openKey = \"openCategoryY\";\r\n                    }\r\n                    otherAxis = xAxis;\r\n                }\r\n                if (otherAxis.className == \"ValueAxis\") {\r\n                    if (key || openKey) {\r\n                        let startDataItem;\r\n                        let endDataItem;\r\n                        for (let i = 0, len = series.dataItems.length; i < len; i++) {\r\n                            let dataItem = series.dataItems[i];\r\n                            if (key) {\r\n                                if (dataItem.get(key) === startCategory) {\r\n                                    startDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (openKey) {\r\n                                if (dataItem.get(openKey) === startCategory) {\r\n                                    startDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        for (let i = series.dataItems.length - 1; i >= 0; i--) {\r\n                            let dataItem = series.dataItems[i];\r\n                            if (key) {\r\n                                if (dataItem.get(key) === endCategory) {\r\n                                    endDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (openKey) {\r\n                                if (dataItem.get(openKey) === endCategory) {\r\n                                    endDataItem = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        let startIndex = 0;\r\n                        let endIndex = series.dataItems.length;\r\n                        if (startDataItem) {\r\n                            startIndex = series.dataItems.indexOf(startDataItem);\r\n                        }\r\n                        if (endDataItem) {\r\n                            endIndex = series.dataItems.indexOf(endDataItem) + 1;\r\n                        }\r\n                        series.setPrivate(\"startIndex\", startIndex);\r\n                        series.setPrivate(\"endIndex\", endIndex);\r\n                        let hasValue = false;\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            const dataItem = series.dataItems[i];\r\n                            _core_util_Array__WEBPACK_IMPORTED_MODULE_2__.each(series.__valueXShowFields, (key) => {\r\n                                let value = dataItem.get(key);\r\n                                if (value != null) {\r\n                                    hasValue = true;\r\n                                }\r\n                            });\r\n                            _core_util_Array__WEBPACK_IMPORTED_MODULE_2__.each(series.__valueYShowFields, (key) => {\r\n                                let value = dataItem.get(key);\r\n                                if (value != null) {\r\n                                    hasValue = true;\r\n                                }\r\n                            });\r\n                            if (hasValue) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        series.setPrivate(\"outOfSelection\", !hasValue);\r\n                    }\r\n                }\r\n                series._markDirtyAxes(); // must be outside\r\n            }\r\n        });\r\n    }\r\n    _prepareAxisItems() {\r\n        var _a;\r\n        const renderer = this.get(\"renderer\");\r\n        const len = this.dataItems.length;\r\n        let startIndex = this.startIndex();\r\n        if (startIndex > 0) {\r\n            startIndex--;\r\n        }\r\n        let endIndex = this.endIndex();\r\n        if (endIndex < len) {\r\n            endIndex++;\r\n        }\r\n        const minorLabelsEnabled = renderer.get(\"minorLabelsEnabled\");\r\n        const minorGridEnabled = renderer.get(\"minorGridEnabled\", minorLabelsEnabled);\r\n        let maxCount = renderer.axisLength() / Math.max(renderer.get(\"minGridDistance\"), 1);\r\n        let frequency = Math.max(1, Math.min(len, Math.ceil((endIndex - startIndex) / maxCount)));\r\n        startIndex = Math.floor(startIndex / frequency) * frequency;\r\n        this._frequency = frequency;\r\n        for (let j = 0; j < len; j++) {\r\n            this._toggleDataItem(this.dataItems[j], false);\r\n        }\r\n        let f = this.dataItems[startIndex].get(\"index\", 0);\r\n        for (let i = startIndex; i < endIndex; i = i + frequency) {\r\n            let dataItem = this.dataItems[i];\r\n            this._createAssets(dataItem, []);\r\n            this._toggleDataItem(dataItem, true);\r\n            let count = frequency;\r\n            if (minorGridEnabled) {\r\n                count = 1;\r\n            }\r\n            this._prepareDataItem(dataItem, f, count);\r\n            f++;\r\n        }\r\n        if (renderer.get(\"minorGridEnabled\")) {\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (i % frequency != 0) {\r\n                    this._createAssets(dataItem, [\"minor\"], true);\r\n                    this._toggleDataItem(dataItem, true);\r\n                    this._prepareDataItem(dataItem, 0, 1);\r\n                    if (!minorLabelsEnabled) {\r\n                        (_a = dataItem.get(\"label\")) === null || _a === void 0 ? void 0 : _a.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._updateGhost();\r\n    }\r\n    _prepareDataItem(dataItem, fillIndex, count) {\r\n        let renderer = this.get(\"renderer\");\r\n        let categoryLocation = dataItem.get(\"categoryLocation\", 0);\r\n        let endCategoryLocation = dataItem.get(\"endCategoryLocation\", 1);\r\n        let index = dataItem.get(\"index\");\r\n        if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(index)) {\r\n            index = this.categoryToIndex(dataItem.get(\"category\"));\r\n        }\r\n        let position = this.indexToPosition(index, categoryLocation);\r\n        let endCategory = dataItem.get(\"endCategory\");\r\n        let endIndex;\r\n        if (endCategory) {\r\n            endIndex = this.categoryToIndex(endCategory);\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(endIndex)) {\r\n                endIndex = index;\r\n            }\r\n        }\r\n        else {\r\n            endIndex = index;\r\n        }\r\n        let endPosition = this.indexToPosition(endIndex, endCategoryLocation);\r\n        let fillEndIndex;\r\n        let fillEndPosition;\r\n        if (dataItem.get(\"isRange\")) {\r\n            fillEndIndex = endIndex;\r\n        }\r\n        else {\r\n            fillEndIndex = index + this._frequency - 1;\r\n        }\r\n        fillEndPosition = this.indexToPosition(fillEndIndex, endCategoryLocation);\r\n        renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n        renderer.updateGrid(dataItem.get(\"grid\"), position, endPosition);\r\n        renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n        renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n        this._processBullet(dataItem);\r\n        renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n        const fillRule = this.get(\"fillRule\");\r\n        if (fillRule) {\r\n            fillRule(dataItem, fillIndex);\r\n        }\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(Math.max(this.getPrivate(\"startIndex\", 0), 0), len - 1);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.max(1, Math.min(this.getPrivate(\"endIndex\", len), len));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    baseValue() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    basePosition() {\r\n        return 0;\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         X coordinate\r\n     */\r\n    getX(value) {\r\n        let axisDataItem = this._itemMap[value];\r\n        if (axisDataItem) {\r\n            return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * Returns Y coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         Y coordinate\r\n     */\r\n    getY(value) {\r\n        let axisDataItem = this._itemMap[value];\r\n        if (axisDataItem) {\r\n            return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, cellLocation, _axisLocation) {\r\n        const category = dataItem.get(field);\r\n        const axisDataItem = this._itemMap[category];\r\n        if (axisDataItem) {\r\n            return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, cellLocation, _axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, _axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, cellLocation, _axisLocation) {\r\n        const category = dataItem.get(field);\r\n        const axisDataItem = this._itemMap[category];\r\n        if (axisDataItem) {\r\n            return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, cellLocation, _axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, _axisLocation));\r\n    }\r\n    /**\r\n     * Converts category index to a relative position.\r\n     *\r\n     * `location` indicates relative position within category: 0 - start, 1 - end.\r\n     *\r\n     * If not set, will use middle (0.5) of the category.\r\n     *\r\n     * @param   index     Index\r\n     * @param   location  Location\r\n     * @return            Index\r\n     */\r\n    indexToPosition(index, location) {\r\n        if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(location)) {\r\n            location = 0.5;\r\n        }\r\n        let len = this.dataItems.length;\r\n        let startLocation = this.get(\"startLocation\", 0);\r\n        let endLocation = this.get(\"endLocation\", 1);\r\n        len -= startLocation;\r\n        len -= (1 - endLocation);\r\n        let position = (index + location - startLocation) / len;\r\n        let dataItem = this.dataItems[index];\r\n        if (dataItem) {\r\n            position += dataItem.get(\"deltaPosition\", 0);\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * Returns an index of a category.\r\n     *\r\n     * @param   category  Category to look up\r\n     * @return            Index\r\n     */\r\n    categoryToIndex(category) {\r\n        let dataItem = this._itemMap[category];\r\n        if (dataItem) {\r\n            return dataItem.get(\"index\");\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dataItemToPosition(dataItem) {\r\n        return this.indexToPosition(dataItem.get(\"index\"));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, location) {\r\n        position += (0.5 - location) / this.dataItems.length;\r\n        return this.indexToPosition(this.axisPositionToIndex(position), location);\r\n    }\r\n    /**\r\n     * Returns an index of the category that corresponds to specific pixel\r\n     * position within axis.\r\n     *\r\n     * @param position  Position (px)\r\n     * @return Category index\r\n     */\r\n    axisPositionToIndex(position) {\r\n        let len = this.dataItems.length;\r\n        return _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.fitToRange(Math.floor(position * len), 0, len - 1); //$math.fitToRange(Math.floor((end - start) * len * position + len * start), 0, len - 1);\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    getTooltipText(position, _adjustPosition) {\r\n        //@todo number formatter + tag\r\n        const dataItem = this.dataItems[this.axisPositionToIndex(position)];\r\n        if (dataItem) {\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                return (0,_core_util_PopulateString__WEBPACK_IMPORTED_MODULE_5__.populateString)(label, this.get(\"tooltipText\", \"\"));\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipText(tooltip, position) {\r\n        tooltip._setDataItem(this.dataItems[this.axisPositionToIndex(position)]);\r\n        tooltip.label.text.markDirtyText();\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position) {\r\n        if (this.dataItems.length > 0) {\r\n            let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            let index = this.axisPositionToIndex(position);\r\n            // try simple first\r\n            let seriesDataItem = series.dataItems[index];\r\n            let axisDataItem = this.dataItems[index];\r\n            let category = axisDataItem.get(\"category\");\r\n            if (seriesDataItem && axisDataItem) {\r\n                if (seriesDataItem.get(fieldName) === category) {\r\n                    return seriesDataItem;\r\n                }\r\n            }\r\n            // if not found, try looking\r\n            for (let i = 0, len = series.dataItems.length; i < len; i++) {\r\n                let dataItem = series.dataItems[i];\r\n                if (dataItem.get(fieldName) === category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` indexes.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start index\r\n     * @param  end       End index\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToIndexes(start, end, duration) {\r\n        let len = this.dataItems.length;\r\n        this.zoom(start / len, end / len, duration);\r\n    }\r\n    zoomToCategories(startCategory, endCategory, duration) {\r\n        this.zoomToIndexes(this.categoryToIndex(startCategory), this.categoryToIndex(endCategory) + 1, duration);\r\n    }\r\n    /**\r\n     * Returns position span between start and end of a single cell in axis.\r\n     *\r\n     * @since 5.2.30\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        return this._frequency / this.dataItems.length / (this.get(\"end\", 1) - this.get(\"start\", 0));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    nextPosition(count) {\r\n        if (count == null) {\r\n            count = 1;\r\n        }\r\n        if (this.get(\"renderer\").getPrivate(\"letter\") == \"Y\") {\r\n            count *= -1;\r\n        }\r\n        const position = this.getPrivate(\"tooltipPosition\", 0);\r\n        const index = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.fitToRange(this.axisPositionToIndex(position) + count, 0, this.dataItems.length - 1);\r\n        return this.toGlobalPosition(this.indexToPosition(index));\r\n    }\r\n}\r\nObject.defineProperty(CategoryAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"CategoryAxis\"\r\n});\r\nObject.defineProperty(CategoryAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Axis__WEBPACK_IMPORTED_MODULE_0__.Axis.classNames.concat([CategoryAxis.className])\r\n});\r\n//# sourceMappingURL=CategoryAxis.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvQ2F0ZWdvcnlBeGlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDcUI7QUFDRjtBQUNBO0FBQ0U7QUFDZ0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0RUFBNEU7QUFDckY7QUFDQTtBQUNPLDJCQUEyQix1Q0FBSTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQ0FBbUMsdURBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLFNBQVM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxRQUFRO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGNBQWM7QUFDL0Q7QUFDQSw0QkFBNEIsa0RBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsNEJBQTRCLGtEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGNBQWM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscURBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFEQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1REFBZ0IsMENBQTBDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlFQUFjO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFNBQVM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdURBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVDQUFJO0FBQ2YsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jaGFydHMveHkvYXhlcy9DYXRlZ29yeUF4aXMuanM/ZDEzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBeGlzIH0gZnJvbSBcIi4vQXhpc1wiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJG1hdGggZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9NYXRoXCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCB7IHBvcHVsYXRlU3RyaW5nIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9Qb3B1bGF0ZVN0cmluZ1wiO1xyXG4vKipcclxuICogQ3JlYXRlcyBhIGNhdGVnb3J5IGF4aXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzL2NhdGVnb3J5LWF4aXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYXRlZ29yeUF4aXMgZXh0ZW5kcyBBeGlzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZyZXF1ZW5jeVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2l0ZW1NYXBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MgPSAkdXRpbHMubWVyZ2VUYWdzKHRoaXMuX3NldHRpbmdzLnRoZW1lVGFncywgW1wiYXhpc1wiXSk7XHJcbiAgICAgICAgdGhpcy5maWVsZHMucHVzaChcImNhdGVnb3J5XCIpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcIm5hbWVcIiwgXCJjYXRlZ29yeVwiKTtcclxuICAgICAgICB0aGlzLmFkZFRhZyhcImNhdGVnb3J5XCIpO1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBpZiAodGhpcy5fdmFsdWVzRGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5faXRlbU1hcCA9IHt9O1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJpbmRleFwiLCBpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1NYXBbZGF0YUl0ZW0uZ2V0KFwiY2F0ZWdvcnlcIildID0gZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJtYXhab29tRmFjdG9yXCIsIGxlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInN0YXJ0SW5kZXhcIiwgTWF0aC5tYXgoTWF0aC5yb3VuZCh0aGlzLmdldChcInN0YXJ0XCIsIDApICogbGVuKSwgMCkpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcImVuZEluZGV4XCIsIE1hdGgubWluKE1hdGgucm91bmQodGhpcy5nZXQoXCJlbmRcIiwgMSkgKiBsZW4pLCBsZW4pKTtcclxuICAgICAgICBpZiAodGhpcy5fc2l6ZURpcnR5IHx8IHRoaXMuX3ZhbHVlc0RpcnR5IHx8ICh0aGlzLmlzRGlydHkoXCJzdGFydFwiKSB8fCB0aGlzLmlzRGlydHkoXCJlbmRcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcImVuZEluZGV4XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJzdGFydEluZGV4XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJ3aWR0aFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwiaGVpZ2h0XCIpKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhSXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXBhcmVBeGlzSXRlbXMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUF4aXNSYW5nZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVSYW5nZUNoYW5nZSgpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLnNlcmllcywgKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRDYXRlZ29yeSA9IHRoaXMuZGF0YUl0ZW1zW3RoaXMuc3RhcnRJbmRleCgpXS5nZXQoXCJjYXRlZ29yeVwiKTtcclxuICAgICAgICAgICAgbGV0IGVuZENhdGVnb3J5ID0gdGhpcy5kYXRhSXRlbXNbdGhpcy5lbmRJbmRleCgpIC0gMV0uZ2V0KFwiY2F0ZWdvcnlcIik7XHJcbiAgICAgICAgICAgIGxldCBiYXNlQXhpcyA9IHNlcmllcy5nZXQoXCJiYXNlQXhpc1wiKTtcclxuICAgICAgICAgICAgbGV0IHhBeGlzID0gc2VyaWVzLmdldChcInhBeGlzXCIpO1xyXG4gICAgICAgICAgICBsZXQgeUF4aXMgPSBzZXJpZXMuZ2V0KFwieUF4aXNcIik7XHJcbiAgICAgICAgICAgIGlmICh4QXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcyAmJiB5QXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcykge1xyXG4gICAgICAgICAgICAgICAgc2VyaWVzLl9tYXJrRGlydHlBeGVzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYmFzZUF4aXMgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXk7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3BlbktleTtcclxuICAgICAgICAgICAgICAgIGxldCBvdGhlckF4aXMgPSB5QXhpcztcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpcyA9PT0gYmFzZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzLmdldChcImNhdGVnb3J5WEZpZWxkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IFwiY2F0ZWdvcnlYXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJpZXMuZ2V0KFwib3BlbkNhdGVnb3J5WEZpZWxkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5LZXkgPSBcIm9wZW5DYXRlZ29yeVhcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh5QXhpcyA9PT0gYmFzZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzLmdldChcImNhdGVnb3J5WUZpZWxkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IFwiY2F0ZWdvcnlZXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJpZXMuZ2V0KFwib3BlbkNhdGVnb3J5WUZpZWxkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5LZXkgPSBcIm9wZW5DYXRlZ29yeVlcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJBeGlzID0geEF4aXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJBeGlzLmNsYXNzTmFtZSA9PSBcIlZhbHVlQXhpc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSB8fCBvcGVuS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydERhdGFJdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kRGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzZXJpZXMuZGF0YUl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBzZXJpZXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbS5nZXQoa2V5KSA9PT0gc3RhcnRDYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGFJdGVtID0gZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmdldChvcGVuS2V5KSA9PT0gc3RhcnRDYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGFJdGVtID0gZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc2VyaWVzLmRhdGFJdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gc2VyaWVzLmRhdGFJdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0uZ2V0KGtleSkgPT09IGVuZENhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGFJdGVtID0gZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmdldChvcGVuS2V5KSA9PT0gZW5kQ2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0YUl0ZW0gPSBkYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gc2VyaWVzLmRhdGFJdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydERhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ID0gc2VyaWVzLmRhdGFJdGVtcy5pbmRleE9mKHN0YXJ0RGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmREYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXggPSBzZXJpZXMuZGF0YUl0ZW1zLmluZGV4T2YoZW5kRGF0YUl0ZW0pICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXMuc2V0UHJpdmF0ZShcInN0YXJ0SW5kZXhcIiwgc3RhcnRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllcy5zZXRQcml2YXRlKFwiZW5kSW5kZXhcIiwgZW5kSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChzZXJpZXMuX192YWx1ZVhTaG93RmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goc2VyaWVzLl9fdmFsdWVZU2hvd0ZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGRhdGFJdGVtLmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllcy5zZXRQcml2YXRlKFwib3V0T2ZTZWxlY3Rpb25cIiwgIWhhc1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXJpZXMuX21hcmtEaXJ0eUF4ZXMoKTsgLy8gbXVzdCBiZSBvdXRzaWRlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9wcmVwYXJlQXhpc0l0ZW1zKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgtLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVuZEluZGV4ID0gdGhpcy5lbmRJbmRleCgpO1xyXG4gICAgICAgIGlmIChlbmRJbmRleCA8IGxlbikge1xyXG4gICAgICAgICAgICBlbmRJbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtaW5vckxhYmVsc0VuYWJsZWQgPSByZW5kZXJlci5nZXQoXCJtaW5vckxhYmVsc0VuYWJsZWRcIik7XHJcbiAgICAgICAgY29uc3QgbWlub3JHcmlkRW5hYmxlZCA9IHJlbmRlcmVyLmdldChcIm1pbm9yR3JpZEVuYWJsZWRcIiwgbWlub3JMYWJlbHNFbmFibGVkKTtcclxuICAgICAgICBsZXQgbWF4Q291bnQgPSByZW5kZXJlci5heGlzTGVuZ3RoKCkgLyBNYXRoLm1heChyZW5kZXJlci5nZXQoXCJtaW5HcmlkRGlzdGFuY2VcIiksIDEpO1xyXG4gICAgICAgIGxldCBmcmVxdWVuY3kgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihsZW4sIE1hdGguY2VpbCgoZW5kSW5kZXggLSBzdGFydEluZGV4KSAvIG1heENvdW50KSkpO1xyXG4gICAgICAgIHN0YXJ0SW5kZXggPSBNYXRoLmZsb29yKHN0YXJ0SW5kZXggLyBmcmVxdWVuY3kpICogZnJlcXVlbmN5O1xyXG4gICAgICAgIHRoaXMuX2ZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbjsgaisrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURhdGFJdGVtKHRoaXMuZGF0YUl0ZW1zW2pdLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBmID0gdGhpcy5kYXRhSXRlbXNbc3RhcnRJbmRleF0uZ2V0KFwiaW5kZXhcIiwgMCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSA9IGkgKyBmcmVxdWVuY3kpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUFzc2V0cyhkYXRhSXRlbSwgW10pO1xyXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVEYXRhSXRlbShkYXRhSXRlbSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IGZyZXF1ZW5jeTtcclxuICAgICAgICAgICAgaWYgKG1pbm9yR3JpZEVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50ID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YUl0ZW0oZGF0YUl0ZW0sIGYsIGNvdW50KTtcclxuICAgICAgICAgICAgZisrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVuZGVyZXIuZ2V0KFwibWlub3JHcmlkRW5hYmxlZFwiKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgJSBmcmVxdWVuY3kgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUFzc2V0cyhkYXRhSXRlbSwgW1wibWlub3JcIl0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURhdGFJdGVtKGRhdGFJdGVtLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YUl0ZW0oZGF0YUl0ZW0sIDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWlub3JMYWJlbHNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGRhdGFJdGVtLmdldChcImxhYmVsXCIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91cGRhdGVHaG9zdCgpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVEYXRhSXRlbShkYXRhSXRlbSwgZmlsbEluZGV4LCBjb3VudCkge1xyXG4gICAgICAgIGxldCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5TG9jYXRpb24gPSBkYXRhSXRlbS5nZXQoXCJjYXRlZ29yeUxvY2F0aW9uXCIsIDApO1xyXG4gICAgICAgIGxldCBlbmRDYXRlZ29yeUxvY2F0aW9uID0gZGF0YUl0ZW0uZ2V0KFwiZW5kQ2F0ZWdvcnlMb2NhdGlvblwiLCAxKTtcclxuICAgICAgICBsZXQgaW5kZXggPSBkYXRhSXRlbS5nZXQoXCJpbmRleFwiKTtcclxuICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGluZGV4KSkge1xyXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuY2F0ZWdvcnlUb0luZGV4KGRhdGFJdGVtLmdldChcImNhdGVnb3J5XCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5pbmRleFRvUG9zaXRpb24oaW5kZXgsIGNhdGVnb3J5TG9jYXRpb24pO1xyXG4gICAgICAgIGxldCBlbmRDYXRlZ29yeSA9IGRhdGFJdGVtLmdldChcImVuZENhdGVnb3J5XCIpO1xyXG4gICAgICAgIGxldCBlbmRJbmRleDtcclxuICAgICAgICBpZiAoZW5kQ2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgZW5kSW5kZXggPSB0aGlzLmNhdGVnb3J5VG9JbmRleChlbmRDYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoZW5kSW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICBlbmRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbmRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZW5kUG9zaXRpb24gPSB0aGlzLmluZGV4VG9Qb3NpdGlvbihlbmRJbmRleCwgZW5kQ2F0ZWdvcnlMb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGZpbGxFbmRJbmRleDtcclxuICAgICAgICBsZXQgZmlsbEVuZFBvc2l0aW9uO1xyXG4gICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJpc1JhbmdlXCIpKSB7XHJcbiAgICAgICAgICAgIGZpbGxFbmRJbmRleCA9IGVuZEluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmlsbEVuZEluZGV4ID0gaW5kZXggKyB0aGlzLl9mcmVxdWVuY3kgLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWxsRW5kUG9zaXRpb24gPSB0aGlzLmluZGV4VG9Qb3NpdGlvbihmaWxsRW5kSW5kZXgsIGVuZENhdGVnb3J5TG9jYXRpb24pO1xyXG4gICAgICAgIHJlbmRlcmVyLnVwZGF0ZUxhYmVsKGRhdGFJdGVtLmdldChcImxhYmVsXCIpLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24sIGNvdW50KTtcclxuICAgICAgICByZW5kZXJlci51cGRhdGVHcmlkKGRhdGFJdGVtLmdldChcImdyaWRcIiksIHBvc2l0aW9uLCBlbmRQb3NpdGlvbik7XHJcbiAgICAgICAgcmVuZGVyZXIudXBkYXRlVGljayhkYXRhSXRlbS5nZXQoXCJ0aWNrXCIpLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24sIGNvdW50KTtcclxuICAgICAgICByZW5kZXJlci51cGRhdGVGaWxsKGRhdGFJdGVtLmdldChcImF4aXNGaWxsXCIpLCBwb3NpdGlvbiwgZmlsbEVuZFBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLl9wcm9jZXNzQnVsbGV0KGRhdGFJdGVtKTtcclxuICAgICAgICByZW5kZXJlci51cGRhdGVCdWxsZXQoZGF0YUl0ZW0uZ2V0KFwiYnVsbGV0XCIpLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24pO1xyXG4gICAgICAgIGNvbnN0IGZpbGxSdWxlID0gdGhpcy5nZXQoXCJmaWxsUnVsZVwiKTtcclxuICAgICAgICBpZiAoZmlsbFJ1bGUpIHtcclxuICAgICAgICAgICAgZmlsbFJ1bGUoZGF0YUl0ZW0sIGZpbGxJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRJbmRleCgpIHtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh0aGlzLmdldFByaXZhdGUoXCJzdGFydEluZGV4XCIsIDApLCAwKSwgbGVuIC0gMSk7XHJcbiAgICB9XHJcbiAgICBlbmRJbmRleCgpIHtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgxLCBNYXRoLm1pbih0aGlzLmdldFByaXZhdGUoXCJlbmRJbmRleFwiLCBsZW4pLCBsZW4pKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBiYXNlVmFsdWUoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgYmFzZVBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIFggY29vcmRpbmF0ZSBpbiBwaXhlbHMgY29ycmVzcG9uZGluZyB0byBzcGVjaWZpYyBjYXRlZ29yeSBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgSW5kZXhcclxuICAgICAqIEByZXR1cm4gICAgICAgICBYIGNvb3JkaW5hdGVcclxuICAgICAqL1xyXG4gICAgZ2V0WCh2YWx1ZSkge1xyXG4gICAgICAgIGxldCBheGlzRGF0YUl0ZW0gPSB0aGlzLl9pdGVtTWFwW3ZhbHVlXTtcclxuICAgICAgICBpZiAoYXhpc0RhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5yZW5kZXJlci5wb3NpdGlvblRvQ29vcmRpbmF0ZSh0aGlzLmluZGV4VG9Qb3NpdGlvbihheGlzRGF0YUl0ZW0uZ2V0KFwiaW5kZXhcIiwgMCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE5hTjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBZIGNvb3JkaW5hdGUgaW4gcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gc3BlY2lmaWMgY2F0ZWdvcnkgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgdmFsdWUgIEluZGV4XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgWSBjb29yZGluYXRlXHJcbiAgICAgKi9cclxuICAgIGdldFkodmFsdWUpIHtcclxuICAgICAgICBsZXQgYXhpc0RhdGFJdGVtID0gdGhpcy5faXRlbU1hcFt2YWx1ZV07XHJcbiAgICAgICAgaWYgKGF4aXNEYXRhSXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MucmVuZGVyZXIucG9zaXRpb25Ub0Nvb3JkaW5hdGUodGhpcy5pbmRleFRvUG9zaXRpb24oYXhpc0RhdGFJdGVtLmdldChcImluZGV4XCIsIDApKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBOYU47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0RGF0YUl0ZW1Qb3NpdGlvblgoZGF0YUl0ZW0sIGZpZWxkLCBjZWxsTG9jYXRpb24sIF9heGlzTG9jYXRpb24pIHtcclxuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGRhdGFJdGVtLmdldChmaWVsZCk7XHJcbiAgICAgICAgY29uc3QgYXhpc0RhdGFJdGVtID0gdGhpcy5faXRlbU1hcFtjYXRlZ29yeV07XHJcbiAgICAgICAgaWYgKGF4aXNEYXRhSXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmRleFRvUG9zaXRpb24oYXhpc0RhdGFJdGVtLmdldChcImluZGV4XCIsIDApLCBjZWxsTG9jYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTmFOO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldERhdGFJdGVtQ29vcmRpbmF0ZVgoZGF0YUl0ZW0sIGZpZWxkLCBjZWxsTG9jYXRpb24sIF9heGlzTG9jYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MucmVuZGVyZXIucG9zaXRpb25Ub0Nvb3JkaW5hdGUodGhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWChkYXRhSXRlbSwgZmllbGQsIGNlbGxMb2NhdGlvbiwgX2F4aXNMb2NhdGlvbikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldERhdGFJdGVtUG9zaXRpb25ZKGRhdGFJdGVtLCBmaWVsZCwgY2VsbExvY2F0aW9uLCBfYXhpc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBkYXRhSXRlbS5nZXQoZmllbGQpO1xyXG4gICAgICAgIGNvbnN0IGF4aXNEYXRhSXRlbSA9IHRoaXMuX2l0ZW1NYXBbY2F0ZWdvcnldO1xyXG4gICAgICAgIGlmIChheGlzRGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhUb1Bvc2l0aW9uKGF4aXNEYXRhSXRlbS5nZXQoXCJpbmRleFwiLCAwKSwgY2VsbExvY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE5hTjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBnZXREYXRhSXRlbUNvb3JkaW5hdGVZKGRhdGFJdGVtLCBmaWVsZCwgY2VsbExvY2F0aW9uLCBfYXhpc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLnJlbmRlcmVyLnBvc2l0aW9uVG9Db29yZGluYXRlKHRoaXMuZ2V0RGF0YUl0ZW1Qb3NpdGlvblkoZGF0YUl0ZW0sIGZpZWxkLCBjZWxsTG9jYXRpb24sIF9heGlzTG9jYXRpb24pKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgY2F0ZWdvcnkgaW5kZXggdG8gYSByZWxhdGl2ZSBwb3NpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBgbG9jYXRpb25gIGluZGljYXRlcyByZWxhdGl2ZSBwb3NpdGlvbiB3aXRoaW4gY2F0ZWdvcnk6IDAgLSBzdGFydCwgMSAtIGVuZC5cclxuICAgICAqXHJcbiAgICAgKiBJZiBub3Qgc2V0LCB3aWxsIHVzZSBtaWRkbGUgKDAuNSkgb2YgdGhlIGNhdGVnb3J5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGluZGV4ICAgICBJbmRleFxyXG4gICAgICogQHBhcmFtICAgbG9jYXRpb24gIExvY2F0aW9uXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgSW5kZXhcclxuICAgICAqL1xyXG4gICAgaW5kZXhUb1Bvc2l0aW9uKGluZGV4LCBsb2NhdGlvbikge1xyXG4gICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIobG9jYXRpb24pKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uID0gMC41O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzdGFydExvY2F0aW9uID0gdGhpcy5nZXQoXCJzdGFydExvY2F0aW9uXCIsIDApO1xyXG4gICAgICAgIGxldCBlbmRMb2NhdGlvbiA9IHRoaXMuZ2V0KFwiZW5kTG9jYXRpb25cIiwgMSk7XHJcbiAgICAgICAgbGVuIC09IHN0YXJ0TG9jYXRpb247XHJcbiAgICAgICAgbGVuIC09ICgxIC0gZW5kTG9jYXRpb24pO1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IChpbmRleCArIGxvY2F0aW9uIC0gc3RhcnRMb2NhdGlvbikgLyBsZW47XHJcbiAgICAgICAgbGV0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiArPSBkYXRhSXRlbS5nZXQoXCJkZWx0YVBvc2l0aW9uXCIsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gaW5kZXggb2YgYSBjYXRlZ29yeS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBjYXRlZ29yeSAgQ2F0ZWdvcnkgdG8gbG9vayB1cFxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIEluZGV4XHJcbiAgICAgKi9cclxuICAgIGNhdGVnb3J5VG9JbmRleChjYXRlZ29yeSkge1xyXG4gICAgICAgIGxldCBkYXRhSXRlbSA9IHRoaXMuX2l0ZW1NYXBbY2F0ZWdvcnldO1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uZ2V0KFwiaW5kZXhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBOYU47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZGF0YUl0ZW1Ub1Bvc2l0aW9uKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhUb1Bvc2l0aW9uKGRhdGFJdGVtLmdldChcImluZGV4XCIpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICByb3VuZEF4aXNQb3NpdGlvbihwb3NpdGlvbiwgbG9jYXRpb24pIHtcclxuICAgICAgICBwb3NpdGlvbiArPSAoMC41IC0gbG9jYXRpb24pIC8gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4VG9Qb3NpdGlvbih0aGlzLmF4aXNQb3NpdGlvblRvSW5kZXgocG9zaXRpb24pLCBsb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gaW5kZXggb2YgdGhlIGNhdGVnb3J5IHRoYXQgY29ycmVzcG9uZHMgdG8gc3BlY2lmaWMgcGl4ZWxcclxuICAgICAqIHBvc2l0aW9uIHdpdGhpbiBheGlzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiAgUG9zaXRpb24gKHB4KVxyXG4gICAgICogQHJldHVybiBDYXRlZ29yeSBpbmRleFxyXG4gICAgICovXHJcbiAgICBheGlzUG9zaXRpb25Ub0luZGV4KHBvc2l0aW9uKSB7XHJcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gJG1hdGguZml0VG9SYW5nZShNYXRoLmZsb29yKHBvc2l0aW9uICogbGVuKSwgMCwgbGVuIC0gMSk7IC8vJG1hdGguZml0VG9SYW5nZShNYXRoLmZsb29yKChlbmQgLSBzdGFydCkgKiBsZW4gKiBwb3NpdGlvbiArIGxlbiAqIHN0YXJ0KSwgMCwgbGVuIC0gMSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGV4dCB0byBiZSB1c2VkIGluIGFuIGF4aXMgdG9vbHRpcCBmb3Igc3BlY2lmaWMgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gIFBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgVG9vbHRpcCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIGdldFRvb2x0aXBUZXh0KHBvc2l0aW9uLCBfYWRqdXN0UG9zaXRpb24pIHtcclxuICAgICAgICAvL0B0b2RvIG51bWJlciBmb3JtYXR0ZXIgKyB0YWdcclxuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW3RoaXMuYXhpc1Bvc2l0aW9uVG9JbmRleChwb3NpdGlvbildO1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGRhdGFJdGVtLmdldChcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3B1bGF0ZVN0cmluZyhsYWJlbCwgdGhpcy5nZXQoXCJ0b29sdGlwVGV4dFwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlVG9vbHRpcFRleHQodG9vbHRpcCwgcG9zaXRpb24pIHtcclxuICAgICAgICB0b29sdGlwLl9zZXREYXRhSXRlbSh0aGlzLmRhdGFJdGVtc1t0aGlzLmF4aXNQb3NpdGlvblRvSW5kZXgocG9zaXRpb24pXSk7XHJcbiAgICAgICAgdG9vbHRpcC5sYWJlbC50ZXh0Lm1hcmtEaXJ0eVRleHQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGRhdGEgaXRlbSBmcm9tIHNlcmllcyB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIGBwb3NpdGlvbmAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgc2VyaWVzICAgIFNlcmllc1xyXG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gIFJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgRGF0YSBpdGVtXHJcbiAgICAgKi9cclxuICAgIGdldFNlcmllc0l0ZW0oc2VyaWVzLCBwb3NpdGlvbikge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBmaWVsZE5hbWUgPSAodGhpcy5nZXRQcml2YXRlKFwibmFtZVwiKSArIHRoaXMuZ2V0KFwicmVuZGVyZXJcIikuZ2V0UHJpdmF0ZShcImxldHRlclwiKSk7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuYXhpc1Bvc2l0aW9uVG9JbmRleChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIC8vIHRyeSBzaW1wbGUgZmlyc3RcclxuICAgICAgICAgICAgbGV0IHNlcmllc0RhdGFJdGVtID0gc2VyaWVzLmRhdGFJdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIGxldCBheGlzRGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIGxldCBjYXRlZ29yeSA9IGF4aXNEYXRhSXRlbS5nZXQoXCJjYXRlZ29yeVwiKTtcclxuICAgICAgICAgICAgaWYgKHNlcmllc0RhdGFJdGVtICYmIGF4aXNEYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcmllc0RhdGFJdGVtLmdldChmaWVsZE5hbWUpID09PSBjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJpZXNEYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiBub3QgZm91bmQsIHRyeSBsb29raW5nXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzZXJpZXMuZGF0YUl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBzZXJpZXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmdldChmaWVsZE5hbWUpID09PSBjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogWm9vbXMgdGhlIGF4aXMgdG8gc3BlY2lmaWMgYHN0YXJ0YCBhbmQgYGVuZGAgaW5kZXhlcy5cclxuICAgICAqXHJcbiAgICAgKiBPcHRpb25hbCBgZHVyYXRpb25gIHNwZWNpZmllcyBkdXJhdGlvbiBvZiB6b29tIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBzdGFydCAgICAgU3RhcnQgaW5kZXhcclxuICAgICAqIEBwYXJhbSAgZW5kICAgICAgIEVuZCBpbmRleFxyXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiAgRHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKi9cclxuICAgIHpvb21Ub0luZGV4ZXMoc3RhcnQsIGVuZCwgZHVyYXRpb24pIHtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuem9vbShzdGFydCAvIGxlbiwgZW5kIC8gbGVuLCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbiAgICB6b29tVG9DYXRlZ29yaWVzKHN0YXJ0Q2F0ZWdvcnksIGVuZENhdGVnb3J5LCBkdXJhdGlvbikge1xyXG4gICAgICAgIHRoaXMuem9vbVRvSW5kZXhlcyh0aGlzLmNhdGVnb3J5VG9JbmRleChzdGFydENhdGVnb3J5KSwgdGhpcy5jYXRlZ29yeVRvSW5kZXgoZW5kQ2F0ZWdvcnkpICsgMSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHBvc2l0aW9uIHNwYW4gYmV0d2VlbiBzdGFydCBhbmQgZW5kIG9mIGEgc2luZ2xlIGNlbGwgaW4gYXhpcy5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgNS4yLjMwXHJcbiAgICAgKiBAcmV0dXJuIFBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldENlbGxXaWR0aFBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mcmVxdWVuY3kgLyB0aGlzLmRhdGFJdGVtcy5sZW5ndGggLyAodGhpcy5nZXQoXCJlbmRcIiwgMSkgLSB0aGlzLmdldChcInN0YXJ0XCIsIDApKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBuZXh0UG9zaXRpb24oY291bnQpIHtcclxuICAgICAgICBpZiAoY291bnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb3VudCA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdldChcInJlbmRlcmVyXCIpLmdldFByaXZhdGUoXCJsZXR0ZXJcIikgPT0gXCJZXCIpIHtcclxuICAgICAgICAgICAgY291bnQgKj0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5nZXRQcml2YXRlKFwidG9vbHRpcFBvc2l0aW9uXCIsIDApO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gJG1hdGguZml0VG9SYW5nZSh0aGlzLmF4aXNQb3NpdGlvblRvSW5kZXgocG9zaXRpb24pICsgY291bnQsIDAsIHRoaXMuZGF0YUl0ZW1zLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvR2xvYmFsUG9zaXRpb24odGhpcy5pbmRleFRvUG9zaXRpb24oaW5kZXgpKTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ2F0ZWdvcnlBeGlzLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJDYXRlZ29yeUF4aXNcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENhdGVnb3J5QXhpcywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBBeGlzLmNsYXNzTmFtZXMuY29uY2F0KFtDYXRlZ29yeUF4aXMuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhdGVnb3J5QXhpcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/CategoryAxis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Grid: () => (/* binding */ Grid)\n/* harmony export */ });\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n\r\n/**\r\n * Creates an axis grid line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid} for more info\r\n * @important\r\n */\r\nclass Grid extends _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Grid, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Grid\"\r\n});\r\nObject.defineProperty(Grid, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([Grid.className])\r\n});\r\n//# sourceMappingURL=Grid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvR3JpZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1FQUFtRTtBQUM1RTtBQUNBO0FBQ08sbUJBQW1CLDJEQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkRBQVE7QUFDbkIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jaGFydHMveHkvYXhlcy9HcmlkLmpzP2I1MWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvR3JhcGhpY3NcIjtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gYXhpcyBncmlkIGxpbmUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzLyNHcmlkfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHcmlkIGV4dGVuZHMgR3JhcGhpY3Mge1xyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc1ByaXZhdGVEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJoZWlnaHRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiR3JpZFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBHcmFwaGljcy5jbGFzc05hbWVzLmNvbmNhdChbR3JpZC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JpZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ValueAxis: () => (/* binding */ ValueAxis)\n/* harmony export */ });\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _Axis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Axis */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js\");\n/* harmony import */ var _core_util_Disposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a value axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/} for more info\r\n * @important\r\n */\r\nclass ValueAxis extends _Axis__WEBPACK_IMPORTED_MODULE_0__.Axis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_dirtyExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirtySelectionExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_deltaMinMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_minReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_maxReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_minRealLog\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_baseValue\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_syncDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_minLogAdjusted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyExtremes() {\r\n        this._dirtyExtremes = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySelectionExtremes() {\r\n        this._dirtySelectionExtremes = true;\r\n        this.markDirty();\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        this.setPrivateRaw(\"name\", \"value\");\r\n        this.addTag(\"value\");\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"syncWithAxis\")) {\r\n            let previousValue = this._prevSettings.syncWithAxis;\r\n            if (previousValue) {\r\n                if (this._syncDp) {\r\n                    this._syncDp.dispose();\r\n                }\r\n            }\r\n            let syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                this._syncDp = new _core_util_Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer([\r\n                    syncWithAxis.onPrivate(\"selectionMinFinal\", () => {\r\n                        this._dirtySelectionExtremes = true;\r\n                    }),\r\n                    syncWithAxis.onPrivate(\"selectionMaxFinal\", () => {\r\n                        this._dirtySelectionExtremes = true;\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n        let someDirty = false;\r\n        if (this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"maxPrecision\") || this.isDirty(\"numberFormat\")) {\r\n            someDirty = true;\r\n            this.ghostLabel.set(\"text\", \"\");\r\n        }\r\n        //if (this._dirtyExtremes || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"maxPrecision\")) {\r\n        if (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || someDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"strictMinMaxSelection\")) {\r\n            this._getMinMax();\r\n            this._dirtyExtremes = false;\r\n        }\r\n        this._handleSizeDirty();\r\n        if (this._dirtySelectionExtremes && !this._isPanning && this.get(\"autoZoom\", true)) {\r\n            this._getSelectionMinMax();\r\n            this._dirtySelectionExtremes = false;\r\n        }\r\n        this._groupData();\r\n        if (this._sizeDirty || this._valuesDirty || this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"min\") || this.isPrivateDirty(\"selectionMax\") || this.isPrivateDirty(\"selectionMin\") || this.isPrivateDirty(\"max\") || this.isPrivateDirty(\"step\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"logarithmic\")) {\r\n            this._handleRangeChange();\r\n            this._prepareAxisItems();\r\n            this._updateAxisRanges();\r\n        }\r\n        this._baseValue = this.baseValue();\r\n    }\r\n    _handleSizeDirty() {\r\n        if (this._sizeDirty) {\r\n            this._dirtySelectionExtremes = true;\r\n        }\r\n    }\r\n    _groupData() {\r\n    }\r\n    _formatText(value) {\r\n        const numberFormat = this.get(\"numberFormat\");\r\n        const formatter = this.getNumberFormatter();\r\n        let text = \"\";\r\n        if (numberFormat) {\r\n            text = formatter.format(value, numberFormat);\r\n        }\r\n        else {\r\n            text = formatter.format(value, undefined, this.getPrivate(\"stepDecimalPlaces\"));\r\n        }\r\n        return text;\r\n    }\r\n    _prepareAxisItems() {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(min) && _core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(max)) {\r\n            const logarithmic = this.get(\"logarithmic\");\r\n            const step = this.getPrivate(\"step\");\r\n            const selectionMin = this.getPrivate(\"selectionMin\");\r\n            const selectionMax = this.getPrivate(\"selectionMax\") + step;\r\n            let value = selectionMin - step;\r\n            let differencePower = 1;\r\n            let minLog = min;\r\n            if (logarithmic) {\r\n                value = this._minLogAdjusted;\r\n                if (value < selectionMin) {\r\n                    while (value < selectionMin) {\r\n                        value += step;\r\n                    }\r\n                }\r\n                minLog = value;\r\n                if (minLog <= 0) {\r\n                    minLog = 1;\r\n                    if (step < 1) {\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(this._minRealLog)) {\r\n                            minLog = this._minRealLog;\r\n                        }\r\n                        else {\r\n                            minLog = Math.pow(10, -50);\r\n                        }\r\n                    }\r\n                }\r\n                differencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;\r\n                if (differencePower > 2) {\r\n                    value = Math.pow(10, Math.log(minLog) * Math.LOG10E - 50);\r\n                }\r\n            }\r\n            /// minor grid\r\n            const renderer = this.get(\"renderer\");\r\n            const minorLabelsEnabled = renderer.get(\"minorLabelsEnabled\");\r\n            const minorGridEnabled = renderer.get(\"minorGridEnabled\", minorLabelsEnabled);\r\n            let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n            const stepAdjusted = Math.round(step / stepPower);\r\n            let minorGridCount = 2;\r\n            if (_core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(stepAdjusted / 5, 10) % 1 == 0) {\r\n                minorGridCount = 5;\r\n            }\r\n            if (_core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(stepAdjusted / 10, 10) % 1 == 0) {\r\n                minorGridCount = 10;\r\n            }\r\n            let minorStep = step / minorGridCount;\r\n            // end of minor grid\r\n            let i = 0;\r\n            let m = 0;\r\n            let previous = -Infinity;\r\n            while (value < selectionMax) {\r\n                let dataItem;\r\n                if (this.dataItems.length < i + 1) {\r\n                    dataItem = new _core_render_Component__WEBPACK_IMPORTED_MODULE_5__.DataItem(this, undefined, {});\r\n                    this._dataItems.push(dataItem);\r\n                    this.processDataItem(dataItem);\r\n                }\r\n                else {\r\n                    dataItem = this.dataItems[i];\r\n                }\r\n                this._createAssets(dataItem, []);\r\n                this._toggleDataItem(dataItem, true);\r\n                dataItem.setRaw(\"value\", value);\r\n                const label = dataItem.get(\"label\");\r\n                if (label) {\r\n                    label.set(\"text\", this._formatText(value));\r\n                }\r\n                this._prepareDataItem(dataItem);\r\n                let nextValue = value;\r\n                if (!logarithmic) {\r\n                    nextValue += step;\r\n                }\r\n                else {\r\n                    if (differencePower > 2) {\r\n                        nextValue = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 50);\r\n                    }\r\n                    else {\r\n                        nextValue += step;\r\n                    }\r\n                }\r\n                // minor grid\r\n                if (minorGridEnabled) {\r\n                    let minorValue = value + minorStep;\r\n                    if (logarithmic) {\r\n                        if (differencePower > 2) {\r\n                            let minorMinMaxStep = this._adjustMinMax(value, nextValue, 10);\r\n                            minorStep = minorMinMaxStep.step;\r\n                        }\r\n                        minorValue = value + minorStep;\r\n                    }\r\n                    while (minorValue < nextValue - step * 0.00000000001) {\r\n                        let minorDataItem;\r\n                        if (this.minorDataItems.length < m + 1) {\r\n                            minorDataItem = new _core_render_Component__WEBPACK_IMPORTED_MODULE_5__.DataItem(this, undefined, {});\r\n                            this.minorDataItems.push(minorDataItem);\r\n                            this.processDataItem(minorDataItem);\r\n                        }\r\n                        else {\r\n                            minorDataItem = this.minorDataItems[m];\r\n                        }\r\n                        this._createAssets(minorDataItem, [\"minor\"], true);\r\n                        this._toggleDataItem(minorDataItem, true);\r\n                        minorDataItem.setRaw(\"value\", minorValue);\r\n                        const minorLabel = minorDataItem.get(\"label\");\r\n                        if (minorLabel) {\r\n                            if (minorLabelsEnabled) {\r\n                                minorLabel.set(\"text\", this._formatText(minorValue));\r\n                            }\r\n                            else {\r\n                                minorLabel.setPrivate(\"visible\", false);\r\n                            }\r\n                        }\r\n                        this._prepareDataItem(minorDataItem);\r\n                        minorValue += minorStep;\r\n                        m++;\r\n                    }\r\n                }\r\n                value = nextValue;\r\n                if (previous == value) {\r\n                    break;\r\n                }\r\n                let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n                if (stepPower < 1 && !logarithmic) {\r\n                    // exponent is less then 1 too. Count decimals of exponent\r\n                    let decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;\r\n                    // round value to avoid floating point issues\r\n                    value = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(value, decCount);\r\n                }\r\n                i++;\r\n                previous = value;\r\n            }\r\n            for (let j = i; j < this.dataItems.length; j++) {\r\n                this._toggleDataItem(this.dataItems[j], false);\r\n            }\r\n            for (let j = m; j < this.minorDataItems.length; j++) {\r\n                this._toggleDataItem(this.minorDataItems[j], false);\r\n            }\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.each(this.series, (series) => {\r\n                if (series.inited) {\r\n                    series._markDirtyAxes();\r\n                }\r\n            });\r\n            this._updateGhost();\r\n        }\r\n    }\r\n    _prepareDataItem(dataItem, count) {\r\n        let renderer = this.get(\"renderer\");\r\n        let value = dataItem.get(\"value\");\r\n        let endValue = dataItem.get(\"endValue\");\r\n        let position = this.valueToPosition(value);\r\n        let endPosition = position;\r\n        let fillEndPosition = this.valueToPosition(value + this.getPrivate(\"step\"));\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(endValue)) {\r\n            endPosition = this.valueToPosition(endValue);\r\n            fillEndPosition = endPosition;\r\n        }\r\n        if (dataItem.get(\"isRange\")) {\r\n            if (endValue == null) {\r\n                fillEndPosition = position;\r\n            }\r\n        }\r\n        let labelEndPosition = endPosition;\r\n        let labelEndValue = dataItem.get(\"labelEndValue\");\r\n        if (labelEndValue != null) {\r\n            labelEndPosition = this.valueToPosition(labelEndValue);\r\n        }\r\n        renderer.updateLabel(dataItem.get(\"label\"), position, labelEndPosition, count);\r\n        const grid = dataItem.get(\"grid\");\r\n        renderer.updateGrid(grid, position, endPosition);\r\n        if (grid) {\r\n            if (value == this.get(\"baseValue\", 0)) {\r\n                grid.addTag(\"base\");\r\n                grid._applyThemes();\r\n            }\r\n            else if (grid.hasTag(\"base\")) {\r\n                grid.removeTag(\"base\");\r\n                grid._applyThemes();\r\n            }\r\n        }\r\n        renderer.updateTick(dataItem.get(\"tick\"), position, labelEndPosition, count);\r\n        renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n        this._processBullet(dataItem);\r\n        renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n        if (!dataItem.get(\"isRange\")) {\r\n            const fillRule = this.get(\"fillRule\");\r\n            if (fillRule) {\r\n                fillRule(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _handleRangeChange() {\r\n        let selectionMin = this.positionToValue(this.get(\"start\", 0));\r\n        let selectionMax = this.positionToValue(this.get(\"end\", 1));\r\n        const gridCount = this.get(\"renderer\").gridCount();\r\n        let minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n        let stepDecimalPlaces = _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.decimalPlaces(minMaxStep.step);\r\n        this.setPrivateRaw(\"stepDecimalPlaces\", stepDecimalPlaces);\r\n        selectionMin = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(selectionMin, stepDecimalPlaces);\r\n        selectionMax = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(selectionMax, stepDecimalPlaces);\r\n        minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n        let step = minMaxStep.step;\r\n        selectionMin = minMaxStep.min;\r\n        selectionMax = minMaxStep.max;\r\n        if (this.getPrivate(\"selectionMin\") !== selectionMin || this.getPrivate(\"selectionMax\") !== selectionMax || this.getPrivate(\"step\") !== step) {\r\n            // do not change to setPrivate, will cause SO\r\n            this.setPrivateRaw(\"selectionMin\", selectionMin);\r\n            this.setPrivateRaw(\"selectionMax\", selectionMax);\r\n            this.setPrivateRaw(\"step\", step);\r\n        }\r\n    }\r\n    /**\r\n     * Converts a relative position to a corresponding numeric value from axis\r\n     * scale.\r\n     *\r\n     * @param   position  Relative position\r\n     * @return            Value\r\n     */\r\n    positionToValue(position) {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return position * (max - min) + min;\r\n        }\r\n        else {\r\n            return Math.pow(Math.E, (position * ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E)) + Math.log(min) * Math.LOG10E) / Math.LOG10E);\r\n        }\r\n    }\r\n    /**\r\n     * Convers value to a relative position on axis.\r\n     *\r\n     * @param   value  Value\r\n     * @return         Relative position\r\n     */\r\n    valueToPosition(value) {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return (value - min) / (max - min);\r\n        }\r\n        else {\r\n            if (value <= 0) {\r\n                let treatZeroAs = this.get(\"treatZeroAs\");\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(treatZeroAs)) {\r\n                    value = treatZeroAs;\r\n                }\r\n            }\r\n            return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    valueToFinalPosition(value) {\r\n        const min = this.getPrivate(\"minFinal\");\r\n        const max = this.getPrivate(\"maxFinal\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return (value - min) / (max - min);\r\n        }\r\n        else {\r\n            if (value <= 0) {\r\n                let treatZeroAs = this.get(\"treatZeroAs\");\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(treatZeroAs)) {\r\n                    value = treatZeroAs;\r\n                }\r\n            }\r\n            return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n        }\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    getX(value, location, baseValue) {\r\n        value = baseValue + (value - baseValue) * location;\r\n        const position = this.valueToPosition(value);\r\n        return this._settings.renderer.positionToCoordinate(position);\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    getY(value, location, baseValue) {\r\n        value = baseValue + (value - baseValue) * location;\r\n        const position = this.valueToPosition(value);\r\n        return this._settings.renderer.positionToCoordinate(position);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, _cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, _cellLocation, axisLocation) {\r\n        let value = dataItem.get(field);\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            const series = dataItem.component;\r\n            value = value * axisLocation + series.getStackedXValueWorking(dataItem, field);\r\n        }\r\n        else {\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        }\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, _cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, _cellLocation, axisLocation) {\r\n        let value = dataItem.get(field);\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            const series = dataItem.component;\r\n            value = value * axisLocation + series.getStackedYValueWorking(dataItem, field);\r\n        }\r\n        else {\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        }\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * Returns relative position of axis' `baseValue`.\r\n     *\r\n     * @return  Base value position\r\n     */\r\n    basePosition() {\r\n        return this.valueToPosition(this.baseValue());\r\n    }\r\n    /**\r\n     * Base value of the [[ValueAxis]], which determines positive and negative\r\n     * values.\r\n     *\r\n     * @return Base value\r\n     */\r\n    baseValue() {\r\n        const min = Math.min(this.getPrivate(\"minFinal\", -Infinity), this.getPrivate(\"selectionMin\", -Infinity));\r\n        const max = Math.max(this.getPrivate(\"maxFinal\", Infinity), this.getPrivate(\"selectionMax\", Infinity));\r\n        let baseValue = this.get(\"baseValue\", 0);\r\n        if (baseValue < min) {\r\n            baseValue = min;\r\n        }\r\n        if (baseValue > max) {\r\n            baseValue = max;\r\n        }\r\n        return baseValue;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    cellEndValue(value) {\r\n        return value;\r\n    }\r\n    fixSmallStep(step) {\r\n        // happens because of floating point error\r\n        if (1 + step === 1) {\r\n            step *= 2;\r\n            return this.fixSmallStep(step);\r\n        }\r\n        return step;\r\n    }\r\n    _fixMin(min) {\r\n        return min;\r\n    }\r\n    _fixMax(max) {\r\n        return max;\r\n    }\r\n    _calculateTotals() {\r\n        if (this.get(\"calculateTotals\")) {\r\n            let series = this.series[0];\r\n            if (series) {\r\n                let startIndex = series.startIndex();\r\n                if (series.dataItems.length > 0) {\r\n                    if (startIndex > 0) {\r\n                        startIndex--;\r\n                    }\r\n                    let endIndex = series.endIndex();\r\n                    if (endIndex < series.dataItems.length) {\r\n                        endIndex++;\r\n                    }\r\n                    let field;\r\n                    let vc;\r\n                    if (series.get(\"yAxis\") == this) {\r\n                        field = \"valueY\";\r\n                        vc = \"vcy\";\r\n                    }\r\n                    else if (series.get(\"xAxis\") == this) {\r\n                        field = \"valueX\";\r\n                        vc = \"vcx\";\r\n                    }\r\n                    let fieldWorking = field + \"Working\";\r\n                    if (field) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            let sum = 0;\r\n                            let total = 0;\r\n                            _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.each(this.series, (series) => {\r\n                                if (!series.get(\"excludeFromTotal\")) {\r\n                                    let dataItem = series.dataItems[i];\r\n                                    if (dataItem) {\r\n                                        let value = dataItem.get(fieldWorking) * series.get(vc);\r\n                                        if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNaN(value)) {\r\n                                            sum += value;\r\n                                            total += Math.abs(value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                            _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.each(this.series, (series) => {\r\n                                if (!series.get(\"excludeFromTotal\")) {\r\n                                    let dataItem = series.dataItems[i];\r\n                                    if (dataItem) {\r\n                                        let value = dataItem.get(fieldWorking) * series.get(vc);\r\n                                        if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNaN(value)) {\r\n                                            dataItem.set((field + \"Total\"), total);\r\n                                            dataItem.set((field + \"Sum\"), sum);\r\n                                            dataItem.set((field + \"TotalPercent\"), value / total * 100);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _getSelectionMinMax() {\r\n        const min = this.getPrivate(\"minFinal\");\r\n        const max = this.getPrivate(\"maxFinal\");\r\n        const minDefined = this.get(\"min\");\r\n        const maxDefined = this.get(\"max\");\r\n        let extraMin = this.get(\"extraMin\", 0);\r\n        let extraMax = this.get(\"extraMax\", 0);\r\n        if (this.get(\"logarithmic\")) {\r\n            if (this.get(\"extraMin\") == null) {\r\n                extraMin = 0.1;\r\n            }\r\n            if (this.get(\"extraMax\") == null) {\r\n                extraMax = 0.2;\r\n            }\r\n        }\r\n        const gridCount = this.get(\"renderer\").gridCount();\r\n        const selectionStrictMinMax = this.get(\"strictMinMaxSelection\");\r\n        let strictMinMax = this.get(\"strictMinMax\");\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(min) && _core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(max)) {\r\n            let selectionMin = max;\r\n            let selectionMax = min;\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.each(this.series, (series) => {\r\n                if (!series.get(\"ignoreMinMax\")) {\r\n                    let seriesMin;\r\n                    let seriesMax;\r\n                    const outOfSelection = series.getPrivate(\"outOfSelection\");\r\n                    if (series.get(\"xAxis\") === this) {\r\n                        if (!outOfSelection) {\r\n                            let minX = series.getPrivate(\"minX\");\r\n                            let maxX = series.getPrivate(\"maxX\");\r\n                            // solves #90085\r\n                            if (series.startIndex() != 0 || series.endIndex() != series.dataItems.length) {\r\n                                minX = undefined;\r\n                                maxX = undefined;\r\n                            }\r\n                            seriesMin = series.getPrivate(\"selectionMinX\", minX);\r\n                            seriesMax = series.getPrivate(\"selectionMaxX\", maxX);\r\n                        }\r\n                    }\r\n                    else if (series.get(\"yAxis\") === this) {\r\n                        if (!outOfSelection) {\r\n                            let minY = series.getPrivate(\"minY\");\r\n                            let maxY = series.getPrivate(\"maxY\");\r\n                            // solves #90085\r\n                            if (series.startIndex() != 0 || series.endIndex() != series.dataItems.length) {\r\n                                minY = undefined;\r\n                                maxY = undefined;\r\n                            }\r\n                            seriesMin = series.getPrivate(\"selectionMinY\", minY);\r\n                            seriesMax = series.getPrivate(\"selectionMaxY\", maxY);\r\n                        }\r\n                    }\r\n                    if (!series.isHidden() && !series.isShowing()) {\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(seriesMin)) {\r\n                            selectionMin = Math.min(selectionMin, seriesMin);\r\n                        }\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(seriesMax)) {\r\n                            selectionMax = Math.max(selectionMax, seriesMax);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.axisRanges.each((range) => {\r\n                if (range.get(\"affectsMinMax\")) {\r\n                    let value = range.get(\"value\");\r\n                    if (value != null) {\r\n                        selectionMin = Math.min(selectionMin, value);\r\n                        selectionMax = Math.max(selectionMax, value);\r\n                    }\r\n                    value = range.get(\"endValue\");\r\n                    if (value != null) {\r\n                        selectionMin = Math.min(selectionMin, value);\r\n                        selectionMax = Math.max(selectionMax, value);\r\n                    }\r\n                }\r\n            });\r\n            if (selectionMin > selectionMax) {\r\n                [selectionMin, selectionMax] = [selectionMax, selectionMin];\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(minDefined)) {\r\n                if (strictMinMax) {\r\n                    selectionMin = minDefined;\r\n                }\r\n                else {\r\n                    selectionMin = min;\r\n                }\r\n            }\r\n            else if (strictMinMax) {\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(this._minReal)) {\r\n                    selectionMin = this._minReal;\r\n                }\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxDefined)) {\r\n                if (strictMinMax) {\r\n                    selectionMax = maxDefined;\r\n                }\r\n                else {\r\n                    selectionMax = max;\r\n                }\r\n            }\r\n            else if (strictMinMax) {\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(this._maxReal)) {\r\n                    selectionMax = this._maxReal;\r\n                }\r\n            }\r\n            if (selectionMin === selectionMax) {\r\n                let smin = selectionMin;\r\n                selectionMin -= this._deltaMinMax;\r\n                selectionMax += this._deltaMinMax;\r\n                if (selectionMin < min) {\r\n                    let d = smin - min;\r\n                    if (d == 0) {\r\n                        d = this._deltaMinMax;\r\n                    }\r\n                    selectionMin = smin - d;\r\n                    selectionMax = smin + d;\r\n                    strictMinMax = true;\r\n                }\r\n                let minMaxStep2 = this._adjustMinMax(selectionMin, selectionMax, gridCount, strictMinMax);\r\n                selectionMin = minMaxStep2.min;\r\n                selectionMax = minMaxStep2.max;\r\n            }\r\n            let selectionMinReal = selectionMin;\r\n            let selectionMaxReal = selectionMax;\r\n            selectionMin -= (selectionMax - selectionMin) * extraMin;\r\n            selectionMax += (selectionMax - selectionMin) * extraMax;\r\n            let minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount);\r\n            selectionMin = minMaxStep.min;\r\n            selectionMax = minMaxStep.max;\r\n            selectionMin = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.fitToRange(selectionMin, min, max);\r\n            selectionMax = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.fitToRange(selectionMax, min, max);\r\n            // do it for the second time !important\t\t\t\r\n            minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            if (!strictMinMax) {\r\n                selectionMin = minMaxStep.min;\r\n                selectionMax = minMaxStep.max;\r\n            }\r\n            const syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                minMaxStep = this._syncAxes(selectionMin, selectionMax, minMaxStep.step, syncWithAxis.getPrivate(\"selectionMinFinal\", syncWithAxis.getPrivate(\"minFinal\", 0)), syncWithAxis.getPrivate(\"selectionMaxFinal\", syncWithAxis.getPrivate(\"maxFinal\", 1)), syncWithAxis.getPrivate(\"selectionStepFinal\", syncWithAxis.getPrivate(\"step\", 1)));\r\n                if (minMaxStep.min < min) {\r\n                    minMaxStep.min = min;\r\n                }\r\n                if (minMaxStep.max > max) {\r\n                    minMaxStep.max = max;\r\n                }\r\n                selectionMin = minMaxStep.min;\r\n                selectionMax = minMaxStep.max;\r\n            }\r\n            if (strictMinMax) {\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(minDefined)) {\r\n                    selectionMin = Math.max(selectionMin, minDefined);\r\n                }\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxDefined)) {\r\n                    selectionMax = Math.min(selectionMax, maxDefined);\r\n                }\r\n            }\r\n            if (selectionStrictMinMax) {\r\n                selectionMin = selectionMinReal - (selectionMaxReal - selectionMinReal) * extraMin;\r\n                selectionMax = selectionMaxReal + (selectionMaxReal - selectionMinReal) * extraMax;\r\n            }\r\n            if (this.get(\"logarithmic\")) {\r\n                if (selectionMin <= 0) {\r\n                    selectionMin = selectionMinReal * (1 - Math.min(extraMin, 0.99));\r\n                }\r\n                if (selectionMin < min) {\r\n                    selectionMin = min;\r\n                }\r\n                if (selectionMax > max) {\r\n                    selectionMax = max;\r\n                }\r\n            }\r\n            let len = Math.min(20, Math.ceil(Math.log(this.getPrivate(\"maxZoomFactor\", 100) + 1) / Math.LN10) + 2);\r\n            let start = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(this.valueToFinalPosition(selectionMin), len);\r\n            let end = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(this.valueToFinalPosition(selectionMax), len);\r\n            this.setPrivateRaw(\"selectionMinFinal\", selectionMin);\r\n            this.setPrivateRaw(\"selectionMaxFinal\", selectionMax);\r\n            this.setPrivateRaw(\"selectionStepFinal\", minMaxStep.step);\r\n            this.zoom(start, end);\r\n        }\r\n    }\r\n    _getMinMax() {\r\n        let minDefined = this.get(\"min\");\r\n        let maxDefined = this.get(\"max\");\r\n        let min = Infinity;\r\n        let max = -Infinity;\r\n        let extraMin = this.get(\"extraMin\", 0);\r\n        let extraMax = this.get(\"extraMax\", 0);\r\n        if (this.get(\"logarithmic\")) {\r\n            if (this.get(\"extraMin\") == null) {\r\n                extraMin = 0.1;\r\n            }\r\n            if (this.get(\"extraMax\") == null) {\r\n                extraMax = 0.2;\r\n            }\r\n        }\r\n        let minDiff = Infinity;\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.each(this.series, (series) => {\r\n            if (!series.get(\"ignoreMinMax\")) {\r\n                let seriesMin;\r\n                let seriesMax;\r\n                if (series.get(\"xAxis\") === this) {\r\n                    seriesMin = series.getPrivate(\"minX\");\r\n                    seriesMax = series.getPrivate(\"maxX\");\r\n                }\r\n                else if (series.get(\"yAxis\") === this) {\r\n                    seriesMin = series.getPrivate(\"minY\");\r\n                    seriesMax = series.getPrivate(\"maxY\");\r\n                }\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(seriesMin) && _core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(seriesMax)) {\r\n                    min = Math.min(min, seriesMin);\r\n                    max = Math.max(max, seriesMax);\r\n                    let diff = seriesMax - seriesMin;\r\n                    if (diff <= 0) {\r\n                        diff = Math.abs(seriesMax / 100);\r\n                    }\r\n                    if (diff < minDiff) {\r\n                        minDiff = diff;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.axisRanges.each((range) => {\r\n            if (range.get(\"affectsMinMax\")) {\r\n                let value = range.get(\"value\");\r\n                if (value != null) {\r\n                    min = Math.min(min, value);\r\n                    max = Math.max(max, value);\r\n                }\r\n                value = range.get(\"endValue\");\r\n                if (value != null) {\r\n                    min = Math.min(min, value);\r\n                    max = Math.max(max, value);\r\n                }\r\n            }\r\n        });\r\n        if (this.get(\"logarithmic\")) {\r\n            let treatZeroAs = this.get(\"treatZeroAs\");\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(treatZeroAs)) {\r\n                if (min <= 0) {\r\n                    min = treatZeroAs;\r\n                }\r\n            }\r\n            if (min <= 0) {\r\n                new Error(\"Logarithmic value axis can not have values <= 0.\");\r\n            }\r\n        }\r\n        if (min === 0 && max === 0) {\r\n            max = 0.9;\r\n            min = -0.9;\r\n        }\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(minDefined)) {\r\n            min = minDefined;\r\n        }\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxDefined)) {\r\n            max = maxDefined;\r\n        }\r\n        // meaning no min/max found on series/ranges and no min/max was defined\r\n        if (min === Infinity || max === -Infinity) {\r\n            this.setPrivate(\"minFinal\", undefined);\r\n            this.setPrivate(\"maxFinal\", undefined);\r\n            return;\r\n        }\r\n        if (min > max) {\r\n            [min, max] = [max, min];\r\n        }\r\n        const initialMin = min;\r\n        const initialMax = max;\r\n        // adapter\r\n        let minAdapted = this.adapters.fold(\"min\", min);\r\n        let maxAdapted = this.adapters.fold(\"max\", max);\r\n        this._minRealLog = min;\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(minAdapted)) {\r\n            min = minAdapted;\r\n        }\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxAdapted)) {\r\n            max = maxAdapted;\r\n        }\r\n        // DateAxis does some magic here\r\n        min = this._fixMin(min);\r\n        max = this._fixMax(max);\r\n        // this happens if starLocation and endLocation are 0.5 and DateAxis has only one date\t\t\r\n        if (max - min <= 1 / Math.pow(10, 15)) {\r\n            if (max - min !== 0) {\r\n                this._deltaMinMax = (max - min) / 2;\r\n            }\r\n            else {\r\n                this._getDelta(max);\r\n            }\r\n            min -= this._deltaMinMax;\r\n            max += this._deltaMinMax;\r\n        }\r\n        // add extras\r\n        min -= (max - min) * extraMin;\r\n        max += (max - min) * extraMax;\r\n        if (this.get(\"logarithmic\")) {\r\n            // don't let min go below 0 if real min is >= 0\r\n            if (min < 0 && initialMin >= 0) {\r\n                min = 0;\r\n            }\r\n            // don't let max go above 0 if real max is <= 0\r\n            if (max > 0 && initialMax <= 0) {\r\n                max = 0;\r\n            }\r\n        }\r\n        this._minReal = min;\r\n        this._maxReal = max;\r\n        let strictMinMax = this.get(\"strictMinMax\");\r\n        let strictMinMaxSelection = this.get(\"strictMinMaxSelection\", false);\r\n        if (strictMinMaxSelection) {\r\n            strictMinMax = strictMinMaxSelection;\r\n        }\r\n        let strict = strictMinMax;\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxDefined)) {\r\n            strict = true;\r\n        }\r\n        let gridCount = this.get(\"renderer\").gridCount();\r\n        let minMaxStep = this._adjustMinMax(min, max, gridCount, strict);\r\n        min = minMaxStep.min;\r\n        max = minMaxStep.max;\r\n        // do it for the second time with strict true (importat!)\r\n        minMaxStep = this._adjustMinMax(min, max, gridCount, true);\r\n        min = minMaxStep.min;\r\n        max = minMaxStep.max;\r\n        // return min max if strict\r\n        if (strictMinMax) {\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(minDefined)) {\r\n                min = minDefined;\r\n            }\r\n            else {\r\n                min = this._minReal;\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxDefined)) {\r\n                max = maxDefined;\r\n            }\r\n            else {\r\n                max = this._maxReal;\r\n            }\r\n            if (max - min <= 0.00000001) {\r\n                min -= this._deltaMinMax;\r\n                max += this._deltaMinMax;\r\n            }\r\n            min -= (max - min) * extraMin;\r\n            max += (max - min) * extraMax;\r\n        }\r\n        minAdapted = this.adapters.fold(\"min\", min);\r\n        maxAdapted = this.adapters.fold(\"max\", max);\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(minAdapted)) {\r\n            min = minAdapted;\r\n        }\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxAdapted)) {\r\n            max = maxAdapted;\r\n        }\r\n        if (minDiff == Infinity) {\r\n            minDiff = (max - min);\r\n        }\r\n        // this is to avoid floating point number error\r\n        let decCount = Math.round(Math.abs(Math.log(Math.abs(max - min)) * Math.LOG10E)) + 5;\r\n        min = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(min, decCount);\r\n        max = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(max, decCount);\r\n        const syncWithAxis = this.get(\"syncWithAxis\");\r\n        if (syncWithAxis) {\r\n            minMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate(\"minFinal\", syncWithAxis.getPrivate(\"min\", 0)), syncWithAxis.getPrivate(\"maxFinal\", syncWithAxis.getPrivate(\"max\", 1)), syncWithAxis.getPrivate(\"step\", 1));\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n        }\r\n        this.setPrivateRaw(\"maxZoomFactor\", Math.max(1, Math.ceil((max - min) / minDiff * this.get(\"maxZoomFactor\", 100))));\r\n        this._fixZoomFactor();\r\n        if (this.get(\"logarithmic\")) {\r\n            this._minLogAdjusted = min;\r\n            min = this._minReal;\r\n            max = this._maxReal;\r\n            if (min <= 0) {\r\n                min = initialMin * (1 - Math.min(extraMin, 0.99));\r\n            }\r\n        }\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(min) && _core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(max)) {\r\n            if (this.getPrivate(\"minFinal\") !== min || this.getPrivate(\"maxFinal\") !== max) {\r\n                this.setPrivate(\"minFinal\", min);\r\n                this.setPrivate(\"maxFinal\", max);\r\n                this._saveMinMax(min, max);\r\n                const duration = this.get(\"interpolationDuration\", 0);\r\n                const easing = this.get(\"interpolationEasing\");\r\n                this.animatePrivate({ key: \"min\", to: min, duration, easing });\r\n                this.animatePrivate({ key: \"max\", to: max, duration, easing });\r\n            }\r\n        }\r\n    }\r\n    _fixZoomFactor() {\r\n    }\r\n    _getDelta(max) {\r\n        // the number by which we need to raise 10 to get difference\r\n        let exponent = Math.log(Math.abs(max)) * Math.LOG10E;\r\n        // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n        let power = Math.pow(10, Math.floor(exponent));\r\n        // reduce this number by 10 times\r\n        power = power / 10;\r\n        this._deltaMinMax = power;\r\n    }\r\n    _saveMinMax(_min, _max) {\r\n    }\r\n    _adjustMinMax(min, max, gridCount, strictMode) {\r\n        // will fail if 0\r\n        if (gridCount <= 1) {\r\n            gridCount = 1;\r\n        }\r\n        gridCount = Math.round(gridCount);\r\n        let initialMin = min;\r\n        let initialMax = max;\r\n        let difference = max - min;\r\n        // in case min and max is the same, use max\r\n        if (difference === 0) {\r\n            difference = Math.abs(max);\r\n        }\r\n        // the number by which we need to raise 10 to get difference\r\n        let exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n        // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n        let power = Math.pow(10, Math.floor(exponent));\r\n        // reduce this number by 10 times\r\n        power = power / 10;\r\n        let extra = power;\r\n        if (strictMode) {\r\n            extra = 0;\r\n        }\r\n        // round down min\r\n        if (strictMode) {\r\n            min = Math.floor(min / power) * power;\r\n            // round up max\r\n            max = Math.ceil(max / power) * power;\r\n        }\r\n        else {\r\n            min = Math.ceil(min / power) * power - extra;\r\n            // round up max\r\n            max = Math.floor(max / power) * power + extra;\r\n        }\r\n        // don't let min go below 0 if real min is >= 0\r\n        if (min < 0 && initialMin >= 0) {\r\n            min = 0;\r\n        }\r\n        // don't let max go above 0 if real max is <= 0\r\n        if (max > 0 && initialMax <= 0) {\r\n            max = 0;\r\n        }\r\n        exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n        power = Math.pow(10, Math.floor(exponent));\r\n        power = power / 100; // used to be 10 in v4, but this caused issue that there could be limited number of grids with even very small minGridDistance\r\n        // approximate difference between two grid lines\r\n        let step = Math.ceil((difference / gridCount) / power) * power;\r\n        let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n        // the step should divide by  2, 5, and 10.\r\n        let stepDivisor = Math.ceil(step / stepPower); // number 0 - 10\r\n        if (stepDivisor > 5) {\r\n            stepDivisor = 10;\r\n        }\r\n        else if (stepDivisor <= 5 && stepDivisor > 2) {\r\n            stepDivisor = 5;\r\n        }\r\n        // now get real step\r\n        step = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;\r\n        let maxPrecision = this.get(\"maxPrecision\");\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(maxPrecision)) {\r\n            let ceiledStep = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.ceil(step, maxPrecision);\r\n            if (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) {\r\n                step = ceiledStep;\r\n                if (step == 0) {\r\n                    step = 1;\r\n                }\r\n            }\r\n        }\r\n        let decCount = 0;\r\n        // in case numbers are smaller than 1\r\n        if (stepPower < 1) {\r\n            // exponent is less then 1 too. Count decimals of exponent\r\n            decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;\r\n            // round step\r\n            step = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(step, decCount);\r\n        }\r\n        // final min and max\r\n        let minCount = Math.floor(min / step);\r\n        min = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(step * minCount, decCount);\r\n        let maxCount;\r\n        if (!strictMode) {\r\n            maxCount = Math.ceil(max / step);\r\n        }\r\n        else {\r\n            maxCount = Math.floor(max / step);\r\n        }\r\n        if (maxCount === minCount) {\r\n            maxCount++;\r\n        }\r\n        max = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(step * maxCount, decCount);\r\n        if (max < initialMax) {\r\n            max = max + step;\r\n        }\r\n        if (min > initialMin) {\r\n            min = min - step;\r\n        }\r\n        step = this.fixSmallStep(step);\r\n        return { min: min, max: max, step: step };\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    getTooltipText(position, _adjustPosition) {\r\n        const numberFormat = this.get(\"tooltipNumberFormat\", this.get(\"numberFormat\"));\r\n        const formatter = this.getNumberFormatter();\r\n        const extraDecimals = this.get(\"extraTooltipPrecision\", 0);\r\n        const decimals = this.getPrivate(\"stepDecimalPlaces\", 0) + extraDecimals;\r\n        const value = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(this.positionToValue(position), decimals);\r\n        if (numberFormat) {\r\n            return formatter.format(value, numberFormat);\r\n        }\r\n        else {\r\n            return formatter.format(value, undefined, decimals);\r\n        }\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position) {\r\n        let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n        let value = this.positionToValue(position);\r\n        let index = undefined;\r\n        let oldDiff;\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_6__.each(series.dataItems, (dataItem, i) => {\r\n            const diff = Math.abs(dataItem.get(fieldName) - value);\r\n            if (index === undefined || diff < oldDiff) {\r\n                index = i;\r\n                oldDiff = diff;\r\n            }\r\n        });\r\n        if (index != null) {\r\n            return series.dataItems[index];\r\n        }\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` values.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start value\r\n     * @param  end       End value\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToValues(start, end, duration) {\r\n        const min = this.getPrivate(\"minFinal\", 0);\r\n        const max = this.getPrivate(\"maxFinal\", 0);\r\n        if (this.getPrivate(\"min\") != null && this.getPrivate(\"max\") != null) {\r\n            this.zoom((start - min) / (max - min), (end - min) / (max - min), duration);\r\n        }\r\n    }\r\n    /**\r\n     * Syncs with a target axis.\r\n     *\r\n     * @param  min  Min\r\n     * @param  max  Max\r\n     * @param  step Step\r\n     */\r\n    _syncAxes(min, max, step, syncMin, syncMax, syncStep) {\r\n        let axis = this.get(\"syncWithAxis\");\r\n        if (axis) {\r\n            let count = Math.round(syncMax - syncMin) / syncStep;\r\n            let currentCount = Math.round((max - min) / step);\r\n            let gridCount = this.get(\"renderer\").gridCount();\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(count) && _core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(currentCount)) {\r\n                let synced = false;\r\n                let c = 0;\r\n                let diff = (max - min) * 0.01;\r\n                let omin = min;\r\n                let omax = max;\r\n                let ostep = step;\r\n                while (synced != true) {\r\n                    synced = this._checkSync(omin, omax, ostep, count);\r\n                    c++;\r\n                    if (c > 500) {\r\n                        synced = true;\r\n                    }\r\n                    if (!synced) {\r\n                        if (c / 3 == Math.round(c / 3)) {\r\n                            omin = min - diff * c;\r\n                            if (min >= 0 && omin < 0) {\r\n                                omin = 0;\r\n                            }\r\n                        }\r\n                        else {\r\n                            omax = max + diff * c;\r\n                            if (omax <= 0 && omax > 0) {\r\n                                omax = 0;\r\n                            }\r\n                        }\r\n                        let minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);\r\n                        omin = minMaxStep.min;\r\n                        omax = minMaxStep.max;\r\n                        ostep = minMaxStep.step;\r\n                    }\r\n                    else {\r\n                        min = omin;\r\n                        max = omax;\r\n                        step = ostep;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return { min: min, max: max, step: step };\r\n    }\r\n    /**\r\n     * Returns `true` if axis needs to be resunced with some other axis.\r\n     */\r\n    _checkSync(min, max, step, count) {\r\n        let currentCount = (max - min) / step;\r\n        for (let i = 1; i < count; i++) {\r\n            if (_core_util_Math__WEBPACK_IMPORTED_MODULE_4__.round(currentCount / i, 1) == count || currentCount * i == count) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        let max = this.getPrivate(\"selectionMax\", this.getPrivate(\"max\"));\r\n        let min = this.getPrivate(\"selectionMin\", this.getPrivate(\"min\"));\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(max) && _core_util_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(min)) {\r\n            return this.getPrivate(\"step\", 1) / (max - min);\r\n        }\r\n        return 0.05;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    nextPosition(count) {\r\n        if (count == null) {\r\n            count = 1;\r\n        }\r\n        if (this.get(\"renderer\").getPrivate(\"letter\") == \"Y\") {\r\n            count *= -1;\r\n        }\r\n        let value = this.positionToValue(this.getPrivate(\"tooltipPosition\", 0));\r\n        value += this.getPrivate(\"step\", 1) * count;\r\n        value = _core_util_Math__WEBPACK_IMPORTED_MODULE_4__.fitToRange(value, this.getPrivate(\"selectionMin\", 0), this.getPrivate(\"selectionMax\", 1));\r\n        return this.toGlobalPosition(this.valueToPosition(value));\r\n    }\r\n}\r\nObject.defineProperty(ValueAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ValueAxis\"\r\n});\r\nObject.defineProperty(ValueAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Axis__WEBPACK_IMPORTED_MODULE_0__.Axis.classNames.concat([ValueAxis.className])\r\n});\r\n//# sourceMappingURL=ValueAxis.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvVmFsdWVBeGlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBEO0FBQzVCO0FBQzhCO0FBQ1g7QUFDRTtBQUNGO0FBQ0U7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5RUFBeUU7QUFDbEY7QUFDQTtBQUNPLHdCQUF3Qix1Q0FBSTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsdURBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4REFBYTtBQUNoRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBYyxTQUFTLHFEQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxREFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDREQUFRLG9CQUFvQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsNERBQVEsb0JBQW9CO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkJBQTJCO0FBQ3ZEO0FBQ0E7QUFDQSw0QkFBNEIsZ0NBQWdDO0FBQzVEO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFvQjtBQUNwRDtBQUNBLHVCQUF1QixrREFBVztBQUNsQyx1QkFBdUIsa0RBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGNBQWM7QUFDL0Q7QUFDQTtBQUNBLDRCQUE0QixrREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrREFBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDRCQUE0QixrREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrREFBVztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBYyxTQUFTLHFEQUFjO0FBQ2pEO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFjO0FBQzFDO0FBQ0E7QUFDQSw0QkFBNEIscURBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFnQjtBQUMzQywyQkFBMkIsdURBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFjO0FBQ2xDO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQVc7QUFDbkMsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFjLGVBQWUscURBQWM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQWM7QUFDMUI7QUFDQTtBQUNBLFlBQVkscURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQWM7QUFDMUI7QUFDQTtBQUNBLFlBQVkscURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFjO0FBQzFCO0FBQ0E7QUFDQSxZQUFZLHFEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrREFBVztBQUN6QixjQUFjLGtEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBYyxTQUFTLHFEQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx1Q0FBdUM7QUFDN0Usc0NBQXNDLHVDQUF1QztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBYztBQUMxQiw2QkFBNkIsaURBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrREFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0RBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBYyxXQUFXLHFEQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkMsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBYyxTQUFTLHFEQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVEQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1Q0FBSTtBQUNmLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L2F4ZXMvVmFsdWVBeGlzLmpzPzZiZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUl0ZW0gfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IEF4aXMgfSBmcm9tIFwiLi9BeGlzXCI7XHJcbmltcG9ydCB7IE11bHRpRGlzcG9zZXIgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL01hdGhcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYSB2YWx1ZSBheGlzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jaGFydHMveHktY2hhcnQvYXhlcy92YWx1ZS1heGlzL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmFsdWVBeGlzIGV4dGVuZHMgQXhpcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXJ0eUV4dHJlbWVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RpcnR5U2VsZWN0aW9uRXh0cmVtZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGVsdGFNaW5NYXhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9taW5SZWFsXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tYXhSZWFsXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9taW5SZWFsTG9nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9iYXNlVmFsdWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zeW5jRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX21pbkxvZ0FkanVzdGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHlFeHRyZW1lcygpIHtcclxuICAgICAgICB0aGlzLl9kaXJ0eUV4dHJlbWVzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eVNlbGVjdGlvbkV4dHJlbWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2RpcnR5U2VsZWN0aW9uRXh0cmVtZXMgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzID0gJHV0aWxzLm1lcmdlVGFncyh0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MsIFtcImF4aXNcIl0pO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcIm5hbWVcIiwgXCJ2YWx1ZVwiKTtcclxuICAgICAgICB0aGlzLmFkZFRhZyhcInZhbHVlXCIpO1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInN5bmNXaXRoQXhpc1wiKSkge1xyXG4gICAgICAgICAgICBsZXQgcHJldmlvdXNWYWx1ZSA9IHRoaXMuX3ByZXZTZXR0aW5ncy5zeW5jV2l0aEF4aXM7XHJcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3luY0RwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3luY0RwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc3luY1dpdGhBeGlzID0gdGhpcy5nZXQoXCJzeW5jV2l0aEF4aXNcIik7XHJcbiAgICAgICAgICAgIGlmIChzeW5jV2l0aEF4aXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N5bmNEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICBzeW5jV2l0aEF4aXMub25Qcml2YXRlKFwic2VsZWN0aW9uTWluRmluYWxcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eVNlbGVjdGlvbkV4dHJlbWVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBzeW5jV2l0aEF4aXMub25Qcml2YXRlKFwic2VsZWN0aW9uTWF4RmluYWxcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eVNlbGVjdGlvbkV4dHJlbWVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNvbWVEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtaW5cIikgfHwgdGhpcy5pc0RpcnR5KFwibWF4XCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1heFByZWNpc2lvblwiKSB8fCB0aGlzLmlzRGlydHkoXCJudW1iZXJGb3JtYXRcIikpIHtcclxuICAgICAgICAgICAgc29tZURpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5naG9zdExhYmVsLnNldChcInRleHRcIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaWYgKHRoaXMuX2RpcnR5RXh0cmVtZXMgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJoZWlnaHRcIikgfHwgdGhpcy5pc0RpcnR5KFwibWluXCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1heFwiKSB8fCB0aGlzLmlzRGlydHkoXCJleHRyYU1pblwiKSB8fCB0aGlzLmlzRGlydHkoXCJleHRyYU1heFwiKSB8fCB0aGlzLmlzRGlydHkoXCJsb2dhcml0aG1pY1wiKSB8fCB0aGlzLmlzRGlydHkoXCJ0cmVhdFplcm9Bc1wiKSB8fCB0aGlzLmlzRGlydHkoXCJiYXNlVmFsdWVcIikgfHwgdGhpcy5pc0RpcnR5KFwic3RyaWN0TWluTWF4XCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1heFByZWNpc2lvblwiKSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zaXplRGlydHkgfHwgdGhpcy5fZGlydHlFeHRyZW1lcyB8fCB0aGlzLl92YWx1ZXNEaXJ0eSB8fCBzb21lRGlydHkgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJoZWlnaHRcIikgfHwgdGhpcy5pc0RpcnR5KFwiZXh0cmFNaW5cIikgfHwgdGhpcy5pc0RpcnR5KFwiZXh0cmFNYXhcIikgfHwgdGhpcy5pc0RpcnR5KFwibG9nYXJpdGhtaWNcIikgfHwgdGhpcy5pc0RpcnR5KFwidHJlYXRaZXJvQXNcIikgfHwgdGhpcy5pc0RpcnR5KFwiYmFzZVZhbHVlXCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cmljdE1pbk1heFwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJpY3RNaW5NYXhTZWxlY3Rpb25cIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ2V0TWluTWF4KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5RXh0cmVtZXMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU2l6ZURpcnR5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcnR5U2VsZWN0aW9uRXh0cmVtZXMgJiYgIXRoaXMuX2lzUGFubmluZyAmJiB0aGlzLmdldChcImF1dG9ab29tXCIsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dldFNlbGVjdGlvbk1pbk1heCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVNlbGVjdGlvbkV4dHJlbWVzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2dyb3VwRGF0YSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9zaXplRGlydHkgfHwgdGhpcy5fdmFsdWVzRGlydHkgfHwgdGhpcy5pc0RpcnR5KFwic3RhcnRcIikgfHwgdGhpcy5pc0RpcnR5KFwiZW5kXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtaW5cIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcInNlbGVjdGlvbk1heFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwic2VsZWN0aW9uTWluXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtYXhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcInN0ZXBcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJoZWlnaHRcIikgfHwgdGhpcy5pc0RpcnR5KFwibG9nYXJpdGhtaWNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fcHJlcGFyZUF4aXNJdGVtcygpO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVBeGlzUmFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2Jhc2VWYWx1ZSA9IHRoaXMuYmFzZVZhbHVlKCk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlU2l6ZURpcnR5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zaXplRGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlydHlTZWxlY3Rpb25FeHRyZW1lcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dyb3VwRGF0YSgpIHtcclxuICAgIH1cclxuICAgIF9mb3JtYXRUZXh0KHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgbnVtYmVyRm9ybWF0ID0gdGhpcy5nZXQoXCJudW1iZXJGb3JtYXRcIik7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gdGhpcy5nZXROdW1iZXJGb3JtYXR0ZXIoKTtcclxuICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKG51bWJlckZvcm1hdCkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSwgbnVtYmVyRm9ybWF0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHQgPSBmb3JtYXR0ZXIuZm9ybWF0KHZhbHVlLCB1bmRlZmluZWQsIHRoaXMuZ2V0UHJpdmF0ZShcInN0ZXBEZWNpbWFsUGxhY2VzXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbiAgICBfcHJlcGFyZUF4aXNJdGVtcygpIHtcclxuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLmdldFByaXZhdGUoXCJtaW5cIik7XHJcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5nZXRQcml2YXRlKFwibWF4XCIpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW4pICYmICR0eXBlLmlzTnVtYmVyKG1heCkpIHtcclxuICAgICAgICAgICAgY29uc3QgbG9nYXJpdGhtaWMgPSB0aGlzLmdldChcImxvZ2FyaXRobWljXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGVwID0gdGhpcy5nZXRQcml2YXRlKFwic3RlcFwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uTWluID0gdGhpcy5nZXRQcml2YXRlKFwic2VsZWN0aW9uTWluXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25NYXggPSB0aGlzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NYXhcIikgKyBzdGVwO1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBzZWxlY3Rpb25NaW4gLSBzdGVwO1xyXG4gICAgICAgICAgICBsZXQgZGlmZmVyZW5jZVBvd2VyID0gMTtcclxuICAgICAgICAgICAgbGV0IG1pbkxvZyA9IG1pbjtcclxuICAgICAgICAgICAgaWYgKGxvZ2FyaXRobWljKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX21pbkxvZ0FkanVzdGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgc2VsZWN0aW9uTWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHZhbHVlIDwgc2VsZWN0aW9uTWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHN0ZXA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWluTG9nID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAobWluTG9nIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW5Mb2cgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGVwIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodGhpcy5fbWluUmVhbExvZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxvZyA9IHRoaXMuX21pblJlYWxMb2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5Mb2cgPSBNYXRoLnBvdygxMCwgLTUwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VQb3dlciA9IE1hdGgubG9nKHNlbGVjdGlvbk1heCAtIHN0ZXApICogTWF0aC5MT0cxMEUgLSBNYXRoLmxvZyhtaW5Mb2cpICogTWF0aC5MT0cxMEU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZmVyZW5jZVBvd2VyID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5wb3coMTAsIE1hdGgubG9nKG1pbkxvZykgKiBNYXRoLkxPRzEwRSAtIDUwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLy8gbWlub3IgZ3JpZFxyXG4gICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZ2V0KFwicmVuZGVyZXJcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbm9yTGFiZWxzRW5hYmxlZCA9IHJlbmRlcmVyLmdldChcIm1pbm9yTGFiZWxzRW5hYmxlZFwiKTtcclxuICAgICAgICAgICAgY29uc3QgbWlub3JHcmlkRW5hYmxlZCA9IHJlbmRlcmVyLmdldChcIm1pbm9yR3JpZEVuYWJsZWRcIiwgbWlub3JMYWJlbHNFbmFibGVkKTtcclxuICAgICAgICAgICAgbGV0IHN0ZXBQb3dlciA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nKE1hdGguYWJzKHN0ZXApKSAqIE1hdGguTE9HMTBFKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBBZGp1c3RlZCA9IE1hdGgucm91bmQoc3RlcCAvIHN0ZXBQb3dlcik7XHJcbiAgICAgICAgICAgIGxldCBtaW5vckdyaWRDb3VudCA9IDI7XHJcbiAgICAgICAgICAgIGlmICgkbWF0aC5yb3VuZChzdGVwQWRqdXN0ZWQgLyA1LCAxMCkgJSAxID09IDApIHtcclxuICAgICAgICAgICAgICAgIG1pbm9yR3JpZENvdW50ID0gNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJG1hdGgucm91bmQoc3RlcEFkanVzdGVkIC8gMTAsIDEwKSAlIDEgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbWlub3JHcmlkQ291bnQgPSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbWlub3JTdGVwID0gc3RlcCAvIG1pbm9yR3JpZENvdW50O1xyXG4gICAgICAgICAgICAvLyBlbmQgb2YgbWlub3IgZ3JpZFxyXG4gICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBtID0gMDtcclxuICAgICAgICAgICAgbGV0IHByZXZpb3VzID0gLUluZmluaXR5O1xyXG4gICAgICAgICAgICB3aGlsZSAodmFsdWUgPCBzZWxlY3Rpb25NYXgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtcy5sZW5ndGggPCBpICsgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtID0gbmV3IERhdGFJdGVtKHRoaXMsIHVuZGVmaW5lZCwge30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFJdGVtcy5wdXNoKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlQXNzZXRzKGRhdGFJdGVtLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVEYXRhSXRlbShkYXRhSXRlbSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJ2YWx1ZVwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGRhdGFJdGVtLmdldChcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwidGV4dFwiLCB0aGlzLl9mb3JtYXRUZXh0KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsb2dhcml0aG1pYykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWYWx1ZSArPSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2VQb3dlciA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFZhbHVlID0gTWF0aC5wb3coMTAsIE1hdGgubG9nKG1pbkxvZykgKiBNYXRoLkxPRzEwRSArIGkgLSA1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VmFsdWUgKz0gc3RlcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtaW5vciBncmlkXHJcbiAgICAgICAgICAgICAgICBpZiAobWlub3JHcmlkRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW5vclZhbHVlID0gdmFsdWUgKyBtaW5vclN0ZXA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2FyaXRobWljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlUG93ZXIgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlub3JNaW5NYXhTdGVwID0gdGhpcy5fYWRqdXN0TWluTWF4KHZhbHVlLCBuZXh0VmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yU3RlcCA9IG1pbm9yTWluTWF4U3RlcC5zdGVwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yVmFsdWUgPSB2YWx1ZSArIG1pbm9yU3RlcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1pbm9yVmFsdWUgPCBuZXh0VmFsdWUgLSBzdGVwICogMC4wMDAwMDAwMDAwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlub3JEYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWlub3JEYXRhSXRlbXMubGVuZ3RoIDwgbSArIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yRGF0YUl0ZW0gPSBuZXcgRGF0YUl0ZW0odGhpcywgdW5kZWZpbmVkLCB7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbm9yRGF0YUl0ZW1zLnB1c2gobWlub3JEYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEYXRhSXRlbShtaW5vckRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yRGF0YUl0ZW0gPSB0aGlzLm1pbm9yRGF0YUl0ZW1zW21dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUFzc2V0cyhtaW5vckRhdGFJdGVtLCBbXCJtaW5vclwiXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURhdGFJdGVtKG1pbm9yRGF0YUl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5vckRhdGFJdGVtLnNldFJhdyhcInZhbHVlXCIsIG1pbm9yVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5vckxhYmVsID0gbWlub3JEYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbm9yTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW5vckxhYmVsc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5vckxhYmVsLnNldChcInRleHRcIiwgdGhpcy5fZm9ybWF0VGV4dChtaW5vclZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5vckxhYmVsLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmVwYXJlRGF0YUl0ZW0obWlub3JEYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yVmFsdWUgKz0gbWlub3JTdGVwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMgPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBzdGVwUG93ZXIgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyhzdGVwKSkgKiBNYXRoLkxPRzEwRSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBQb3dlciA8IDEgJiYgIWxvZ2FyaXRobWljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb25lbnQgaXMgbGVzcyB0aGVuIDEgdG9vLiBDb3VudCBkZWNpbWFscyBvZiBleHBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWNDb3VudCA9IE1hdGgucm91bmQoTWF0aC5hYnMoTWF0aC5sb2coTWF0aC5hYnMoc3RlcFBvd2VyKSkgKiBNYXRoLkxPRzEwRSkpICsgMjtcclxuICAgICAgICAgICAgICAgICAgICAvLyByb3VuZCB2YWx1ZSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCBpc3N1ZXNcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICRtYXRoLnJvdW5kKHZhbHVlLCBkZWNDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqIDwgdGhpcy5kYXRhSXRlbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURhdGFJdGVtKHRoaXMuZGF0YUl0ZW1zW2pdLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IG07IGogPCB0aGlzLm1pbm9yRGF0YUl0ZW1zLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVEYXRhSXRlbSh0aGlzLm1pbm9yRGF0YUl0ZW1zW2pdLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5zZXJpZXMsIChzZXJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJpZXMuaW5pdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzLl9tYXJrRGlydHlBeGVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVHaG9zdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wcmVwYXJlRGF0YUl0ZW0oZGF0YUl0ZW0sIGNvdW50KSB7XHJcbiAgICAgICAgbGV0IHJlbmRlcmVyID0gdGhpcy5nZXQoXCJyZW5kZXJlclwiKTtcclxuICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoXCJ2YWx1ZVwiKTtcclxuICAgICAgICBsZXQgZW5kVmFsdWUgPSBkYXRhSXRlbS5nZXQoXCJlbmRWYWx1ZVwiKTtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLnZhbHVlVG9Qb3NpdGlvbih2YWx1ZSk7XHJcbiAgICAgICAgbGV0IGVuZFBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgbGV0IGZpbGxFbmRQb3NpdGlvbiA9IHRoaXMudmFsdWVUb1Bvc2l0aW9uKHZhbHVlICsgdGhpcy5nZXRQcml2YXRlKFwic3RlcFwiKSk7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGVuZFZhbHVlKSkge1xyXG4gICAgICAgICAgICBlbmRQb3NpdGlvbiA9IHRoaXMudmFsdWVUb1Bvc2l0aW9uKGVuZFZhbHVlKTtcclxuICAgICAgICAgICAgZmlsbEVuZFBvc2l0aW9uID0gZW5kUG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJpc1JhbmdlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChlbmRWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsRW5kUG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGFiZWxFbmRQb3NpdGlvbiA9IGVuZFBvc2l0aW9uO1xyXG4gICAgICAgIGxldCBsYWJlbEVuZFZhbHVlID0gZGF0YUl0ZW0uZ2V0KFwibGFiZWxFbmRWYWx1ZVwiKTtcclxuICAgICAgICBpZiAobGFiZWxFbmRWYWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxhYmVsRW5kUG9zaXRpb24gPSB0aGlzLnZhbHVlVG9Qb3NpdGlvbihsYWJlbEVuZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyZXIudXBkYXRlTGFiZWwoZGF0YUl0ZW0uZ2V0KFwibGFiZWxcIiksIHBvc2l0aW9uLCBsYWJlbEVuZFBvc2l0aW9uLCBjb3VudCk7XHJcbiAgICAgICAgY29uc3QgZ3JpZCA9IGRhdGFJdGVtLmdldChcImdyaWRcIik7XHJcbiAgICAgICAgcmVuZGVyZXIudXBkYXRlR3JpZChncmlkLCBwb3NpdGlvbiwgZW5kUG9zaXRpb24pO1xyXG4gICAgICAgIGlmIChncmlkKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLmdldChcImJhc2VWYWx1ZVwiLCAwKSkge1xyXG4gICAgICAgICAgICAgICAgZ3JpZC5hZGRUYWcoXCJiYXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZC5fYXBwbHlUaGVtZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChncmlkLmhhc1RhZyhcImJhc2VcIikpIHtcclxuICAgICAgICAgICAgICAgIGdyaWQucmVtb3ZlVGFnKFwiYmFzZVwiKTtcclxuICAgICAgICAgICAgICAgIGdyaWQuX2FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyZXIudXBkYXRlVGljayhkYXRhSXRlbS5nZXQoXCJ0aWNrXCIpLCBwb3NpdGlvbiwgbGFiZWxFbmRQb3NpdGlvbiwgY291bnQpO1xyXG4gICAgICAgIHJlbmRlcmVyLnVwZGF0ZUZpbGwoZGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIiksIHBvc2l0aW9uLCBmaWxsRW5kUG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NCdWxsZXQoZGF0YUl0ZW0pO1xyXG4gICAgICAgIHJlbmRlcmVyLnVwZGF0ZUJ1bGxldChkYXRhSXRlbS5nZXQoXCJidWxsZXRcIiksIHBvc2l0aW9uLCBlbmRQb3NpdGlvbik7XHJcbiAgICAgICAgaWYgKCFkYXRhSXRlbS5nZXQoXCJpc1JhbmdlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGxSdWxlID0gdGhpcy5nZXQoXCJmaWxsUnVsZVwiKTtcclxuICAgICAgICAgICAgaWYgKGZpbGxSdWxlKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsUnVsZShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlUmFuZ2VDaGFuZ2UoKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGlvbk1pbiA9IHRoaXMucG9zaXRpb25Ub1ZhbHVlKHRoaXMuZ2V0KFwic3RhcnRcIiwgMCkpO1xyXG4gICAgICAgIGxldCBzZWxlY3Rpb25NYXggPSB0aGlzLnBvc2l0aW9uVG9WYWx1ZSh0aGlzLmdldChcImVuZFwiLCAxKSk7XHJcbiAgICAgICAgY29uc3QgZ3JpZENvdW50ID0gdGhpcy5nZXQoXCJyZW5kZXJlclwiKS5ncmlkQ291bnQoKTtcclxuICAgICAgICBsZXQgbWluTWF4U3RlcCA9IHRoaXMuX2FkanVzdE1pbk1heChzZWxlY3Rpb25NaW4sIHNlbGVjdGlvbk1heCwgZ3JpZENvdW50LCB0cnVlKTtcclxuICAgICAgICBsZXQgc3RlcERlY2ltYWxQbGFjZXMgPSAkdXRpbHMuZGVjaW1hbFBsYWNlcyhtaW5NYXhTdGVwLnN0ZXApO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInN0ZXBEZWNpbWFsUGxhY2VzXCIsIHN0ZXBEZWNpbWFsUGxhY2VzKTtcclxuICAgICAgICBzZWxlY3Rpb25NaW4gPSAkbWF0aC5yb3VuZChzZWxlY3Rpb25NaW4sIHN0ZXBEZWNpbWFsUGxhY2VzKTtcclxuICAgICAgICBzZWxlY3Rpb25NYXggPSAkbWF0aC5yb3VuZChzZWxlY3Rpb25NYXgsIHN0ZXBEZWNpbWFsUGxhY2VzKTtcclxuICAgICAgICBtaW5NYXhTdGVwID0gdGhpcy5fYWRqdXN0TWluTWF4KHNlbGVjdGlvbk1pbiwgc2VsZWN0aW9uTWF4LCBncmlkQ291bnQsIHRydWUpO1xyXG4gICAgICAgIGxldCBzdGVwID0gbWluTWF4U3RlcC5zdGVwO1xyXG4gICAgICAgIHNlbGVjdGlvbk1pbiA9IG1pbk1heFN0ZXAubWluO1xyXG4gICAgICAgIHNlbGVjdGlvbk1heCA9IG1pbk1heFN0ZXAubWF4O1xyXG4gICAgICAgIGlmICh0aGlzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NaW5cIikgIT09IHNlbGVjdGlvbk1pbiB8fCB0aGlzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NYXhcIikgIT09IHNlbGVjdGlvbk1heCB8fCB0aGlzLmdldFByaXZhdGUoXCJzdGVwXCIpICE9PSBzdGVwKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBjaGFuZ2UgdG8gc2V0UHJpdmF0ZSwgd2lsbCBjYXVzZSBTT1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJzZWxlY3Rpb25NaW5cIiwgc2VsZWN0aW9uTWluKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwic2VsZWN0aW9uTWF4XCIsIHNlbGVjdGlvbk1heCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInN0ZXBcIiwgc3RlcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBhIHJlbGF0aXZlIHBvc2l0aW9uIHRvIGEgY29ycmVzcG9uZGluZyBudW1lcmljIHZhbHVlIGZyb20gYXhpc1xyXG4gICAgICogc2NhbGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gIFJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgVmFsdWVcclxuICAgICAqL1xyXG4gICAgcG9zaXRpb25Ub1ZhbHVlKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5nZXRQcml2YXRlKFwibWluXCIpO1xyXG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuZ2V0UHJpdmF0ZShcIm1heFwiKTtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KFwibG9nYXJpdGhtaWNcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5wb3coTWF0aC5FLCAocG9zaXRpb24gKiAoKE1hdGgubG9nKG1heCkgKiBNYXRoLkxPRzEwRSAtIE1hdGgubG9nKG1pbikgKiBNYXRoLkxPRzEwRSkpICsgTWF0aC5sb2cobWluKSAqIE1hdGguTE9HMTBFKSAvIE1hdGguTE9HMTBFKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnMgdmFsdWUgdG8gYSByZWxhdGl2ZSBwb3NpdGlvbiBvbiBheGlzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICBWYWx1ZVxyXG4gICAgICogQHJldHVybiAgICAgICAgIFJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIHZhbHVlVG9Qb3NpdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMuZ2V0UHJpdmF0ZShcIm1pblwiKTtcclxuICAgICAgICBjb25zdCBtYXggPSB0aGlzLmdldFByaXZhdGUoXCJtYXhcIik7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldChcImxvZ2FyaXRobWljXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRyZWF0WmVyb0FzID0gdGhpcy5nZXQoXCJ0cmVhdFplcm9Bc1wiKTtcclxuICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih0cmVhdFplcm9BcykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRyZWF0WmVyb0FzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5sb2codmFsdWUpICogTWF0aC5MT0cxMEUgLSBNYXRoLmxvZyhtaW4pICogTWF0aC5MT0cxMEUpIC8gKChNYXRoLmxvZyhtYXgpICogTWF0aC5MT0cxMEUgLSBNYXRoLmxvZyhtaW4pICogTWF0aC5MT0cxMEUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdmFsdWVUb0ZpbmFsUG9zaXRpb24odmFsdWUpIHtcclxuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLmdldFByaXZhdGUoXCJtaW5GaW5hbFwiKTtcclxuICAgICAgICBjb25zdCBtYXggPSB0aGlzLmdldFByaXZhdGUoXCJtYXhGaW5hbFwiKTtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KFwibG9nYXJpdGhtaWNcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHJlYXRaZXJvQXMgPSB0aGlzLmdldChcInRyZWF0WmVyb0FzXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHRyZWF0WmVyb0FzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdHJlYXRaZXJvQXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmxvZyh2YWx1ZSkgKiBNYXRoLkxPRzEwRSAtIE1hdGgubG9nKG1pbikgKiBNYXRoLkxPRzEwRSkgLyAoKE1hdGgubG9nKG1heCkgKiBNYXRoLkxPRzEwRSAtIE1hdGgubG9nKG1pbikgKiBNYXRoLkxPRzEwRSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBYIGNvb3JkaW5hdGUgaW4gcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gc3BlY2lmaWMgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgdmFsdWUgICAgIE51bWVyaWMgdmFsdWVcclxuICAgICAqIEBwYXJhbSAgIGxvY2F0aW9uICBMb2NhdGlvblxyXG4gICAgICogQHBhcmFtICAgYmFzZVZhbHVlIEJhc2UgdmFsdWVcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBYIGNvb3JkaW5hdGVcclxuICAgICAqL1xyXG4gICAgZ2V0WCh2YWx1ZSwgbG9jYXRpb24sIGJhc2VWYWx1ZSkge1xyXG4gICAgICAgIHZhbHVlID0gYmFzZVZhbHVlICsgKHZhbHVlIC0gYmFzZVZhbHVlKSAqIGxvY2F0aW9uO1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy52YWx1ZVRvUG9zaXRpb24odmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5yZW5kZXJlci5wb3NpdGlvblRvQ29vcmRpbmF0ZShwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgWCBjb29yZGluYXRlIGluIHBpeGVscyBjb3JyZXNwb25kaW5nIHRvIHNwZWNpZmljIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgICBOdW1lcmljIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gICBsb2NhdGlvbiAgTG9jYXRpb25cclxuICAgICAqIEBwYXJhbSAgIGJhc2VWYWx1ZSBCYXNlIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgWCBjb29yZGluYXRlXHJcbiAgICAgKi9cclxuICAgIGdldFkodmFsdWUsIGxvY2F0aW9uLCBiYXNlVmFsdWUpIHtcclxuICAgICAgICB2YWx1ZSA9IGJhc2VWYWx1ZSArICh2YWx1ZSAtIGJhc2VWYWx1ZSkgKiBsb2NhdGlvbjtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMudmFsdWVUb1Bvc2l0aW9uKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MucmVuZGVyZXIucG9zaXRpb25Ub0Nvb3JkaW5hdGUocG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldERhdGFJdGVtQ29vcmRpbmF0ZVgoZGF0YUl0ZW0sIGZpZWxkLCBfY2VsbExvY2F0aW9uLCBheGlzTG9jYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MucmVuZGVyZXIucG9zaXRpb25Ub0Nvb3JkaW5hdGUodGhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWChkYXRhSXRlbSwgZmllbGQsIF9jZWxsTG9jYXRpb24sIGF4aXNMb2NhdGlvbikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldERhdGFJdGVtUG9zaXRpb25YKGRhdGFJdGVtLCBmaWVsZCwgX2NlbGxMb2NhdGlvbiwgYXhpc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGZpZWxkKTtcclxuICAgICAgICBjb25zdCBzdGFja1RvSXRlbSA9IGRhdGFJdGVtLmdldChcInN0YWNrVG9JdGVtWFwiKTtcclxuICAgICAgICBpZiAoc3RhY2tUb0l0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VyaWVzID0gZGF0YUl0ZW0uY29tcG9uZW50O1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogYXhpc0xvY2F0aW9uICsgc2VyaWVzLmdldFN0YWNrZWRYVmFsdWVXb3JraW5nKGRhdGFJdGVtLCBmaWVsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2Jhc2VWYWx1ZSArICh2YWx1ZSAtIHRoaXMuX2Jhc2VWYWx1ZSkgKiBheGlzTG9jYXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlVG9Qb3NpdGlvbih2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0RGF0YUl0ZW1Db29yZGluYXRlWShkYXRhSXRlbSwgZmllbGQsIF9jZWxsTG9jYXRpb24sIGF4aXNMb2NhdGlvbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5yZW5kZXJlci5wb3NpdGlvblRvQ29vcmRpbmF0ZSh0aGlzLmdldERhdGFJdGVtUG9zaXRpb25ZKGRhdGFJdGVtLCBmaWVsZCwgX2NlbGxMb2NhdGlvbiwgYXhpc0xvY2F0aW9uKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0RGF0YUl0ZW1Qb3NpdGlvblkoZGF0YUl0ZW0sIGZpZWxkLCBfY2VsbExvY2F0aW9uLCBheGlzTG9jYXRpb24pIHtcclxuICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoZmllbGQpO1xyXG4gICAgICAgIGNvbnN0IHN0YWNrVG9JdGVtID0gZGF0YUl0ZW0uZ2V0KFwic3RhY2tUb0l0ZW1ZXCIpO1xyXG4gICAgICAgIGlmIChzdGFja1RvSXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCBzZXJpZXMgPSBkYXRhSXRlbS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiBheGlzTG9jYXRpb24gKyBzZXJpZXMuZ2V0U3RhY2tlZFlWYWx1ZVdvcmtpbmcoZGF0YUl0ZW0sIGZpZWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fYmFzZVZhbHVlICsgKHZhbHVlIC0gdGhpcy5fYmFzZVZhbHVlKSAqIGF4aXNMb2NhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVUb1Bvc2l0aW9uKHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyByZWxhdGl2ZSBwb3NpdGlvbiBvZiBheGlzJyBgYmFzZVZhbHVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuICBCYXNlIHZhbHVlIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGJhc2VQb3NpdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZVRvUG9zaXRpb24odGhpcy5iYXNlVmFsdWUoKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEJhc2UgdmFsdWUgb2YgdGhlIFtbVmFsdWVBeGlzXV0sIHdoaWNoIGRldGVybWluZXMgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlXHJcbiAgICAgKiB2YWx1ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBCYXNlIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGJhc2VWYWx1ZSgpIHtcclxuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbih0aGlzLmdldFByaXZhdGUoXCJtaW5GaW5hbFwiLCAtSW5maW5pdHkpLCB0aGlzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NaW5cIiwgLUluZmluaXR5KSk7XHJcbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgodGhpcy5nZXRQcml2YXRlKFwibWF4RmluYWxcIiwgSW5maW5pdHkpLCB0aGlzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NYXhcIiwgSW5maW5pdHkpKTtcclxuICAgICAgICBsZXQgYmFzZVZhbHVlID0gdGhpcy5nZXQoXCJiYXNlVmFsdWVcIiwgMCk7XHJcbiAgICAgICAgaWYgKGJhc2VWYWx1ZSA8IG1pbikge1xyXG4gICAgICAgICAgICBiYXNlVmFsdWUgPSBtaW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChiYXNlVmFsdWUgPiBtYXgpIHtcclxuICAgICAgICAgICAgYmFzZVZhbHVlID0gbWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZVZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGNlbGxFbmRWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIGZpeFNtYWxsU3RlcChzdGVwKSB7XHJcbiAgICAgICAgLy8gaGFwcGVucyBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IGVycm9yXHJcbiAgICAgICAgaWYgKDEgKyBzdGVwID09PSAxKSB7XHJcbiAgICAgICAgICAgIHN0ZXAgKj0gMjtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZml4U21hbGxTdGVwKHN0ZXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RlcDtcclxuICAgIH1cclxuICAgIF9maXhNaW4obWluKSB7XHJcbiAgICAgICAgcmV0dXJuIG1pbjtcclxuICAgIH1cclxuICAgIF9maXhNYXgobWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH1cclxuICAgIF9jYWxjdWxhdGVUb3RhbHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiY2FsY3VsYXRlVG90YWxzXCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBzZXJpZXMgPSB0aGlzLnNlcmllc1swXTtcclxuICAgICAgICAgICAgaWYgKHNlcmllcykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBzZXJpZXMuc3RhcnRJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcmllcy5kYXRhSXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4LS07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IHNlcmllcy5lbmRJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRJbmRleCA8IHNlcmllcy5kYXRhSXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmllcy5nZXQoXCJ5QXhpc1wiKSA9PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkID0gXCJ2YWx1ZVlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmMgPSBcInZjeVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZXJpZXMuZ2V0KFwieEF4aXNcIikgPT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IFwidmFsdWVYXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZjID0gXCJ2Y3hcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkV29ya2luZyA9IGZpZWxkICsgXCJXb3JraW5nXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5zZXJpZXMsIChzZXJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcmllcy5nZXQoXCJleGNsdWRlRnJvbVRvdGFsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGZpZWxkV29ya2luZykgKiBzZXJpZXMuZ2V0KHZjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IE1hdGguYWJzKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5zZXJpZXMsIChzZXJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcmllcy5nZXQoXCJleGNsdWRlRnJvbVRvdGFsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGZpZWxkV29ya2luZykgKiBzZXJpZXMuZ2V0KHZjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KChmaWVsZCArIFwiVG90YWxcIiksIHRvdGFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXQoKGZpZWxkICsgXCJTdW1cIiksIHN1bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KChmaWVsZCArIFwiVG90YWxQZXJjZW50XCIpLCB2YWx1ZSAvIHRvdGFsICogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldFNlbGVjdGlvbk1pbk1heCgpIHtcclxuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLmdldFByaXZhdGUoXCJtaW5GaW5hbFwiKTtcclxuICAgICAgICBjb25zdCBtYXggPSB0aGlzLmdldFByaXZhdGUoXCJtYXhGaW5hbFwiKTtcclxuICAgICAgICBjb25zdCBtaW5EZWZpbmVkID0gdGhpcy5nZXQoXCJtaW5cIik7XHJcbiAgICAgICAgY29uc3QgbWF4RGVmaW5lZCA9IHRoaXMuZ2V0KFwibWF4XCIpO1xyXG4gICAgICAgIGxldCBleHRyYU1pbiA9IHRoaXMuZ2V0KFwiZXh0cmFNaW5cIiwgMCk7XHJcbiAgICAgICAgbGV0IGV4dHJhTWF4ID0gdGhpcy5nZXQoXCJleHRyYU1heFwiLCAwKTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJsb2dhcml0aG1pY1wiKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJleHRyYU1pblwiKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYU1pbiA9IDAuMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJleHRyYU1heFwiKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYU1heCA9IDAuMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBncmlkQ291bnQgPSB0aGlzLmdldChcInJlbmRlcmVyXCIpLmdyaWRDb3VudCgpO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblN0cmljdE1pbk1heCA9IHRoaXMuZ2V0KFwic3RyaWN0TWluTWF4U2VsZWN0aW9uXCIpO1xyXG4gICAgICAgIGxldCBzdHJpY3RNaW5NYXggPSB0aGlzLmdldChcInN0cmljdE1pbk1heFwiKTtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluKSAmJiAkdHlwZS5pc051bWJlcihtYXgpKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb25NaW4gPSBtYXg7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb25NYXggPSBtaW47XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuc2VyaWVzLCAoc2VyaWVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNlcmllcy5nZXQoXCJpZ25vcmVNaW5NYXhcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VyaWVzTWluO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXJpZXNNYXg7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0T2ZTZWxlY3Rpb24gPSBzZXJpZXMuZ2V0UHJpdmF0ZShcIm91dE9mU2VsZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJpZXMuZ2V0KFwieEF4aXNcIikgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXRPZlNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pblggPSBzZXJpZXMuZ2V0UHJpdmF0ZShcIm1pblhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4WCA9IHNlcmllcy5nZXRQcml2YXRlKFwibWF4WFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvbHZlcyAjOTAwODVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXJpZXMuc3RhcnRJbmRleCgpICE9IDAgfHwgc2VyaWVzLmVuZEluZGV4KCkgIT0gc2VyaWVzLmRhdGFJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5YID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXNNaW4gPSBzZXJpZXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1pblhcIiwgbWluWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXNNYXggPSBzZXJpZXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1heFhcIiwgbWF4WCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VyaWVzLmdldChcInlBeGlzXCIpID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3V0T2ZTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaW5ZID0gc2VyaWVzLmdldFByaXZhdGUoXCJtaW5ZXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heFkgPSBzZXJpZXMuZ2V0UHJpdmF0ZShcIm1heFlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzb2x2ZXMgIzkwMDg1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzLnN0YXJ0SW5kZXgoKSAhPSAwIHx8IHNlcmllcy5lbmRJbmRleCgpICE9IHNlcmllcy5kYXRhSXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzTWluID0gc2VyaWVzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NaW5ZXCIsIG1pblkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzTWF4ID0gc2VyaWVzLmdldFByaXZhdGUoXCJzZWxlY3Rpb25NYXhZXCIsIG1heFkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VyaWVzLmlzSGlkZGVuKCkgJiYgIXNlcmllcy5pc1Nob3dpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoc2VyaWVzTWluKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gTWF0aC5taW4oc2VsZWN0aW9uTWluLCBzZXJpZXNNaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihzZXJpZXNNYXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NYXggPSBNYXRoLm1heChzZWxlY3Rpb25NYXgsIHNlcmllc01heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmF4aXNSYW5nZXMuZWFjaCgocmFuZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5nZXQoXCJhZmZlY3RzTWluTWF4XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmFuZ2UuZ2V0KFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gTWF0aC5taW4oc2VsZWN0aW9uTWluLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1heCA9IE1hdGgubWF4KHNlbGVjdGlvbk1heCwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJhbmdlLmdldChcImVuZFZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1pbiA9IE1hdGgubWluKHNlbGVjdGlvbk1pbiwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NYXggPSBNYXRoLm1heChzZWxlY3Rpb25NYXgsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uTWluID4gc2VsZWN0aW9uTWF4KSB7XHJcbiAgICAgICAgICAgICAgICBbc2VsZWN0aW9uTWluLCBzZWxlY3Rpb25NYXhdID0gW3NlbGVjdGlvbk1heCwgc2VsZWN0aW9uTWluXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluRGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJpY3RNaW5NYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NaW4gPSBtaW5EZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0cmljdE1pbk1heCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHRoaXMuX21pblJlYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gdGhpcy5fbWluUmVhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4RGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJpY3RNaW5NYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NYXggPSBtYXhEZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWF4ID0gbWF4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0cmljdE1pbk1heCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHRoaXMuX21heFJlYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWF4ID0gdGhpcy5fbWF4UmVhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uTWluID09PSBzZWxlY3Rpb25NYXgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzbWluID0gc2VsZWN0aW9uTWluO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluIC09IHRoaXMuX2RlbHRhTWluTWF4O1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uTWF4ICs9IHRoaXMuX2RlbHRhTWluTWF4O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbk1pbiA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gc21pbiAtIG1pbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQgPSB0aGlzLl9kZWx0YU1pbk1heDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gc21pbiAtIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTWF4ID0gc21pbiArIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaWN0TWluTWF4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBtaW5NYXhTdGVwMiA9IHRoaXMuX2FkanVzdE1pbk1heChzZWxlY3Rpb25NaW4sIHNlbGVjdGlvbk1heCwgZ3JpZENvdW50LCBzdHJpY3RNaW5NYXgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gbWluTWF4U3RlcDIubWluO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uTWF4ID0gbWluTWF4U3RlcDIubWF4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb25NaW5SZWFsID0gc2VsZWN0aW9uTWluO1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0aW9uTWF4UmVhbCA9IHNlbGVjdGlvbk1heDtcclxuICAgICAgICAgICAgc2VsZWN0aW9uTWluIC09IChzZWxlY3Rpb25NYXggLSBzZWxlY3Rpb25NaW4pICogZXh0cmFNaW47XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbk1heCArPSAoc2VsZWN0aW9uTWF4IC0gc2VsZWN0aW9uTWluKSAqIGV4dHJhTWF4O1xyXG4gICAgICAgICAgICBsZXQgbWluTWF4U3RlcCA9IHRoaXMuX2FkanVzdE1pbk1heChzZWxlY3Rpb25NaW4sIHNlbGVjdGlvbk1heCwgZ3JpZENvdW50KTtcclxuICAgICAgICAgICAgc2VsZWN0aW9uTWluID0gbWluTWF4U3RlcC5taW47XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbk1heCA9IG1pbk1heFN0ZXAubWF4O1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25NaW4gPSAkbWF0aC5maXRUb1JhbmdlKHNlbGVjdGlvbk1pbiwgbWluLCBtYXgpO1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25NYXggPSAkbWF0aC5maXRUb1JhbmdlKHNlbGVjdGlvbk1heCwgbWluLCBtYXgpO1xyXG4gICAgICAgICAgICAvLyBkbyBpdCBmb3IgdGhlIHNlY29uZCB0aW1lICFpbXBvcnRhbnRcdFx0XHRcclxuICAgICAgICAgICAgbWluTWF4U3RlcCA9IHRoaXMuX2FkanVzdE1pbk1heChzZWxlY3Rpb25NaW4sIHNlbGVjdGlvbk1heCwgZ3JpZENvdW50LCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKCFzdHJpY3RNaW5NYXgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1pbiA9IG1pbk1heFN0ZXAubWluO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uTWF4ID0gbWluTWF4U3RlcC5tYXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc3luY1dpdGhBeGlzID0gdGhpcy5nZXQoXCJzeW5jV2l0aEF4aXNcIik7XHJcbiAgICAgICAgICAgIGlmIChzeW5jV2l0aEF4aXMpIHtcclxuICAgICAgICAgICAgICAgIG1pbk1heFN0ZXAgPSB0aGlzLl9zeW5jQXhlcyhzZWxlY3Rpb25NaW4sIHNlbGVjdGlvbk1heCwgbWluTWF4U3RlcC5zdGVwLCBzeW5jV2l0aEF4aXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1pbkZpbmFsXCIsIHN5bmNXaXRoQXhpcy5nZXRQcml2YXRlKFwibWluRmluYWxcIiwgMCkpLCBzeW5jV2l0aEF4aXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1heEZpbmFsXCIsIHN5bmNXaXRoQXhpcy5nZXRQcml2YXRlKFwibWF4RmluYWxcIiwgMSkpLCBzeW5jV2l0aEF4aXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvblN0ZXBGaW5hbFwiLCBzeW5jV2l0aEF4aXMuZ2V0UHJpdmF0ZShcInN0ZXBcIiwgMSkpKTtcclxuICAgICAgICAgICAgICAgIGlmIChtaW5NYXhTdGVwLm1pbiA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbk1heFN0ZXAubWluID0gbWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1pbk1heFN0ZXAubWF4ID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluTWF4U3RlcC5tYXggPSBtYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25NaW4gPSBtaW5NYXhTdGVwLm1pbjtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1heCA9IG1pbk1heFN0ZXAubWF4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHJpY3RNaW5NYXgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW5EZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1pbiA9IE1hdGgubWF4KHNlbGVjdGlvbk1pbiwgbWluRGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4RGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NYXggPSBNYXRoLm1pbihzZWxlY3Rpb25NYXgsIG1heERlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb25TdHJpY3RNaW5NYXgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1pbiA9IHNlbGVjdGlvbk1pblJlYWwgLSAoc2VsZWN0aW9uTWF4UmVhbCAtIHNlbGVjdGlvbk1pblJlYWwpICogZXh0cmFNaW47XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25NYXggPSBzZWxlY3Rpb25NYXhSZWFsICsgKHNlbGVjdGlvbk1heFJlYWwgLSBzZWxlY3Rpb25NaW5SZWFsKSAqIGV4dHJhTWF4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImxvZ2FyaXRobWljXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uTWluIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NaW4gPSBzZWxlY3Rpb25NaW5SZWFsICogKDEgLSBNYXRoLm1pbihleHRyYU1pbiwgMC45OSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbk1pbiA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1pbiA9IG1pbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25NYXggPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25NYXggPSBtYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGxlbiA9IE1hdGgubWluKDIwLCBNYXRoLmNlaWwoTWF0aC5sb2codGhpcy5nZXRQcml2YXRlKFwibWF4Wm9vbUZhY3RvclwiLCAxMDApICsgMSkgLyBNYXRoLkxOMTApICsgMik7XHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9ICRtYXRoLnJvdW5kKHRoaXMudmFsdWVUb0ZpbmFsUG9zaXRpb24oc2VsZWN0aW9uTWluKSwgbGVuKTtcclxuICAgICAgICAgICAgbGV0IGVuZCA9ICRtYXRoLnJvdW5kKHRoaXMudmFsdWVUb0ZpbmFsUG9zaXRpb24oc2VsZWN0aW9uTWF4KSwgbGVuKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwic2VsZWN0aW9uTWluRmluYWxcIiwgc2VsZWN0aW9uTWluKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwic2VsZWN0aW9uTWF4RmluYWxcIiwgc2VsZWN0aW9uTWF4KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwic2VsZWN0aW9uU3RlcEZpbmFsXCIsIG1pbk1heFN0ZXAuc3RlcCk7XHJcbiAgICAgICAgICAgIHRoaXMuem9vbShzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0TWluTWF4KCkge1xyXG4gICAgICAgIGxldCBtaW5EZWZpbmVkID0gdGhpcy5nZXQoXCJtaW5cIik7XHJcbiAgICAgICAgbGV0IG1heERlZmluZWQgPSB0aGlzLmdldChcIm1heFwiKTtcclxuICAgICAgICBsZXQgbWluID0gSW5maW5pdHk7XHJcbiAgICAgICAgbGV0IG1heCA9IC1JbmZpbml0eTtcclxuICAgICAgICBsZXQgZXh0cmFNaW4gPSB0aGlzLmdldChcImV4dHJhTWluXCIsIDApO1xyXG4gICAgICAgIGxldCBleHRyYU1heCA9IHRoaXMuZ2V0KFwiZXh0cmFNYXhcIiwgMCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwibG9nYXJpdGhtaWNcIikpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZXh0cmFNaW5cIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZXh0cmFNaW4gPSAwLjE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZXh0cmFNYXhcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZXh0cmFNYXggPSAwLjI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1pbkRpZmYgPSBJbmZpbml0eTtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLnNlcmllcywgKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlcmllcy5nZXQoXCJpZ25vcmVNaW5NYXhcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXJpZXNNaW47XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VyaWVzTWF4O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcmllcy5nZXQoXCJ4QXhpc1wiKSA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc01pbiA9IHNlcmllcy5nZXRQcml2YXRlKFwibWluWFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXJpZXNNYXggPSBzZXJpZXMuZ2V0UHJpdmF0ZShcIm1heFhcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZXJpZXMuZ2V0KFwieUF4aXNcIikgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXJpZXNNaW4gPSBzZXJpZXMuZ2V0UHJpdmF0ZShcIm1pbllcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzTWF4ID0gc2VyaWVzLmdldFByaXZhdGUoXCJtYXhZXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHNlcmllc01pbikgJiYgJHR5cGUuaXNOdW1iZXIoc2VyaWVzTWF4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgc2VyaWVzTWluKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHNlcmllc01heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZmYgPSBzZXJpZXNNYXggLSBzZXJpZXNNaW47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gTWF0aC5hYnMoc2VyaWVzTWF4IC8gMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPCBtaW5EaWZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBkaWZmO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYXhpc1Jhbmdlcy5lYWNoKChyYW5nZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmFuZ2UuZ2V0KFwiYWZmZWN0c01pbk1heFwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmFuZ2UuZ2V0KFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSByYW5nZS5nZXQoXCJlbmRWYWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJsb2dhcml0aG1pY1wiKSkge1xyXG4gICAgICAgICAgICBsZXQgdHJlYXRaZXJvQXMgPSB0aGlzLmdldChcInRyZWF0WmVyb0FzXCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodHJlYXRaZXJvQXMpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWluIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSB0cmVhdFplcm9BcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWluIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIG5ldyBFcnJvcihcIkxvZ2FyaXRobWljIHZhbHVlIGF4aXMgY2FuIG5vdCBoYXZlIHZhbHVlcyA8PSAwLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWluID09PSAwICYmIG1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICBtYXggPSAwLjk7XHJcbiAgICAgICAgICAgIG1pbiA9IC0wLjk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW5EZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBtaW4gPSBtaW5EZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4RGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgbWF4ID0gbWF4RGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbWVhbmluZyBubyBtaW4vbWF4IGZvdW5kIG9uIHNlcmllcy9yYW5nZXMgYW5kIG5vIG1pbi9tYXggd2FzIGRlZmluZWRcclxuICAgICAgICBpZiAobWluID09PSBJbmZpbml0eSB8fCBtYXggPT09IC1JbmZpbml0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJtaW5GaW5hbFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJtYXhGaW5hbFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtaW4gPiBtYXgpIHtcclxuICAgICAgICAgICAgW21pbiwgbWF4XSA9IFttYXgsIG1pbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluaXRpYWxNaW4gPSBtaW47XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE1heCA9IG1heDtcclxuICAgICAgICAvLyBhZGFwdGVyXHJcbiAgICAgICAgbGV0IG1pbkFkYXB0ZWQgPSB0aGlzLmFkYXB0ZXJzLmZvbGQoXCJtaW5cIiwgbWluKTtcclxuICAgICAgICBsZXQgbWF4QWRhcHRlZCA9IHRoaXMuYWRhcHRlcnMuZm9sZChcIm1heFwiLCBtYXgpO1xyXG4gICAgICAgIHRoaXMuX21pblJlYWxMb2cgPSBtaW47XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pbkFkYXB0ZWQpKSB7XHJcbiAgICAgICAgICAgIG1pbiA9IG1pbkFkYXB0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhBZGFwdGVkKSkge1xyXG4gICAgICAgICAgICBtYXggPSBtYXhBZGFwdGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEYXRlQXhpcyBkb2VzIHNvbWUgbWFnaWMgaGVyZVxyXG4gICAgICAgIG1pbiA9IHRoaXMuX2ZpeE1pbihtaW4pO1xyXG4gICAgICAgIG1heCA9IHRoaXMuX2ZpeE1heChtYXgpO1xyXG4gICAgICAgIC8vIHRoaXMgaGFwcGVucyBpZiBzdGFyTG9jYXRpb24gYW5kIGVuZExvY2F0aW9uIGFyZSAwLjUgYW5kIERhdGVBeGlzIGhhcyBvbmx5IG9uZSBkYXRlXHRcdFxyXG4gICAgICAgIGlmIChtYXggLSBtaW4gPD0gMSAvIE1hdGgucG93KDEwLCAxNSkpIHtcclxuICAgICAgICAgICAgaWYgKG1heCAtIG1pbiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFNaW5NYXggPSAobWF4IC0gbWluKSAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXREZWx0YShtYXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1pbiAtPSB0aGlzLl9kZWx0YU1pbk1heDtcclxuICAgICAgICAgICAgbWF4ICs9IHRoaXMuX2RlbHRhTWluTWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGQgZXh0cmFzXHJcbiAgICAgICAgbWluIC09IChtYXggLSBtaW4pICogZXh0cmFNaW47XHJcbiAgICAgICAgbWF4ICs9IChtYXggLSBtaW4pICogZXh0cmFNYXg7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwibG9nYXJpdGhtaWNcIikpIHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgbGV0IG1pbiBnbyBiZWxvdyAwIGlmIHJlYWwgbWluIGlzID49IDBcclxuICAgICAgICAgICAgaWYgKG1pbiA8IDAgJiYgaW5pdGlhbE1pbiA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRvbid0IGxldCBtYXggZ28gYWJvdmUgMCBpZiByZWFsIG1heCBpcyA8PSAwXHJcbiAgICAgICAgICAgIGlmIChtYXggPiAwICYmIGluaXRpYWxNYXggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbWF4ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9taW5SZWFsID0gbWluO1xyXG4gICAgICAgIHRoaXMuX21heFJlYWwgPSBtYXg7XHJcbiAgICAgICAgbGV0IHN0cmljdE1pbk1heCA9IHRoaXMuZ2V0KFwic3RyaWN0TWluTWF4XCIpO1xyXG4gICAgICAgIGxldCBzdHJpY3RNaW5NYXhTZWxlY3Rpb24gPSB0aGlzLmdldChcInN0cmljdE1pbk1heFNlbGVjdGlvblwiLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHN0cmljdE1pbk1heFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICBzdHJpY3RNaW5NYXggPSBzdHJpY3RNaW5NYXhTZWxlY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdHJpY3QgPSBzdHJpY3RNaW5NYXg7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1heERlZmluZWQpKSB7XHJcbiAgICAgICAgICAgIHN0cmljdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBncmlkQ291bnQgPSB0aGlzLmdldChcInJlbmRlcmVyXCIpLmdyaWRDb3VudCgpO1xyXG4gICAgICAgIGxldCBtaW5NYXhTdGVwID0gdGhpcy5fYWRqdXN0TWluTWF4KG1pbiwgbWF4LCBncmlkQ291bnQsIHN0cmljdCk7XHJcbiAgICAgICAgbWluID0gbWluTWF4U3RlcC5taW47XHJcbiAgICAgICAgbWF4ID0gbWluTWF4U3RlcC5tYXg7XHJcbiAgICAgICAgLy8gZG8gaXQgZm9yIHRoZSBzZWNvbmQgdGltZSB3aXRoIHN0cmljdCB0cnVlIChpbXBvcnRhdCEpXHJcbiAgICAgICAgbWluTWF4U3RlcCA9IHRoaXMuX2FkanVzdE1pbk1heChtaW4sIG1heCwgZ3JpZENvdW50LCB0cnVlKTtcclxuICAgICAgICBtaW4gPSBtaW5NYXhTdGVwLm1pbjtcclxuICAgICAgICBtYXggPSBtaW5NYXhTdGVwLm1heDtcclxuICAgICAgICAvLyByZXR1cm4gbWluIG1heCBpZiBzdHJpY3RcclxuICAgICAgICBpZiAoc3RyaWN0TWluTWF4KSB7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW5EZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gbWluRGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IHRoaXMuX21pblJlYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1heERlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSBtYXhEZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5fbWF4UmVhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWF4IC0gbWluIDw9IDAuMDAwMDAwMDEpIHtcclxuICAgICAgICAgICAgICAgIG1pbiAtPSB0aGlzLl9kZWx0YU1pbk1heDtcclxuICAgICAgICAgICAgICAgIG1heCArPSB0aGlzLl9kZWx0YU1pbk1heDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtaW4gLT0gKG1heCAtIG1pbikgKiBleHRyYU1pbjtcclxuICAgICAgICAgICAgbWF4ICs9IChtYXggLSBtaW4pICogZXh0cmFNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1pbkFkYXB0ZWQgPSB0aGlzLmFkYXB0ZXJzLmZvbGQoXCJtaW5cIiwgbWluKTtcclxuICAgICAgICBtYXhBZGFwdGVkID0gdGhpcy5hZGFwdGVycy5mb2xkKFwibWF4XCIsIG1heCk7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pbkFkYXB0ZWQpKSB7XHJcbiAgICAgICAgICAgIG1pbiA9IG1pbkFkYXB0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhBZGFwdGVkKSkge1xyXG4gICAgICAgICAgICBtYXggPSBtYXhBZGFwdGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWluRGlmZiA9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICBtaW5EaWZmID0gKG1heCAtIG1pbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMgaXMgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGVycm9yXHJcbiAgICAgICAgbGV0IGRlY0NvdW50ID0gTWF0aC5yb3VuZChNYXRoLmFicyhNYXRoLmxvZyhNYXRoLmFicyhtYXggLSBtaW4pKSAqIE1hdGguTE9HMTBFKSkgKyA1O1xyXG4gICAgICAgIG1pbiA9ICRtYXRoLnJvdW5kKG1pbiwgZGVjQ291bnQpO1xyXG4gICAgICAgIG1heCA9ICRtYXRoLnJvdW5kKG1heCwgZGVjQ291bnQpO1xyXG4gICAgICAgIGNvbnN0IHN5bmNXaXRoQXhpcyA9IHRoaXMuZ2V0KFwic3luY1dpdGhBeGlzXCIpO1xyXG4gICAgICAgIGlmIChzeW5jV2l0aEF4aXMpIHtcclxuICAgICAgICAgICAgbWluTWF4U3RlcCA9IHRoaXMuX3N5bmNBeGVzKG1pbiwgbWF4LCBtaW5NYXhTdGVwLnN0ZXAsIHN5bmNXaXRoQXhpcy5nZXRQcml2YXRlKFwibWluRmluYWxcIiwgc3luY1dpdGhBeGlzLmdldFByaXZhdGUoXCJtaW5cIiwgMCkpLCBzeW5jV2l0aEF4aXMuZ2V0UHJpdmF0ZShcIm1heEZpbmFsXCIsIHN5bmNXaXRoQXhpcy5nZXRQcml2YXRlKFwibWF4XCIsIDEpKSwgc3luY1dpdGhBeGlzLmdldFByaXZhdGUoXCJzdGVwXCIsIDEpKTtcclxuICAgICAgICAgICAgbWluID0gbWluTWF4U3RlcC5taW47XHJcbiAgICAgICAgICAgIG1heCA9IG1pbk1heFN0ZXAubWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJtYXhab29tRmFjdG9yXCIsIE1hdGgubWF4KDEsIE1hdGguY2VpbCgobWF4IC0gbWluKSAvIG1pbkRpZmYgKiB0aGlzLmdldChcIm1heFpvb21GYWN0b3JcIiwgMTAwKSkpKTtcclxuICAgICAgICB0aGlzLl9maXhab29tRmFjdG9yKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwibG9nYXJpdGhtaWNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWluTG9nQWRqdXN0ZWQgPSBtaW47XHJcbiAgICAgICAgICAgIG1pbiA9IHRoaXMuX21pblJlYWw7XHJcbiAgICAgICAgICAgIG1heCA9IHRoaXMuX21heFJlYWw7XHJcbiAgICAgICAgICAgIGlmIChtaW4gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gaW5pdGlhbE1pbiAqICgxIC0gTWF0aC5taW4oZXh0cmFNaW4sIDAuOTkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluKSAmJiAkdHlwZS5pc051bWJlcihtYXgpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFByaXZhdGUoXCJtaW5GaW5hbFwiKSAhPT0gbWluIHx8IHRoaXMuZ2V0UHJpdmF0ZShcIm1heEZpbmFsXCIpICE9PSBtYXgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcIm1pbkZpbmFsXCIsIG1pbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJtYXhGaW5hbFwiLCBtYXgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2F2ZU1pbk1heChtaW4sIG1heCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZ2V0KFwiaW50ZXJwb2xhdGlvbkR1cmF0aW9uXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWFzaW5nID0gdGhpcy5nZXQoXCJpbnRlcnBvbGF0aW9uRWFzaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlUHJpdmF0ZSh7IGtleTogXCJtaW5cIiwgdG86IG1pbiwgZHVyYXRpb24sIGVhc2luZyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVByaXZhdGUoeyBrZXk6IFwibWF4XCIsIHRvOiBtYXgsIGR1cmF0aW9uLCBlYXNpbmcgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZml4Wm9vbUZhY3RvcigpIHtcclxuICAgIH1cclxuICAgIF9nZXREZWx0YShtYXgpIHtcclxuICAgICAgICAvLyB0aGUgbnVtYmVyIGJ5IHdoaWNoIHdlIG5lZWQgdG8gcmFpc2UgMTAgdG8gZ2V0IGRpZmZlcmVuY2VcclxuICAgICAgICBsZXQgZXhwb25lbnQgPSBNYXRoLmxvZyhNYXRoLmFicyhtYXgpKSAqIE1hdGguTE9HMTBFO1xyXG4gICAgICAgIC8vIGhlcmUgd2UgZmluZCBhIG51bWJlciB3aGljaCBpcyBwb3dlciBvZiAxMCBhbmQgaGFzIHRoZSBzYW1lIGNvdW50IG9mIG51bWJlcnMgYXMgZGlmZmVyZW5jZSBoYXNcclxuICAgICAgICBsZXQgcG93ZXIgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihleHBvbmVudCkpO1xyXG4gICAgICAgIC8vIHJlZHVjZSB0aGlzIG51bWJlciBieSAxMCB0aW1lc1xyXG4gICAgICAgIHBvd2VyID0gcG93ZXIgLyAxMDtcclxuICAgICAgICB0aGlzLl9kZWx0YU1pbk1heCA9IHBvd2VyO1xyXG4gICAgfVxyXG4gICAgX3NhdmVNaW5NYXgoX21pbiwgX21heCkge1xyXG4gICAgfVxyXG4gICAgX2FkanVzdE1pbk1heChtaW4sIG1heCwgZ3JpZENvdW50LCBzdHJpY3RNb2RlKSB7XHJcbiAgICAgICAgLy8gd2lsbCBmYWlsIGlmIDBcclxuICAgICAgICBpZiAoZ3JpZENvdW50IDw9IDEpIHtcclxuICAgICAgICAgICAgZ3JpZENvdW50ID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ3JpZENvdW50ID0gTWF0aC5yb3VuZChncmlkQ291bnQpO1xyXG4gICAgICAgIGxldCBpbml0aWFsTWluID0gbWluO1xyXG4gICAgICAgIGxldCBpbml0aWFsTWF4ID0gbWF4O1xyXG4gICAgICAgIGxldCBkaWZmZXJlbmNlID0gbWF4IC0gbWluO1xyXG4gICAgICAgIC8vIGluIGNhc2UgbWluIGFuZCBtYXggaXMgdGhlIHNhbWUsIHVzZSBtYXhcclxuICAgICAgICBpZiAoZGlmZmVyZW5jZSA9PT0gMCkge1xyXG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gTWF0aC5hYnMobWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhlIG51bWJlciBieSB3aGljaCB3ZSBuZWVkIHRvIHJhaXNlIDEwIHRvIGdldCBkaWZmZXJlbmNlXHJcbiAgICAgICAgbGV0IGV4cG9uZW50ID0gTWF0aC5sb2coTWF0aC5hYnMoZGlmZmVyZW5jZSkpICogTWF0aC5MT0cxMEU7XHJcbiAgICAgICAgLy8gaGVyZSB3ZSBmaW5kIGEgbnVtYmVyIHdoaWNoIGlzIHBvd2VyIG9mIDEwIGFuZCBoYXMgdGhlIHNhbWUgY291bnQgb2YgbnVtYmVycyBhcyBkaWZmZXJlbmNlIGhhc1xyXG4gICAgICAgIGxldCBwb3dlciA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKGV4cG9uZW50KSk7XHJcbiAgICAgICAgLy8gcmVkdWNlIHRoaXMgbnVtYmVyIGJ5IDEwIHRpbWVzXHJcbiAgICAgICAgcG93ZXIgPSBwb3dlciAvIDEwO1xyXG4gICAgICAgIGxldCBleHRyYSA9IHBvd2VyO1xyXG4gICAgICAgIGlmIChzdHJpY3RNb2RlKSB7XHJcbiAgICAgICAgICAgIGV4dHJhID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcm91bmQgZG93biBtaW5cclxuICAgICAgICBpZiAoc3RyaWN0TW9kZSkge1xyXG4gICAgICAgICAgICBtaW4gPSBNYXRoLmZsb29yKG1pbiAvIHBvd2VyKSAqIHBvd2VyO1xyXG4gICAgICAgICAgICAvLyByb3VuZCB1cCBtYXhcclxuICAgICAgICAgICAgbWF4ID0gTWF0aC5jZWlsKG1heCAvIHBvd2VyKSAqIHBvd2VyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbiAvIHBvd2VyKSAqIHBvd2VyIC0gZXh0cmE7XHJcbiAgICAgICAgICAgIC8vIHJvdW5kIHVwIG1heFxyXG4gICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCAvIHBvd2VyKSAqIHBvd2VyICsgZXh0cmE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRvbid0IGxldCBtaW4gZ28gYmVsb3cgMCBpZiByZWFsIG1pbiBpcyA+PSAwXHJcbiAgICAgICAgaWYgKG1pbiA8IDAgJiYgaW5pdGlhbE1pbiA+PSAwKSB7XHJcbiAgICAgICAgICAgIG1pbiA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRvbid0IGxldCBtYXggZ28gYWJvdmUgMCBpZiByZWFsIG1heCBpcyA8PSAwXHJcbiAgICAgICAgaWYgKG1heCA+IDAgJiYgaW5pdGlhbE1heCA8PSAwKSB7XHJcbiAgICAgICAgICAgIG1heCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9uZW50ID0gTWF0aC5sb2coTWF0aC5hYnMoZGlmZmVyZW5jZSkpICogTWF0aC5MT0cxMEU7XHJcbiAgICAgICAgcG93ZXIgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihleHBvbmVudCkpO1xyXG4gICAgICAgIHBvd2VyID0gcG93ZXIgLyAxMDA7IC8vIHVzZWQgdG8gYmUgMTAgaW4gdjQsIGJ1dCB0aGlzIGNhdXNlZCBpc3N1ZSB0aGF0IHRoZXJlIGNvdWxkIGJlIGxpbWl0ZWQgbnVtYmVyIG9mIGdyaWRzIHdpdGggZXZlbiB2ZXJ5IHNtYWxsIG1pbkdyaWREaXN0YW5jZVxyXG4gICAgICAgIC8vIGFwcHJveGltYXRlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gZ3JpZCBsaW5lc1xyXG4gICAgICAgIGxldCBzdGVwID0gTWF0aC5jZWlsKChkaWZmZXJlbmNlIC8gZ3JpZENvdW50KSAvIHBvd2VyKSAqIHBvd2VyO1xyXG4gICAgICAgIGxldCBzdGVwUG93ZXIgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyhzdGVwKSkgKiBNYXRoLkxPRzEwRSkpO1xyXG4gICAgICAgIC8vIHRoZSBzdGVwIHNob3VsZCBkaXZpZGUgYnkgIDIsIDUsIGFuZCAxMC5cclxuICAgICAgICBsZXQgc3RlcERpdmlzb3IgPSBNYXRoLmNlaWwoc3RlcCAvIHN0ZXBQb3dlcik7IC8vIG51bWJlciAwIC0gMTBcclxuICAgICAgICBpZiAoc3RlcERpdmlzb3IgPiA1KSB7XHJcbiAgICAgICAgICAgIHN0ZXBEaXZpc29yID0gMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN0ZXBEaXZpc29yIDw9IDUgJiYgc3RlcERpdmlzb3IgPiAyKSB7XHJcbiAgICAgICAgICAgIHN0ZXBEaXZpc29yID0gNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbm93IGdldCByZWFsIHN0ZXBcclxuICAgICAgICBzdGVwID0gTWF0aC5jZWlsKHN0ZXAgLyAoc3RlcFBvd2VyICogc3RlcERpdmlzb3IpKSAqIHN0ZXBQb3dlciAqIHN0ZXBEaXZpc29yO1xyXG4gICAgICAgIGxldCBtYXhQcmVjaXNpb24gPSB0aGlzLmdldChcIm1heFByZWNpc2lvblwiKTtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4UHJlY2lzaW9uKSkge1xyXG4gICAgICAgICAgICBsZXQgY2VpbGVkU3RlcCA9ICRtYXRoLmNlaWwoc3RlcCwgbWF4UHJlY2lzaW9uKTtcclxuICAgICAgICAgICAgaWYgKG1heFByZWNpc2lvbiA8IE51bWJlci5NQVhfVkFMVUUgJiYgc3RlcCAhPT0gY2VpbGVkU3RlcCkge1xyXG4gICAgICAgICAgICAgICAgc3RlcCA9IGNlaWxlZFN0ZXA7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRlY0NvdW50ID0gMDtcclxuICAgICAgICAvLyBpbiBjYXNlIG51bWJlcnMgYXJlIHNtYWxsZXIgdGhhbiAxXHJcbiAgICAgICAgaWYgKHN0ZXBQb3dlciA8IDEpIHtcclxuICAgICAgICAgICAgLy8gZXhwb25lbnQgaXMgbGVzcyB0aGVuIDEgdG9vLiBDb3VudCBkZWNpbWFscyBvZiBleHBvbmVudFxyXG4gICAgICAgICAgICBkZWNDb3VudCA9IE1hdGgucm91bmQoTWF0aC5hYnMoTWF0aC5sb2coTWF0aC5hYnMoc3RlcFBvd2VyKSkgKiBNYXRoLkxPRzEwRSkpICsgMTtcclxuICAgICAgICAgICAgLy8gcm91bmQgc3RlcFxyXG4gICAgICAgICAgICBzdGVwID0gJG1hdGgucm91bmQoc3RlcCwgZGVjQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmaW5hbCBtaW4gYW5kIG1heFxyXG4gICAgICAgIGxldCBtaW5Db3VudCA9IE1hdGguZmxvb3IobWluIC8gc3RlcCk7XHJcbiAgICAgICAgbWluID0gJG1hdGgucm91bmQoc3RlcCAqIG1pbkNvdW50LCBkZWNDb3VudCk7XHJcbiAgICAgICAgbGV0IG1heENvdW50O1xyXG4gICAgICAgIGlmICghc3RyaWN0TW9kZSkge1xyXG4gICAgICAgICAgICBtYXhDb3VudCA9IE1hdGguY2VpbChtYXggLyBzdGVwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1heENvdW50ID0gTWF0aC5mbG9vcihtYXggLyBzdGVwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1heENvdW50ID09PSBtaW5Db3VudCkge1xyXG4gICAgICAgICAgICBtYXhDb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYXggPSAkbWF0aC5yb3VuZChzdGVwICogbWF4Q291bnQsIGRlY0NvdW50KTtcclxuICAgICAgICBpZiAobWF4IDwgaW5pdGlhbE1heCkge1xyXG4gICAgICAgICAgICBtYXggPSBtYXggKyBzdGVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWluID4gaW5pdGlhbE1pbikge1xyXG4gICAgICAgICAgICBtaW4gPSBtaW4gLSBzdGVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGVwID0gdGhpcy5maXhTbWFsbFN0ZXAoc3RlcCk7XHJcbiAgICAgICAgcmV0dXJuIHsgbWluOiBtaW4sIG1heDogbWF4LCBzdGVwOiBzdGVwIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGV4dCB0byBiZSB1c2VkIGluIGFuIGF4aXMgdG9vbHRpcCBmb3Igc3BlY2lmaWMgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gIFBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgVG9vbHRpcCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIGdldFRvb2x0aXBUZXh0KHBvc2l0aW9uLCBfYWRqdXN0UG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCBudW1iZXJGb3JtYXQgPSB0aGlzLmdldChcInRvb2x0aXBOdW1iZXJGb3JtYXRcIiwgdGhpcy5nZXQoXCJudW1iZXJGb3JtYXRcIikpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IHRoaXMuZ2V0TnVtYmVyRm9ybWF0dGVyKCk7XHJcbiAgICAgICAgY29uc3QgZXh0cmFEZWNpbWFscyA9IHRoaXMuZ2V0KFwiZXh0cmFUb29sdGlwUHJlY2lzaW9uXCIsIDApO1xyXG4gICAgICAgIGNvbnN0IGRlY2ltYWxzID0gdGhpcy5nZXRQcml2YXRlKFwic3RlcERlY2ltYWxQbGFjZXNcIiwgMCkgKyBleHRyYURlY2ltYWxzO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJG1hdGgucm91bmQodGhpcy5wb3NpdGlvblRvVmFsdWUocG9zaXRpb24pLCBkZWNpbWFscyk7XHJcbiAgICAgICAgaWYgKG51bWJlckZvcm1hdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSwgbnVtYmVyRm9ybWF0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KHZhbHVlLCB1bmRlZmluZWQsIGRlY2ltYWxzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBkYXRhIGl0ZW0gZnJvbSBzZXJpZXMgdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBgcG9zaXRpb25gLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHNlcmllcyAgICBTZXJpZXNcclxuICAgICAqIEBwYXJhbSAgIHBvc2l0aW9uICBSZWxhdGl2ZSBwb3NpdGlvblxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIERhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBnZXRTZXJpZXNJdGVtKHNlcmllcywgcG9zaXRpb24pIHtcclxuICAgICAgICBsZXQgZmllbGROYW1lID0gKHRoaXMuZ2V0UHJpdmF0ZShcIm5hbWVcIikgKyB0aGlzLmdldChcInJlbmRlcmVyXCIpLmdldFByaXZhdGUoXCJsZXR0ZXJcIikpO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMucG9zaXRpb25Ub1ZhbHVlKHBvc2l0aW9uKTtcclxuICAgICAgICBsZXQgaW5kZXggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IG9sZERpZmY7XHJcbiAgICAgICAgJGFycmF5LmVhY2goc2VyaWVzLmRhdGFJdGVtcywgKGRhdGFJdGVtLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyhkYXRhSXRlbS5nZXQoZmllbGROYW1lKSAtIHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQgfHwgZGlmZiA8IG9sZERpZmYpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIG9sZERpZmYgPSBkaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlcmllcy5kYXRhSXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogWm9vbXMgdGhlIGF4aXMgdG8gc3BlY2lmaWMgYHN0YXJ0YCBhbmQgYGVuZGAgdmFsdWVzLlxyXG4gICAgICpcclxuICAgICAqIE9wdGlvbmFsIGBkdXJhdGlvbmAgc3BlY2lmaWVzIGR1cmF0aW9uIG9mIHpvb20gYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHN0YXJ0ICAgICBTdGFydCB2YWx1ZVxyXG4gICAgICogQHBhcmFtICBlbmQgICAgICAgRW5kIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gIGR1cmF0aW9uICBEdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqL1xyXG4gICAgem9vbVRvVmFsdWVzKHN0YXJ0LCBlbmQsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5nZXRQcml2YXRlKFwibWluRmluYWxcIiwgMCk7XHJcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5nZXRQcml2YXRlKFwibWF4RmluYWxcIiwgMCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UHJpdmF0ZShcIm1pblwiKSAhPSBudWxsICYmIHRoaXMuZ2V0UHJpdmF0ZShcIm1heFwiKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuem9vbSgoc3RhcnQgLSBtaW4pIC8gKG1heCAtIG1pbiksIChlbmQgLSBtaW4pIC8gKG1heCAtIG1pbiksIGR1cmF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNzIHdpdGggYSB0YXJnZXQgYXhpcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIG1pbiAgTWluXHJcbiAgICAgKiBAcGFyYW0gIG1heCAgTWF4XHJcbiAgICAgKiBAcGFyYW0gIHN0ZXAgU3RlcFxyXG4gICAgICovXHJcbiAgICBfc3luY0F4ZXMobWluLCBtYXgsIHN0ZXAsIHN5bmNNaW4sIHN5bmNNYXgsIHN5bmNTdGVwKSB7XHJcbiAgICAgICAgbGV0IGF4aXMgPSB0aGlzLmdldChcInN5bmNXaXRoQXhpc1wiKTtcclxuICAgICAgICBpZiAoYXhpcykge1xyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBNYXRoLnJvdW5kKHN5bmNNYXggLSBzeW5jTWluKSAvIHN5bmNTdGVwO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudENvdW50ID0gTWF0aC5yb3VuZCgobWF4IC0gbWluKSAvIHN0ZXApO1xyXG4gICAgICAgICAgICBsZXQgZ3JpZENvdW50ID0gdGhpcy5nZXQoXCJyZW5kZXJlclwiKS5ncmlkQ291bnQoKTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKGNvdW50KSAmJiAkdHlwZS5pc051bWJlcihjdXJyZW50Q291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3luY2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgYyA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IChtYXggLSBtaW4pICogMC4wMTtcclxuICAgICAgICAgICAgICAgIGxldCBvbWluID0gbWluO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9tYXggPSBtYXg7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3N0ZXAgPSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN5bmNlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3luY2VkID0gdGhpcy5fY2hlY2tTeW5jKG9taW4sIG9tYXgsIG9zdGVwLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjID4gNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3luY2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjIC8gMyA9PSBNYXRoLnJvdW5kKGMgLyAzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb21pbiA9IG1pbiAtIGRpZmYgKiBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbiA+PSAwICYmIG9taW4gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb21pbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbWF4ID0gbWF4ICsgZGlmZiAqIGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob21heCA8PSAwICYmIG9tYXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb21heCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbk1heFN0ZXAgPSB0aGlzLl9hZGp1c3RNaW5NYXgob21pbiwgb21heCwgZ3JpZENvdW50LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb21pbiA9IG1pbk1heFN0ZXAubWluO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbWF4ID0gbWluTWF4U3RlcC5tYXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9zdGVwID0gbWluTWF4U3RlcC5zdGVwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gb21pbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gb21heDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcCA9IG9zdGVwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBtaW46IG1pbiwgbWF4OiBtYXgsIHN0ZXA6IHN0ZXAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYXhpcyBuZWVkcyB0byBiZSByZXN1bmNlZCB3aXRoIHNvbWUgb3RoZXIgYXhpcy5cclxuICAgICAqL1xyXG4gICAgX2NoZWNrU3luYyhtaW4sIG1heCwgc3RlcCwgY291bnQpIHtcclxuICAgICAgICBsZXQgY3VycmVudENvdW50ID0gKG1heCAtIG1pbikgLyBzdGVwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoJG1hdGgucm91bmQoY3VycmVudENvdW50IC8gaSwgMSkgPT0gY291bnQgfHwgY3VycmVudENvdW50ICogaSA9PSBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHJlbGF0aXZlIHBvc2l0aW9uIGJldHdlZW4gdHdvIGdyaWQgbGluZXMgb2YgdGhlIGF4aXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBQb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRDZWxsV2lkdGhQb3NpdGlvbigpIHtcclxuICAgICAgICBsZXQgbWF4ID0gdGhpcy5nZXRQcml2YXRlKFwic2VsZWN0aW9uTWF4XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heFwiKSk7XHJcbiAgICAgICAgbGV0IG1pbiA9IHRoaXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1pblwiLCB0aGlzLmdldFByaXZhdGUoXCJtaW5cIikpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXgpICYmICR0eXBlLmlzTnVtYmVyKG1pbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJpdmF0ZShcInN0ZXBcIiwgMSkgLyAobWF4IC0gbWluKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDAuMDU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbmV4dFBvc2l0aW9uKGNvdW50KSB7XHJcbiAgICAgICAgaWYgKGNvdW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgY291bnQgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJyZW5kZXJlclwiKS5nZXRQcml2YXRlKFwibGV0dGVyXCIpID09IFwiWVwiKSB7XHJcbiAgICAgICAgICAgIGNvdW50ICo9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnBvc2l0aW9uVG9WYWx1ZSh0aGlzLmdldFByaXZhdGUoXCJ0b29sdGlwUG9zaXRpb25cIiwgMCkpO1xyXG4gICAgICAgIHZhbHVlICs9IHRoaXMuZ2V0UHJpdmF0ZShcInN0ZXBcIiwgMSkgKiBjb3VudDtcclxuICAgICAgICB2YWx1ZSA9ICRtYXRoLmZpdFRvUmFuZ2UodmFsdWUsIHRoaXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1pblwiLCAwKSwgdGhpcy5nZXRQcml2YXRlKFwic2VsZWN0aW9uTWF4XCIsIDEpKTtcclxuICAgICAgICByZXR1cm4gdGhpcy50b0dsb2JhbFBvc2l0aW9uKHRoaXMudmFsdWVUb1Bvc2l0aW9uKHZhbHVlKSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZhbHVlQXhpcywgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiVmFsdWVBeGlzXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWYWx1ZUF4aXMsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQXhpcy5jbGFzc05hbWVzLmNvbmNhdChbVmFsdWVBeGlzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WYWx1ZUF4aXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/LineSeries.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/LineSeries.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineSeries: () => (/* binding */ LineSeries)\n/* harmony export */ });\n/* harmony import */ var _XYSeries__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./XYSeries */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js\");\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var d3_shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-shape */ \"(ssr)/./node_modules/d3-shape/src/line.js\");\n/* harmony import */ var d3_shape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-shape */ \"(ssr)/./node_modules/d3-shape/src/area.js\");\n/* harmony import */ var _core_util_Template__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Used to plot line and/or area series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/} for more info\r\n * @important\r\n */\r\nclass LineSeries extends _XYSeries__WEBPACK_IMPORTED_MODULE_0__.XYSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_endIndex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: (0,d3_shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()\r\n        });\r\n        Object.defineProperty(this, \"_fillGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: (0,d3_shape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()\r\n        });\r\n        Object.defineProperty(this, \"_legendStroke\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_legendFill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all line segments in series.\r\n         *\r\n         * `strokes.template` can be used to set default settings for all line\r\n         * segments, or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(this, \"strokes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_3__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new({}), () => _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_6__.mergeTags(this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"])\r\n            }, [this.strokes.template]))\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all segment fills in series.\r\n         *\r\n         * `fills.template` can be used to set default settings for all segment\r\n         * fills, or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(this, \"fills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_3__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new({}), () => _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_6__.mergeTags(this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"])\r\n            }, [this.fills.template]))\r\n        });\r\n        // custom set from data\r\n        Object.defineProperty(this, \"_fillTemplate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeTemplate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_previousPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [0, 0, 0, 0]\r\n        });\r\n        Object.defineProperty(this, \"_dindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_sindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._fillGenerator.y0(function (p) {\r\n            return p[3];\r\n        });\r\n        this._fillGenerator.x0(function (p) {\r\n            return p[2];\r\n        });\r\n        this._fillGenerator.y1(function (p) {\r\n            return p[1];\r\n        });\r\n        this._fillGenerator.x1(function (p) {\r\n            return p[0];\r\n        });\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeStroke(strokes) {\r\n        const stroke = this.mainContainer.children.push(strokes.make());\r\n        strokes.push(stroke);\r\n        return stroke;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeFill(fills) {\r\n        const fill = this.mainContainer.children.push(fills.make());\r\n        fills.push(fill);\r\n        return fill;\r\n    }\r\n    _updateChildren() {\r\n        this._strokeTemplate = undefined;\r\n        this._fillTemplate = undefined;\r\n        let xAxis = this.get(\"xAxis\");\r\n        let yAxis = this.get(\"yAxis\");\r\n        if (this.isDirty(\"stroke\")) {\r\n            const stroke = this.get(\"stroke\");\r\n            this.strokes.template.set(\"stroke\", stroke);\r\n            const legendStroke = this._legendStroke;\r\n            if (legendStroke) {\r\n                legendStroke.states.lookup(\"default\").set(\"stroke\", stroke);\r\n            }\r\n        }\r\n        if (this.isDirty(\"fill\")) {\r\n            const fill = this.get(\"fill\");\r\n            this.fills.template.set(\"fill\", fill);\r\n            const legendFill = this._legendFill;\r\n            if (legendFill) {\r\n                legendFill.states.lookup(\"default\").set(\"fill\", fill);\r\n            }\r\n        }\r\n        if (this.isDirty(\"curveFactory\")) {\r\n            const curveFactory = this.get(\"curveFactory\");\r\n            if (curveFactory) {\r\n                this._strokeGenerator.curve(curveFactory);\r\n                this._fillGenerator.curve(curveFactory);\r\n            }\r\n        }\r\n        if (xAxis.inited && yAxis.inited) {\r\n            if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty || this.isDirty(\"connect\") || this.isDirty(\"curveFactory\")) {\r\n                this.fills.each((fill) => {\r\n                    fill.setPrivate(\"visible\", false);\r\n                });\r\n                this.strokes.each((fill) => {\r\n                    fill.setPrivate(\"visible\", false);\r\n                });\r\n                this.axisRanges.each((axisRange) => {\r\n                    let fills = axisRange.fills;\r\n                    if (fills) {\r\n                        fills.each((fill) => {\r\n                            fill.setPrivate(\"visible\", false);\r\n                        });\r\n                    }\r\n                    let strokes = axisRange.strokes;\r\n                    if (strokes) {\r\n                        strokes.each((stroke) => {\r\n                            stroke.setPrivate(\"visible\", false);\r\n                        });\r\n                    }\r\n                });\r\n                let startIndex = this.startIndex();\r\n                let strokeTemplateField = this.strokes.template.get(\"templateField\");\r\n                let fillTemplateField = this.fills.template.get(\"templateField\");\r\n                let strokeTemplateFound = true;\r\n                let fillTemplateFound = true;\r\n                if (strokeTemplateField) {\r\n                    strokeTemplateFound = false;\r\n                }\r\n                if (fillTemplateField) {\r\n                    fillTemplateFound = false;\r\n                }\r\n                for (let i = startIndex - 1; i >= 0; i--) {\r\n                    let dataItem = this.dataItems[i];\r\n                    let hasValues = true;\r\n                    let dataContext = dataItem.dataContext;\r\n                    if (strokeTemplateField) {\r\n                        if (dataContext[strokeTemplateField]) {\r\n                            strokeTemplateFound = true;\r\n                        }\r\n                    }\r\n                    if (fillTemplateField) {\r\n                        if (dataContext[fillTemplateField]) {\r\n                            fillTemplateFound = true;\r\n                        }\r\n                    }\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(this._valueFields, (field) => {\r\n                        if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(dataItem.get(field))) {\r\n                            hasValues = false;\r\n                        }\r\n                    });\r\n                    if (hasValues && strokeTemplateFound && fillTemplateFound) {\r\n                        startIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n                let len = this.dataItems.length;\r\n                let endIndex = this.endIndex();\r\n                if (endIndex < len) {\r\n                    endIndex++;\r\n                    for (let i = endIndex; i < len; i++) {\r\n                        let dataItem = this.dataItems[i];\r\n                        let hasValues = true;\r\n                        _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(this._valueFields, (field) => {\r\n                            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(dataItem.get(field))) {\r\n                                hasValues = false;\r\n                            }\r\n                        });\r\n                        if (hasValues) {\r\n                            endIndex = i + 1;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (startIndex > 0) {\r\n                    startIndex--;\r\n                }\r\n                this._endIndex = endIndex;\r\n                this._clearGraphics();\r\n                this._sindex = 0;\r\n                this._dindex = startIndex;\r\n                if (this.dataItems.length == 1) {\r\n                    this._startSegment(0);\r\n                }\r\n                else {\r\n                    // this is done to avoid recursion with a lot of segments \r\n                    while (this._dindex < endIndex - 1) {\r\n                        this._startSegment(this._dindex);\r\n                        this._sindex++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._skipped = true;\r\n        }\r\n        super._updateChildren();\r\n    }\r\n    _clearGraphics() {\r\n        this.strokes.clear();\r\n        this.fills.clear();\r\n    }\r\n    _startSegment(dataItemIndex) {\r\n        let endIndex = this._endIndex;\r\n        let currentEndIndex = endIndex;\r\n        const autoGapCount = this.get(\"autoGapCount\");\r\n        const connect = this.get(\"connect\");\r\n        const fill = this.makeFill(this.fills);\r\n        const fillTemplate = this._fillTemplate;\r\n        const originalTemplate = this.fills.template;\r\n        if (fillTemplate && fillTemplate != originalTemplate) {\r\n            fill.template = fillTemplate;\r\n        }\r\n        fill.setPrivate(\"visible\", true);\r\n        const stroke = this.makeStroke(this.strokes);\r\n        const strokeTemplate = this._strokeTemplate;\r\n        if (strokeTemplate && strokeTemplate != this.strokes.template) {\r\n            stroke.template = strokeTemplate;\r\n        }\r\n        stroke.setPrivate(\"visible\", true);\r\n        let xAxis = this.get(\"xAxis\");\r\n        let yAxis = this.get(\"yAxis\");\r\n        let baseAxis = this.get(\"baseAxis\");\r\n        let vcx = this.get(\"vcx\", 1);\r\n        let vcy = this.get(\"vcy\", 1);\r\n        let xField = this._xField;\r\n        let yField = this._yField;\r\n        let xOpenField = this._xOpenField;\r\n        let yOpenField = this._yOpenField;\r\n        const xOpenFieldValue = this.get(\"openValueXField\");\r\n        const yOpenFieldValue = this.get(\"openValueYField\");\r\n        if (!xOpenFieldValue) {\r\n            xOpenField = this._xField;\r\n        }\r\n        if (!yOpenFieldValue) {\r\n            yOpenField = this._yField;\r\n        }\r\n        const stacked = this.get(\"stacked\");\r\n        const basePosX = xAxis.basePosition();\r\n        const basePosY = yAxis.basePosition();\r\n        let baseField;\r\n        if (baseAxis === yAxis) {\r\n            baseField = this._yField;\r\n        }\r\n        else {\r\n            baseField = this._xField;\r\n        }\r\n        const segments = [];\r\n        let points = [];\r\n        segments.push(points);\r\n        const strokeTemplateField = this.strokes.template.get(\"templateField\");\r\n        const fillTemplateField = this.fills.template.get(\"templateField\");\r\n        let locationX = this.get(\"locationX\", 0.5);\r\n        let locationY = this.get(\"locationY\", 0.5);\r\n        let openLocationX = this.get(\"openLocationX\", locationX);\r\n        let openLocationY = this.get(\"openLocationY\", locationY);\r\n        const minDistance = this.get(\"minDistance\", 0);\r\n        let i;\r\n        let fillVisible = this.fills.template.get(\"visible\");\r\n        if (this.axisRanges.length > 0) {\r\n            fillVisible = true;\r\n        }\r\n        let getOpen = false;\r\n        if (stacked || xOpenFieldValue || yOpenFieldValue) {\r\n            getOpen = true;\r\n        }\r\n        const o = {\r\n            points, segments, stacked, getOpen, basePosX, basePosY, fillVisible, xField, yField, xOpenField, yOpenField, vcx, vcy, baseAxis, xAxis, yAxis, locationX, locationY, openLocationX, openLocationY, minDistance\r\n        };\r\n        let rangeStrokeTemplate = this._strokeTemplate;\r\n        let rangeFillTemplate = this._fillTemplate;\r\n        for (i = dataItemIndex; i < currentEndIndex; i++) {\r\n            this._dindex = i;\r\n            const dataItem = this._dataItems[i];\r\n            let valueX = dataItem.get(xField);\r\n            let valueY = dataItem.get(yField);\r\n            if (valueX == null || valueY == null) {\r\n                if (!connect) {\r\n                    points = [];\r\n                    segments.push(points);\r\n                    o.points = points;\r\n                }\r\n            }\r\n            else {\r\n                this._getPoints(dataItem, o);\r\n            }\r\n            if (strokeTemplateField) {\r\n                let strokeTemplate = dataItem.dataContext[strokeTemplateField];\r\n                if (strokeTemplate) {\r\n                    if (!(strokeTemplate instanceof _core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template)) {\r\n                        strokeTemplate = _core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new(strokeTemplate);\r\n                    }\r\n                    this._strokeTemplate = strokeTemplate;\r\n                    if (i > dataItemIndex) {\r\n                        currentEndIndex = i;\r\n                        break;\r\n                    }\r\n                    else {\r\n                        rangeStrokeTemplate = strokeTemplate;\r\n                        stroke.template = strokeTemplate;\r\n                    }\r\n                }\r\n            }\r\n            if (fillTemplateField) {\r\n                let fillTemplate = dataItem.dataContext[fillTemplateField];\r\n                if (fillTemplate) {\r\n                    if (!(fillTemplate instanceof _core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template)) {\r\n                        fillTemplate = _core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new(fillTemplate);\r\n                    }\r\n                    this._fillTemplate = fillTemplate;\r\n                    if (i > dataItemIndex) {\r\n                        currentEndIndex = i;\r\n                        break;\r\n                    }\r\n                    else {\r\n                        rangeFillTemplate = fillTemplate;\r\n                        fill.template = fillTemplate;\r\n                    }\r\n                }\r\n            }\r\n            if (!connect) {\r\n                let nextItem = this.dataItems[i + 1];\r\n                if (nextItem) {\r\n                    if (baseAxis.shouldGap(dataItem, nextItem, autoGapCount, baseField)) {\r\n                        points = [];\r\n                        segments.push(points);\r\n                        o.points = points;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        fill.setRaw(\"userData\", [dataItemIndex, i]);\r\n        stroke.setRaw(\"userData\", [dataItemIndex, i]);\r\n        if (i === endIndex) {\r\n            this._endLine(points, segments[0][0]);\r\n        }\r\n        if (stroke) {\r\n            this._drawStroke(stroke, segments);\r\n        }\r\n        if (fill) {\r\n            this._drawFill(fill, segments);\r\n        }\r\n        this.axisRanges.each((axisRange) => {\r\n            const container = axisRange.container;\r\n            const fills = axisRange.fills;\r\n            const fill = this.makeFill(fills);\r\n            if (container) {\r\n                container.children.push(fill);\r\n            }\r\n            fill.setPrivate(\"visible\", true);\r\n            this._drawFill(fill, segments);\r\n            const strokes = axisRange.strokes;\r\n            const stroke = this.makeStroke(strokes);\r\n            if (container) {\r\n                container.children.push(stroke);\r\n            }\r\n            if (rangeStrokeTemplate && rangeStrokeTemplate != this.strokes.template) {\r\n                stroke.template = rangeStrokeTemplate;\r\n            }\r\n            if (rangeFillTemplate && rangeFillTemplate != this.fills.template) {\r\n                fill.template = rangeFillTemplate;\r\n            }\r\n            stroke.setPrivate(\"visible\", true);\r\n            this._drawStroke(stroke, segments);\r\n            fill.setRaw(\"userData\", [dataItemIndex, i]);\r\n            stroke.setRaw(\"userData\", [dataItemIndex, i]);\r\n        });\r\n    }\r\n    _getPoints(dataItem, o) {\r\n        let points = o.points;\r\n        let itemLocationX = dataItem.get(\"locationX\", o.locationX);\r\n        let itemLocationY = dataItem.get(\"locationY\", o.locationY);\r\n        let xPos = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX, o.vcx);\r\n        let yPos = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY, o.vcy);\r\n        if (this._shouldInclude(xPos)) {\r\n            const iPoint = this.getPoint(xPos, yPos);\r\n            const point = [iPoint.x, iPoint.y];\r\n            iPoint.x += this._x;\r\n            iPoint.y += this._y;\r\n            dataItem.set(\"point\", iPoint);\r\n            if (o.fillVisible) {\r\n                let xPos0 = xPos;\r\n                let yPos0 = yPos;\r\n                if (o.baseAxis === o.xAxis) {\r\n                    yPos0 = o.basePosY;\r\n                }\r\n                else if (o.baseAxis === o.yAxis) {\r\n                    xPos0 = o.basePosX;\r\n                }\r\n                if (o.getOpen) {\r\n                    let valueX = dataItem.get(o.xOpenField);\r\n                    let valueY = dataItem.get(o.yOpenField);\r\n                    if (valueX != null && valueY != null) {\r\n                        let itemLocationX = dataItem.get(\"openLocationX\", o.openLocationX);\r\n                        let itemLocationY = dataItem.get(\"openLocationY\", o.openLocationY);\r\n                        if (o.stacked) {\r\n                            let stackToItemX = dataItem.get(\"stackToItemX\");\r\n                            let stackToItemY = dataItem.get(\"stackToItemY\");\r\n                            if (stackToItemX) {\r\n                                xPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX, stackToItemX.component.get(\"vcx\"));\r\n                                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNaN(xPos0)) {\r\n                                    xPos0 = o.basePosX;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (o.yAxis === o.baseAxis) {\r\n                                    xPos0 = o.basePosX;\r\n                                }\r\n                                else {\r\n                                    xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX, o.vcx);\r\n                                }\r\n                            }\r\n                            if (stackToItemY) {\r\n                                yPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY, stackToItemY.component.get(\"vcy\"));\r\n                                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNaN(yPos0)) {\r\n                                    yPos0 = o.basePosY;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (o.xAxis === o.baseAxis) {\r\n                                    yPos0 = o.basePosY;\r\n                                }\r\n                                else {\r\n                                    yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY, o.vcy);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX, o.vcx);\r\n                            yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY, o.vcy);\r\n                        }\r\n                    }\r\n                }\r\n                let closeIPoint = this.getPoint(xPos0, yPos0);\r\n                point[2] = closeIPoint.x;\r\n                point[3] = closeIPoint.y;\r\n            }\r\n            if (o.minDistance > 0) {\r\n                const p0 = point[0];\r\n                const p1 = point[1];\r\n                const p2 = point[2];\r\n                const p3 = point[3];\r\n                const prev = this._previousPoint;\r\n                const pp0 = prev[0];\r\n                const pp1 = prev[1];\r\n                const pp2 = prev[2];\r\n                const pp3 = prev[3];\r\n                if (Math.hypot(p0 - pp0, p1 - pp1) > o.minDistance || (p2 && p3 && Math.hypot(p2 - pp2, p3 - pp3) > o.minDistance)) {\r\n                    points.push(point);\r\n                    this._previousPoint = point;\r\n                }\r\n            }\r\n            else {\r\n                points.push(point);\r\n            }\r\n        }\r\n    }\r\n    _endLine(_points, _firstPoint) {\r\n    }\r\n    _drawStroke(graphics, segments) {\r\n        if (graphics.get(\"visible\") && !graphics.get(\"forceHidden\")) {\r\n            graphics.set(\"draw\", (display) => {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(segments, (segment) => {\r\n                    this._strokeGenerator.context(display);\r\n                    this._strokeGenerator(segment);\r\n                });\r\n            });\r\n        }\r\n    }\r\n    _drawFill(graphics, segments) {\r\n        if (graphics.get(\"visible\") && !graphics.get(\"forceHidden\")) {\r\n            graphics.set(\"draw\", (display) => {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(segments, (segment) => {\r\n                    this._fillGenerator.context(display);\r\n                    this._fillGenerator(segment);\r\n                });\r\n            });\r\n        }\r\n    }\r\n    _processAxisRange(axisRange) {\r\n        super._processAxisRange(axisRange);\r\n        axisRange.fills = new _core_util_List__WEBPACK_IMPORTED_MODULE_3__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new({}), () => _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics._new(this._root, {\r\n            themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_6__.mergeTags(axisRange.fills.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"]),\r\n        }, [this.fills.template, axisRange.fills.template]));\r\n        axisRange.strokes = new _core_util_List__WEBPACK_IMPORTED_MODULE_3__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new({}), () => _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics._new(this._root, {\r\n            themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_6__.mergeTags(axisRange.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"]),\r\n        }, [this.strokes.template, axisRange.strokes.template]));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    createLegendMarker(_dataItem) {\r\n        const legendDataItem = this.get(\"legendDataItem\");\r\n        if (legendDataItem) {\r\n            const marker = legendDataItem.get(\"marker\");\r\n            const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n            if (markerRectangle) {\r\n                markerRectangle.setPrivate(\"visible\", false);\r\n            }\r\n            marker.set(\"background\", _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_9__.Rectangle.new(marker._root, { fillOpacity: 0, fill: (0,_core_util_Color__WEBPACK_IMPORTED_MODULE_10__.color)(0x000000) }));\r\n            const legendStroke = marker.children.push(_core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics._new(marker._root, {\r\n                themeTags: [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"], interactive: false\r\n            }, [this.strokes.template]));\r\n            this._legendStroke = legendStroke;\r\n            const legendFill = marker.children.push(_core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics._new(marker._root, {\r\n                themeTags: [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]\r\n            }, [this.fills.template]));\r\n            this._legendFill = legendFill;\r\n            const disabledColor = this._root.interfaceColors.get(\"disabled\");\r\n            legendStroke.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n            legendFill.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n            if (this.bullets.length > 0) {\r\n                const bulletFunction = this.bullets.getIndex(0);\r\n                if (bulletFunction) {\r\n                    const bullet = bulletFunction(marker._root, this, new _core_render_Component__WEBPACK_IMPORTED_MODULE_11__.DataItem(this, { legend: true }, {}));\r\n                    if (bullet) {\r\n                        const sprite = bullet.get(\"sprite\");\r\n                        if (sprite instanceof _core_render_Graphics__WEBPACK_IMPORTED_MODULE_5__.Graphics) {\r\n                            sprite.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                        }\r\n                        if (sprite) {\r\n                            sprite.set(\"tooltipText\", undefined);\r\n                            sprite.set(\"tooltipHTML\", undefined);\r\n                            marker.children.push(sprite);\r\n                            sprite.setAll({ x: marker.width() / 2, y: marker.height() / 2 });\r\n                            marker.events.on(\"boundschanged\", () => {\r\n                                sprite.setAll({ x: marker.width() / 2, y: marker.height() / 2 });\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(LineSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"LineSeries\"\r\n});\r\nObject.defineProperty(LineSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _XYSeries__WEBPACK_IMPORTED_MODULE_0__.XYSeries.classNames.concat([LineSeries.className])\r\n});\r\n//# sourceMappingURL=LineSeries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L3Nlcmllcy9MaW5lU2VyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFDbUI7QUFDbkI7QUFDaUI7QUFDQTtBQUNOO0FBQ1M7QUFDQztBQUNWO0FBQ0U7QUFDQTtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRFQUE0RTtBQUNyRjtBQUNBO0FBQ08seUJBQXlCLCtDQUFRO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBWSxDQUFDLHlEQUFRLE9BQU8sU0FBUywyREFBUTtBQUNwRSwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlEQUFZLENBQUMseURBQVEsT0FBTyxTQUFTLDJEQUFRO0FBQ3BFLDJCQUEyQix1REFBZ0I7QUFDM0MsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBVztBQUMvQiw2QkFBNkIscURBQWM7QUFDM0M7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFXO0FBQ25DLGlDQUFpQyxxREFBYztBQUMvQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFCQUFxQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHlEQUFRO0FBQzVELHlDQUF5Qyx5REFBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QseURBQVE7QUFDMUQsdUNBQXVDLHlEQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrREFBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrREFBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMsMkRBQVE7QUFDM0UsdUJBQXVCLHVEQUFnQjtBQUN2QyxTQUFTO0FBQ1QsZ0NBQWdDLHlEQUFZLENBQUMseURBQVEsT0FBTyxTQUFTLDJEQUFRO0FBQzdFLHVCQUF1Qix1REFBZ0I7QUFDdkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2REFBUyxxQkFBcUIsc0JBQXNCLHdEQUFLLFlBQVk7QUFDMUcsc0RBQXNELDJEQUFRO0FBQzlEO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esb0RBQW9ELDJEQUFRO0FBQzVEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxxREFBcUQsNENBQTRDO0FBQ2pHLG1EQUFtRCw0Q0FBNEM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLDZEQUFRLFNBQVMsY0FBYyxJQUFJO0FBQzdHO0FBQ0E7QUFDQSw4Q0FBOEMsMkRBQVE7QUFDdEQsK0RBQStELDRDQUE0QztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtDQUErQztBQUMzRjtBQUNBLGdEQUFnRCwrQ0FBK0M7QUFDL0YsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVE7QUFDbkIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jaGFydHMveHkvc2VyaWVzL0xpbmVTZXJpZXMuanM/OWEyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBYWVNlcmllcyB9IGZyb20gXCIuL1hZU2VyaWVzXCI7XHJcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL0dyYXBoaWNzXCI7XHJcbmltcG9ydCB7IGxpbmUsIGFyZWEgfSBmcm9tIFwiZDMtc2hhcGVcIjtcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1RlbXBsYXRlXCI7XHJcbmltcG9ydCB7IExpc3RUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvTGlzdFwiO1xyXG5pbXBvcnQgeyBjb2xvciB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWwvQ29sb3JcIjtcclxuaW1wb3J0IHsgRGF0YUl0ZW0gfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3JlbmRlci9SZWN0YW5nbGVcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1V0aWxzXCI7XHJcbi8qKlxyXG4gKiBVc2VkIHRvIHBsb3QgbGluZSBhbmQvb3IgYXJlYSBzZXJpZXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9zZXJpZXMvbGluZS1zZXJpZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBMaW5lU2VyaWVzIGV4dGVuZHMgWFlTZXJpZXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW5kSW5kZXhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0cm9rZUdlbmVyYXRvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBsaW5lKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZmlsbEdlbmVyYXRvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBhcmVhKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGVnZW5kU3Ryb2tlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sZWdlbmRGaWxsXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tUZW1wbGF0ZUxpc3RdXSBvZiBhbGwgbGluZSBzZWdtZW50cyBpbiBzZXJpZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBgc3Ryb2tlcy50ZW1wbGF0ZWAgY2FuIGJlIHVzZWQgdG8gc2V0IGRlZmF1bHQgc2V0dGluZ3MgZm9yIGFsbCBsaW5lXHJcbiAgICAgICAgICogc2VnbWVudHMsIG9yIHRvIGNoYW5nZSBvbiBleGlzdGluZyBvbmVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgbmV3IExpc3RUZW1wbGF0ZTxHcmFwaGljcz5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJva2VzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gR3JhcGhpY3MuX25ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5zdHJva2VzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXSksIFtcImxpbmVcIiwgXCJzZXJpZXNcIiwgXCJzdHJva2VcIl0pXHJcbiAgICAgICAgICAgIH0sIFt0aGlzLnN0cm9rZXMudGVtcGxhdGVdKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbVGVtcGxhdGVMaXN0XV0gb2YgYWxsIHNlZ21lbnQgZmlsbHMgaW4gc2VyaWVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogYGZpbGxzLnRlbXBsYXRlYCBjYW4gYmUgdXNlZCB0byBzZXQgZGVmYXVsdCBzZXR0aW5ncyBmb3IgYWxsIHNlZ21lbnRcclxuICAgICAgICAgKiBmaWxscywgb3IgdG8gY2hhbmdlIG9uIGV4aXN0aW5nIG9uZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgTGlzdFRlbXBsYXRlPEdyYXBoaWNzPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpbGxzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gR3JhcGhpY3MuX25ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5zdHJva2VzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXSksIFtcImxpbmVcIiwgXCJzZXJpZXNcIiwgXCJmaWxsXCJdKVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5maWxscy50ZW1wbGF0ZV0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGN1c3RvbSBzZXQgZnJvbSBkYXRhXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZpbGxUZW1wbGF0ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3Ryb2tlVGVtcGxhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByZXZpb3VzUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogWzAsIDAsIDAsIDBdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RpbmRleFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NpbmRleFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fZmlsbEdlbmVyYXRvci55MChmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcFszXTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9maWxsR2VuZXJhdG9yLngwKGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwWzJdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2ZpbGxHZW5lcmF0b3IueTEoZnVuY3Rpb24gKHApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBbMV07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZmlsbEdlbmVyYXRvci54MShmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcFswXTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYWtlU3Ryb2tlKHN0cm9rZXMpIHtcclxuICAgICAgICBjb25zdCBzdHJva2UgPSB0aGlzLm1haW5Db250YWluZXIuY2hpbGRyZW4ucHVzaChzdHJva2VzLm1ha2UoKSk7XHJcbiAgICAgICAgc3Ryb2tlcy5wdXNoKHN0cm9rZSk7XHJcbiAgICAgICAgcmV0dXJuIHN0cm9rZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYWtlRmlsbChmaWxscykge1xyXG4gICAgICAgIGNvbnN0IGZpbGwgPSB0aGlzLm1haW5Db250YWluZXIuY2hpbGRyZW4ucHVzaChmaWxscy5tYWtlKCkpO1xyXG4gICAgICAgIGZpbGxzLnB1c2goZmlsbCk7XHJcbiAgICAgICAgcmV0dXJuIGZpbGw7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fc3Ryb2tlVGVtcGxhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5fZmlsbFRlbXBsYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IHRoaXMuZ2V0KFwieEF4aXNcIik7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gdGhpcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwic3Ryb2tlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMuZ2V0KFwic3Ryb2tlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnN0cm9rZXMudGVtcGxhdGUuc2V0KFwic3Ryb2tlXCIsIHN0cm9rZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZFN0cm9rZSA9IHRoaXMuX2xlZ2VuZFN0cm9rZTtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZFN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kU3Ryb2tlLnN0YXRlcy5sb29rdXAoXCJkZWZhdWx0XCIpLnNldChcInN0cm9rZVwiLCBzdHJva2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmaWxsXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGwgPSB0aGlzLmdldChcImZpbGxcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbHMudGVtcGxhdGUuc2V0KFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgICAgICAgY29uc3QgbGVnZW5kRmlsbCA9IHRoaXMuX2xlZ2VuZEZpbGw7XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmRGaWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRGaWxsLnN0YXRlcy5sb29rdXAoXCJkZWZhdWx0XCIpLnNldChcImZpbGxcIiwgZmlsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImN1cnZlRmFjdG9yeVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJ2ZUZhY3RvcnkgPSB0aGlzLmdldChcImN1cnZlRmFjdG9yeVwiKTtcclxuICAgICAgICAgICAgaWYgKGN1cnZlRmFjdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlR2VuZXJhdG9yLmN1cnZlKGN1cnZlRmFjdG9yeSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR2VuZXJhdG9yLmN1cnZlKGN1cnZlRmFjdG9yeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHhBeGlzLmluaXRlZCAmJiB5QXhpcy5pbml0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2F4ZXNEaXJ0eSB8fCB0aGlzLl92YWx1ZXNEaXJ0eSB8fCB0aGlzLl9zdGFja0RpcnR5IHx8IHRoaXMuaXNEaXJ0eShcInZjeFwiKSB8fCB0aGlzLmlzRGlydHkoXCJ2Y3lcIikgfHwgdGhpcy5fc2l6ZURpcnR5IHx8IHRoaXMuaXNEaXJ0eShcImNvbm5lY3RcIikgfHwgdGhpcy5pc0RpcnR5KFwiY3VydmVGYWN0b3J5XCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxzLmVhY2goKGZpbGwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VzLmVhY2goKGZpbGwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5heGlzUmFuZ2VzLmVhY2goKGF4aXNSYW5nZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxscyA9IGF4aXNSYW5nZS5maWxscztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbHMuZWFjaCgoZmlsbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbC5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3Ryb2tlcyA9IGF4aXNSYW5nZS5zdHJva2VzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZXMuZWFjaCgoc3Ryb2tlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2Uuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3Ryb2tlVGVtcGxhdGVGaWVsZCA9IHRoaXMuc3Ryb2tlcy50ZW1wbGF0ZS5nZXQoXCJ0ZW1wbGF0ZUZpZWxkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGxUZW1wbGF0ZUZpZWxkID0gdGhpcy5maWxscy50ZW1wbGF0ZS5nZXQoXCJ0ZW1wbGF0ZUZpZWxkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cm9rZVRlbXBsYXRlRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGxUZW1wbGF0ZUZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VUZW1wbGF0ZUZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGVtcGxhdGVGb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGxUZW1wbGF0ZUZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbFRlbXBsYXRlRm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaGFzVmFsdWVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUNvbnRleHQgPSBkYXRhSXRlbS5kYXRhQ29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlVGVtcGxhdGVGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUNvbnRleHRbc3Ryb2tlVGVtcGxhdGVGaWVsZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVRlbXBsYXRlRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxsVGVtcGxhdGVGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUNvbnRleHRbZmlsbFRlbXBsYXRlRmllbGRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsVGVtcGxhdGVGb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdmFsdWVGaWVsZHMsIChmaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGRhdGFJdGVtLmdldChmaWVsZCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNWYWx1ZXMgJiYgc3Ryb2tlVGVtcGxhdGVGb3VuZCAmJiBmaWxsVGVtcGxhdGVGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IHRoaXMuZW5kSW5kZXgoKTtcclxuICAgICAgICAgICAgICAgIGlmIChlbmRJbmRleCA8IGxlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZEluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGVuZEluZGV4OyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoYXNWYWx1ZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZUZpZWxkcywgKGZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGRhdGFJdGVtLmdldChmaWVsZCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzVmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleCA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4LS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRJbmRleCA9IGVuZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJHcmFwaGljcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2luZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpbmRleCA9IHN0YXJ0SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhSXRlbXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFNlZ21lbnQoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGRvbmUgdG8gYXZvaWQgcmVjdXJzaW9uIHdpdGggYSBsb3Qgb2Ygc2VnbWVudHMgXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2RpbmRleCA8IGVuZEluZGV4IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFNlZ21lbnQodGhpcy5fZGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2luZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9za2lwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX3VwZGF0ZUNoaWxkcmVuKCk7XHJcbiAgICB9XHJcbiAgICBfY2xlYXJHcmFwaGljcygpIHtcclxuICAgICAgICB0aGlzLnN0cm9rZXMuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmZpbGxzLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBfc3RhcnRTZWdtZW50KGRhdGFJdGVtSW5kZXgpIHtcclxuICAgICAgICBsZXQgZW5kSW5kZXggPSB0aGlzLl9lbmRJbmRleDtcclxuICAgICAgICBsZXQgY3VycmVudEVuZEluZGV4ID0gZW5kSW5kZXg7XHJcbiAgICAgICAgY29uc3QgYXV0b0dhcENvdW50ID0gdGhpcy5nZXQoXCJhdXRvR2FwQ291bnRcIik7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdCA9IHRoaXMuZ2V0KFwiY29ubmVjdFwiKTtcclxuICAgICAgICBjb25zdCBmaWxsID0gdGhpcy5tYWtlRmlsbCh0aGlzLmZpbGxzKTtcclxuICAgICAgICBjb25zdCBmaWxsVGVtcGxhdGUgPSB0aGlzLl9maWxsVGVtcGxhdGU7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUZW1wbGF0ZSA9IHRoaXMuZmlsbHMudGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKGZpbGxUZW1wbGF0ZSAmJiBmaWxsVGVtcGxhdGUgIT0gb3JpZ2luYWxUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBmaWxsLnRlbXBsYXRlID0gZmlsbFRlbXBsYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWxsLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMubWFrZVN0cm9rZSh0aGlzLnN0cm9rZXMpO1xyXG4gICAgICAgIGNvbnN0IHN0cm9rZVRlbXBsYXRlID0gdGhpcy5fc3Ryb2tlVGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHN0cm9rZVRlbXBsYXRlICYmIHN0cm9rZVRlbXBsYXRlICE9IHRoaXMuc3Ryb2tlcy50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBzdHJva2UudGVtcGxhdGUgPSBzdHJva2VUZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3Ryb2tlLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IHRoaXMuZ2V0KFwieEF4aXNcIik7XHJcbiAgICAgICAgbGV0IHlBeGlzID0gdGhpcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICBsZXQgYmFzZUF4aXMgPSB0aGlzLmdldChcImJhc2VBeGlzXCIpO1xyXG4gICAgICAgIGxldCB2Y3ggPSB0aGlzLmdldChcInZjeFwiLCAxKTtcclxuICAgICAgICBsZXQgdmN5ID0gdGhpcy5nZXQoXCJ2Y3lcIiwgMSk7XHJcbiAgICAgICAgbGV0IHhGaWVsZCA9IHRoaXMuX3hGaWVsZDtcclxuICAgICAgICBsZXQgeUZpZWxkID0gdGhpcy5feUZpZWxkO1xyXG4gICAgICAgIGxldCB4T3BlbkZpZWxkID0gdGhpcy5feE9wZW5GaWVsZDtcclxuICAgICAgICBsZXQgeU9wZW5GaWVsZCA9IHRoaXMuX3lPcGVuRmllbGQ7XHJcbiAgICAgICAgY29uc3QgeE9wZW5GaWVsZFZhbHVlID0gdGhpcy5nZXQoXCJvcGVuVmFsdWVYRmllbGRcIik7XHJcbiAgICAgICAgY29uc3QgeU9wZW5GaWVsZFZhbHVlID0gdGhpcy5nZXQoXCJvcGVuVmFsdWVZRmllbGRcIik7XHJcbiAgICAgICAgaWYgKCF4T3BlbkZpZWxkVmFsdWUpIHtcclxuICAgICAgICAgICAgeE9wZW5GaWVsZCA9IHRoaXMuX3hGaWVsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF5T3BlbkZpZWxkVmFsdWUpIHtcclxuICAgICAgICAgICAgeU9wZW5GaWVsZCA9IHRoaXMuX3lGaWVsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3RhY2tlZCA9IHRoaXMuZ2V0KFwic3RhY2tlZFwiKTtcclxuICAgICAgICBjb25zdCBiYXNlUG9zWCA9IHhBeGlzLmJhc2VQb3NpdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IGJhc2VQb3NZID0geUF4aXMuYmFzZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgbGV0IGJhc2VGaWVsZDtcclxuICAgICAgICBpZiAoYmFzZUF4aXMgPT09IHlBeGlzKSB7XHJcbiAgICAgICAgICAgIGJhc2VGaWVsZCA9IHRoaXMuX3lGaWVsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGJhc2VGaWVsZCA9IHRoaXMuX3hGaWVsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBbXTtcclxuICAgICAgICBsZXQgcG9pbnRzID0gW107XHJcbiAgICAgICAgc2VnbWVudHMucHVzaChwb2ludHMpO1xyXG4gICAgICAgIGNvbnN0IHN0cm9rZVRlbXBsYXRlRmllbGQgPSB0aGlzLnN0cm9rZXMudGVtcGxhdGUuZ2V0KFwidGVtcGxhdGVGaWVsZFwiKTtcclxuICAgICAgICBjb25zdCBmaWxsVGVtcGxhdGVGaWVsZCA9IHRoaXMuZmlsbHMudGVtcGxhdGUuZ2V0KFwidGVtcGxhdGVGaWVsZFwiKTtcclxuICAgICAgICBsZXQgbG9jYXRpb25YID0gdGhpcy5nZXQoXCJsb2NhdGlvblhcIiwgMC41KTtcclxuICAgICAgICBsZXQgbG9jYXRpb25ZID0gdGhpcy5nZXQoXCJsb2NhdGlvbllcIiwgMC41KTtcclxuICAgICAgICBsZXQgb3BlbkxvY2F0aW9uWCA9IHRoaXMuZ2V0KFwib3BlbkxvY2F0aW9uWFwiLCBsb2NhdGlvblgpO1xyXG4gICAgICAgIGxldCBvcGVuTG9jYXRpb25ZID0gdGhpcy5nZXQoXCJvcGVuTG9jYXRpb25ZXCIsIGxvY2F0aW9uWSk7XHJcbiAgICAgICAgY29uc3QgbWluRGlzdGFuY2UgPSB0aGlzLmdldChcIm1pbkRpc3RhbmNlXCIsIDApO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGxldCBmaWxsVmlzaWJsZSA9IHRoaXMuZmlsbHMudGVtcGxhdGUuZ2V0KFwidmlzaWJsZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5heGlzUmFuZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZmlsbFZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZ2V0T3BlbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChzdGFja2VkIHx8IHhPcGVuRmllbGRWYWx1ZSB8fCB5T3BlbkZpZWxkVmFsdWUpIHtcclxuICAgICAgICAgICAgZ2V0T3BlbiA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG8gPSB7XHJcbiAgICAgICAgICAgIHBvaW50cywgc2VnbWVudHMsIHN0YWNrZWQsIGdldE9wZW4sIGJhc2VQb3NYLCBiYXNlUG9zWSwgZmlsbFZpc2libGUsIHhGaWVsZCwgeUZpZWxkLCB4T3BlbkZpZWxkLCB5T3BlbkZpZWxkLCB2Y3gsIHZjeSwgYmFzZUF4aXMsIHhBeGlzLCB5QXhpcywgbG9jYXRpb25YLCBsb2NhdGlvblksIG9wZW5Mb2NhdGlvblgsIG9wZW5Mb2NhdGlvblksIG1pbkRpc3RhbmNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgcmFuZ2VTdHJva2VUZW1wbGF0ZSA9IHRoaXMuX3N0cm9rZVRlbXBsYXRlO1xyXG4gICAgICAgIGxldCByYW5nZUZpbGxUZW1wbGF0ZSA9IHRoaXMuX2ZpbGxUZW1wbGF0ZTtcclxuICAgICAgICBmb3IgKGkgPSBkYXRhSXRlbUluZGV4OyBpIDwgY3VycmVudEVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fZGluZGV4ID0gaTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLl9kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZVggPSBkYXRhSXRlbS5nZXQoeEZpZWxkKTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlWSA9IGRhdGFJdGVtLmdldCh5RmllbGQpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWVYID09IG51bGwgfHwgdmFsdWVZID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocG9pbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICBvLnBvaW50cyA9IHBvaW50cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFBvaW50cyhkYXRhSXRlbSwgbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cm9rZVRlbXBsYXRlRmllbGQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdHJva2VUZW1wbGF0ZSA9IGRhdGFJdGVtLmRhdGFDb250ZXh0W3N0cm9rZVRlbXBsYXRlRmllbGRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZVRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoc3Ryb2tlVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGVtcGxhdGUgPSBUZW1wbGF0ZS5uZXcoc3Ryb2tlVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUZW1wbGF0ZSA9IHN0cm9rZVRlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gZGF0YUl0ZW1JbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW5kSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlU3Ryb2tlVGVtcGxhdGUgPSBzdHJva2VUZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLnRlbXBsYXRlID0gc3Ryb2tlVGVtcGxhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmaWxsVGVtcGxhdGVGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGxUZW1wbGF0ZSA9IGRhdGFJdGVtLmRhdGFDb250ZXh0W2ZpbGxUZW1wbGF0ZUZpZWxkXTtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxsVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShmaWxsVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbFRlbXBsYXRlID0gVGVtcGxhdGUubmV3KGZpbGxUZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxUZW1wbGF0ZSA9IGZpbGxUZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IGRhdGFJdGVtSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVuZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZUZpbGxUZW1wbGF0ZSA9IGZpbGxUZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbC50ZW1wbGF0ZSA9IGZpbGxUZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFjb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dEl0ZW0gPSB0aGlzLmRhdGFJdGVtc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZUF4aXMuc2hvdWxkR2FwKGRhdGFJdGVtLCBuZXh0SXRlbSwgYXV0b0dhcENvdW50LCBiYXNlRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHBvaW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucG9pbnRzID0gcG9pbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmaWxsLnNldFJhdyhcInVzZXJEYXRhXCIsIFtkYXRhSXRlbUluZGV4LCBpXSk7XHJcbiAgICAgICAgc3Ryb2tlLnNldFJhdyhcInVzZXJEYXRhXCIsIFtkYXRhSXRlbUluZGV4LCBpXSk7XHJcbiAgICAgICAgaWYgKGkgPT09IGVuZEluZGV4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZExpbmUocG9pbnRzLCBzZWdtZW50c1swXVswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHJva2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fZHJhd1N0cm9rZShzdHJva2UsIHNlZ21lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZHJhd0ZpbGwoZmlsbCwgc2VnbWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF4aXNSYW5nZXMuZWFjaCgoYXhpc1JhbmdlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGF4aXNSYW5nZS5jb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGxzID0gYXhpc1JhbmdlLmZpbGxzO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxsID0gdGhpcy5tYWtlRmlsbChmaWxscyk7XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5wdXNoKGZpbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbGwuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYXdGaWxsKGZpbGwsIHNlZ21lbnRzKTtcclxuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlcyA9IGF4aXNSYW5nZS5zdHJva2VzO1xyXG4gICAgICAgICAgICBjb25zdCBzdHJva2UgPSB0aGlzLm1ha2VTdHJva2Uoc3Ryb2tlcyk7XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5wdXNoKHN0cm9rZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJhbmdlU3Ryb2tlVGVtcGxhdGUgJiYgcmFuZ2VTdHJva2VUZW1wbGF0ZSAhPSB0aGlzLnN0cm9rZXMudGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZS50ZW1wbGF0ZSA9IHJhbmdlU3Ryb2tlVGVtcGxhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJhbmdlRmlsbFRlbXBsYXRlICYmIHJhbmdlRmlsbFRlbXBsYXRlICE9IHRoaXMuZmlsbHMudGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgIGZpbGwudGVtcGxhdGUgPSByYW5nZUZpbGxUZW1wbGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJva2Uuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYXdTdHJva2Uoc3Ryb2tlLCBzZWdtZW50cyk7XHJcbiAgICAgICAgICAgIGZpbGwuc2V0UmF3KFwidXNlckRhdGFcIiwgW2RhdGFJdGVtSW5kZXgsIGldKTtcclxuICAgICAgICAgICAgc3Ryb2tlLnNldFJhdyhcInVzZXJEYXRhXCIsIFtkYXRhSXRlbUluZGV4LCBpXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZ2V0UG9pbnRzKGRhdGFJdGVtLCBvKSB7XHJcbiAgICAgICAgbGV0IHBvaW50cyA9IG8ucG9pbnRzO1xyXG4gICAgICAgIGxldCBpdGVtTG9jYXRpb25YID0gZGF0YUl0ZW0uZ2V0KFwibG9jYXRpb25YXCIsIG8ubG9jYXRpb25YKTtcclxuICAgICAgICBsZXQgaXRlbUxvY2F0aW9uWSA9IGRhdGFJdGVtLmdldChcImxvY2F0aW9uWVwiLCBvLmxvY2F0aW9uWSk7XHJcbiAgICAgICAgbGV0IHhQb3MgPSBvLnhBeGlzLmdldERhdGFJdGVtUG9zaXRpb25YKGRhdGFJdGVtLCBvLnhGaWVsZCwgaXRlbUxvY2F0aW9uWCwgby52Y3gpO1xyXG4gICAgICAgIGxldCB5UG9zID0gby55QXhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWShkYXRhSXRlbSwgby55RmllbGQsIGl0ZW1Mb2NhdGlvblksIG8udmN5KTtcclxuICAgICAgICBpZiAodGhpcy5fc2hvdWxkSW5jbHVkZSh4UG9zKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpUG9pbnQgPSB0aGlzLmdldFBvaW50KHhQb3MsIHlQb3MpO1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IFtpUG9pbnQueCwgaVBvaW50LnldO1xyXG4gICAgICAgICAgICBpUG9pbnQueCArPSB0aGlzLl94O1xyXG4gICAgICAgICAgICBpUG9pbnQueSArPSB0aGlzLl95O1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5zZXQoXCJwb2ludFwiLCBpUG9pbnQpO1xyXG4gICAgICAgICAgICBpZiAoby5maWxsVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHhQb3MwID0geFBvcztcclxuICAgICAgICAgICAgICAgIGxldCB5UG9zMCA9IHlQb3M7XHJcbiAgICAgICAgICAgICAgICBpZiAoby5iYXNlQXhpcyA9PT0gby54QXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHlQb3MwID0gby5iYXNlUG9zWTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG8uYmFzZUF4aXMgPT09IG8ueUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB4UG9zMCA9IG8uYmFzZVBvc1g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoby5nZXRPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlWCA9IGRhdGFJdGVtLmdldChvLnhPcGVuRmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZVkgPSBkYXRhSXRlbS5nZXQoby55T3BlbkZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVYICE9IG51bGwgJiYgdmFsdWVZICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1Mb2NhdGlvblggPSBkYXRhSXRlbS5nZXQoXCJvcGVuTG9jYXRpb25YXCIsIG8ub3BlbkxvY2F0aW9uWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtTG9jYXRpb25ZID0gZGF0YUl0ZW0uZ2V0KFwib3BlbkxvY2F0aW9uWVwiLCBvLm9wZW5Mb2NhdGlvblkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5zdGFja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhY2tUb0l0ZW1YID0gZGF0YUl0ZW0uZ2V0KFwic3RhY2tUb0l0ZW1YXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrVG9JdGVtWSA9IGRhdGFJdGVtLmdldChcInN0YWNrVG9JdGVtWVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1RvSXRlbVgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4UG9zMCA9IG8ueEF4aXMuZ2V0RGF0YUl0ZW1Qb3NpdGlvblgoc3RhY2tUb0l0ZW1YLCBvLnhGaWVsZCwgaXRlbUxvY2F0aW9uWCwgc3RhY2tUb0l0ZW1YLmNvbXBvbmVudC5nZXQoXCJ2Y3hcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc05hTih4UG9zMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeFBvczAgPSBvLmJhc2VQb3NYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLnlBeGlzID09PSBvLmJhc2VBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhQb3MwID0gby5iYXNlUG9zWDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhQb3MwID0gby54QXhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWChkYXRhSXRlbSwgby54T3BlbkZpZWxkLCBpdGVtTG9jYXRpb25YLCBvLnZjeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrVG9JdGVtWSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlQb3MwID0gby55QXhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWShzdGFja1RvSXRlbVksIG8ueUZpZWxkLCBpdGVtTG9jYXRpb25ZLCBzdGFja1RvSXRlbVkuY29tcG9uZW50LmdldChcInZjeVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTmFOKHlQb3MwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5UG9zMCA9IG8uYmFzZVBvc1k7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8ueEF4aXMgPT09IG8uYmFzZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeVBvczAgPSBvLmJhc2VQb3NZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeVBvczAgPSBvLnlBeGlzLmdldERhdGFJdGVtUG9zaXRpb25ZKGRhdGFJdGVtLCBvLnlPcGVuRmllbGQsIGl0ZW1Mb2NhdGlvblksIG8udmN5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4UG9zMCA9IG8ueEF4aXMuZ2V0RGF0YUl0ZW1Qb3NpdGlvblgoZGF0YUl0ZW0sIG8ueE9wZW5GaWVsZCwgaXRlbUxvY2F0aW9uWCwgby52Y3gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeVBvczAgPSBvLnlBeGlzLmdldERhdGFJdGVtUG9zaXRpb25ZKGRhdGFJdGVtLCBvLnlPcGVuRmllbGQsIGl0ZW1Mb2NhdGlvblksIG8udmN5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBjbG9zZUlQb2ludCA9IHRoaXMuZ2V0UG9pbnQoeFBvczAsIHlQb3MwKTtcclxuICAgICAgICAgICAgICAgIHBvaW50WzJdID0gY2xvc2VJUG9pbnQueDtcclxuICAgICAgICAgICAgICAgIHBvaW50WzNdID0gY2xvc2VJUG9pbnQueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoby5taW5EaXN0YW5jZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAwID0gcG9pbnRbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwMSA9IHBvaW50WzFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcDIgPSBwb2ludFsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAzID0gcG9pbnRbM107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gdGhpcy5fcHJldmlvdXNQb2ludDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBwMCA9IHByZXZbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcDEgPSBwcmV2WzFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHAyID0gcHJldlsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBwMyA9IHByZXZbM107XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5oeXBvdChwMCAtIHBwMCwgcDEgLSBwcDEpID4gby5taW5EaXN0YW5jZSB8fCAocDIgJiYgcDMgJiYgTWF0aC5oeXBvdChwMiAtIHBwMiwgcDMgLSBwcDMpID4gby5taW5EaXN0YW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNQb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2VuZExpbmUoX3BvaW50cywgX2ZpcnN0UG9pbnQpIHtcclxuICAgIH1cclxuICAgIF9kcmF3U3Ryb2tlKGdyYXBoaWNzLCBzZWdtZW50cykge1xyXG4gICAgICAgIGlmIChncmFwaGljcy5nZXQoXCJ2aXNpYmxlXCIpICYmICFncmFwaGljcy5nZXQoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICBncmFwaGljcy5zZXQoXCJkcmF3XCIsIChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChzZWdtZW50cywgKHNlZ21lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VHZW5lcmF0b3IuY29udGV4dChkaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VHZW5lcmF0b3Ioc2VnbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2RyYXdGaWxsKGdyYXBoaWNzLCBzZWdtZW50cykge1xyXG4gICAgICAgIGlmIChncmFwaGljcy5nZXQoXCJ2aXNpYmxlXCIpICYmICFncmFwaGljcy5nZXQoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICBncmFwaGljcy5zZXQoXCJkcmF3XCIsIChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChzZWdtZW50cywgKHNlZ21lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWxsR2VuZXJhdG9yLmNvbnRleHQoZGlzcGxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdlbmVyYXRvcihzZWdtZW50KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcHJvY2Vzc0F4aXNSYW5nZShheGlzUmFuZ2UpIHtcclxuICAgICAgICBzdXBlci5fcHJvY2Vzc0F4aXNSYW5nZShheGlzUmFuZ2UpO1xyXG4gICAgICAgIGF4aXNSYW5nZS5maWxscyA9IG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gR3JhcGhpY3MuX25ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyhheGlzUmFuZ2UuZmlsbHMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW1wibGluZVwiLCBcInNlcmllc1wiLCBcImZpbGxcIl0pLFxyXG4gICAgICAgIH0sIFt0aGlzLmZpbGxzLnRlbXBsYXRlLCBheGlzUmFuZ2UuZmlsbHMudGVtcGxhdGVdKSk7XHJcbiAgICAgICAgYXhpc1JhbmdlLnN0cm9rZXMgPSBuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IEdyYXBoaWNzLl9uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3MoYXhpc1JhbmdlLnN0cm9rZXMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW1wibGluZVwiLCBcInNlcmllc1wiLCBcInN0cm9rZVwiXSksXHJcbiAgICAgICAgfSwgW3RoaXMuc3Ryb2tlcy50ZW1wbGF0ZSwgYXhpc1JhbmdlLnN0cm9rZXMudGVtcGxhdGVdKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgY3JlYXRlTGVnZW5kTWFya2VyKF9kYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IGxlZ2VuZERhdGFJdGVtID0gdGhpcy5nZXQoXCJsZWdlbmREYXRhSXRlbVwiKTtcclxuICAgICAgICBpZiAobGVnZW5kRGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gbGVnZW5kRGF0YUl0ZW0uZ2V0KFwibWFya2VyXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBtYXJrZXJSZWN0YW5nbGUgPSBsZWdlbmREYXRhSXRlbS5nZXQoXCJtYXJrZXJSZWN0YW5nbGVcIik7XHJcbiAgICAgICAgICAgIGlmIChtYXJrZXJSZWN0YW5nbGUpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtlclJlY3RhbmdsZS5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFya2VyLnNldChcImJhY2tncm91bmRcIiwgUmVjdGFuZ2xlLm5ldyhtYXJrZXIuX3Jvb3QsIHsgZmlsbE9wYWNpdHk6IDAsIGZpbGw6IGNvbG9yKDB4MDAwMDAwKSB9KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZFN0cm9rZSA9IG1hcmtlci5jaGlsZHJlbi5wdXNoKEdyYXBoaWNzLl9uZXcobWFya2VyLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6IFtcImxpbmVcIiwgXCJzZXJpZXNcIiwgXCJsZWdlbmRcIiwgXCJtYXJrZXJcIiwgXCJzdHJva2VcIl0sIGludGVyYWN0aXZlOiBmYWxzZVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5zdHJva2VzLnRlbXBsYXRlXSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9sZWdlbmRTdHJva2UgPSBsZWdlbmRTdHJva2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZEZpbGwgPSBtYXJrZXIuY2hpbGRyZW4ucHVzaChHcmFwaGljcy5fbmV3KG1hcmtlci5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiBbXCJsaW5lXCIsIFwic2VyaWVzXCIsIFwibGVnZW5kXCIsIFwibWFya2VyXCIsIFwiZmlsbFwiXVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5maWxscy50ZW1wbGF0ZV0pKTtcclxuICAgICAgICAgICAgdGhpcy5fbGVnZW5kRmlsbCA9IGxlZ2VuZEZpbGw7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkQ29sb3IgPSB0aGlzLl9yb290LmludGVyZmFjZUNvbG9ycy5nZXQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgbGVnZW5kU3Ryb2tlLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7IGZpbGw6IGRpc2FibGVkQ29sb3IsIHN0cm9rZTogZGlzYWJsZWRDb2xvciB9KTtcclxuICAgICAgICAgICAgbGVnZW5kRmlsbC5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwgeyBmaWxsOiBkaXNhYmxlZENvbG9yLCBzdHJva2U6IGRpc2FibGVkQ29sb3IgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1bGxldHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVsbGV0RnVuY3Rpb24gPSB0aGlzLmJ1bGxldHMuZ2V0SW5kZXgoMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnVsbGV0RnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRGdW5jdGlvbihtYXJrZXIuX3Jvb3QsIHRoaXMsIG5ldyBEYXRhSXRlbSh0aGlzLCB7IGxlZ2VuZDogdHJ1ZSB9LCB7fSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWxsZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwcml0ZSBpbnN0YW5jZW9mIEdyYXBoaWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHsgZmlsbDogZGlzYWJsZWRDb2xvciwgc3Ryb2tlOiBkaXNhYmxlZENvbG9yIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zZXQoXCJ0b29sdGlwVGV4dFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldChcInRvb2x0aXBIVE1MXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIuY2hpbGRyZW4ucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldEFsbCh7IHg6IG1hcmtlci53aWR0aCgpIC8gMiwgeTogbWFya2VyLmhlaWdodCgpIC8gMiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5ldmVudHMub24oXCJib3VuZHNjaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2V0QWxsKHsgeDogbWFya2VyLndpZHRoKCkgLyAyLCB5OiBtYXJrZXIuaGVpZ2h0KCkgLyAyIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmVTZXJpZXMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkxpbmVTZXJpZXNcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmVTZXJpZXMsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogWFlTZXJpZXMuY2xhc3NOYW1lcy5jb25jYXQoW0xpbmVTZXJpZXMuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmVTZXJpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/LineSeries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/SmoothedXLineSeries.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/SmoothedXLineSeries.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SmoothedXLineSeries: () => (/* binding */ SmoothedXLineSeries)\n/* harmony export */ });\n/* harmony import */ var _LineSeries__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LineSeries */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/LineSeries.js\");\n/* harmony import */ var _core_render_MonotoneXTension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/render/MonotoneXTension */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/MonotoneXTension.js\");\n\r\n\r\n/**\r\n * Smoothed line series suitable for horizontal plots.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/smoothed-series/} for more info\r\n */\r\nclass SmoothedXLineSeries extends _LineSeries__WEBPACK_IMPORTED_MODULE_0__.LineSeries {\r\n    _afterNew() {\r\n        this._setDefault(\"curveFactory\", (0,_core_render_MonotoneXTension__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneXTension)(this.get(\"tension\", 0.5)));\r\n        super._afterNew();\r\n    }\r\n    _updateChildren() {\r\n        if (this.isDirty(\"tension\")) {\r\n            this.set(\"curveFactory\", (0,_core_render_MonotoneXTension__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneXTension)(this.get(\"tension\", 0.5)));\r\n            this._valuesDirty = true;\r\n        }\r\n        super._updateChildren();\r\n    }\r\n}\r\nObject.defineProperty(SmoothedXLineSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"SmoothedXLineSeries\"\r\n});\r\nObject.defineProperty(SmoothedXLineSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _LineSeries__WEBPACK_IMPORTED_MODULE_0__.LineSeries.classNames.concat([SmoothedXLineSeries.className])\r\n});\r\n//# sourceMappingURL=SmoothedXLineSeries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L3Nlcmllcy9TbW9vdGhlZFhMaW5lU2VyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUNvQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdGQUFnRjtBQUN6RjtBQUNPLGtDQUFrQyxtREFBVTtBQUNuRDtBQUNBLHlDQUF5QyxvRkFBcUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsb0ZBQXFCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBVTtBQUNyQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy94eS9zZXJpZXMvU21vb3RoZWRYTGluZVNlcmllcy5qcz8yMWI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpbmVTZXJpZXMgfSBmcm9tIFwiLi9MaW5lU2VyaWVzXCI7XHJcbmltcG9ydCB7IGN1cnZlTW9ub3RvbmVYVGVuc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3JlbmRlci9Nb25vdG9uZVhUZW5zaW9uXCI7XHJcbi8qKlxyXG4gKiBTbW9vdGhlZCBsaW5lIHNlcmllcyBzdWl0YWJsZSBmb3IgaG9yaXpvbnRhbCBwbG90cy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL3h5LWNoYXJ0L3Nlcmllcy9zbW9vdGhlZC1zZXJpZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU21vb3RoZWRYTGluZVNlcmllcyBleHRlbmRzIExpbmVTZXJpZXMge1xyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJjdXJ2ZUZhY3RvcnlcIiwgY3VydmVNb25vdG9uZVhUZW5zaW9uKHRoaXMuZ2V0KFwidGVuc2lvblwiLCAwLjUpKSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRlbnNpb25cIikpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoXCJjdXJ2ZUZhY3RvcnlcIiwgY3VydmVNb25vdG9uZVhUZW5zaW9uKHRoaXMuZ2V0KFwidGVuc2lvblwiLCAwLjUpKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX3VwZGF0ZUNoaWxkcmVuKCk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNtb290aGVkWExpbmVTZXJpZXMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlNtb290aGVkWExpbmVTZXJpZXNcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNtb290aGVkWExpbmVTZXJpZXMsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogTGluZVNlcmllcy5jbGFzc05hbWVzLmNvbmNhdChbU21vb3RoZWRYTGluZVNlcmllcy5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U21vb3RoZWRYTGluZVNlcmllcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/SmoothedXLineSeries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XYSeries: () => (/* binding */ XYSeries)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _core_render_Series__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/render/Series */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Object__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction min(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction max(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * A base class for all XY chart series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/} for more info\r\n */\r\nclass XYSeries extends _core_render_Series__WEBPACK_IMPORTED_MODULE_0__.Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_xField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_axesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_stackDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataSets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_mainContainerMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * A [[Container]] that us used to put series' elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"mainContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A list of axis ranges that affect the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         */\r\n        Object.defineProperty(this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_2__.List()\r\n        });\r\n        Object.defineProperty(this, \"_skipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_couldStackTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_reallyStackedTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_stackedSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_aLocationX0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_aLocationX1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_aLocationY0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_aLocationY1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_showBullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueX\",\r\n                \"openValueX\",\r\n                \"lowValueX\",\r\n                \"highValueX\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueY\",\r\n                \"openValueY\",\r\n                \"lowValueY\",\r\n                \"highValueY\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for full min/max\r\n        Object.defineProperty(this, \"_valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for selection (uses working)\r\n        Object.defineProperty(this, \"__valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"__valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_emptyDataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_render_Component__WEBPACK_IMPORTED_MODULE_3__.DataItem(this, undefined, {})\r\n        });\r\n        Object.defineProperty(this, \"_dataSetId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipFieldX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipFieldY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_posXDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_posYDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"categoryX\", \"categoryY\", \"openCategoryX\", \"openCategoryY\");\r\n        this.valueFields.push(\"valueX\", \"valueY\", \"openValueX\", \"openValueY\", \"lowValueX\", \"lowValueY\", \"highValueX\", \"highValueY\");\r\n        this._setRawDefault(\"vcx\", 1);\r\n        this._setRawDefault(\"vcy\", 1);\r\n        // this can't go to themes, as data might be parsed before theme\r\n        this._setRawDefault(\"valueXShow\", \"valueXWorking\");\r\n        this._setRawDefault(\"valueYShow\", \"valueYWorking\");\r\n        this._setRawDefault(\"openValueXShow\", \"openValueXWorking\");\r\n        this._setRawDefault(\"openValueYShow\", \"openValueYWorking\");\r\n        this._setRawDefault(\"lowValueXShow\", \"lowValueXWorking\");\r\n        this._setRawDefault(\"lowValueYShow\", \"lowValueYWorking\");\r\n        this._setRawDefault(\"highValueXShow\", \"highValueXWorking\");\r\n        this._setRawDefault(\"highValueYShow\", \"highValueYWorking\");\r\n        this._setRawDefault(\"lowValueXGrouped\", \"low\");\r\n        this._setRawDefault(\"lowValueYGrouped\", \"low\");\r\n        this._setRawDefault(\"highValueXGrouped\", \"high\");\r\n        this._setRawDefault(\"highValueYGrouped\", \"high\");\r\n        super._afterNew();\r\n        this.set(\"maskContent\", true);\r\n        this._disposers.push(this.axisRanges.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(change.oldValues, (axisRange) => {\r\n                    this._removeAxisRange(axisRange);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeAxisRange(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._processAxisRange(change.value);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n        }));\r\n        this.states.create(\"hidden\", { opacity: 1, visible: false });\r\n        this.onPrivate(\"startIndex\", () => {\r\n            this.root.events.once(\"frameended\", () => {\r\n                this.updateLegendValue();\r\n            });\r\n        });\r\n        this.onPrivate(\"endIndex\", () => {\r\n            this.root.events.once(\"frameended\", () => {\r\n                this.updateLegendValue();\r\n            });\r\n        });\r\n        this._makeFieldNames();\r\n    }\r\n    _processAxisRange(axisRange) {\r\n        const container = _core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, {});\r\n        axisRange.container = container;\r\n        this.children.push(container);\r\n        axisRange.series = this;\r\n        const axisDataItem = axisRange.axisDataItem;\r\n        axisDataItem.setRaw(\"isRange\", true);\r\n        const axis = axisDataItem.component;\r\n        if (axis) {\r\n            axis._processAxisRange(axisDataItem, [\"range\", \"series\"]);\r\n            const bullet = axisDataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            }\r\n            const axisFill = axisDataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                container.set(\"mask\", axisFill);\r\n            }\r\n            axis._seriesAxisRanges.push(axisDataItem);\r\n        }\r\n    }\r\n    _removeAxisRange(axisRange) {\r\n        const axisDataItem = axisRange.axisDataItem;\r\n        const axis = axisDataItem.component;\r\n        axis.disposeDataItem(axisDataItem);\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.remove(axis._seriesAxisRanges, axisDataItem);\r\n        const container = axisRange.container;\r\n        if (container) {\r\n            container.dispose();\r\n        }\r\n    }\r\n    _updateFields() {\r\n        super._updateFields();\r\n        this._valueXFields = [];\r\n        this._valueYFields = [];\r\n        this._valueXShowFields = [];\r\n        this._valueYShowFields = [];\r\n        this.__valueXShowFields = [];\r\n        this.__valueYShowFields = [];\r\n        if (this.valueXFields) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.valueXFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueXFields.push(key);\r\n                    let field = this.get((key + \"Show\"));\r\n                    this.__valueXShowFields.push(field);\r\n                    if (field.indexOf(\"Working\") != -1) {\r\n                        this._valueXShowFields.push(field.split(\"Working\")[0]);\r\n                    }\r\n                    else {\r\n                        this._valueXShowFields.push(field);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.valueYFields) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.valueYFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueYFields.push(key);\r\n                    let field = this.get((key + \"Show\"));\r\n                    this.__valueYShowFields.push(field);\r\n                    if (field.indexOf(\"Working\") != -1) {\r\n                        this._valueYShowFields.push(field.split(\"Working\")[0]);\r\n                    }\r\n                    else {\r\n                        this._valueYShowFields.push(field);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._bullets = {};\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.series.removeValue(this);\r\n        }\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.removeFirst(this.get(\"xAxis\").series, this);\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.removeFirst(this.get(\"yAxis\").series, this);\r\n    }\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    _min(key, value) {\r\n        let newValue = min(this.getPrivate(key), value);\r\n        this.setPrivate(key, newValue);\r\n    }\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    _max(key, value) {\r\n        let newValue = max(this.getPrivate(key), value);\r\n        this.setPrivate(key, newValue);\r\n    }\r\n    _shouldMakeBullet(dataItem) {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        if (!xAxis.inited || !yAxis.inited) {\r\n            return false;\r\n        }\r\n        const minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n        if (minBulletDistance > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            let count = endIndex - startIndex;\r\n            if (xAxis == baseAxis) {\r\n                if (xAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\r\n                    return false;\r\n                }\r\n            }\r\n            else if (yAxis == baseAxis) {\r\n                if (yAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        if (dataItem.get(this._xField) != null && dataItem.get(this._yField) != null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    _makeFieldNames() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const xName = xAxis.getPrivate(\"name\");\r\n        const xCapName = _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.capitalizeFirst(xName);\r\n        const yName = yAxis.getPrivate(\"name\");\r\n        const yCapName = _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.capitalizeFirst(yName);\r\n        const xLetter = xAxis.get(\"renderer\").getPrivate(\"letter\");\r\n        const yLetter = yAxis.get(\"renderer\").getPrivate(\"letter\");\r\n        const open = \"open\";\r\n        const low = \"low\";\r\n        const high = \"high\";\r\n        const show = \"Show\";\r\n        if (xAxis.className === \"ValueAxis\") {\r\n            this._xField = this.get((xName + xLetter + show));\r\n            this._xOpenField = this.get((open + xCapName + xLetter + show));\r\n            this._xLowField = this.get((low + xCapName + xLetter + show));\r\n            this._xHighField = this.get((high + xCapName + xLetter + show));\r\n        }\r\n        else {\r\n            this._xField = (xName + xLetter);\r\n            this._xOpenField = (open + xCapName + xLetter);\r\n            this._xLowField = (low + xCapName + xLetter);\r\n            this._xHighField = (high + xCapName + xLetter);\r\n        }\r\n        if (yAxis.className === \"ValueAxis\") {\r\n            this._yField = this.get((yName + yLetter + show));\r\n            this._yOpenField = this.get((open + yCapName + yLetter + show));\r\n            this._yLowField = this.get((low + yCapName + yLetter + show));\r\n            this._yHighField = this.get((high + yCapName + yLetter + show));\r\n        }\r\n        else {\r\n            this._yField = (yName + yLetter);\r\n            this._yOpenField = (open + yCapName + yLetter);\r\n            this._yLowField = (low + yCapName + yLetter);\r\n            this._yHighField = (high + yCapName + yLetter);\r\n        }\r\n    }\r\n    _fixVC() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const hiddenState = this.states.lookup(\"hidden\");\r\n        const sequencedInterpolation = this.get(\"sequencedInterpolation\");\r\n        if (hiddenState) {\r\n            let value = 0;\r\n            if (sequencedInterpolation) {\r\n                value = 0.999999999999; // makes animate, good for stacked\r\n            }\r\n            if (xAxis === baseAxis) {\r\n                hiddenState.set(\"vcy\", value);\r\n            }\r\n            else if (yAxis === baseAxis) {\r\n                hiddenState.set(\"vcx\", value);\r\n            }\r\n            else {\r\n                hiddenState.set(\"vcy\", value);\r\n                hiddenState.set(\"vcx\", value);\r\n            }\r\n        }\r\n    }\r\n    _handleMaskBullets() {\r\n        if (this.isDirty(\"maskBullets\")) {\r\n            this.bulletsContainer.set(\"maskContent\", this.get(\"maskBullets\"));\r\n        }\r\n    }\r\n    _fixPosition() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        this.set(\"x\", xAxis.x() - _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.relativeToValue(xAxis.get(\"centerX\", 0), xAxis.width()) - xAxis.parent.get(\"paddingLeft\", 0));\r\n        this.set(\"y\", yAxis.y() - _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.relativeToValue(yAxis.get(\"centerY\", 0), yAxis.height()) - yAxis.parent.get(\"paddingTop\", 0));\r\n        this.bulletsContainer.set(\"y\", this.y());\r\n        this.bulletsContainer.set(\"x\", this.x());\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this._bullets = {};\r\n        if (this.isDirty(\"valueYShow\") || this.isDirty(\"valueXShow\") || this.isDirty(\"openValueYShow\") || this.isDirty(\"openValueXShow\") || this.isDirty(\"lowValueYShow\") || this.isDirty(\"lowValueXShow\") || this.isDirty(\"highValueYShow\") || this.isDirty(\"highValueXShow\")) {\r\n            this._updateFields();\r\n            this._makeFieldNames();\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isDirty(\"xAxis\") || this.isDirty(\"yAxis\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        this.set(\"width\", this.get(\"xAxis\").width());\r\n        this.set(\"height\", this.get(\"yAxis\").height());\r\n        this._handleMaskBullets();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const tooltipPositionX = this.get(\"tooltipPositionX\");\r\n        let tooltipFieldX;\r\n        switch (tooltipPositionX) {\r\n            case \"open\":\r\n                tooltipFieldX = this._xOpenField;\r\n                break;\r\n            case \"low\":\r\n                tooltipFieldX = this._xLowField;\r\n                break;\r\n            case \"high\":\r\n                tooltipFieldX = this._xHighField;\r\n                break;\r\n            default:\r\n                tooltipFieldX = this._xField;\r\n        }\r\n        this._tooltipFieldX = tooltipFieldX;\r\n        const tooltipPositionY = this.get(\"tooltipPositionY\");\r\n        let tooltipFieldY;\r\n        switch (tooltipPositionY) {\r\n            case \"open\":\r\n                tooltipFieldY = this._yOpenField;\r\n                break;\r\n            case \"low\":\r\n                tooltipFieldY = this._yLowField;\r\n                break;\r\n            case \"high\":\r\n                tooltipFieldY = this._yHighField;\r\n                break;\r\n            default:\r\n                tooltipFieldY = this._yField;\r\n        }\r\n        this._tooltipFieldY = tooltipFieldY;\r\n        if (this.isDirty(\"baseAxis\")) {\r\n            this._fixVC();\r\n        }\r\n        this._fixPosition();\r\n        const stacked = this.get(\"stacked\");\r\n        if (this.isDirty(\"stacked\")) {\r\n            if (stacked) {\r\n                if (this._valuesDirty && !this._dataProcessed) {\r\n                }\r\n                else {\r\n                    this._stack();\r\n                }\r\n            }\r\n            else {\r\n                this._unstack();\r\n            }\r\n        }\r\n        if (this._valuesDirty && !this._dataProcessed) {\r\n            this._dataProcessed = true;\r\n            if (stacked) {\r\n                this._stack();\r\n            }\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.dataItems, (dataItem) => {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._valueXShowFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (stacked) {\r\n                            value += this.getStackedXValue(dataItem, key);\r\n                        }\r\n                        this._min(\"minX\", value);\r\n                        this._max(\"maxX\", value);\r\n                    }\r\n                });\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._valueYShowFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (stacked) {\r\n                            value += this.getStackedYValue(dataItem, key);\r\n                        }\r\n                        this._min(\"minY\", value);\r\n                        this._max(\"maxY\", value);\r\n                    }\r\n                });\r\n                xAxis.processSeriesDataItem(dataItem, this._valueXFields);\r\n                yAxis.processSeriesDataItem(dataItem, this._valueYFields);\r\n            });\r\n            xAxis._seriesValuesDirty = true;\r\n            yAxis._seriesValuesDirty = true;\r\n            if (!this.get(\"ignoreMinMax\")) {\r\n                if (this.isPrivateDirty(\"minX\") || this.isPrivateDirty(\"maxX\")) {\r\n                    xAxis.markDirtyExtremes();\r\n                }\r\n                if (this.isPrivateDirty(\"minY\") || this.isPrivateDirty(\"maxY\")) {\r\n                    yAxis.markDirtyExtremes();\r\n                }\r\n            }\r\n            this._markStakedDirtyStack();\r\n            //this.updateLegendMarker(undefined); // causes legend marker to change color instantly when on\r\n            if (!this.get(\"tooltipDataItem\")) {\r\n                this.updateLegendValue(undefined);\r\n            }\r\n        }\r\n        if (this.isDirty(\"vcx\") || this.isDirty(\"vcy\")) {\r\n            this._markStakedDirtyStack();\r\n        }\r\n        if (!this._dataGrouped) {\r\n            xAxis._groupSeriesData(this);\r\n            yAxis._groupSeriesData(this);\r\n            this._dataGrouped = true;\r\n        }\r\n        if (this._valuesDirty || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"adjustedStartIndex\") || this.isPrivateDirty(\"endIndex\") || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty || this._sizeDirty) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            let minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n            if (minBulletDistance > 0 && baseAxis) {\r\n                if (baseAxis.get(\"renderer\").axisLength() / (endIndex - startIndex) > minBulletDistance) {\r\n                    this._showBullets = true;\r\n                }\r\n                else {\r\n                    this._showBullets = false;\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this.isPrivateDirty(\"adjustedStartIndex\") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {\r\n                this._selectionProcessed = true;\r\n                const vcx = this.get(\"vcx\", 1);\r\n                const vcy = this.get(\"vcy\", 1);\r\n                const stacked = this.get(\"stacked\", false);\r\n                const outOfSelection = this.getPrivate(\"outOfSelection\");\r\n                if (baseAxis === xAxis || !baseAxis) {\r\n                    yAxis._calculateTotals();\r\n                    this.setPrivateRaw(\"selectionMinY\", undefined);\r\n                    this.setPrivateRaw(\"selectionMaxY\", undefined);\r\n                    if (!outOfSelection) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            this.processYSelectionDataItem(this.dataItems[i], vcy, stacked);\r\n                        }\r\n                    }\r\n                    else {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                }\r\n                if (baseAxis === yAxis || !baseAxis) {\r\n                    xAxis._calculateTotals();\r\n                    this.setPrivateRaw(\"selectionMinX\", undefined);\r\n                    this.setPrivateRaw(\"selectionMaxX\", undefined);\r\n                    if (!outOfSelection) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            this.processXSelectionDataItem(this.dataItems[i], vcx, stacked);\r\n                        }\r\n                    }\r\n                    else {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                }\r\n                if (baseAxis === xAxis || !baseAxis) {\r\n                    if (this.get(\"valueYShow\") !== \"valueYWorking\") {\r\n                        const selectionMinY = this.getPrivate(\"selectionMinY\");\r\n                        if (selectionMinY != null) {\r\n                            this.setPrivateRaw(\"minY\", selectionMinY);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                        const selectionMaxY = this.getPrivate(\"selectionMaxY\");\r\n                        if (selectionMaxY != null) {\r\n                            this.setPrivateRaw(\"maxY\", selectionMaxY);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                if (baseAxis === yAxis || !baseAxis) {\r\n                    if (this.get(\"valueXShow\") !== \"valueXWorking\") {\r\n                        const selectionMinX = this.getPrivate(\"selectionMinX\");\r\n                        if (selectionMinX != null) {\r\n                            this.setPrivateRaw(\"minX\", selectionMinX);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                        const selectionMaxX = this.getPrivate(\"selectionMaxX\");\r\n                        if (selectionMaxX != null) {\r\n                            this.setPrivateRaw(\"maxX\", selectionMaxX);\r\n                            xAxis.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                if (this.isPrivateDirty(\"selectionMinX\") || this.isPrivateDirty(\"selectionMaxX\")) {\r\n                    xAxis.markDirtySelectionExtremes();\r\n                }\r\n                if (this.isPrivateDirty(\"selectionMinY\") || this.isPrivateDirty(\"selectionMaxY\")) {\r\n                    yAxis.markDirtySelectionExtremes();\r\n                }\r\n                // this.updateLegendValue(undefined); flickers while panning\r\n            }\r\n        }\r\n    }\r\n    _makeRangeMask() {\r\n        if (this.axisRanges.length > 0) {\r\n            let mainContainerMask = this._mainContainerMask;\r\n            if (mainContainerMask == null) {\r\n                mainContainerMask = this.children.push(_core_render_Graphics__WEBPACK_IMPORTED_MODULE_6__.Graphics.new(this._root, {}));\r\n                this._mainContainerMask = mainContainerMask;\r\n                mainContainerMask.set(\"draw\", (display, target) => {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        const w = this._root.container.width();\r\n                        const h = this._root.container.height();\r\n                        display.moveTo(-w, -h);\r\n                        display.lineTo(-w, h * 2);\r\n                        display.lineTo(w * 2, h * 2);\r\n                        display.lineTo(w * 2, -h);\r\n                        display.lineTo(-w, -h);\r\n                        this.axisRanges.each((axisRange) => {\r\n                            const fill = axisRange.axisDataItem.get(\"axisFill\");\r\n                            if (parent) {\r\n                                if (fill) {\r\n                                    let draw = fill.get(\"draw\");\r\n                                    if (draw) {\r\n                                        draw(display, target);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                    this.mainContainer._display.mask = mainContainerMask._display;\r\n                });\r\n            }\r\n            mainContainerMask.markDirty();\r\n            mainContainerMask._markDirtyKey(\"fill\");\r\n        }\r\n        else {\r\n            this.mainContainer._display.mask = null;\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        // save for performance\r\n        this._x = this.x();\r\n        this._y = this.y();\r\n        this._makeRangeMask();\r\n    }\r\n    _stack() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            const seriesIndex = chart.series.indexOf(this);\r\n            this._couldStackTo = [];\r\n            if (seriesIndex > 0) {\r\n                let series;\r\n                for (let i = seriesIndex - 1; i >= 0; i--) {\r\n                    series = chart.series.getIndex(i);\r\n                    if (series.get(\"xAxis\") === this.get(\"xAxis\") && series.get(\"yAxis\") === this.get(\"yAxis\") && series.className === this.className) {\r\n                        this._couldStackTo.push(series);\r\n                        if (!series.get(\"stacked\")) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._stackDataItems();\r\n        }\r\n    }\r\n    _unstack() {\r\n        _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.each(this._reallyStackedTo, (_key, value) => {\r\n            delete (value._stackedSeries[this.uid]);\r\n        });\r\n        this._reallyStackedTo = {};\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.dataItems, (dataItem) => {\r\n            dataItem.setRaw(\"stackToItemY\", undefined);\r\n            dataItem.setRaw(\"stackToItemX\", undefined);\r\n        });\r\n    }\r\n    _stackDataItems() {\r\n        // this works only with the same number of data @todo: search by date/category?\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        let field;\r\n        let stackToItemKey;\r\n        if (baseAxis === xAxis) {\r\n            field = \"valueY\";\r\n            stackToItemKey = \"stackToItemY\";\r\n        }\r\n        else if (baseAxis === yAxis) {\r\n            field = \"valueX\";\r\n            stackToItemKey = \"stackToItemX\";\r\n        }\r\n        let len = this._couldStackTo.length;\r\n        let index = 0;\r\n        const stackToNegative = this.get(\"stackToNegative\");\r\n        this._reallyStackedTo = {};\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.dataItems, (dataItem) => {\r\n            for (let s = 0; s < len; s++) {\r\n                let stackToSeries = this._couldStackTo[s];\r\n                let stackToItem = stackToSeries.dataItems[index];\r\n                let value = dataItem.get(field);\r\n                if (stackToItem) {\r\n                    let stackValue = stackToItem.get(field);\r\n                    if (stackToNegative) {\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(value)) {\r\n                            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(stackValue)) {\r\n                                if (value >= 0 && stackValue >= 0) {\r\n                                    dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                    this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                    stackToSeries._stackedSeries[this.uid] = this;\r\n                                    break;\r\n                                }\r\n                                if (value < 0 && stackValue < 0) {\r\n                                    dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                    this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                    stackToSeries._stackedSeries[this.uid] = this;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            break;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(value) && _core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(stackValue)) {\r\n                            dataItem.setRaw(stackToItemKey, stackToItem);\r\n                            this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                            stackToSeries._stackedSeries[this.uid] = this;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            index++;\r\n        });\r\n    }\r\n    processXSelectionDataItem(dataItem, vcx, stacked) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.__valueXShowFields, (key) => {\r\n            let value = dataItem.get(key);\r\n            if (value != null) {\r\n                if (stacked) {\r\n                    value += this.getStackedXValueWorking(dataItem, key);\r\n                }\r\n                this._min(\"selectionMinX\", value);\r\n                this._max(\"selectionMaxX\", value * vcx);\r\n            }\r\n        });\r\n    }\r\n    processYSelectionDataItem(dataItem, vcy, stacked) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this.__valueYShowFields, (key) => {\r\n            let value = dataItem.get(key);\r\n            if (value != null) {\r\n                if (stacked) {\r\n                    value += this.getStackedYValueWorking(dataItem, key);\r\n                }\r\n                this._min(\"selectionMinY\", value);\r\n                this._max(\"selectionMaxY\", value * vcy);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedYValueWorking(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            const stackedToSeries = stackToItem.component;\r\n            return stackToItem.get(key, 0) * stackedToSeries.get(\"vcy\", 1) + this.getStackedYValueWorking(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedXValueWorking(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            const stackedToSeries = stackToItem.component;\r\n            return stackToItem.get(key, 0) * stackedToSeries.get(\"vcx\", 1) + this.getStackedXValueWorking(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedYValue(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            return stackToItem.get(key, 0) + this.getStackedYValue(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedXValue(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            return stackToItem.get(key, 0) + this.getStackedXValue(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    createLegendMarker(_dataItem) {\r\n        this.updateLegendMarker();\r\n    }\r\n    _markDirtyAxes() {\r\n        this._axesDirty = true;\r\n        this.markDirty();\r\n    }\r\n    _markDataSetDirty() {\r\n        this._afterDataChange();\r\n        this._valuesDirty = true;\r\n        this._dataProcessed = false;\r\n        this._aggregatesCalculated = false;\r\n        this.markDirty();\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._axesDirty = false;\r\n        this._selectionProcessed = false;\r\n        this._stackDirty = false;\r\n        this._dataProcessed = false;\r\n    }\r\n    _positionBullet(bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            let dataItem = sprite.dataItem;\r\n            let locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n            let locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n            let xAxis = this.get(\"xAxis\");\r\n            let yAxis = this.get(\"yAxis\");\r\n            let positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get(\"vcx\", 1));\r\n            let positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get(\"vcy\", 1));\r\n            let point = this.getPoint(positionX, positionY);\r\n            let left = dataItem.get(\"left\", point.x);\r\n            let right = dataItem.get(\"right\", point.x);\r\n            let top = dataItem.get(\"top\", point.y);\r\n            let bottom = dataItem.get(\"bottom\", point.y);\r\n            let x = 0;\r\n            let y = 0;\r\n            let w = right - left;\r\n            let h = bottom - top;\r\n            if (this._shouldShowBullet(positionX, positionY)) {\r\n                sprite.setPrivate(\"visible\", !bullet.getPrivate(\"hidden\"));\r\n                let field = bullet.get(\"field\");\r\n                const baseAxis = this.get(\"baseAxis\");\r\n                const xAxis = this.get(\"xAxis\");\r\n                const yAxis = this.get(\"yAxis\");\r\n                if (field != undefined) {\r\n                    let realField;\r\n                    if (baseAxis == xAxis) {\r\n                        if (field == \"value\") {\r\n                            realField = this._yField;\r\n                        }\r\n                        else if (field == \"open\") {\r\n                            realField = this._yOpenField;\r\n                        }\r\n                        else if (field == \"high\") {\r\n                            realField = this._yHighField;\r\n                        }\r\n                        else if (field == \"low\") {\r\n                            realField = this._yLowField;\r\n                        }\r\n                        if (realField) {\r\n                            positionY = yAxis.getDataItemPositionY(dataItem, realField, 0, this.get(\"vcy\", 1));\r\n                            point = yAxis.get(\"renderer\").positionToPoint(positionY);\r\n                            y = point.y;\r\n                            x = left + w * locationX;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (field == \"value\") {\r\n                            realField = this._xField;\r\n                        }\r\n                        else if (field == \"open\") {\r\n                            realField = this._xOpenField;\r\n                        }\r\n                        else if (field == \"high\") {\r\n                            realField = this._xHighField;\r\n                        }\r\n                        else if (field == \"low\") {\r\n                            realField = this._xLowField;\r\n                        }\r\n                        if (realField) {\r\n                            positionX = xAxis.getDataItemPositionX(dataItem, realField, 0, this.get(\"vcx\", 1));\r\n                            point = xAxis.get(\"renderer\").positionToPoint(positionX);\r\n                            x = point.x;\r\n                            y = bottom - h * locationY;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    x = left + w * locationX;\r\n                    y = bottom - h * locationY;\r\n                }\r\n                const stacked = bullet.get(\"stacked\");\r\n                if (stacked) {\r\n                    const chart = this.chart;\r\n                    if (baseAxis == xAxis) {\r\n                        let previousBullet = this._bullets[positionX + \"_\" + positionY];\r\n                        if (previousBullet) {\r\n                            let previousBounds = previousBullet.bounds();\r\n                            let bounds = sprite.localBounds();\r\n                            let yo = y;\r\n                            y = previousBounds.top;\r\n                            if (stacked == \"down\") {\r\n                                y = previousBounds.bottom - bounds.top;\r\n                            }\r\n                            else if (stacked == \"auto\") {\r\n                                if (chart) {\r\n                                    if (yo < chart.plotContainer.height() / 2) {\r\n                                        y = previousBounds.bottom - bounds.top;\r\n                                    }\r\n                                    else {\r\n                                        y += bounds.bottom;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                y += bounds.bottom;\r\n                            }\r\n                        }\r\n                        this._bullets[positionX + \"_\" + positionY] = sprite;\r\n                    }\r\n                    else {\r\n                        let previousBullet = this._bullets[positionX + \"_\" + positionY];\r\n                        if (previousBullet) {\r\n                            let previousBounds = previousBullet.bounds();\r\n                            let bounds = sprite.localBounds();\r\n                            let xo = x;\r\n                            x = previousBounds.right;\r\n                            if (stacked == \"down\") {\r\n                                x = previousBounds.left - bounds.right;\r\n                            }\r\n                            else if (stacked == \"auto\") {\r\n                                if (chart) {\r\n                                    if (xo < chart.plotContainer.width() / 2) {\r\n                                        x = previousBounds.left - bounds.right;\r\n                                    }\r\n                                    else {\r\n                                        x -= bounds.left;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                x -= bounds.left;\r\n                            }\r\n                        }\r\n                        this._bullets[positionX + \"_\" + positionY] = sprite;\r\n                    }\r\n                }\r\n                if (sprite.isType(\"Label\")) {\r\n                    sprite.setPrivate(\"maxWidth\", Math.abs(w));\r\n                    sprite.setPrivate(\"maxHeight\", Math.abs(h));\r\n                }\r\n                sprite.setAll({ x, y });\r\n            }\r\n            else {\r\n                sprite.setPrivate(\"visible\", false);\r\n            }\r\n        }\r\n    }\r\n    _shouldShowBullet(_positionX, _positionY) {\r\n        return this._showBullets;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setDataSet(id) {\r\n        if (this._dataSets[id]) {\r\n            this._handleDataSetChange();\r\n            this._dataItems = this._dataSets[id];\r\n            this._markDataSetDirty();\r\n            this._dataSetId = id;\r\n            const type = \"datasetchanged\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this, id: id });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetGrouping() {\r\n        _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.each(this._dataSets, (_key, dataSet) => {\r\n            if (dataSet != this._mainDataItems) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataSet, (dataItem) => {\r\n                    this.disposeDataItem(dataItem);\r\n                });\r\n            }\r\n        });\r\n        this._dataSets = {};\r\n        this._dataItems = this.mainDataItems;\r\n    }\r\n    _handleDataSetChange() {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._dataItems, (dataItem) => {\r\n            let bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    if (bullet) {\r\n                        let sprite = bullet.get(\"sprite\");\r\n                        if (sprite) {\r\n                            sprite.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        this._selectionProcessed = false; // for totals to be calculated\r\n    }\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    show(duration) {\r\n        const _super = Object.create(null, {\r\n            show: { get: () => super.show }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            this._fixVC();\r\n            let promises = [];\r\n            promises.push(_super.show.call(this, duration).then(() => {\r\n                this._isShowing = false;\r\n                let xAxis = this.get(\"xAxis\");\r\n                let yAxis = this.get(\"yAxis\");\r\n                let baseAxis = this.get(\"baseAxis\");\r\n                if (yAxis !== baseAxis) {\r\n                    yAxis.markDirtySelectionExtremes();\r\n                }\r\n                if (xAxis !== baseAxis) {\r\n                    xAxis.markDirtySelectionExtremes();\r\n                }\r\n            }));\r\n            promises.push(this.bulletsContainer.show(duration));\r\n            promises.push(this._sequencedShowHide(true, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    hide(duration) {\r\n        const _super = Object.create(null, {\r\n            hide: { get: () => super.hide }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            this._fixVC();\r\n            let promises = [];\r\n            promises.push(_super.hide.call(this, duration).then(() => {\r\n                this._isHiding = false;\r\n            }));\r\n            promises.push(this.bulletsContainer.hide(duration));\r\n            promises.push(this._sequencedShowHide(false, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._valueFields, (key) => {\r\n                promises.push(dataItem.animate({ key: key + \"Working\", to: dataItem.get(key), duration: duration, easing: easing }).waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const hiddenState = this.states.create(\"hidden\", {});\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(duration)) {\r\n                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            const easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const baseAxis = this.get(\"baseAxis\");\r\n            const stacked = this.get(\"stacked\");\r\n            if (baseAxis === xAxis || !baseAxis) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._valueYFields, (key) => {\r\n                    let min = yAxis.getPrivate(\"min\");\r\n                    let baseValue = yAxis.baseValue();\r\n                    if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(min) && min > baseValue) {\r\n                        baseValue = min;\r\n                    }\r\n                    if (stacked) {\r\n                        baseValue = 0;\r\n                    }\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                    }\r\n                });\r\n            }\r\n            if (baseAxis === yAxis || !baseAxis) {\r\n                let min = xAxis.getPrivate(\"min\");\r\n                let baseValue = xAxis.baseValue();\r\n                if (_core_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(min) && min > baseValue) {\r\n                    baseValue = min;\r\n                }\r\n                if (stacked) {\r\n                    baseValue = 0;\r\n                }\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._valueXFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _markDirtyStack() {\r\n        this._stackDirty = true;\r\n        this.markDirty();\r\n        this._markStakedDirtyStack();\r\n    }\r\n    _markStakedDirtyStack() {\r\n        const stackedSeries = this._stackedSeries;\r\n        if (stackedSeries) {\r\n            _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.each(stackedSeries, (_key, value) => {\r\n                if (!value._stackDirty) {\r\n                    value._markDirtyStack();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._skipped) {\r\n            this._markDirtyAxes();\r\n            this._skipped = false;\r\n        }\r\n    }\r\n    /**\r\n     * Shows a tooltip for specific data item.\r\n     *\r\n     * @param  dataItem  Data item\r\n     */\r\n    showDataItemTooltip(dataItem) {\r\n        if (!this.getPrivate(\"doNotUpdateLegend\")) {\r\n            this.updateLegendMarker(dataItem);\r\n            this.updateLegendValue(dataItem);\r\n        }\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            if (!this.isHidden() && this.get(\"visible\")) {\r\n                tooltip._setDataItem(dataItem);\r\n                if (dataItem) {\r\n                    let locationX = this.get(\"locationX\", 0);\r\n                    let locationY = this.get(\"locationY\", 1);\r\n                    let itemLocationX = dataItem.get(\"locationX\", locationX);\r\n                    let itemLocationY = dataItem.get(\"locationY\", locationY);\r\n                    const xAxis = this.get(\"xAxis\");\r\n                    const yAxis = this.get(\"yAxis\");\r\n                    const vcx = this.get(\"vcx\", 1);\r\n                    const vcy = this.get(\"vcy\", 1);\r\n                    const xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx);\r\n                    const yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy);\r\n                    const point = this.getPoint(xPos, yPos);\r\n                    let show = true;\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(this._valueFields, (field) => {\r\n                        if (dataItem.get(field) == null) {\r\n                            show = false;\r\n                        }\r\n                    });\r\n                    if (show) {\r\n                        const chart = this.chart;\r\n                        if (chart && chart.inPlot(point)) {\r\n                            tooltip.label.text.markDirtyText();\r\n                            tooltip.set(\"tooltipTarget\", this._getTooltipTarget(dataItem));\r\n                            tooltip.set(\"pointTo\", this._display.toGlobal({ x: point.x, y: point.y }));\r\n                        }\r\n                        else {\r\n                            tooltip._setDataItem(undefined);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tooltip._setDataItem(undefined);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.hideTooltip();\r\n            }\r\n        }\r\n    }\r\n    hideTooltip() {\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.set(\"tooltipTarget\", this);\r\n        }\r\n        return super.hideTooltip();\r\n    }\r\n    _getTooltipTarget(dataItem) {\r\n        if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets && bullets.length > 0) {\r\n                const bullet = bullets[0];\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    return sprite;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        const legendDataItem = this.get(\"legendDataItem\");\r\n        if (legendDataItem) {\r\n            const label = legendDataItem.get(\"label\");\r\n            if (label) {\r\n                let txt = \"\";\r\n                if (dataItem) {\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\")));\r\n                }\r\n                else {\r\n                    label._setDataItem(this._emptyDataItem);\r\n                    txt = this.get(\"legendRangeLabelText\", this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\"))));\r\n                }\r\n                label.set(\"text\", txt);\r\n            }\r\n            const valueLabel = legendDataItem.get(\"valueLabel\");\r\n            if (valueLabel) {\r\n                let txt = \"\";\r\n                if (dataItem) {\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", valueLabel.get(\"text\", \"\"));\r\n                }\r\n                else {\r\n                    valueLabel._setDataItem(this._emptyDataItem);\r\n                    txt = this.get(\"legendRangeValueText\", valueLabel.get(\"text\", \"\"));\r\n                }\r\n                valueLabel.set(\"text\", txt);\r\n            }\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        let text = \"X: {\" + this._xField;\r\n        if (this.get(\"xAxis\").isType(\"DateAxis\")) {\r\n            text += \".formatDate()\";\r\n        }\r\n        text += \"}; Y: {\" + this._yField;\r\n        if (this.get(\"yAxis\").isType(\"DateAxis\")) {\r\n            text += \".formatDate()\";\r\n        }\r\n        text += \"}\";\r\n        return text;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getPoint(positionX, positionY) {\r\n        let x = this.get(\"xAxis\").get(\"renderer\").positionToCoordinate(positionX);\r\n        let y = this.get(\"yAxis\").get(\"renderer\").positionToCoordinate(positionY);\r\n        // if coordinate is super big, canvas fails to draw line, capping to some big number (won't make any visual difference)\r\n        let max = 999999999;\r\n        if (y < -max) {\r\n            y = -max;\r\n        }\r\n        if (y > max) {\r\n            y = max;\r\n        }\r\n        if (x < -max) {\r\n            x = -max;\r\n        }\r\n        if (x > max) {\r\n            x = max;\r\n        }\r\n        return { x: x, y: y };\r\n    }\r\n    _shouldInclude(_position) {\r\n        return true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorHide() {\r\n        this.hideTooltip();\r\n        this.updateLegendValue(undefined);\r\n        this.updateLegendMarker(undefined);\r\n    }\r\n    _afterDataChange() {\r\n        super._afterDataChange();\r\n        this.get(\"xAxis\")._markDirtyKey(\"start\");\r\n        this.get(\"yAxis\")._markDirtyKey(\"start\");\r\n        this.resetExtremes();\r\n    }\r\n    /**\r\n     * Resets cached axis scale values.\r\n     */\r\n    resetExtremes() {\r\n        this.setPrivate(\"selectionMinX\", undefined);\r\n        this.setPrivate(\"selectionMaxX\", undefined);\r\n        this.setPrivate(\"selectionMinY\", undefined);\r\n        this.setPrivate(\"selectionMaxY\", undefined);\r\n        this.setPrivate(\"minX\", undefined);\r\n        this.setPrivate(\"minY\", undefined);\r\n        this.setPrivate(\"maxX\", undefined);\r\n        this.setPrivate(\"maxY\", undefined);\r\n    }\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    createAxisRange(axisDataItem) {\r\n        return this.axisRanges.push({\r\n            axisDataItem: axisDataItem\r\n        });\r\n    }\r\n    /**\r\n     * A list of series's main (ungrouped) data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get mainDataItems() {\r\n        return this._mainDataItems;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _adjustStartIndex(index) {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        if (baseAxis == xAxis && xAxis.isType(\"DateAxis\")) {\r\n            const baseDuration = xAxis.baseDuration();\r\n            const minSelection = xAxis.getPrivate(\"selectionMin\", xAxis.getPrivate(\"min\", 0));\r\n            const dl = baseDuration * this.get(\"locationX\", 0.5);\r\n            let value = -Infinity;\r\n            while (value < minSelection) {\r\n                const dataItem = this.dataItems[index];\r\n                if (dataItem) {\r\n                    const open = dataItem.open;\r\n                    if (open) {\r\n                        value = open[\"valueX\"];\r\n                    }\r\n                    else {\r\n                        value = dataItem.get(\"valueX\", 0);\r\n                    }\r\n                    value += dl;\r\n                    if (value < minSelection) {\r\n                        index++;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n}\r\nObject.defineProperty(XYSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYSeries\"\r\n});\r\nObject.defineProperty(XYSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Series__WEBPACK_IMPORTED_MODULE_0__.Series.classNames.concat([XYSeries.className])\r\n});\r\n//# sourceMappingURL=XYSeries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL3h5L3Nlcmllcy9YWVNlcmllcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFrQztBQUN3QjtBQUNMO0FBQ047QUFDWTtBQUNGO0FBQ1I7QUFDSTtBQUNGO0FBQ0E7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdFQUFnRTtBQUN6RTtBQUNPLHVCQUF1Qix1REFBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQVMsbUJBQW1CO0FBQ2xFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQTBFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaURBQUk7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw0REFBUSxvQkFBb0I7QUFDbkQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVDQUF1Qyw0QkFBNEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2REFBUyxtQkFBbUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFrQjtBQUMxQixRQUFRLHlEQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2REFBc0I7QUFDL0M7QUFDQSx5QkFBeUIsNkRBQXNCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw2REFBc0I7QUFDeEQsa0NBQWtDLDZEQUFzQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrREFBVztBQUN2QixnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxjQUFjO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxjQUFjO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsMkRBQVEsbUJBQW1CO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1EQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxREFBYztBQUMxQyxnQ0FBZ0MscURBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQWMsV0FBVyxxREFBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsa0RBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrQ0FBa0M7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1EQUFZO0FBQ3BCO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLFNBQVM7QUFDVCxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsU0FBUztBQUNULGVBQWUsZ0RBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLFNBQVM7QUFDVCxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkIsaURBQWlELGlGQUFpRjtBQUNsSSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsU0FBUztBQUNULGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSwrREFBK0Q7QUFDL0QsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBLHdCQUF3QixxREFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx5RUFBeUU7QUFDbEk7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0EseURBQXlELHlFQUF5RTtBQUNsSTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbURBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSx3QkFBd0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLElBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwRUFBMEU7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jaGFydHMveHkvc2VyaWVzL1hZU2VyaWVzLmpzP2MxODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IERhdGFJdGVtIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBTZXJpZXMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZW5kZXIvU2VyaWVzXCI7XHJcbmltcG9ydCB7IExpc3QgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVuZGVyL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3JlbmRlci9HcmFwaGljc1wiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlsL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uLy4uLy4uL2NvcmUvdXRpbC9VdGlsc1wiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gbWluKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICBpZiAobGVmdCA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHJpZ2h0O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBsZWZ0O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmlnaHQgPCBsZWZ0KSB7XHJcbiAgICAgICAgcmV0dXJuIHJpZ2h0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIG1heChsZWZ0LCByaWdodCkge1xyXG4gICAgaWYgKGxlZnQgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiByaWdodDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbGVmdDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJpZ2h0ID4gbGVmdCkge1xyXG4gICAgICAgIHJldHVybiByaWdodDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBsZWZ0O1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGFsbCBYWSBjaGFydCBzZXJpZXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9zZXJpZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgWFlTZXJpZXMgZXh0ZW5kcyBTZXJpZXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfeEZpZWxkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl95RmllbGRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3hPcGVuRmllbGRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3lPcGVuRmllbGRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3hMb3dGaWVsZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfeEhpZ2hGaWVsZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfeUxvd0ZpZWxkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl95SGlnaEZpZWxkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9heGVzRGlydHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhY2tEaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZWxlY3Rpb25Qcm9jZXNzZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YVNldHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbWFpbkNvbnRhaW5lck1hc2tcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl95XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYnVsbGV0c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSB0aGF0IHVzIHVzZWQgdG8gcHV0IHNlcmllcycgZWxlbWVudHMgaW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYWluQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHt9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2YgYXhpcyByYW5nZXMgdGhhdCBhZmZlY3QgdGhlIHNlcmllcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NoYXJ0cy94eS1jaGFydC9heGVzL2F4aXMtcmFuZ2VzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF4aXNSYW5nZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IExpc3QoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9za2lwcGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvdWxkU3RhY2tUb1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWFsbHlTdGFja2VkVG9cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhY2tlZFNlcmllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hTG9jYXRpb25YMFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2FMb2NhdGlvblgxXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYUxvY2F0aW9uWTBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hTG9jYXRpb25ZMVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Nob3dCdWxsZXRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVhGaWVsZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW1xyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVhcIixcclxuICAgICAgICAgICAgICAgIFwib3BlblZhbHVlWFwiLFxyXG4gICAgICAgICAgICAgICAgXCJsb3dWYWx1ZVhcIixcclxuICAgICAgICAgICAgICAgIFwiaGlnaFZhbHVlWFwiXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVlGaWVsZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW1xyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVlcIixcclxuICAgICAgICAgICAgICAgIFwib3BlblZhbHVlWVwiLFxyXG4gICAgICAgICAgICAgICAgXCJsb3dWYWx1ZVlcIixcclxuICAgICAgICAgICAgICAgIFwiaGlnaFZhbHVlWVwiXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdmFsdWVYRmllbGRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZVlGaWVsZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gdXNlZCBmb3IgZnVsbCBtaW4vbWF4XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZhbHVlWFNob3dGaWVsZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZhbHVlWVNob3dGaWVsZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gdXNlZCBmb3Igc2VsZWN0aW9uICh1c2VzIHdvcmtpbmcpXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX192YWx1ZVhTaG93RmllbGRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9fdmFsdWVZU2hvd0ZpZWxkc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW1wdHlEYXRhSXRlbVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0YUl0ZW0odGhpcywgdW5kZWZpbmVkLCB7fSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YVNldElkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwRmllbGRYXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwRmllbGRZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wb3NYRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Bvc1lEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICB0aGlzLmZpZWxkcy5wdXNoKFwiY2F0ZWdvcnlYXCIsIFwiY2F0ZWdvcnlZXCIsIFwib3BlbkNhdGVnb3J5WFwiLCBcIm9wZW5DYXRlZ29yeVlcIik7XHJcbiAgICAgICAgdGhpcy52YWx1ZUZpZWxkcy5wdXNoKFwidmFsdWVYXCIsIFwidmFsdWVZXCIsIFwib3BlblZhbHVlWFwiLCBcIm9wZW5WYWx1ZVlcIiwgXCJsb3dWYWx1ZVhcIiwgXCJsb3dWYWx1ZVlcIiwgXCJoaWdoVmFsdWVYXCIsIFwiaGlnaFZhbHVlWVwiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwidmN4XCIsIDEpO1xyXG4gICAgICAgIHRoaXMuX3NldFJhd0RlZmF1bHQoXCJ2Y3lcIiwgMSk7XHJcbiAgICAgICAgLy8gdGhpcyBjYW4ndCBnbyB0byB0aGVtZXMsIGFzIGRhdGEgbWlnaHQgYmUgcGFyc2VkIGJlZm9yZSB0aGVtZVxyXG4gICAgICAgIHRoaXMuX3NldFJhd0RlZmF1bHQoXCJ2YWx1ZVhTaG93XCIsIFwidmFsdWVYV29ya2luZ1wiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwidmFsdWVZU2hvd1wiLCBcInZhbHVlWVdvcmtpbmdcIik7XHJcbiAgICAgICAgdGhpcy5fc2V0UmF3RGVmYXVsdChcIm9wZW5WYWx1ZVhTaG93XCIsIFwib3BlblZhbHVlWFdvcmtpbmdcIik7XHJcbiAgICAgICAgdGhpcy5fc2V0UmF3RGVmYXVsdChcIm9wZW5WYWx1ZVlTaG93XCIsIFwib3BlblZhbHVlWVdvcmtpbmdcIik7XHJcbiAgICAgICAgdGhpcy5fc2V0UmF3RGVmYXVsdChcImxvd1ZhbHVlWFNob3dcIiwgXCJsb3dWYWx1ZVhXb3JraW5nXCIpO1xyXG4gICAgICAgIHRoaXMuX3NldFJhd0RlZmF1bHQoXCJsb3dWYWx1ZVlTaG93XCIsIFwibG93VmFsdWVZV29ya2luZ1wiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwiaGlnaFZhbHVlWFNob3dcIiwgXCJoaWdoVmFsdWVYV29ya2luZ1wiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwiaGlnaFZhbHVlWVNob3dcIiwgXCJoaWdoVmFsdWVZV29ya2luZ1wiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwibG93VmFsdWVYR3JvdXBlZFwiLCBcImxvd1wiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwibG93VmFsdWVZR3JvdXBlZFwiLCBcImxvd1wiKTtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwiaGlnaFZhbHVlWEdyb3VwZWRcIiwgXCJoaWdoXCIpO1xyXG4gICAgICAgIHRoaXMuX3NldFJhd0RlZmF1bHQoXCJoaWdoVmFsdWVZR3JvdXBlZFwiLCBcImhpZ2hcIik7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXQoXCJtYXNrQ29udGVudFwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmF4aXNSYW5nZXMuZXZlbnRzLm9uQWxsKChjaGFuZ2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoYW5nZS5vbGRWYWx1ZXMsIChheGlzUmFuZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVBeGlzUmFuZ2UoYXhpc1JhbmdlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInB1c2hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0F4aXNSYW5nZShjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInNldEluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBeGlzUmFuZ2UoY2hhbmdlLm5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJpbnNlcnRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzQXhpc1JhbmdlKGNoYW5nZS5uZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicmVtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQXhpc1JhbmdlKGNoYW5nZS5vbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwibW92ZUluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBeGlzUmFuZ2UoY2hhbmdlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gSVN0cmVhbUV2ZW50IHR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuY3JlYXRlKFwiaGlkZGVuXCIsIHsgb3BhY2l0eTogMSwgdmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgdGhpcy5vblByaXZhdGUoXCJzdGFydEluZGV4XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yb290LmV2ZW50cy5vbmNlKFwiZnJhbWVlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxlZ2VuZFZhbHVlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25Qcml2YXRlKFwiZW5kSW5kZXhcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QuZXZlbnRzLm9uY2UoXCJmcmFtZWVuZGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGVnZW5kVmFsdWUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fbWFrZUZpZWxkTmFtZXMoKTtcclxuICAgIH1cclxuICAgIF9wcm9jZXNzQXhpc1JhbmdlKGF4aXNSYW5nZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwge30pO1xyXG4gICAgICAgIGF4aXNSYW5nZS5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNvbnRhaW5lcik7XHJcbiAgICAgICAgYXhpc1JhbmdlLnNlcmllcyA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgYXhpc0RhdGFJdGVtID0gYXhpc1JhbmdlLmF4aXNEYXRhSXRlbTtcclxuICAgICAgICBheGlzRGF0YUl0ZW0uc2V0UmF3KFwiaXNSYW5nZVwiLCB0cnVlKTtcclxuICAgICAgICBjb25zdCBheGlzID0gYXhpc0RhdGFJdGVtLmNvbXBvbmVudDtcclxuICAgICAgICBpZiAoYXhpcykge1xyXG4gICAgICAgICAgICBheGlzLl9wcm9jZXNzQXhpc1JhbmdlKGF4aXNEYXRhSXRlbSwgW1wicmFuZ2VcIiwgXCJzZXJpZXNcIl0pO1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXQgPSBheGlzRGF0YUl0ZW0uZ2V0KFwiYnVsbGV0XCIpO1xyXG4gICAgICAgICAgICBpZiAoYnVsbGV0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXhpc0ZpbGwgPSBheGlzRGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIik7XHJcbiAgICAgICAgICAgIGlmIChheGlzRmlsbCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldChcIm1hc2tcIiwgYXhpc0ZpbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF4aXMuX3Nlcmllc0F4aXNSYW5nZXMucHVzaChheGlzRGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZW1vdmVBeGlzUmFuZ2UoYXhpc1JhbmdlKSB7XHJcbiAgICAgICAgY29uc3QgYXhpc0RhdGFJdGVtID0gYXhpc1JhbmdlLmF4aXNEYXRhSXRlbTtcclxuICAgICAgICBjb25zdCBheGlzID0gYXhpc0RhdGFJdGVtLmNvbXBvbmVudDtcclxuICAgICAgICBheGlzLmRpc3Bvc2VEYXRhSXRlbShheGlzRGF0YUl0ZW0pO1xyXG4gICAgICAgICRhcnJheS5yZW1vdmUoYXhpcy5fc2VyaWVzQXhpc1JhbmdlcywgYXhpc0RhdGFJdGVtKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBheGlzUmFuZ2UuY29udGFpbmVyO1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlRmllbGRzKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVGaWVsZHMoKTtcclxuICAgICAgICB0aGlzLl92YWx1ZVhGaWVsZHMgPSBbXTtcclxuICAgICAgICB0aGlzLl92YWx1ZVlGaWVsZHMgPSBbXTtcclxuICAgICAgICB0aGlzLl92YWx1ZVhTaG93RmllbGRzID0gW107XHJcbiAgICAgICAgdGhpcy5fdmFsdWVZU2hvd0ZpZWxkcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX192YWx1ZVhTaG93RmllbGRzID0gW107XHJcbiAgICAgICAgdGhpcy5fX3ZhbHVlWVNob3dGaWVsZHMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy52YWx1ZVhGaWVsZHMpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy52YWx1ZVhGaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5nZXQoKGtleSArIFwiRmllbGRcIikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVYRmllbGRzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSB0aGlzLmdldCgoa2V5ICsgXCJTaG93XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdmFsdWVYU2hvd0ZpZWxkcy5wdXNoKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaW5kZXhPZihcIldvcmtpbmdcIikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVYU2hvd0ZpZWxkcy5wdXNoKGZpZWxkLnNwbGl0KFwiV29ya2luZ1wiKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZVhTaG93RmllbGRzLnB1c2goZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlWUZpZWxkcykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLnZhbHVlWUZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmdldCgoa2V5ICsgXCJGaWVsZFwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZVlGaWVsZHMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IHRoaXMuZ2V0KChrZXkgKyBcIlNob3dcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX192YWx1ZVlTaG93RmllbGRzLnB1c2goZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pbmRleE9mKFwiV29ya2luZ1wiKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZVlTaG93RmllbGRzLnB1c2goZmllbGQuc3BsaXQoXCJXb3JraW5nXCIpWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlWVNob3dGaWVsZHMucHVzaChmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2J1bGxldHMgPSB7fTtcclxuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0KSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnNlcmllcy5yZW1vdmVWYWx1ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KHRoaXMuZ2V0KFwieEF4aXNcIikuc2VyaWVzLCB0aGlzKTtcclxuICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QodGhpcy5nZXQoXCJ5QXhpc1wiKS5zZXJpZXMsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyB1c2UgIFNlbGVjdEtleXM8dGhpc1tcIl9wcml2YXRlU2V0dGluZ3NcIl0sIG51bWJlciB8IHVuZGVmaW5lZD5cclxuICAgIF9taW4oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IG1pbih0aGlzLmdldFByaXZhdGUoa2V5KSwgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShrZXksIG5ld1ZhbHVlKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE8gdXNlICBTZWxlY3RLZXlzPHRoaXNbXCJfcHJpdmF0ZVNldHRpbmdzXCJdLCBudW1iZXIgfCB1bmRlZmluZWQ+XHJcbiAgICBfbWF4KGtleSwgdmFsdWUpIHtcclxuICAgICAgICBsZXQgbmV3VmFsdWUgPSBtYXgodGhpcy5nZXRQcml2YXRlKGtleSksIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoa2V5LCBuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBfc2hvdWxkTWFrZUJ1bGxldChkYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICBjb25zdCB5QXhpcyA9IHRoaXMuZ2V0KFwieUF4aXNcIik7XHJcbiAgICAgICAgY29uc3QgYmFzZUF4aXMgPSB0aGlzLmdldChcImJhc2VBeGlzXCIpO1xyXG4gICAgICAgIGlmICgheEF4aXMuaW5pdGVkIHx8ICF5QXhpcy5pbml0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtaW5CdWxsZXREaXN0YW5jZSA9IHRoaXMuZ2V0KFwibWluQnVsbGV0RGlzdGFuY2VcIiwgMCk7XHJcbiAgICAgICAgaWYgKG1pbkJ1bGxldERpc3RhbmNlID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IHRoaXMuc3RhcnRJbmRleCgpO1xyXG4gICAgICAgICAgICBsZXQgZW5kSW5kZXggPSB0aGlzLmVuZEluZGV4KCk7XHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IGVuZEluZGV4IC0gc3RhcnRJbmRleDtcclxuICAgICAgICAgICAgaWYgKHhBeGlzID09IGJhc2VBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeEF4aXMuZ2V0KFwicmVuZGVyZXJcIikuYXhpc0xlbmd0aCgpIC8gY291bnQgPCBtaW5CdWxsZXREaXN0YW5jZSAvIDUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoeUF4aXMgPT0gYmFzZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh5QXhpcy5nZXQoXCJyZW5kZXJlclwiKS5heGlzTGVuZ3RoKCkgLyBjb3VudCA8IG1pbkJ1bGxldERpc3RhbmNlIC8gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YUl0ZW0uZ2V0KHRoaXMuX3hGaWVsZCkgIT0gbnVsbCAmJiBkYXRhSXRlbS5nZXQodGhpcy5feUZpZWxkKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfbWFrZUZpZWxkTmFtZXMoKSB7XHJcbiAgICAgICAgY29uc3QgeEF4aXMgPSB0aGlzLmdldChcInhBeGlzXCIpO1xyXG4gICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICBjb25zdCB4TmFtZSA9IHhBeGlzLmdldFByaXZhdGUoXCJuYW1lXCIpO1xyXG4gICAgICAgIGNvbnN0IHhDYXBOYW1lID0gJHV0aWxzLmNhcGl0YWxpemVGaXJzdCh4TmFtZSk7XHJcbiAgICAgICAgY29uc3QgeU5hbWUgPSB5QXhpcy5nZXRQcml2YXRlKFwibmFtZVwiKTtcclxuICAgICAgICBjb25zdCB5Q2FwTmFtZSA9ICR1dGlscy5jYXBpdGFsaXplRmlyc3QoeU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHhMZXR0ZXIgPSB4QXhpcy5nZXQoXCJyZW5kZXJlclwiKS5nZXRQcml2YXRlKFwibGV0dGVyXCIpO1xyXG4gICAgICAgIGNvbnN0IHlMZXR0ZXIgPSB5QXhpcy5nZXQoXCJyZW5kZXJlclwiKS5nZXRQcml2YXRlKFwibGV0dGVyXCIpO1xyXG4gICAgICAgIGNvbnN0IG9wZW4gPSBcIm9wZW5cIjtcclxuICAgICAgICBjb25zdCBsb3cgPSBcImxvd1wiO1xyXG4gICAgICAgIGNvbnN0IGhpZ2ggPSBcImhpZ2hcIjtcclxuICAgICAgICBjb25zdCBzaG93ID0gXCJTaG93XCI7XHJcbiAgICAgICAgaWYgKHhBeGlzLmNsYXNzTmFtZSA9PT0gXCJWYWx1ZUF4aXNcIikge1xyXG4gICAgICAgICAgICB0aGlzLl94RmllbGQgPSB0aGlzLmdldCgoeE5hbWUgKyB4TGV0dGVyICsgc2hvdykpO1xyXG4gICAgICAgICAgICB0aGlzLl94T3BlbkZpZWxkID0gdGhpcy5nZXQoKG9wZW4gKyB4Q2FwTmFtZSArIHhMZXR0ZXIgKyBzaG93KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3hMb3dGaWVsZCA9IHRoaXMuZ2V0KChsb3cgKyB4Q2FwTmFtZSArIHhMZXR0ZXIgKyBzaG93KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3hIaWdoRmllbGQgPSB0aGlzLmdldCgoaGlnaCArIHhDYXBOYW1lICsgeExldHRlciArIHNob3cpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3hGaWVsZCA9ICh4TmFtZSArIHhMZXR0ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl94T3BlbkZpZWxkID0gKG9wZW4gKyB4Q2FwTmFtZSArIHhMZXR0ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl94TG93RmllbGQgPSAobG93ICsgeENhcE5hbWUgKyB4TGV0dGVyKTtcclxuICAgICAgICAgICAgdGhpcy5feEhpZ2hGaWVsZCA9IChoaWdoICsgeENhcE5hbWUgKyB4TGV0dGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHlBeGlzLmNsYXNzTmFtZSA9PT0gXCJWYWx1ZUF4aXNcIikge1xyXG4gICAgICAgICAgICB0aGlzLl95RmllbGQgPSB0aGlzLmdldCgoeU5hbWUgKyB5TGV0dGVyICsgc2hvdykpO1xyXG4gICAgICAgICAgICB0aGlzLl95T3BlbkZpZWxkID0gdGhpcy5nZXQoKG9wZW4gKyB5Q2FwTmFtZSArIHlMZXR0ZXIgKyBzaG93KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3lMb3dGaWVsZCA9IHRoaXMuZ2V0KChsb3cgKyB5Q2FwTmFtZSArIHlMZXR0ZXIgKyBzaG93KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3lIaWdoRmllbGQgPSB0aGlzLmdldCgoaGlnaCArIHlDYXBOYW1lICsgeUxldHRlciArIHNob3cpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3lGaWVsZCA9ICh5TmFtZSArIHlMZXR0ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl95T3BlbkZpZWxkID0gKG9wZW4gKyB5Q2FwTmFtZSArIHlMZXR0ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl95TG93RmllbGQgPSAobG93ICsgeUNhcE5hbWUgKyB5TGV0dGVyKTtcclxuICAgICAgICAgICAgdGhpcy5feUhpZ2hGaWVsZCA9IChoaWdoICsgeUNhcE5hbWUgKyB5TGV0dGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZml4VkMoKSB7XHJcbiAgICAgICAgY29uc3QgeEF4aXMgPSB0aGlzLmdldChcInhBeGlzXCIpO1xyXG4gICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICBjb25zdCBiYXNlQXhpcyA9IHRoaXMuZ2V0KFwiYmFzZUF4aXNcIik7XHJcbiAgICAgICAgY29uc3QgaGlkZGVuU3RhdGUgPSB0aGlzLnN0YXRlcy5sb29rdXAoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgY29uc3Qgc2VxdWVuY2VkSW50ZXJwb2xhdGlvbiA9IHRoaXMuZ2V0KFwic2VxdWVuY2VkSW50ZXJwb2xhdGlvblwiKTtcclxuICAgICAgICBpZiAoaGlkZGVuU3RhdGUpIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gMDtcclxuICAgICAgICAgICAgaWYgKHNlcXVlbmNlZEludGVycG9sYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gMC45OTk5OTk5OTk5OTk7IC8vIG1ha2VzIGFuaW1hdGUsIGdvb2QgZm9yIHN0YWNrZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeEF4aXMgPT09IGJhc2VBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW5TdGF0ZS5zZXQoXCJ2Y3lcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHlBeGlzID09PSBiYXNlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuU3RhdGUuc2V0KFwidmN4XCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhpZGRlblN0YXRlLnNldChcInZjeVwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW5TdGF0ZS5zZXQoXCJ2Y3hcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZU1hc2tCdWxsZXRzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtYXNrQnVsbGV0c1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuc2V0KFwibWFza0NvbnRlbnRcIiwgdGhpcy5nZXQoXCJtYXNrQnVsbGV0c1wiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ZpeFBvc2l0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICBjb25zdCB5QXhpcyA9IHRoaXMuZ2V0KFwieUF4aXNcIik7XHJcbiAgICAgICAgdGhpcy5zZXQoXCJ4XCIsIHhBeGlzLngoKSAtICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoeEF4aXMuZ2V0KFwiY2VudGVyWFwiLCAwKSwgeEF4aXMud2lkdGgoKSkgLSB4QXhpcy5wYXJlbnQuZ2V0KFwicGFkZGluZ0xlZnRcIiwgMCkpO1xyXG4gICAgICAgIHRoaXMuc2V0KFwieVwiLCB5QXhpcy55KCkgLSAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHlBeGlzLmdldChcImNlbnRlcllcIiwgMCksIHlBeGlzLmhlaWdodCgpKSAtIHlBeGlzLnBhcmVudC5nZXQoXCJwYWRkaW5nVG9wXCIsIDApKTtcclxuICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuc2V0KFwieVwiLCB0aGlzLnkoKSk7XHJcbiAgICAgICAgdGhpcy5idWxsZXRzQ29udGFpbmVyLnNldChcInhcIiwgdGhpcy54KCkpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0cyA9IHt9O1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ2YWx1ZVlTaG93XCIpIHx8IHRoaXMuaXNEaXJ0eShcInZhbHVlWFNob3dcIikgfHwgdGhpcy5pc0RpcnR5KFwib3BlblZhbHVlWVNob3dcIikgfHwgdGhpcy5pc0RpcnR5KFwib3BlblZhbHVlWFNob3dcIikgfHwgdGhpcy5pc0RpcnR5KFwibG93VmFsdWVZU2hvd1wiKSB8fCB0aGlzLmlzRGlydHkoXCJsb3dWYWx1ZVhTaG93XCIpIHx8IHRoaXMuaXNEaXJ0eShcImhpZ2hWYWx1ZVlTaG93XCIpIHx8IHRoaXMuaXNEaXJ0eShcImhpZ2hWYWx1ZVhTaG93XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZpZWxkcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYWtlRmllbGROYW1lcygpO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZXNEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ4QXhpc1wiKSB8fCB0aGlzLmlzRGlydHkoXCJ5QXhpc1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZXNEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0KFwid2lkdGhcIiwgdGhpcy5nZXQoXCJ4QXhpc1wiKS53aWR0aCgpKTtcclxuICAgICAgICB0aGlzLnNldChcImhlaWdodFwiLCB0aGlzLmdldChcInlBeGlzXCIpLmhlaWdodCgpKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVNYXNrQnVsbGV0cygpO1xyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICBjb25zdCB5QXhpcyA9IHRoaXMuZ2V0KFwieUF4aXNcIik7XHJcbiAgICAgICAgY29uc3QgYmFzZUF4aXMgPSB0aGlzLmdldChcImJhc2VBeGlzXCIpO1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXBQb3NpdGlvblggPSB0aGlzLmdldChcInRvb2x0aXBQb3NpdGlvblhcIik7XHJcbiAgICAgICAgbGV0IHRvb2x0aXBGaWVsZFg7XHJcbiAgICAgICAgc3dpdGNoICh0b29sdGlwUG9zaXRpb25YKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRmllbGRYID0gdGhpcy5feE9wZW5GaWVsZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibG93XCI6XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRmllbGRYID0gdGhpcy5feExvd0ZpZWxkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJoaWdoXCI6XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRmllbGRYID0gdGhpcy5feEhpZ2hGaWVsZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdG9vbHRpcEZpZWxkWCA9IHRoaXMuX3hGaWVsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdG9vbHRpcEZpZWxkWCA9IHRvb2x0aXBGaWVsZFg7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcFBvc2l0aW9uWSA9IHRoaXMuZ2V0KFwidG9vbHRpcFBvc2l0aW9uWVwiKTtcclxuICAgICAgICBsZXQgdG9vbHRpcEZpZWxkWTtcclxuICAgICAgICBzd2l0Y2ggKHRvb2x0aXBQb3NpdGlvblkpIHtcclxuICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBGaWVsZFkgPSB0aGlzLl95T3BlbkZpZWxkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsb3dcIjpcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBGaWVsZFkgPSB0aGlzLl95TG93RmllbGQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImhpZ2hcIjpcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBGaWVsZFkgPSB0aGlzLl95SGlnaEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRmllbGRZID0gdGhpcy5feUZpZWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl90b29sdGlwRmllbGRZID0gdG9vbHRpcEZpZWxkWTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiYmFzZUF4aXNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZml4VkMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZml4UG9zaXRpb24oKTtcclxuICAgICAgICBjb25zdCBzdGFja2VkID0gdGhpcy5nZXQoXCJzdGFja2VkXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzdGFja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmFsdWVzRGlydHkgJiYgIXRoaXMuX2RhdGFQcm9jZXNzZWQpIHtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91bnN0YWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc0RpcnR5ICYmICF0aGlzLl9kYXRhUHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGFQcm9jZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc3RhY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZVhTaG93RmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuZ2V0U3RhY2tlZFhWYWx1ZShkYXRhSXRlbSwga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9taW4oXCJtaW5YXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWF4KFwibWF4WFwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZVlTaG93RmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuZ2V0U3RhY2tlZFlWYWx1ZShkYXRhSXRlbSwga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9taW4oXCJtaW5ZXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWF4KFwibWF4WVwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB4QXhpcy5wcm9jZXNzU2VyaWVzRGF0YUl0ZW0oZGF0YUl0ZW0sIHRoaXMuX3ZhbHVlWEZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICB5QXhpcy5wcm9jZXNzU2VyaWVzRGF0YUl0ZW0oZGF0YUl0ZW0sIHRoaXMuX3ZhbHVlWUZpZWxkcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB4QXhpcy5fc2VyaWVzVmFsdWVzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB5QXhpcy5fc2VyaWVzVmFsdWVzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0KFwiaWdub3JlTWluTWF4XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1pblhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1heFhcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB4QXhpcy5tYXJrRGlydHlFeHRyZW1lcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQcml2YXRlRGlydHkoXCJtaW5ZXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtYXhZXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeUF4aXMubWFya0RpcnR5RXh0cmVtZXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9tYXJrU3Rha2VkRGlydHlTdGFjaygpO1xyXG4gICAgICAgICAgICAvL3RoaXMudXBkYXRlTGVnZW5kTWFya2VyKHVuZGVmaW5lZCk7IC8vIGNhdXNlcyBsZWdlbmQgbWFya2VyIHRvIGNoYW5nZSBjb2xvciBpbnN0YW50bHkgd2hlbiBvblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0KFwidG9vbHRpcERhdGFJdGVtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxlZ2VuZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInZjeFwiKSB8fCB0aGlzLmlzRGlydHkoXCJ2Y3lcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFya1N0YWtlZERpcnR5U3RhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhR3JvdXBlZCkge1xyXG4gICAgICAgICAgICB4QXhpcy5fZ3JvdXBTZXJpZXNEYXRhKHRoaXMpO1xyXG4gICAgICAgICAgICB5QXhpcy5fZ3JvdXBTZXJpZXNEYXRhKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhR3JvdXBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl92YWx1ZXNEaXJ0eSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwic3RhcnRJbmRleFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwiYWRqdXN0ZWRTdGFydEluZGV4XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJlbmRJbmRleFwiKSB8fCB0aGlzLmlzRGlydHkoXCJ2Y3hcIikgfHwgdGhpcy5pc0RpcnR5KFwidmN5XCIpIHx8IHRoaXMuX3N0YWNrRGlydHkgfHwgdGhpcy5fc2l6ZURpcnR5KSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IHRoaXMuZW5kSW5kZXgoKTtcclxuICAgICAgICAgICAgbGV0IG1pbkJ1bGxldERpc3RhbmNlID0gdGhpcy5nZXQoXCJtaW5CdWxsZXREaXN0YW5jZVwiLCAwKTtcclxuICAgICAgICAgICAgaWYgKG1pbkJ1bGxldERpc3RhbmNlID4gMCAmJiBiYXNlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJhc2VBeGlzLmdldChcInJlbmRlcmVyXCIpLmF4aXNMZW5ndGgoKSAvIChlbmRJbmRleCAtIHN0YXJ0SW5kZXgpID4gbWluQnVsbGV0RGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93QnVsbGV0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93QnVsbGV0cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5fcHNpICE9IHN0YXJ0SW5kZXggfHwgdGhpcy5fcGVpICE9IGVuZEluZGV4IHx8IHRoaXMuaXNEaXJ0eShcInZjeFwiKSB8fCB0aGlzLmlzRGlydHkoXCJ2Y3lcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcImFkanVzdGVkU3RhcnRJbmRleFwiKSB8fCB0aGlzLl9zdGFja0RpcnR5IHx8IHRoaXMuX3ZhbHVlc0RpcnR5KSAmJiAhdGhpcy5fc2VsZWN0aW9uUHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25Qcm9jZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmN4ID0gdGhpcy5nZXQoXCJ2Y3hcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2Y3kgPSB0aGlzLmdldChcInZjeVwiLCAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrZWQgPSB0aGlzLmdldChcInN0YWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0T2ZTZWxlY3Rpb24gPSB0aGlzLmdldFByaXZhdGUoXCJvdXRPZlNlbGVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChiYXNlQXhpcyA9PT0geEF4aXMgfHwgIWJhc2VBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeUF4aXMuX2NhbGN1bGF0ZVRvdGFscygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInNlbGVjdGlvbk1pbllcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJzZWxlY3Rpb25NYXhZXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXRPZlNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1lTZWxlY3Rpb25EYXRhSXRlbSh0aGlzLmRhdGFJdGVtc1tpXSwgdmN5LCBzdGFja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeUF4aXMubWFya0RpcnR5U2VsZWN0aW9uRXh0cmVtZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYmFzZUF4aXMgPT09IHlBeGlzIHx8ICFiYXNlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHhBeGlzLl9jYWxjdWxhdGVUb3RhbHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJzZWxlY3Rpb25NaW5YXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwic2VsZWN0aW9uTWF4WFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0T2ZTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NYU2VsZWN0aW9uRGF0YUl0ZW0odGhpcy5kYXRhSXRlbXNbaV0sIHZjeCwgc3RhY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlBeGlzLm1hcmtEaXJ0eVNlbGVjdGlvbkV4dHJlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJhc2VBeGlzID09PSB4QXhpcyB8fCAhYmFzZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ2YWx1ZVlTaG93XCIpICE9PSBcInZhbHVlWVdvcmtpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25NaW5ZID0gdGhpcy5nZXRQcml2YXRlKFwic2VsZWN0aW9uTWluWVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbk1pblkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwibWluWVwiLCBzZWxlY3Rpb25NaW5ZKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlBeGlzLm1hcmtEaXJ0eUV4dHJlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uTWF4WSA9IHRoaXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1heFlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25NYXhZICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcIm1heFlcIiwgc2VsZWN0aW9uTWF4WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5QXhpcy5tYXJrRGlydHlFeHRyZW1lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJhc2VBeGlzID09PSB5QXhpcyB8fCAhYmFzZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ2YWx1ZVhTaG93XCIpICE9PSBcInZhbHVlWFdvcmtpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25NaW5YID0gdGhpcy5nZXRQcml2YXRlKFwic2VsZWN0aW9uTWluWFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbk1pblggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwibWluWFwiLCBzZWxlY3Rpb25NaW5YKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlBeGlzLm1hcmtEaXJ0eUV4dHJlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uTWF4WCA9IHRoaXMuZ2V0UHJpdmF0ZShcInNlbGVjdGlvbk1heFhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25NYXhYICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcIm1heFhcIiwgc2VsZWN0aW9uTWF4WCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4QXhpcy5tYXJrRGlydHlFeHRyZW1lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQcml2YXRlRGlydHkoXCJzZWxlY3Rpb25NaW5YXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJzZWxlY3Rpb25NYXhYXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeEF4aXMubWFya0RpcnR5U2VsZWN0aW9uRXh0cmVtZXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUHJpdmF0ZURpcnR5KFwic2VsZWN0aW9uTWluWVwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwic2VsZWN0aW9uTWF4WVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHlBeGlzLm1hcmtEaXJ0eVNlbGVjdGlvbkV4dHJlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnVwZGF0ZUxlZ2VuZFZhbHVlKHVuZGVmaW5lZCk7IGZsaWNrZXJzIHdoaWxlIHBhbm5pbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tYWtlUmFuZ2VNYXNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmF4aXNSYW5nZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgbWFpbkNvbnRhaW5lck1hc2sgPSB0aGlzLl9tYWluQ29udGFpbmVyTWFzaztcclxuICAgICAgICAgICAgaWYgKG1haW5Db250YWluZXJNYXNrID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIG1haW5Db250YWluZXJNYXNrID0gdGhpcy5jaGlsZHJlbi5wdXNoKEdyYXBoaWNzLm5ldyh0aGlzLl9yb290LCB7fSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFpbkNvbnRhaW5lck1hc2sgPSBtYWluQ29udGFpbmVyTWFzaztcclxuICAgICAgICAgICAgICAgIG1haW5Db250YWluZXJNYXNrLnNldChcImRyYXdcIiwgKGRpc3BsYXksIHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IHRoaXMuX3Jvb3QuY29udGFpbmVyLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGggPSB0aGlzLl9yb290LmNvbnRhaW5lci5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oLXcsIC1oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oLXcsIGggKiAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odyAqIDIsIGggKiAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odyAqIDIsIC1oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oLXcsIC1oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlzUmFuZ2VzLmVhY2goKGF4aXNSYW5nZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsbCA9IGF4aXNSYW5nZS5heGlzRGF0YUl0ZW0uZ2V0KFwiYXhpc0ZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyYXcgPSBmaWxsLmdldChcImRyYXdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmF3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3KGRpc3BsYXksIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250YWluZXIuX2Rpc3BsYXkubWFzayA9IG1haW5Db250YWluZXJNYXNrLl9kaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFpbkNvbnRhaW5lck1hc2subWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgIG1haW5Db250YWluZXJNYXNrLl9tYXJrRGlydHlLZXkoXCJmaWxsXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyLl9kaXNwbGF5Lm1hc2sgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fdXBkYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAvLyBzYXZlIGZvciBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHRoaXMuX3ggPSB0aGlzLngoKTtcclxuICAgICAgICB0aGlzLl95ID0gdGhpcy55KCk7XHJcbiAgICAgICAgdGhpcy5fbWFrZVJhbmdlTWFzaygpO1xyXG4gICAgfVxyXG4gICAgX3N0YWNrKCkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcclxuICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VyaWVzSW5kZXggPSBjaGFydC5zZXJpZXMuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5fY291bGRTdGFja1RvID0gW107XHJcbiAgICAgICAgICAgIGlmIChzZXJpZXNJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZXJpZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc2VyaWVzSW5kZXggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcmllcyA9IGNoYXJ0LnNlcmllcy5nZXRJbmRleChpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzLmdldChcInhBeGlzXCIpID09PSB0aGlzLmdldChcInhBeGlzXCIpICYmIHNlcmllcy5nZXQoXCJ5QXhpc1wiKSA9PT0gdGhpcy5nZXQoXCJ5QXhpc1wiKSAmJiBzZXJpZXMuY2xhc3NOYW1lID09PSB0aGlzLmNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3VsZFN0YWNrVG8ucHVzaChzZXJpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcmllcy5nZXQoXCJzdGFja2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zdGFja0RhdGFJdGVtcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91bnN0YWNrKCkge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9yZWFsbHlTdGFja2VkVG8sIChfa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBkZWxldGUgKHZhbHVlLl9zdGFja2VkU2VyaWVzW3RoaXMudWlkXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcmVhbGx5U3RhY2tlZFRvID0ge307XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5kYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJzdGFja1RvSXRlbVlcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwic3RhY2tUb0l0ZW1YXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc3RhY2tEYXRhSXRlbXMoKSB7XHJcbiAgICAgICAgLy8gdGhpcyB3b3JrcyBvbmx5IHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGRhdGEgQHRvZG86IHNlYXJjaCBieSBkYXRlL2NhdGVnb3J5P1xyXG4gICAgICAgIGNvbnN0IGJhc2VBeGlzID0gdGhpcy5nZXQoXCJiYXNlQXhpc1wiKTtcclxuICAgICAgICBjb25zdCB4QXhpcyA9IHRoaXMuZ2V0KFwieEF4aXNcIik7XHJcbiAgICAgICAgY29uc3QgeUF4aXMgPSB0aGlzLmdldChcInlBeGlzXCIpO1xyXG4gICAgICAgIGxldCBmaWVsZDtcclxuICAgICAgICBsZXQgc3RhY2tUb0l0ZW1LZXk7XHJcbiAgICAgICAgaWYgKGJhc2VBeGlzID09PSB4QXhpcykge1xyXG4gICAgICAgICAgICBmaWVsZCA9IFwidmFsdWVZXCI7XHJcbiAgICAgICAgICAgIHN0YWNrVG9JdGVtS2V5ID0gXCJzdGFja1RvSXRlbVlcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYmFzZUF4aXMgPT09IHlBeGlzKSB7XHJcbiAgICAgICAgICAgIGZpZWxkID0gXCJ2YWx1ZVhcIjtcclxuICAgICAgICAgICAgc3RhY2tUb0l0ZW1LZXkgPSBcInN0YWNrVG9JdGVtWFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5fY291bGRTdGFja1RvLmxlbmd0aDtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGNvbnN0IHN0YWNrVG9OZWdhdGl2ZSA9IHRoaXMuZ2V0KFwic3RhY2tUb05lZ2F0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX3JlYWxseVN0YWNrZWRUbyA9IHt9O1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuZGF0YUl0ZW1zLCAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBsZW47IHMrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrVG9TZXJpZXMgPSB0aGlzLl9jb3VsZFN0YWNrVG9bc107XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhY2tUb0l0ZW0gPSBzdGFja1RvU2VyaWVzLmRhdGFJdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrVG9JdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrVmFsdWUgPSBzdGFja1RvSXRlbS5nZXQoZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1RvTmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHN0YWNrVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IDAgJiYgc3RhY2tWYWx1ZSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdyhzdGFja1RvSXRlbUtleSwgc3RhY2tUb0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWFsbHlTdGFja2VkVG9bc3RhY2tUb1Nlcmllcy51aWRdID0gc3RhY2tUb1NlcmllcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tUb1Nlcmllcy5fc3RhY2tlZFNlcmllc1t0aGlzLnVpZF0gPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCAmJiBzdGFja1ZhbHVlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoc3RhY2tUb0l0ZW1LZXksIHN0YWNrVG9JdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVhbGx5U3RhY2tlZFRvW3N0YWNrVG9TZXJpZXMudWlkXSA9IHN0YWNrVG9TZXJpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrVG9TZXJpZXMuX3N0YWNrZWRTZXJpZXNbdGhpcy51aWRdID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih2YWx1ZSkgJiYgJHR5cGUuaXNOdW1iZXIoc3RhY2tWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdyhzdGFja1RvSXRlbUtleSwgc3RhY2tUb0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVhbGx5U3RhY2tlZFRvW3N0YWNrVG9TZXJpZXMudWlkXSA9IHN0YWNrVG9TZXJpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1RvU2VyaWVzLl9zdGFja2VkU2VyaWVzW3RoaXMudWlkXSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJvY2Vzc1hTZWxlY3Rpb25EYXRhSXRlbShkYXRhSXRlbSwgdmN4LCBzdGFja2VkKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fX3ZhbHVlWFNob3dGaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuZ2V0U3RhY2tlZFhWYWx1ZVdvcmtpbmcoZGF0YUl0ZW0sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9taW4oXCJzZWxlY3Rpb25NaW5YXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21heChcInNlbGVjdGlvbk1heFhcIiwgdmFsdWUgKiB2Y3gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzWVNlbGVjdGlvbkRhdGFJdGVtKGRhdGFJdGVtLCB2Y3ksIHN0YWNrZWQpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9fdmFsdWVZU2hvd0ZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5nZXRTdGFja2VkWVZhbHVlV29ya2luZyhkYXRhSXRlbSwga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX21pbihcInNlbGVjdGlvbk1pbllcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF4KFwic2VsZWN0aW9uTWF4WVwiLCB2YWx1ZSAqIHZjeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBnZXRTdGFja2VkWVZhbHVlV29ya2luZyhkYXRhSXRlbSwga2V5KSB7XHJcbiAgICAgICAgY29uc3Qgc3RhY2tUb0l0ZW0gPSBkYXRhSXRlbS5nZXQoXCJzdGFja1RvSXRlbVlcIik7XHJcbiAgICAgICAgaWYgKHN0YWNrVG9JdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrZWRUb1NlcmllcyA9IHN0YWNrVG9JdGVtLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrVG9JdGVtLmdldChrZXksIDApICogc3RhY2tlZFRvU2VyaWVzLmdldChcInZjeVwiLCAxKSArIHRoaXMuZ2V0U3RhY2tlZFlWYWx1ZVdvcmtpbmcoc3RhY2tUb0l0ZW0sIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldFN0YWNrZWRYVmFsdWVXb3JraW5nKGRhdGFJdGVtLCBrZXkpIHtcclxuICAgICAgICBjb25zdCBzdGFja1RvSXRlbSA9IGRhdGFJdGVtLmdldChcInN0YWNrVG9JdGVtWFwiKTtcclxuICAgICAgICBpZiAoc3RhY2tUb0l0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhY2tlZFRvU2VyaWVzID0gc3RhY2tUb0l0ZW0uY29tcG9uZW50O1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhY2tUb0l0ZW0uZ2V0KGtleSwgMCkgKiBzdGFja2VkVG9TZXJpZXMuZ2V0KFwidmN4XCIsIDEpICsgdGhpcy5nZXRTdGFja2VkWFZhbHVlV29ya2luZyhzdGFja1RvSXRlbSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0U3RhY2tlZFlWYWx1ZShkYXRhSXRlbSwga2V5KSB7XHJcbiAgICAgICAgY29uc3Qgc3RhY2tUb0l0ZW0gPSBkYXRhSXRlbS5nZXQoXCJzdGFja1RvSXRlbVlcIik7XHJcbiAgICAgICAgaWYgKHN0YWNrVG9JdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGFja1RvSXRlbS5nZXQoa2V5LCAwKSArIHRoaXMuZ2V0U3RhY2tlZFlWYWx1ZShzdGFja1RvSXRlbSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0U3RhY2tlZFhWYWx1ZShkYXRhSXRlbSwga2V5KSB7XHJcbiAgICAgICAgY29uc3Qgc3RhY2tUb0l0ZW0gPSBkYXRhSXRlbS5nZXQoXCJzdGFja1RvSXRlbVhcIik7XHJcbiAgICAgICAgaWYgKHN0YWNrVG9JdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGFja1RvSXRlbS5nZXQoa2V5LCAwKSArIHRoaXMuZ2V0U3RhY2tlZFhWYWx1ZShzdGFja1RvSXRlbSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgY3JlYXRlTGVnZW5kTWFya2VyKF9kYXRhSXRlbSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTGVnZW5kTWFya2VyKCk7XHJcbiAgICB9XHJcbiAgICBfbWFya0RpcnR5QXhlcygpIHtcclxuICAgICAgICB0aGlzLl9heGVzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICBfbWFya0RhdGFTZXREaXJ0eSgpIHtcclxuICAgICAgICB0aGlzLl9hZnRlckRhdGFDaGFuZ2UoKTtcclxuICAgICAgICB0aGlzLl92YWx1ZXNEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fZGF0YVByb2Nlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2FnZ3JlZ2F0ZXNDYWxjdWxhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIF9jbGVhckRpcnR5KCkge1xyXG4gICAgICAgIHN1cGVyLl9jbGVhckRpcnR5KCk7XHJcbiAgICAgICAgdGhpcy5fYXhlc0RpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0aW9uUHJvY2Vzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc3RhY2tEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2RhdGFQcm9jZXNzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIF9wb3NpdGlvbkJ1bGxldChidWxsZXQpIHtcclxuICAgICAgICBsZXQgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IHNwcml0ZS5kYXRhSXRlbTtcclxuICAgICAgICAgICAgbGV0IGxvY2F0aW9uWCA9IGJ1bGxldC5nZXQoXCJsb2NhdGlvblhcIiwgZGF0YUl0ZW0uZ2V0KFwibG9jYXRpb25YXCIsIDAuNSkpO1xyXG4gICAgICAgICAgICBsZXQgbG9jYXRpb25ZID0gYnVsbGV0LmdldChcImxvY2F0aW9uWVwiLCBkYXRhSXRlbS5nZXQoXCJsb2NhdGlvbllcIiwgMC41KSk7XHJcbiAgICAgICAgICAgIGxldCB4QXhpcyA9IHRoaXMuZ2V0KFwieEF4aXNcIik7XHJcbiAgICAgICAgICAgIGxldCB5QXhpcyA9IHRoaXMuZ2V0KFwieUF4aXNcIik7XHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvblggPSB4QXhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWChkYXRhSXRlbSwgdGhpcy5feEZpZWxkLCBsb2NhdGlvblgsIHRoaXMuZ2V0KFwidmN4XCIsIDEpKTtcclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uWSA9IHlBeGlzLmdldERhdGFJdGVtUG9zaXRpb25ZKGRhdGFJdGVtLCB0aGlzLl95RmllbGQsIGxvY2F0aW9uWSwgdGhpcy5nZXQoXCJ2Y3lcIiwgMSkpO1xyXG4gICAgICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLmdldFBvaW50KHBvc2l0aW9uWCwgcG9zaXRpb25ZKTtcclxuICAgICAgICAgICAgbGV0IGxlZnQgPSBkYXRhSXRlbS5nZXQoXCJsZWZ0XCIsIHBvaW50LngpO1xyXG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBkYXRhSXRlbS5nZXQoXCJyaWdodFwiLCBwb2ludC54KTtcclxuICAgICAgICAgICAgbGV0IHRvcCA9IGRhdGFJdGVtLmdldChcInRvcFwiLCBwb2ludC55KTtcclxuICAgICAgICAgICAgbGV0IGJvdHRvbSA9IGRhdGFJdGVtLmdldChcImJvdHRvbVwiLCBwb2ludC55KTtcclxuICAgICAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgICAgICBsZXQgeSA9IDA7XHJcbiAgICAgICAgICAgIGxldCB3ID0gcmlnaHQgLSBsZWZ0O1xyXG4gICAgICAgICAgICBsZXQgaCA9IGJvdHRvbSAtIHRvcDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3VsZFNob3dCdWxsZXQocG9zaXRpb25YLCBwb3NpdGlvblkpKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgIWJ1bGxldC5nZXRQcml2YXRlKFwiaGlkZGVuXCIpKTtcclxuICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IGJ1bGxldC5nZXQoXCJmaWVsZFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VBeGlzID0gdGhpcy5nZXQoXCJiYXNlQXhpc1wiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaWVsZCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVhbEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXNlQXhpcyA9PSB4QXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQgPT0gXCJ2YWx1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsRmllbGQgPSB0aGlzLl95RmllbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmllbGQgPT0gXCJvcGVuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxGaWVsZCA9IHRoaXMuX3lPcGVuRmllbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmllbGQgPT0gXCJoaWdoXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxGaWVsZCA9IHRoaXMuX3lIaWdoRmllbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmllbGQgPT0gXCJsb3dcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbEZpZWxkID0gdGhpcy5feUxvd0ZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFsRmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IHlBeGlzLmdldERhdGFJdGVtUG9zaXRpb25ZKGRhdGFJdGVtLCByZWFsRmllbGQsIDAsIHRoaXMuZ2V0KFwidmN5XCIsIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ID0geUF4aXMuZ2V0KFwicmVuZGVyZXJcIikucG9zaXRpb25Ub1BvaW50KHBvc2l0aW9uWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnQueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSBsZWZ0ICsgdyAqIGxvY2F0aW9uWDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkID09IFwidmFsdWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbEZpZWxkID0gdGhpcy5feEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpZWxkID09IFwib3BlblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsRmllbGQgPSB0aGlzLl94T3BlbkZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpZWxkID09IFwiaGlnaFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsRmllbGQgPSB0aGlzLl94SGlnaEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpZWxkID09IFwibG93XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxGaWVsZCA9IHRoaXMuX3hMb3dGaWVsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVhbEZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblggPSB4QXhpcy5nZXREYXRhSXRlbVBvc2l0aW9uWChkYXRhSXRlbSwgcmVhbEZpZWxkLCAwLCB0aGlzLmdldChcInZjeFwiLCAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IHhBeGlzLmdldChcInJlbmRlcmVyXCIpLnBvc2l0aW9uVG9Qb2ludChwb3NpdGlvblgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHBvaW50Lng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gYm90dG9tIC0gaCAqIGxvY2F0aW9uWTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSBsZWZ0ICsgdyAqIGxvY2F0aW9uWDtcclxuICAgICAgICAgICAgICAgICAgICB5ID0gYm90dG9tIC0gaCAqIGxvY2F0aW9uWTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrZWQgPSBidWxsZXQuZ2V0KFwic3RhY2tlZFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXNlQXhpcyA9PSB4QXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNCdWxsZXQgPSB0aGlzLl9idWxsZXRzW3Bvc2l0aW9uWCArIFwiX1wiICsgcG9zaXRpb25ZXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQnVsbGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNCb3VuZHMgPSBwcmV2aW91c0J1bGxldC5ib3VuZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib3VuZHMgPSBzcHJpdGUubG9jYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5byA9IHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gcHJldmlvdXNCb3VuZHMudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrZWQgPT0gXCJkb3duXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gcHJldmlvdXNCb3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YWNrZWQgPT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlvIDwgY2hhcnQucGxvdENvbnRhaW5lci5oZWlnaHQoKSAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwcmV2aW91c0JvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSArPSBib3VuZHMuYm90dG9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSArPSBib3VuZHMuYm90dG9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1bGxldHNbcG9zaXRpb25YICsgXCJfXCIgKyBwb3NpdGlvblldID0gc3ByaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzQnVsbGV0ID0gdGhpcy5fYnVsbGV0c1twb3NpdGlvblggKyBcIl9cIiArIHBvc2l0aW9uWV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0J1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzQm91bmRzID0gcHJldmlvdXNCdWxsZXQuYm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm91bmRzID0gc3ByaXRlLmxvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeG8gPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHByZXZpb3VzQm91bmRzLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrZWQgPT0gXCJkb3duXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gcHJldmlvdXNCb3VuZHMubGVmdCAtIGJvdW5kcy5yaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YWNrZWQgPT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhvIDwgY2hhcnQucGxvdENvbnRhaW5lci53aWR0aCgpIC8gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHByZXZpb3VzQm91bmRzLmxlZnQgLSBib3VuZHMucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4IC09IGJvdW5kcy5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCAtPSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWxsZXRzW3Bvc2l0aW9uWCArIFwiX1wiICsgcG9zaXRpb25ZXSA9IHNwcml0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLmlzVHlwZShcIkxhYmVsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBNYXRoLmFicyh3KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldFByaXZhdGUoXCJtYXhIZWlnaHRcIiwgTWF0aC5hYnMoaCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNldEFsbCh7IHgsIHkgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Nob3VsZFNob3dCdWxsZXQoX3Bvc2l0aW9uWCwgX3Bvc2l0aW9uWSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaG93QnVsbGV0cztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBzZXREYXRhU2V0KGlkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RhdGFTZXRzW2lkXSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEYXRhU2V0Q2hhbmdlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGFJdGVtcyA9IHRoaXMuX2RhdGFTZXRzW2lkXTtcclxuICAgICAgICAgICAgdGhpcy5fbWFya0RhdGFTZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhU2V0SWQgPSBpZDtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwiZGF0YXNldGNoYW5nZWRcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMsIGlkOiBpZCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICByZXNldEdyb3VwaW5nKCkge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9kYXRhU2V0cywgKF9rZXksIGRhdGFTZXQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGFTZXQgIT0gdGhpcy5fbWFpbkRhdGFJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZGF0YVNldCwgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kYXRhU2V0cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2RhdGFJdGVtcyA9IHRoaXMubWFpbkRhdGFJdGVtcztcclxuICAgIH1cclxuICAgIF9oYW5kbGVEYXRhU2V0Q2hhbmdlKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2RhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBidWxsZXRzID0gZGF0YUl0ZW0uYnVsbGV0cztcclxuICAgICAgICAgICAgaWYgKGJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVsbGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9zZWxlY3Rpb25Qcm9jZXNzZWQgPSBmYWxzZTsgLy8gZm9yIHRvdGFscyB0byBiZSBjYWxjdWxhdGVkXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIGhpZGRlbiBzZXJpZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZHVyYXRpb24gIER1cmF0aW9uIG9mIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBBbmltYXRpb24gcHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBzaG93KGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgX3N1cGVyID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XHJcbiAgICAgICAgICAgIHNob3c6IHsgZ2V0OiAoKSA9PiBzdXBlci5zaG93IH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9maXhWQygpO1xyXG4gICAgICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChfc3VwZXIuc2hvdy5jYWxsKHRoaXMsIGR1cmF0aW9uKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICAgICAgICAgIGxldCB5QXhpcyA9IHRoaXMuZ2V0KFwieUF4aXNcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFzZUF4aXMgPSB0aGlzLmdldChcImJhc2VBeGlzXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHlBeGlzICE9PSBiYXNlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHlBeGlzLm1hcmtEaXJ0eVNlbGVjdGlvbkV4dHJlbWVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeEF4aXMgIT09IGJhc2VBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeEF4aXMubWFya0RpcnR5U2VsZWN0aW9uRXh0cmVtZXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuYnVsbGV0c0NvbnRhaW5lci5zaG93KGR1cmF0aW9uKSk7XHJcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fc2VxdWVuY2VkU2hvd0hpZGUodHJ1ZSwgZHVyYXRpb24pKTtcclxuICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyBzZXJpZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZHVyYXRpb24gIER1cmF0aW9uIG9mIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBBbmltYXRpb24gcHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBoaWRlKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgX3N1cGVyID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XHJcbiAgICAgICAgICAgIGhpZGU6IHsgZ2V0OiAoKSA9PiBzdXBlci5oaWRlIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9maXhWQygpO1xyXG4gICAgICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChfc3VwZXIuaGlkZS5jYWxsKHRoaXMsIGR1cmF0aW9uKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzSGlkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmJ1bGxldHNDb250YWluZXIuaGlkZShkdXJhdGlvbikpO1xyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX3NlcXVlbmNlZFNob3dIaWRlKGZhbHNlLCBkdXJhdGlvbikpO1xyXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIHNlcmllcydzIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhSXRlbSAgRGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gICBkdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgc2hvd0RhdGFJdGVtKGRhdGFJdGVtLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IF9zdXBlciA9IE9iamVjdC5jcmVhdGUobnVsbCwge1xyXG4gICAgICAgICAgICBzaG93RGF0YUl0ZW06IHsgZ2V0OiAoKSA9PiBzdXBlci5zaG93RGF0YUl0ZW0gfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW19zdXBlci5zaG93RGF0YUl0ZW0uY2FsbCh0aGlzLCBkYXRhSXRlbSwgZHVyYXRpb24pXTtcclxuICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihkdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy5nZXQoXCJzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uXCIsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVhc2luZyA9IHRoaXMuZ2V0KFwic3RhdGVBbmltYXRpb25FYXNpbmdcIik7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3ZhbHVlRmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRhdGFJdGVtLmFuaW1hdGUoeyBrZXk6IGtleSArIFwiV29ya2luZ1wiLCB0bzogZGF0YUl0ZW0uZ2V0KGtleSksIGR1cmF0aW9uOiBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmcgfSkud2FpdEZvclN0b3AoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIHNlcmllcydzIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhSXRlbSAgRGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gICBkdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgaGlkZURhdGFJdGVtKGRhdGFJdGVtLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IF9zdXBlciA9IE9iamVjdC5jcmVhdGUobnVsbCwge1xyXG4gICAgICAgICAgICBoaWRlRGF0YUl0ZW06IHsgZ2V0OiAoKSA9PiBzdXBlci5oaWRlRGF0YUl0ZW0gfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW19zdXBlci5oaWRlRGF0YUl0ZW0uY2FsbCh0aGlzLCBkYXRhSXRlbSwgZHVyYXRpb24pXTtcclxuICAgICAgICAgICAgY29uc3QgaGlkZGVuU3RhdGUgPSB0aGlzLnN0YXRlcy5jcmVhdGUoXCJoaWRkZW5cIiwge30pO1xyXG4gICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBoaWRkZW5TdGF0ZS5nZXQoXCJzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uXCIsIHRoaXMuZ2V0KFwic3RhdGVBbmltYXRpb25EdXJhdGlvblwiLCAwKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZWFzaW5nID0gaGlkZGVuU3RhdGUuZ2V0KFwic3RhdGVBbmltYXRpb25FYXNpbmdcIiwgdGhpcy5nZXQoXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICAgICAgY29uc3QgeUF4aXMgPSB0aGlzLmdldChcInlBeGlzXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlQXhpcyA9IHRoaXMuZ2V0KFwiYmFzZUF4aXNcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrZWQgPSB0aGlzLmdldChcInN0YWNrZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChiYXNlQXhpcyA9PT0geEF4aXMgfHwgIWJhc2VBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZVlGaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWluID0geUF4aXMuZ2V0UHJpdmF0ZShcIm1pblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYmFzZVZhbHVlID0geUF4aXMuYmFzZVZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pbikgJiYgbWluID4gYmFzZVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZSA9IG1pbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChkYXRhSXRlbS5hbmltYXRlKHsga2V5OiBrZXkgKyBcIldvcmtpbmdcIiwgdG86IGJhc2VWYWx1ZSwgZHVyYXRpb246IGR1cmF0aW9uLCBlYXNpbmc6IGVhc2luZyB9KS53YWl0Rm9yU3RvcCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYmFzZUF4aXMgPT09IHlBeGlzIHx8ICFiYXNlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1pbiA9IHhBeGlzLmdldFByaXZhdGUoXCJtaW5cIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFzZVZhbHVlID0geEF4aXMuYmFzZVZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluKSAmJiBtaW4gPiBiYXNlVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmFsdWUgPSBtaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWYWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZVhGaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRhdGFJdGVtLmFuaW1hdGUoeyBrZXk6IGtleSArIFwiV29ya2luZ1wiLCB0bzogYmFzZVZhbHVlLCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pLndhaXRGb3JTdG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9tYXJrRGlydHlTdGFjaygpIHtcclxuICAgICAgICB0aGlzLl9zdGFja0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX21hcmtTdGFrZWREaXJ0eVN0YWNrKCk7XHJcbiAgICB9XHJcbiAgICBfbWFya1N0YWtlZERpcnR5U3RhY2soKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhY2tlZFNlcmllcyA9IHRoaXMuX3N0YWNrZWRTZXJpZXM7XHJcbiAgICAgICAgaWYgKHN0YWNrZWRTZXJpZXMpIHtcclxuICAgICAgICAgICAgJG9iamVjdC5lYWNoKHN0YWNrZWRTZXJpZXMsIChfa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5fc3RhY2tEaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLl9tYXJrRGlydHlTdGFjaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlckNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fc2tpcHBlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlBeGVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NraXBwZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIGEgdG9vbHRpcCBmb3Igc3BlY2lmaWMgZGF0YSBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgZGF0YUl0ZW0gIERhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBzaG93RGF0YUl0ZW1Ub29sdGlwKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldFByaXZhdGUoXCJkb05vdFVwZGF0ZUxlZ2VuZFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxlZ2VuZE1hcmtlcihkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGVnZW5kVmFsdWUoZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0hpZGRlbigpICYmIHRoaXMuZ2V0KFwidmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uWCA9IHRoaXMuZ2V0KFwibG9jYXRpb25YXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvblkgPSB0aGlzLmdldChcImxvY2F0aW9uWVwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbUxvY2F0aW9uWCA9IGRhdGFJdGVtLmdldChcImxvY2F0aW9uWFwiLCBsb2NhdGlvblgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtTG9jYXRpb25ZID0gZGF0YUl0ZW0uZ2V0KFwibG9jYXRpb25ZXCIsIGxvY2F0aW9uWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeEF4aXMgPSB0aGlzLmdldChcInhBeGlzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5nZXQoXCJ5QXhpc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2Y3ggPSB0aGlzLmdldChcInZjeFwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2Y3kgPSB0aGlzLmdldChcInZjeVwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4UG9zID0geEF4aXMuZ2V0RGF0YUl0ZW1Qb3NpdGlvblgoZGF0YUl0ZW0sIHRoaXMuX3Rvb2x0aXBGaWVsZFgsIHRoaXMuX2FMb2NhdGlvblgwICsgKHRoaXMuX2FMb2NhdGlvblgxIC0gdGhpcy5fYUxvY2F0aW9uWDApICogaXRlbUxvY2F0aW9uWCwgdmN4KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB5UG9zID0geUF4aXMuZ2V0RGF0YUl0ZW1Qb3NpdGlvblkoZGF0YUl0ZW0sIHRoaXMuX3Rvb2x0aXBGaWVsZFksIHRoaXMuX2FMb2NhdGlvblkwICsgKHRoaXMuX2FMb2NhdGlvblkxIC0gdGhpcy5fYUxvY2F0aW9uWTApICogaXRlbUxvY2F0aW9uWSwgdmN5KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2V0UG9pbnQoeFBvcywgeVBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNob3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3ZhbHVlRmllbGRzLCAoZmllbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmdldChmaWVsZCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQgJiYgY2hhcnQuaW5QbG90KHBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5sYWJlbC50ZXh0Lm1hcmtEaXJ0eVRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwidG9vbHRpcFRhcmdldFwiLCB0aGlzLl9nZXRUb29sdGlwVGFyZ2V0KGRhdGFJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcInBvaW50VG9cIiwgdGhpcy5fZGlzcGxheS50b0dsb2JhbCh7IHg6IHBvaW50LngsIHk6IHBvaW50LnkgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5fc2V0RGF0YUl0ZW0odW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5fc2V0RGF0YUl0ZW0odW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoaWRlVG9vbHRpcCgpIHtcclxuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwidG9vbHRpcFRhcmdldFwiLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmhpZGVUb29sdGlwKCk7XHJcbiAgICB9XHJcbiAgICBfZ2V0VG9vbHRpcFRhcmdldChkYXRhSXRlbSkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcInNlcmllc1Rvb2x0aXBUYXJnZXRcIikgPT0gXCJidWxsZXRcIikge1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXRzID0gZGF0YUl0ZW0uYnVsbGV0cztcclxuICAgICAgICAgICAgaWYgKGJ1bGxldHMgJiYgYnVsbGV0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUxlZ2VuZFZhbHVlKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgY29uc3QgbGVnZW5kRGF0YUl0ZW0gPSB0aGlzLmdldChcImxlZ2VuZERhdGFJdGVtXCIpO1xyXG4gICAgICAgIGlmIChsZWdlbmREYXRhSXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxlZ2VuZERhdGFJdGVtLmdldChcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0eHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0eHQgPSB0aGlzLmdldChcImxlZ2VuZExhYmVsVGV4dFwiLCBsYWJlbC5nZXQoXCJ0ZXh0XCIsIHRoaXMuZ2V0KFwibmFtZVwiLCBcIlwiKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuX3NldERhdGFJdGVtKHRoaXMuX2VtcHR5RGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4dCA9IHRoaXMuZ2V0KFwibGVnZW5kUmFuZ2VMYWJlbFRleHRcIiwgdGhpcy5nZXQoXCJsZWdlbmRMYWJlbFRleHRcIiwgbGFiZWwuZ2V0KFwidGV4dFwiLCB0aGlzLmdldChcIm5hbWVcIiwgXCJcIikpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJ0ZXh0XCIsIHR4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmFsdWVMYWJlbCA9IGxlZ2VuZERhdGFJdGVtLmdldChcInZhbHVlTGFiZWxcIik7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGFiZWwuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0eHQgPSB0aGlzLmdldChcImxlZ2VuZFZhbHVlVGV4dFwiLCB2YWx1ZUxhYmVsLmdldChcInRleHRcIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMYWJlbC5fc2V0RGF0YUl0ZW0odGhpcy5fZW1wdHlEYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHh0ID0gdGhpcy5nZXQoXCJsZWdlbmRSYW5nZVZhbHVlVGV4dFwiLCB2YWx1ZUxhYmVsLmdldChcInRleHRcIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWVMYWJlbC5zZXQoXCJ0ZXh0XCIsIHR4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0SXRlbVJlYWRlckxhYmVsKCkge1xyXG4gICAgICAgIGxldCB0ZXh0ID0gXCJYOiB7XCIgKyB0aGlzLl94RmllbGQ7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwieEF4aXNcIikuaXNUeXBlKFwiRGF0ZUF4aXNcIikpIHtcclxuICAgICAgICAgICAgdGV4dCArPSBcIi5mb3JtYXREYXRlKClcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGV4dCArPSBcIn07IFk6IHtcIiArIHRoaXMuX3lGaWVsZDtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJ5QXhpc1wiKS5pc1R5cGUoXCJEYXRlQXhpc1wiKSkge1xyXG4gICAgICAgICAgICB0ZXh0ICs9IFwiLmZvcm1hdERhdGUoKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZXh0ICs9IFwifVwiO1xyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldFBvaW50KHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XHJcbiAgICAgICAgbGV0IHggPSB0aGlzLmdldChcInhBeGlzXCIpLmdldChcInJlbmRlcmVyXCIpLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uWCk7XHJcbiAgICAgICAgbGV0IHkgPSB0aGlzLmdldChcInlBeGlzXCIpLmdldChcInJlbmRlcmVyXCIpLnBvc2l0aW9uVG9Db29yZGluYXRlKHBvc2l0aW9uWSk7XHJcbiAgICAgICAgLy8gaWYgY29vcmRpbmF0ZSBpcyBzdXBlciBiaWcsIGNhbnZhcyBmYWlscyB0byBkcmF3IGxpbmUsIGNhcHBpbmcgdG8gc29tZSBiaWcgbnVtYmVyICh3b24ndCBtYWtlIGFueSB2aXN1YWwgZGlmZmVyZW5jZSlcclxuICAgICAgICBsZXQgbWF4ID0gOTk5OTk5OTk5O1xyXG4gICAgICAgIGlmICh5IDwgLW1heCkge1xyXG4gICAgICAgICAgICB5ID0gLW1heDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHkgPiBtYXgpIHtcclxuICAgICAgICAgICAgeSA9IG1heDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHggPCAtbWF4KSB7XHJcbiAgICAgICAgICAgIHggPSAtbWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeCA+IG1heCkge1xyXG4gICAgICAgICAgICB4ID0gbWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbiAgICB9XHJcbiAgICBfc2hvdWxkSW5jbHVkZShfcG9zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVDdXJzb3JIaWRlKCkge1xyXG4gICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUxlZ2VuZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVMZWdlbmRNYXJrZXIodW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIF9hZnRlckRhdGFDaGFuZ2UoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyRGF0YUNoYW5nZSgpO1xyXG4gICAgICAgIHRoaXMuZ2V0KFwieEF4aXNcIikuX21hcmtEaXJ0eUtleShcInN0YXJ0XCIpO1xyXG4gICAgICAgIHRoaXMuZ2V0KFwieUF4aXNcIikuX21hcmtEaXJ0eUtleShcInN0YXJ0XCIpO1xyXG4gICAgICAgIHRoaXMucmVzZXRFeHRyZW1lcygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldHMgY2FjaGVkIGF4aXMgc2NhbGUgdmFsdWVzLlxyXG4gICAgICovXHJcbiAgICByZXNldEV4dHJlbWVzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInNlbGVjdGlvbk1pblhcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJzZWxlY3Rpb25NYXhYXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwic2VsZWN0aW9uTWluWVwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInNlbGVjdGlvbk1heFlcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJtaW5YXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwibWluWVwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcIm1heFhcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJtYXhZXCIsIHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYW4gYXhpcyByYW5nZSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL3h5LWNoYXJ0L2F4ZXMvYXhpcy1yYW5nZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBheGlzRGF0YUl0ZW0gIEF4aXMgZGF0YSBpdGVtXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgICAgIEF4aXMgcmFuZ2VcclxuICAgICAqL1xyXG4gICAgY3JlYXRlQXhpc1JhbmdlKGF4aXNEYXRhSXRlbSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF4aXNSYW5nZXMucHVzaCh7XHJcbiAgICAgICAgICAgIGF4aXNEYXRhSXRlbTogYXhpc0RhdGFJdGVtXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgbGlzdCBvZiBzZXJpZXMncyBtYWluICh1bmdyb3VwZWQpIGRhdGEgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiAgRGF0YSBpdGVtc1xyXG4gICAgICovXHJcbiAgICBnZXQgbWFpbkRhdGFJdGVtcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWFpbkRhdGFJdGVtcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfYWRqdXN0U3RhcnRJbmRleChpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5nZXQoXCJ4QXhpc1wiKTtcclxuICAgICAgICBjb25zdCBiYXNlQXhpcyA9IHRoaXMuZ2V0KFwiYmFzZUF4aXNcIik7XHJcbiAgICAgICAgaWYgKGJhc2VBeGlzID09IHhBeGlzICYmIHhBeGlzLmlzVHlwZShcIkRhdGVBeGlzXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VEdXJhdGlvbiA9IHhBeGlzLmJhc2VEdXJhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCBtaW5TZWxlY3Rpb24gPSB4QXhpcy5nZXRQcml2YXRlKFwic2VsZWN0aW9uTWluXCIsIHhBeGlzLmdldFByaXZhdGUoXCJtaW5cIiwgMCkpO1xyXG4gICAgICAgICAgICBjb25zdCBkbCA9IGJhc2VEdXJhdGlvbiAqIHRoaXMuZ2V0KFwibG9jYXRpb25YXCIsIDAuNSk7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IC1JbmZpbml0eTtcclxuICAgICAgICAgICAgd2hpbGUgKHZhbHVlIDwgbWluU2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZW4gPSBkYXRhSXRlbS5vcGVuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb3BlbltcInZhbHVlWFwiXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0YUl0ZW0uZ2V0KFwidmFsdWVYXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBkbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCBtaW5TZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoWFlTZXJpZXMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlhZU2VyaWVzXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShYWVNlcmllcywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBTZXJpZXMuY2xhc3NOYW1lcy5jb25jYXQoW1hZU2VyaWVzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1YWVNlcmllcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/Registry.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Registry: () => (/* binding */ Registry),\n/* harmony export */   addLicense: () => (/* binding */ addLicense),\n/* harmony export */   disposeAllRootElements: () => (/* binding */ disposeAllRootElements),\n/* harmony export */   getRootById: () => (/* binding */ getRootById),\n/* harmony export */   registry: () => (/* binding */ registry)\n/* harmony export */ });\n/**\r\n * @ignore\r\n */\r\nclass Registry {\r\n    constructor() {\r\n        /**\r\n         * Currently running version of amCharts.\r\n         */\r\n        Object.defineProperty(this, \"version\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"5.9.11\"\r\n        });\r\n        /**\r\n         * List of applied licenses.\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"licenses\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * All created [[Root]] elements.\r\n         */\r\n        Object.defineProperty(this, \"rootElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\n/**\r\n    * @ignore\r\n */\r\nconst registry = new Registry();\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nfunction addLicense(license) {\r\n    registry.licenses.push(license);\r\n}\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nfunction disposeAllRootElements() {\r\n    let root;\r\n    while (root = registry.rootElements.pop()) {\r\n        root.dispose();\r\n    }\r\n}\r\n/**\r\n * Finds and returns a `Root` element assigned to a container with `id`.\r\n *\r\n * @param   id  Container ID\r\n * @return      Root\r\n * @since 5.9.2\r\n */\r\nfunction getRootById(id) {\r\n    let found;\r\n    registry.rootElements.forEach((item) => {\r\n        if (item.dom.id == id) {\r\n            found = item;\r\n        }\r\n    });\r\n    return found;\r\n}\r\n//# sourceMappingURL=Registry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9SZWdpc3RyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9SZWdpc3RyeS5qcz8yZjJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVnaXN0cnkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudGx5IHJ1bm5pbmcgdmVyc2lvbiBvZiBhbUNoYXJ0cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJzaW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwiNS45LjExXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0IG9mIGFwcGxpZWQgbGljZW5zZXMuXHJcbiAgICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpY2Vuc2VzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRW50aXRpZXMgdGhhdCBoYXZlIHRoZWlyIGBpZGAgc2V0dGluZyBzZXQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZW50aXRpZXNCeUlkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGNyZWF0ZWQgW1tSb290XV0gZWxlbWVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9vdEVsZW1lbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAgICAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjb25zdCByZWdpc3RyeSA9IG5ldyBSZWdpc3RyeSgpO1xyXG4vKipcclxuICogQWRkcyBhIGxpY2Vuc2UsIGUuZy46XHJcbiAqXHJcbiAqIGBgYFR5cGVTY3JpcHRcclxuICogYW01LmFkZExpY2Vuc2UoXCJ4eHh4eHh4eFwiKTtcclxuICogYGBgXHJcbiAqIGBgYEphdmFTY3JpcHRcclxuICogYW01LmFkZExpY2Vuc2UoXCJ4eHh4eHh4eFwiKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIE11bHRpcGxlIGxpY2Vuc2VzIGNhbiBiZSBhZGRlZCB0byBjb3ZlciBmb3IgbXVsdGlwbGUgcHJvZHVjdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSAgbGljZW5zZSAgTGljZW5zZSBrZXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRMaWNlbnNlKGxpY2Vuc2UpIHtcclxuICAgIHJlZ2lzdHJ5LmxpY2Vuc2VzLnB1c2gobGljZW5zZSk7XHJcbn1cclxuLyoqXHJcbiAqIERpc3Bvc2VzIGFsbCBbW1Jvb3RdXSBlbGVtZW50cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlQWxsUm9vdEVsZW1lbnRzKCkge1xyXG4gICAgbGV0IHJvb3Q7XHJcbiAgICB3aGlsZSAocm9vdCA9IHJlZ2lzdHJ5LnJvb3RFbGVtZW50cy5wb3AoKSkge1xyXG4gICAgICAgIHJvb3QuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBGaW5kcyBhbmQgcmV0dXJucyBhIGBSb290YCBlbGVtZW50IGFzc2lnbmVkIHRvIGEgY29udGFpbmVyIHdpdGggYGlkYC5cclxuICpcclxuICogQHBhcmFtICAgaWQgIENvbnRhaW5lciBJRFxyXG4gKiBAcmV0dXJuICAgICAgUm9vdFxyXG4gKiBAc2luY2UgNS45LjJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb290QnlJZChpZCkge1xyXG4gICAgbGV0IGZvdW5kO1xyXG4gICAgcmVnaXN0cnkucm9vdEVsZW1lbnRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBpZiAoaXRlbS5kb20uaWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgZm91bmQgPSBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvdW5kO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZ2lzdHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Root.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/Root.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Root: () => (/* binding */ Root)\n/* harmony export */ });\n/* harmony import */ var _util_Animation__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./util/Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _render_Container__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _render_Text__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./render/Text */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js\");\n/* harmony import */ var _render_HorizontalLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./render/HorizontalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js\");\n/* harmony import */ var _render_VerticalLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./render/VerticalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js\");\n/* harmony import */ var _render_GridLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./render/GridLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _util_ResizeSensor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./util/ResizeSensor */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js\");\n/* harmony import */ var _util_InterfaceColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/InterfaceColors */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js\");\n/* harmony import */ var _render_Graphics__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _render_Rectangle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _render_Tooltip__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./render/Tooltip */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js\");\n/* harmony import */ var _util_NumberFormatter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/NumberFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js\");\n/* harmony import */ var _util_DateFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util/DateFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js\");\n/* harmony import */ var _util_DurationFormatter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/DurationFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js\");\n/* harmony import */ var _util_Language__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/Language */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js\");\n/* harmony import */ var _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../themes/DefaultTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js\");\n/* harmony import */ var _render_backend_CanvasRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./render/backend/CanvasRenderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_Color__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _util_PopulateString__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Registry */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js\");\n/* harmony import */ var _util_Order__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./util/Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _locales_en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/en */ \"(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction rAF(fps, callback) {\r\n    if (fps == null) {\r\n        requestAnimationFrame(callback);\r\n    }\r\n    else {\r\n        setTimeout(() => {\r\n            requestAnimationFrame(callback);\r\n        }, 1000 / fps);\r\n    }\r\n}\r\n// TODO implement Disposer\r\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\r\nclass Root {\r\n    constructor(id, settings = {}, isReal) {\r\n        /**\r\n         * A reference to original chart container (div element).\r\n         */\r\n        Object.defineProperty(this, \"dom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_inner\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPositions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_ticker\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_tickers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_updateTick\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        /**\r\n         * Root's event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n         */\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher()\r\n        });\r\n        /**\r\n         * @ignore\r\n         * @todo needs description\r\n         */\r\n        Object.defineProperty(this, \"animationTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_animations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rootContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Main content container.\r\n         */\r\n        Object.defineProperty(this, \"container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[Container]] used to display tooltips in.\r\n         */\r\n        Object.defineProperty(this, \"tooltipContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipContainerSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Locale-related\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"language\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_Language__WEBPACK_IMPORTED_MODULE_1__.Language.new(this, {})\r\n        });\r\n        /**\r\n         * Locale used by the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n         */\r\n        Object.defineProperty(this, \"locale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _locales_en__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\r\n        });\r\n        // Date-time related\r\n        /**\r\n         * Use UTC when formatting date/time.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#utc-and-time-zones} for more info\r\n         */\r\n        Object.defineProperty(this, \"utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value should be named time zone, e.g.:\r\n         * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\r\n         *\r\n         * NOTE: Using time zone feature may noticeable affect performance of the\r\n         * chart, especially with large data sets, since every single date will need\r\n         * to be recalculated.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#time-zone} for more info\r\n         * @since 5.1.0\r\n         */\r\n        Object.defineProperty(this, \"timezone\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * The maximum FPS that the Root will run at.\r\n         *\r\n         * If `undefined` it will run at the highest FPS.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\r\n         */\r\n        Object.defineProperty(this, \"fps\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Number formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n         */\r\n        Object.defineProperty(this, \"numberFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_NumberFormatter__WEBPACK_IMPORTED_MODULE_3__.NumberFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Date/time formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"dateFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_DateFormatter__WEBPACK_IMPORTED_MODULE_4__.DateFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Duration formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"durationFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_DurationFormatter__WEBPACK_IMPORTED_MODULE_5__.DurationFormatter.new(this, {})\r\n        });\r\n        // Accessibility\r\n        /**\r\n         * Global tab index for using for the whole chart\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n         */\r\n        Object.defineProperty(this, \"tabindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        //@todo maybe make this better\r\n        Object.defineProperty(this, \"_tabindexes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_a11yD\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusedSprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isShift\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_keyboardDragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_readerAlertElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_logo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDiv\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n         */\r\n        Object.defineProperty(this, \"nonce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Special color set to be used for various controls.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n         */\r\n        Object.defineProperty(this, \"interfaceColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * An instance of vertical layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"verticalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _render_VerticalLayout__WEBPACK_IMPORTED_MODULE_6__.VerticalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of horizontal layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default HorizontalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"horizontalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _render_HorizontalLayout__WEBPACK_IMPORTED_MODULE_7__.HorizontalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of grid layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"gridLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _render_GridLayout__WEBPACK_IMPORTED_MODULE_8__.GridLayout.new(this, {})\r\n        });\r\n        Object.defineProperty(this, \"_paused\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates whether chart should resized automatically when parent container\r\n         * width and/or height changes.\r\n         *\r\n         * If disabled (`autoResize = false`) you can make the chart resize manually\r\n         * by calling root element's `resize()` method.\r\n         */\r\n        Object.defineProperty(this, \"autoResize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_fontHash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"_isDisposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_resizeSensorDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltips\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_htmlElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlEnabledContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n        if (settings.accessible == false) {\r\n            this._a11yD = true;\r\n        }\r\n        if (settings.useSafeResolution == null) {\r\n            settings.useSafeResolution = true;\r\n        }\r\n        let resolution;\r\n        if (settings.useSafeResolution) {\r\n            resolution = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getSafeResolution();\r\n        }\r\n        this._renderer = new _render_backend_CanvasRenderer__WEBPACK_IMPORTED_MODULE_10__.CanvasRenderer(resolution);\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(_Registry__WEBPACK_IMPORTED_MODULE_12__.registry.rootElements, (root) => {\r\n            if (root.dom === dom) {\r\n                throw new Error(\"You cannot have multiple Roots on the same DOM node\");\r\n            }\r\n        });\r\n        this.interfaceColors = _util_InterfaceColors__WEBPACK_IMPORTED_MODULE_13__.InterfaceColors.new(this, {});\r\n        if (dom === null) {\r\n            throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\r\n        }\r\n        this.dom = dom;\r\n        let inner = document.createElement(\"div\");\r\n        inner.style.position = \"relative\";\r\n        inner.style.width = \"100%\";\r\n        inner.style.height = \"100%\";\r\n        dom.appendChild(inner);\r\n        const tooltipContainerBounds = settings.tooltipContainerBounds;\r\n        if (tooltipContainerBounds) {\r\n            this._tooltipContainerSettings = tooltipContainerBounds;\r\n        }\r\n        this._inner = inner;\r\n        this._updateComputedStyles();\r\n        _Registry__WEBPACK_IMPORTED_MODULE_12__.registry.rootElements.push(this);\r\n    }\r\n    static new(id, settings) {\r\n        const root = new Root(id, settings, true);\r\n        root._init();\r\n        return root;\r\n    }\r\n    moveDOM(id) {\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        if (dom) {\r\n            while (this.dom.childNodes.length > 0) {\r\n                dom.appendChild(this.dom.childNodes[0]);\r\n            }\r\n            this.dom = dom;\r\n            this._initResizeSensor();\r\n            this.resize();\r\n        }\r\n    }\r\n    _handleLogo() {\r\n        if (this._logo) {\r\n            const w = this.dom.offsetWidth;\r\n            const h = this.dom.offsetHeight;\r\n            if ((w <= 150) || (h <= 60)) {\r\n                this._logo.hide();\r\n            }\r\n            else {\r\n                this._logo.show();\r\n            }\r\n        }\r\n    }\r\n    _showBranding() {\r\n        if (!this._logo) {\r\n            const logo = this.tooltipContainer.children.push(_render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, {\r\n                interactive: true,\r\n                interactiveChildren: false,\r\n                position: \"absolute\",\r\n                setStateOnChildren: true,\r\n                paddingTop: 9,\r\n                paddingRight: 9,\r\n                paddingBottom: 9,\r\n                paddingLeft: 9,\r\n                scale: .6,\r\n                y: (0,_util_Percent__WEBPACK_IMPORTED_MODULE_15__.percent)(100),\r\n                centerY: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                tooltipText: \"Created using amCharts 5\",\r\n                tooltipX: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                cursorOverStyle: \"pointer\",\r\n                background: _render_Rectangle__WEBPACK_IMPORTED_MODULE_16__.Rectangle.new(this, {\r\n                    fill: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x474758),\r\n                    fillOpacity: 0,\r\n                    tooltipY: 5\r\n                })\r\n            }));\r\n            const tooltip = _render_Tooltip__WEBPACK_IMPORTED_MODULE_18__.Tooltip.new(this, {\r\n                pointerOrientation: \"horizontal\",\r\n                paddingTop: 4,\r\n                paddingRight: 7,\r\n                paddingBottom: 4,\r\n                paddingLeft: 7\r\n            });\r\n            tooltip.label.setAll({\r\n                fontSize: 12\r\n            });\r\n            tooltip.get(\"background\").setAll({\r\n                fill: this.interfaceColors.get(\"background\"),\r\n                stroke: this.interfaceColors.get(\"grid\"),\r\n                strokeOpacity: 0.3\r\n            });\r\n            logo.set(\"tooltip\", tooltip);\r\n            logo.events.on(\"click\", () => {\r\n                window.open(\"https://www.amcharts.com/\", \"_blank\");\r\n            });\r\n            logo.states.create(\"hover\", {});\r\n            const m = logo.children.push(_render_Graphics__WEBPACK_IMPORTED_MODULE_19__.Graphics.new(this, {\r\n                stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0xcccccc),\r\n                strokeWidth: 3,\r\n                svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\r\n            }));\r\n            m.states.create(\"hover\", { stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x3CABFF) });\r\n            const a = logo.children.push(_render_Graphics__WEBPACK_IMPORTED_MODULE_19__.Graphics.new(this, {\r\n                stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x888888),\r\n                strokeWidth: 3,\r\n                svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\r\n            }));\r\n            a.states.create(\"hover\", { stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x474758) });\r\n            //logo.set(\"tooltip\", this._tooltip);\r\n            //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\r\n            this._logo = logo;\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _getRealSize() {\r\n        return this.dom.getBoundingClientRect();\r\n    }\r\n    _getCalculatedSize(rect) {\r\n        if (this._settings.calculateSize) {\r\n            return this._settings.calculateSize(rect);\r\n        }\r\n        else {\r\n            return {\r\n                width: rect.width,\r\n                height: rect.height,\r\n            };\r\n        }\r\n    }\r\n    _init() {\r\n        const settings = this._settings;\r\n        if (settings.accessible !== false) {\r\n            if (settings.focusable) {\r\n                this._inner.setAttribute(\"focusable\", \"true\");\r\n                this._inner.setAttribute(\"tabindex\", this.tabindex + \"\");\r\n            }\r\n            if (settings.ariaLabel) {\r\n                this._inner.setAttribute(\"aria-label\", settings.ariaLabel);\r\n            }\r\n            if (settings.role) {\r\n                this._inner.setAttribute(\"role\", settings.role);\r\n            }\r\n        }\r\n        const renderer = this._renderer;\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const width = Math.floor(size.width);\r\n        const height = Math.floor(size.height);\r\n        const realWidth = Math.floor(rect.width);\r\n        const realHeight = Math.floor(rect.height);\r\n        const rootContainer = _render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, {\r\n            visible: true,\r\n            width: width,\r\n            height: height,\r\n        });\r\n        this._rootContainer = rootContainer;\r\n        this._rootContainer._defaultThemes.push(_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_20__.DefaultTheme.new(this));\r\n        const container = rootContainer.children.push(_render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, { visible: true, width: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100, height: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100 }));\r\n        this.container = container;\r\n        renderer.resize(realWidth, realHeight, width, height);\r\n        //@todo: better appendChild - refer\r\n        this._inner.appendChild(renderer.view);\r\n        // TODO: TMP TMP TMP for testing only, remove\r\n        //renderer.debugGhostView = true;\r\n        this._initResizeSensor();\r\n        // HTML content holder\r\n        const htmlElementContainer = document.createElement(\"div\");\r\n        this._htmlElementContainer = htmlElementContainer;\r\n        htmlElementContainer.className = \"am5-html-container\";\r\n        htmlElementContainer.style.position = \"absolute\";\r\n        htmlElementContainer.style.pointerEvents = \"none\";\r\n        if (!this._tooltipContainerSettings) {\r\n            htmlElementContainer.style.overflow = \"hidden\";\r\n        }\r\n        this._inner.appendChild(htmlElementContainer);\r\n        if (this._a11yD !== true) {\r\n            // Create element which is used to make announcements to screen reader\r\n            const readerAlertElement = document.createElement(\"div\");\r\n            readerAlertElement.className = \"am5-reader-container\";\r\n            readerAlertElement.setAttribute(\"role\", \"alert\");\r\n            // readerAlertElement.style.zIndex = \"-100000\";\r\n            // readerAlertElement.style.opacity = \"0\";\r\n            // readerAlertElement.style.top = \"0\";\r\n            readerAlertElement.style.position = \"absolute\";\r\n            readerAlertElement.style.width = \"1px\";\r\n            readerAlertElement.style.height = \"1px\";\r\n            readerAlertElement.style.overflow = \"hidden\";\r\n            readerAlertElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n            this._readerAlertElement = readerAlertElement;\r\n            this._inner.appendChild(this._readerAlertElement);\r\n            const focusElementContainer = document.createElement(\"div\");\r\n            focusElementContainer.className = \"am5-focus-container\";\r\n            focusElementContainer.style.position = \"absolute\";\r\n            focusElementContainer.style.pointerEvents = \"none\";\r\n            focusElementContainer.style.top = \"0px\";\r\n            focusElementContainer.style.left = \"0px\";\r\n            focusElementContainer.style.overflow = \"hidden\";\r\n            focusElementContainer.style.width = width + \"px\";\r\n            focusElementContainer.style.height = height + \"px\";\r\n            focusElementContainer.setAttribute(\"role\", \"graphics-document\");\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(focusElementContainer, false);\r\n            this._focusElementContainer = focusElementContainer;\r\n            this._inner.appendChild(this._focusElementContainer);\r\n            const tooltipElementContainer = document.createElement(\"div\");\r\n            this._tooltipElementContainer = tooltipElementContainer;\r\n            tooltipElementContainer.className = \"am5-tooltip-container\";\r\n            this._inner.appendChild(tooltipElementContainer);\r\n            // Add keyboard events for accessibility, e.g. simulating drag with arrow\r\n            // keys and click with ENTER\r\n            if (_util_Utils__WEBPACK_IMPORTED_MODULE_9__.supports(\"keyboardevents\")) {\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(window, \"keydown\", (ev) => {\r\n                    const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                    if (eventKey == \"Shift\") {\r\n                        this._isShift = true;\r\n                    }\r\n                    else if (eventKey == \"Tab\") {\r\n                        this._isShift = ev.shiftKey;\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(window, \"keyup\", (ev) => {\r\n                    const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                    if (eventKey == \"Shift\") {\r\n                        this._isShift = false;\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElementContainer, \"click\", () => {\r\n                    // Some screen readers convert ENTER (and some SPACE) press whil on\r\n                    // focused element to a \"click\" event, preventing actual \"keydown\"\r\n                    // event from firing. We're using this \"click\" event to still\r\n                    // generate internal click events.\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        const downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                        focusedSprite.events.dispatch(\"click\", {\r\n                            type: \"click\",\r\n                            originalEvent: downEvent.event,\r\n                            point: downEvent.point,\r\n                            simulated: true,\r\n                            target: focusedSprite\r\n                        });\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElementContainer, \"keydown\", (ev) => {\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        if (ev.key == \"Escape\") {\r\n                            // ESC pressed - lose current focus\r\n                            _util_Utils__WEBPACK_IMPORTED_MODULE_9__.blur();\r\n                            this._focusedSprite = undefined;\r\n                        }\r\n                        let dragOffsetX = 0;\r\n                        let dragOffsetY = 0;\r\n                        // TODO: figure out if using bogus MouseEvent is fine, or it will\r\n                        // fail on some platforms\r\n                        const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                        switch (eventKey) {\r\n                            case \"Enter\":\r\n                            case \" \":\r\n                                if (eventKey == \" \" && focusedSprite.get(\"role\") != \"checkbox\") {\r\n                                    return;\r\n                                }\r\n                                ev.preventDefault();\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"mouse\"));\r\n                                focusedSprite.events.dispatch(\"click\", {\r\n                                    type: \"click\",\r\n                                    originalEvent: downEvent.event,\r\n                                    point: downEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                                return;\r\n                            case \"ArrowLeft\":\r\n                                dragOffsetX = -6;\r\n                                break;\r\n                            case \"ArrowRight\":\r\n                                dragOffsetX = 6;\r\n                                break;\r\n                            case \"ArrowUp\":\r\n                                dragOffsetY = -6;\r\n                                break;\r\n                            case \"ArrowDown\":\r\n                                dragOffsetY = 6;\r\n                                break;\r\n                            default:\r\n                                return;\r\n                        }\r\n                        if (dragOffsetX != 0 || dragOffsetY != 0) {\r\n                            ev.preventDefault();\r\n                            if (!focusedSprite.isDragging()) {\r\n                                // Start dragging\r\n                                this._keyboardDragPoint = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\r\n                                    clientX: 0,\r\n                                    clientY: 0\r\n                                }));\r\n                                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\r\n                                    focusedSprite.events.dispatch(\"pointerdown\", {\r\n                                        type: \"pointerdown\",\r\n                                        originalEvent: downEvent.event,\r\n                                        point: downEvent.point,\r\n                                        simulated: true,\r\n                                        target: focusedSprite\r\n                                    });\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Move focus marker\r\n                                //this._positionFocusElement(focusedSprite);\r\n                            }\r\n                            // Move incrementally\r\n                            const dragPoint = this._keyboardDragPoint;\r\n                            dragPoint.x += dragOffsetX;\r\n                            dragPoint.y += dragOffsetY;\r\n                            const moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\r\n                                clientX: dragPoint.x,\r\n                                clientY: dragPoint.y\r\n                            }), false);\r\n                            if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\r\n                                focusedSprite.events.dispatch(\"globalpointermove\", {\r\n                                    type: \"globalpointermove\",\r\n                                    originalEvent: moveEvent.event,\r\n                                    point: moveEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElementContainer, \"keyup\", (ev) => {\r\n                    if (this._focusedSprite) {\r\n                        const focusedSprite = this._focusedSprite;\r\n                        const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                        switch (eventKey) {\r\n                            case \"ArrowLeft\":\r\n                            case \"ArrowRight\":\r\n                            case \"ArrowTop\":\r\n                            case \"ArrowDown\":\r\n                                if (focusedSprite.isDragging()) {\r\n                                    // Simulate drag stop\r\n                                    const dragPoint = this._keyboardDragPoint;\r\n                                    const upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\r\n                                        clientX: dragPoint.x,\r\n                                        clientY: dragPoint.y\r\n                                    }));\r\n                                    if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\r\n                                        focusedSprite.events.dispatch(\"globalpointerup\", {\r\n                                            type: \"globalpointerup\",\r\n                                            originalEvent: upEvent.event,\r\n                                            point: upEvent.point,\r\n                                            simulated: true,\r\n                                            target: focusedSprite\r\n                                        });\r\n                                    }\r\n                                    //this._positionFocusElement(focusedSprite);\r\n                                    this._keyboardDragPoint = undefined;\r\n                                    // @todo dispatch mouseup event instead of calling dragStop?\r\n                                    // this._dispatchEvent(\"globalpointerup\", target, upEvent);\r\n                                    return;\r\n                                }\r\n                                else if (focusedSprite.get(\"focusableGroup\")) {\r\n                                    // Find next item in focusable group\r\n                                    const group = focusedSprite.get(\"focusableGroup\");\r\n                                    const items = this._tabindexes.filter((item) => {\r\n                                        return item.get(\"focusableGroup\") == group && item.getPrivate(\"focusable\") !== false && item.isVisibleDeep() ? true : false;\r\n                                    });\r\n                                    let index = items.indexOf(focusedSprite);\r\n                                    const lastIndex = items.length - 1;\r\n                                    index += (eventKey == \"ArrowRight\" || eventKey == \"ArrowDown\") ? 1 : -1;\r\n                                    if (index < 0) {\r\n                                        index = lastIndex;\r\n                                    }\r\n                                    else if (index > lastIndex) {\r\n                                        index = 0;\r\n                                    }\r\n                                    _util_Utils__WEBPACK_IMPORTED_MODULE_9__.focus(items[index].getPrivate(\"focusElement\").dom);\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        this._startTicker();\r\n        this.setThemes([]);\r\n        this._addTooltip();\r\n        if (!this._hasLicense()) {\r\n            this._showBranding();\r\n        }\r\n    }\r\n    _initResizeSensor() {\r\n        if (this._resizeSensorDisposer) {\r\n            this._resizeSensorDisposer.dispose();\r\n        }\r\n        this._resizeSensorDisposer = new _util_ResizeSensor__WEBPACK_IMPORTED_MODULE_21__.ResizeSensor(this.dom, () => {\r\n            if (this.autoResize) {\r\n                this.resize();\r\n            }\r\n        });\r\n        this._disposers.push(this._resizeSensorDisposer);\r\n    }\r\n    /**\r\n     * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n     * can be resized manually by calling this method.\r\n     */\r\n    resize() {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const w = Math.floor(size.width);\r\n        const h = Math.floor(size.height);\r\n        if (w > 0 && h > 0) {\r\n            const realWidth = Math.floor(rect.width);\r\n            const realHeight = Math.floor(rect.height);\r\n            const htmlElementContainer = this._htmlElementContainer;\r\n            htmlElementContainer.style.width = w + \"px\";\r\n            htmlElementContainer.style.height = h + \"px\";\r\n            if (this._a11yD !== true) {\r\n                const focusElementContainer = this._focusElementContainer;\r\n                focusElementContainer.style.width = w + \"px\";\r\n                focusElementContainer.style.height = h + \"px\";\r\n            }\r\n            this._renderer.resize(realWidth, realHeight, w, h);\r\n            const rootContainer = this._rootContainer;\r\n            rootContainer.setPrivate(\"width\", w);\r\n            rootContainer.setPrivate(\"height\", h);\r\n            this._render();\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _render() {\r\n        this._renderer.render(this._rootContainer._display);\r\n        if (this._focusElementDirty) {\r\n            this._updateCurrentFocus();\r\n            this._focusElementDirty = false;\r\n        }\r\n    }\r\n    _runTickers(currentTime) {\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._tickers, (f) => {\r\n            f(currentTime);\r\n        });\r\n    }\r\n    _runAnimations(currentTime) {\r\n        let running = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.keepIf(this._animations, (animation) => {\r\n            const state = animation._runAnimation(currentTime);\r\n            if (state === _util_Animation__WEBPACK_IMPORTED_MODULE_22__.AnimationState.Stopped) {\r\n                return false;\r\n            }\r\n            else if (state === _util_Animation__WEBPACK_IMPORTED_MODULE_22__.AnimationState.Playing) {\r\n                ++running;\r\n                return true;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        });\r\n        this._isDirtyAnimation = false;\r\n        return running === 0;\r\n    }\r\n    _runDirties() {\r\n        //console.log(\"tick **************************************************************\");\r\n        let allParents = {};\r\n        while (this._isDirtyParents) {\r\n            // This must be before calling _prepareChildren\r\n            this._isDirtyParents = false;\r\n            _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(this._dirtyParents).forEach((key) => {\r\n                const parent = this._dirtyParents[key];\r\n                delete this._dirtyParents[key];\r\n                if (!parent.isDisposed()) {\r\n                    allParents[parent.uid] = parent;\r\n                    parent._prepareChildren();\r\n                }\r\n            });\r\n        }\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(allParents).forEach((key) => {\r\n            allParents[key]._updateChildren();\r\n        });\r\n        const objects = [];\r\n        //\t\tconsole.log(\"_beforeChanged\")\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(this._dirty).forEach((key) => {\r\n            const entity = this._dirty[key];\r\n            if (entity.isDisposed()) {\r\n                delete this._dirty[entity.uid];\r\n            }\r\n            else {\r\n                objects.push(entity);\r\n                entity._beforeChanged();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_changed\")\r\n        objects.forEach((entity) => {\r\n            entity._changed();\r\n            delete this._dirty[entity.uid];\r\n            entity._clearDirty();\r\n        });\r\n        this._isDirty = false;\r\n        const depths = {};\r\n        const bounds = [];\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(this._dirtyBounds).forEach((key) => {\r\n            const entity = this._dirtyBounds[key];\r\n            delete this._dirtyBounds[key];\r\n            if (!entity.isDisposed()) {\r\n                depths[entity.uid] = entity.depth();\r\n                bounds.push(entity);\r\n            }\r\n        });\r\n        this._positionHTMLElements();\r\n        // High depth -> low depth\r\n        bounds.sort((x, y) => {\r\n            return _util_Order__WEBPACK_IMPORTED_MODULE_24__.compare(depths[y.uid], depths[x.uid]);\r\n        });\r\n        //\t\tconsole.log(\"_updateBounds\")\r\n        bounds.forEach((entity) => {\r\n            entity._updateBounds();\r\n        });\r\n        //\t\tconsole.log(\"_updatePosition\")\r\n        const dirtyPositions = this._dirtyPositions;\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(dirtyPositions).forEach((key) => {\r\n            const sprite = dirtyPositions[key];\r\n            delete dirtyPositions[key];\r\n            if (!sprite.isDisposed()) {\r\n                sprite._updatePosition();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_afterChanged\")\r\n        objects.forEach((entity) => {\r\n            entity._afterChanged();\r\n        });\r\n    }\r\n    _renderFrame(currentTime) {\r\n        if (this._updateTick) {\r\n            if (this.events.isEnabled(\"framestarted\")) {\r\n                this.events.dispatch(\"framestarted\", {\r\n                    type: \"framestarted\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            this._checkComputedStyles();\r\n            this._runTickers(currentTime);\r\n            const animationDone = this._runAnimations(currentTime);\r\n            this._runDirties();\r\n            this._render();\r\n            this._renderer.resetImageArray();\r\n            this._positionHTMLElements();\r\n            if (this.events.isEnabled(\"frameended\")) {\r\n                this.events.dispatch(\"frameended\", {\r\n                    type: \"frameended\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            return this._tickers.length === 0 &&\r\n                animationDone &&\r\n                !this._isDirtyAnimation &&\r\n                !this._isDirty;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _runTicker(currentTime, now) {\r\n        if (!this.isDisposed()) {\r\n            this.animationTime = currentTime;\r\n            const done = this._renderFrame(currentTime);\r\n            // No more work to do\r\n            if (done) {\r\n                this._ticker = null;\r\n                this.animationTime = null;\r\n            }\r\n            else {\r\n                if (!this._paused) {\r\n                    if (now) {\r\n                        this._ticker;\r\n                    }\r\n                    else {\r\n                        rAF(this.fps, this._ticker);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _runTickerNow(timeout = 10000) {\r\n        if (!this.isDisposed()) {\r\n            const endTime = performance.now() + timeout;\r\n            for (;;) {\r\n                const currentTime = performance.now();\r\n                if (currentTime >= endTime) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n                this.animationTime = currentTime;\r\n                const done = this._renderFrame(currentTime);\r\n                if (done) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _startTicker() {\r\n        if (this._ticker === null) {\r\n            this.animationTime = null;\r\n            this._ticker = (currentTime) => {\r\n                this._runTicker(currentTime);\r\n            };\r\n            rAF(this.fps, this._ticker);\r\n        }\r\n    }\r\n    /**\r\n     * Returns whether the root is updating or not.\r\n     */\r\n    get updateTick() {\r\n        return this._updateTick;\r\n    }\r\n    /**\r\n     * Enables or disables the root updating.\r\n     */\r\n    set updateTick(value) {\r\n        this._updateTick = value;\r\n        if (value) {\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyEntity(entity) {\r\n        this._isDirty = true;\r\n        if (this._dirty[entity.uid] === undefined) {\r\n            this._dirty[entity.uid] = entity;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addDirtyParent(parent) {\r\n        this._isDirty = true;\r\n        this._isDirtyParents = true;\r\n        if (this._dirtyParents[parent.uid] === undefined) {\r\n            this._dirtyParents[parent.uid] = parent;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addDirtyBounds(entity) {\r\n        this._isDirty = true;\r\n        if (this._dirtyBounds[entity.uid] === undefined) {\r\n            this._dirtyBounds[entity.uid] = entity;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addDirtyPosition(sprite) {\r\n        this._isDirty = true;\r\n        if (this._dirtyPositions[sprite.uid] === undefined) {\r\n            this._dirtyPositions[sprite.uid] = sprite;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addAnimation(animation) {\r\n        this._isDirtyAnimation = true;\r\n        // TODO use numeric id instead\r\n        if (this._animations.indexOf(animation) === -1) {\r\n            this._animations.push(animation);\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _markDirty() {\r\n        this._isDirty = true;\r\n    }\r\n    _markDirtyRedraw() {\r\n        this.events.once(\"frameended\", () => {\r\n            this._isDirty = true;\r\n            this._startTicker();\r\n        });\r\n    }\r\n    eachFrame(f) {\r\n        this._tickers.push(f);\r\n        this._startTicker();\r\n        return new _util_Disposer__WEBPACK_IMPORTED_MODULE_25__.Disposer(() => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.removeFirst(this._tickers, f);\r\n        });\r\n    }\r\n    markDirtyGlobal(container) {\r\n        if (!container) {\r\n            container = this.container;\r\n        }\r\n        container.walkChildren((child) => {\r\n            if (child instanceof _render_Container__WEBPACK_IMPORTED_MODULE_14__.Container) {\r\n                this.markDirtyGlobal(child);\r\n            }\r\n            child.markDirty();\r\n            child.markDirtyBounds();\r\n        });\r\n    }\r\n    /**\r\n     * Returns width of the target container, in pixels.\r\n     *\r\n     * @return Width\r\n     */\r\n    width() {\r\n        // TODO make this more efficient, maybe just return the renderer's width ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).width);\r\n    }\r\n    /**\r\n     * Returns height of the target container, in pixels.\r\n     *\r\n     * @return Height\r\n     */\r\n    height() {\r\n        // TODO make this more efficient, maybe just return the renderer's height ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).height);\r\n    }\r\n    /**\r\n     * Disposes root and all the content in it.\r\n     */\r\n    dispose() {\r\n        if (!this._isDisposed) {\r\n            this._isDisposed = true;\r\n            this._rootContainer.dispose();\r\n            this._renderer.dispose();\r\n            this.horizontalLayout.dispose();\r\n            this.verticalLayout.dispose();\r\n            this.interfaceColors.dispose();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n            if (this._inner) {\r\n                _util_Utils__WEBPACK_IMPORTED_MODULE_9__.removeElement(this._inner);\r\n            }\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(_Registry__WEBPACK_IMPORTED_MODULE_12__.registry.rootElements, this);\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if root element is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     * @param  text  Alert text\r\n     */\r\n    readerAlert(text) {\r\n        if (this._a11yD !== true) {\r\n            this._readerAlertElement.innerHTML = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.stripTags(text);\r\n        }\r\n    }\r\n    /**\r\n     * Sets themes to be used for the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n     * @param  themes  A list of themes\r\n     */\r\n    setThemes(themes) {\r\n        this._rootContainer.set(\"themes\", themes);\r\n        // otherwise new themes are not applied\r\n        const tooltipContainer = this.tooltipContainer;\r\n        if (tooltipContainer) {\r\n            tooltipContainer._applyThemes();\r\n        }\r\n        // @todo review this\r\n        const interfaceColors = this.interfaceColors;\r\n        if (interfaceColors) {\r\n            interfaceColors._applyThemes();\r\n        }\r\n    }\r\n    _addTooltip() {\r\n        if (!this.tooltipContainer) {\r\n            const tooltipContainerSettings = this._tooltipContainerSettings;\r\n            const tooltipContainer = this._rootContainer.children.push(_render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, {\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                height: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                layer: tooltipContainerSettings ? 35 : 30,\r\n                layerMargin: tooltipContainerSettings ? tooltipContainerSettings : undefined\r\n            }));\r\n            this.tooltipContainer = tooltipContainer;\r\n            const tooltip = _render_Tooltip__WEBPACK_IMPORTED_MODULE_18__.Tooltip.new(this, {});\r\n            this.container.set(\"tooltip\", tooltip);\r\n            tooltip.hide(0);\r\n            this._tooltip = tooltip;\r\n        }\r\n    }\r\n    /**\r\n     * Accesibility\r\n     */\r\n    _registerTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (target.get(\"focusable\")) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.pushOne(this._tabindexes, target);\r\n        }\r\n        else {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._tabindexes, target);\r\n        }\r\n        this._invalidateTabindexes();\r\n    }\r\n    _unregisterTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._tabindexes, target);\r\n        this._invalidateTabindexes();\r\n    }\r\n    _invalidateTabindexes() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._tabindexes.sort((a, b) => {\r\n            const aindex = a.get(\"tabindexOrder\", 0);\r\n            const bindex = b.get(\"tabindexOrder\", 0);\r\n            if (aindex == bindex) {\r\n                return 0;\r\n            }\r\n            else if (aindex > bindex) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        });\r\n        const groups = [];\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._tabindexes, (item, index) => {\r\n            if (!item.getPrivate(\"focusElement\")) {\r\n                this._makeFocusElement(index, item);\r\n            }\r\n            else {\r\n                this._moveFocusElement(index, item);\r\n            }\r\n            const group = item.get(\"focusableGroup\");\r\n            if (group && item.getPrivate(\"focusable\") !== false) {\r\n                if (groups.indexOf(group) !== -1) {\r\n                    // Non-first element in the group, make it not directly focusable\r\n                    item.getPrivate(\"focusElement\").dom.setAttribute(\"tabindex\", \"-1\");\r\n                }\r\n                else {\r\n                    groups.push(group);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _updateCurrentFocus() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (this._focusedSprite) {\r\n            this._decorateFocusElement(this._focusedSprite);\r\n            this._positionFocusElement(this._focusedSprite);\r\n        }\r\n    }\r\n    _decorateFocusElement(target, focusElement) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Decorate with proper accessibility attributes\r\n        if (!focusElement) {\r\n            focusElement = target.getPrivate(\"focusElement\").dom;\r\n        }\r\n        if (!focusElement) {\r\n            return;\r\n        }\r\n        const role = target.get(\"role\");\r\n        if (role) {\r\n            focusElement.setAttribute(\"role\", role);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"role\");\r\n        }\r\n        const ariaLabel = target.get(\"ariaLabel\");\r\n        if (ariaLabel) {\r\n            const label = (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_26__.populateString)(target, ariaLabel);\r\n            focusElement.setAttribute(\"aria-label\", label);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-label\");\r\n        }\r\n        const ariaLive = target.get(\"ariaLive\");\r\n        if (ariaLive) {\r\n            focusElement.setAttribute(\"aria-live\", ariaLive);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-live\");\r\n        }\r\n        const ariaChecked = target.get(\"ariaChecked\");\r\n        if (ariaChecked != null && role && [\"checkbox\", \"option\", \"radio\", \"menuitemcheckbox\", \"menuitemradio\", \"treeitem\"].indexOf(role) !== -1) {\r\n            focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-checked\");\r\n        }\r\n        const ariaCurrent = target.get(\"ariaCurrent\");\r\n        if (ariaCurrent != null) {\r\n            focusElement.setAttribute(\"aria-current\", ariaCurrent);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-current\");\r\n        }\r\n        const ariaSelected = target.get(\"ariaSelected\");\r\n        if (ariaSelected != null && role && [\"gridcell\", \"option\", \"row\", \"tab\", \"columnheader\", \"rowheader\", \"treeitem\"].indexOf(role) !== -1) {\r\n            focusElement.setAttribute(\"aria-selected\", ariaSelected ? \"true\" : \"false\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-selected\");\r\n        }\r\n        if (target.get(\"ariaHidden\")) {\r\n            focusElement.setAttribute(\"aria-hidden\", \"true\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        const ariaOrientation = target.get(\"ariaOrientation\");\r\n        if (ariaOrientation) {\r\n            focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-orientation\");\r\n        }\r\n        const ariaValueNow = target.get(\"ariaValueNow\");\r\n        if (ariaValueNow) {\r\n            focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuenow\");\r\n        }\r\n        const ariaValueMin = target.get(\"ariaValueMin\");\r\n        if (ariaValueMin) {\r\n            focusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemin\");\r\n        }\r\n        const ariaValueMax = target.get(\"ariaValueMax\");\r\n        if (ariaValueMax) {\r\n            focusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemax\");\r\n        }\r\n        const ariaValueText = target.get(\"ariaValueText\");\r\n        if (ariaValueText) {\r\n            focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuetext\");\r\n        }\r\n        const ariaControls = target.get(\"ariaControls\");\r\n        if (ariaControls) {\r\n            focusElement.setAttribute(\"aria-controls\", ariaControls);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-controls\");\r\n        }\r\n        if (target.get(\"visible\") && target.get(\"opacity\") !== 0 && target.get(\"role\") != \"tooltip\" && !target.isHidden() && target.getPrivate(\"focusable\") !== false) {\r\n            if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\r\n                focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\r\n            }\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"tabindex\");\r\n            focusElement.setAttribute(\"aria-hidden\", \"true\");\r\n        }\r\n    }\r\n    _makeFocusElement(index, target) {\r\n        if (target.getPrivate(\"focusElement\") || this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Init\r\n        const focusElement = document.createElement(\"div\");\r\n        if (target.get(\"role\") != \"tooltip\") {\r\n            focusElement.tabIndex = this.tabindex;\r\n        }\r\n        focusElement.style.position = \"absolute\";\r\n        _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(focusElement, false);\r\n        const disposers = [];\r\n        target.setPrivate(\"focusElement\", {\r\n            dom: focusElement,\r\n            disposers,\r\n        });\r\n        this._decorateFocusElement(target);\r\n        disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElement, \"focus\", (ev) => {\r\n            this._handleFocus(ev);\r\n        }));\r\n        disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElement, \"blur\", (ev) => {\r\n            this._handleBlur(ev);\r\n        }));\r\n        this._moveFocusElement(index, target);\r\n    }\r\n    _removeFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._tabindexes, target);\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (focusElement) {\r\n            const container = this._focusElementContainer;\r\n            container.removeChild(focusElement.dom);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(focusElement.disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n    }\r\n    _hideFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        focusElement.dom.style.display = \"none\";\r\n    }\r\n    _moveFocusElement(index, target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get container\r\n        const container = this._focusElementContainer;\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        if (focusElement === this._focusElementContainer.children[index]) {\r\n            // Nothing to do\r\n            return;\r\n        }\r\n        const next = this._focusElementContainer.children[index + 1];\r\n        if (next) {\r\n            container.insertBefore(focusElement, next);\r\n        }\r\n        else {\r\n            container.append(focusElement);\r\n        }\r\n    }\r\n    _positionFocusElement(target) {\r\n        if (this._a11yD == true || target == undefined) {\r\n            return;\r\n        }\r\n        const bounds = target.globalBounds();\r\n        let width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\r\n        let height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\r\n        const padding = this._settings.focusPadding !== undefined ? this._settings.focusPadding : 2;\r\n        let x = bounds.left - padding;\r\n        let y = bounds.top - padding;\r\n        if (width < 0) {\r\n            x += width;\r\n            width = Math.abs(width);\r\n        }\r\n        if (height < 0) {\r\n            y += height;\r\n            height = Math.abs(height);\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        focusElement.style.top = y + \"px\";\r\n        focusElement.style.left = x + \"px\";\r\n        focusElement.style.width = (width + padding * 2) + \"px\";\r\n        focusElement.style.height = (height + padding * 2) + \"px\";\r\n    }\r\n    _getSpriteByFocusElement(target) {\r\n        let found;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.eachContinue(this._tabindexes, (item, _index) => {\r\n            if (item.getPrivate(\"focusElement\").dom === target) {\r\n                found = item;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return found;\r\n    }\r\n    _handleFocus(ev) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get element\r\n        //const focused = this._tabindexes[index];\r\n        const focused = this._getSpriteByFocusElement(ev.target);\r\n        if (!focused) {\r\n            return;\r\n        }\r\n        // Jump over hidden elements\r\n        if (!focused.isVisibleDeep()) {\r\n            this._focusNext(ev.target, this._isShift ? -1 : 1);\r\n            return;\r\n        }\r\n        // Size and position\r\n        this._positionFocusElement(focused);\r\n        //this._decorateFocusElement(focused);\r\n        this._focusedSprite = focused;\r\n        if (focused.events.isEnabled(\"focus\")) {\r\n            focused.events.dispatch(\"focus\", {\r\n                type: \"focus\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n    }\r\n    _focusNext(el, direction) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusableElements = Array.from(document.querySelectorAll([\r\n            'a[href]',\r\n            'area[href]',\r\n            'button:not([disabled])',\r\n            'details',\r\n            'input:not([disabled])',\r\n            'iframe:not([disabled])',\r\n            'select:not([disabled])',\r\n            'textarea:not([disabled])',\r\n            '[contentEditable=\"\"]',\r\n            '[contentEditable=\"true\"]',\r\n            '[contentEditable=\"TRUE\"]',\r\n            '[tabindex]:not([tabindex^=\"-\"])',\r\n            //':not([disabled])'\r\n        ].join(',')));\r\n        let index = focusableElements.indexOf(el) + direction;\r\n        if (index < 0) {\r\n            index = focusableElements.length - 1;\r\n        }\r\n        else if (index >= focusableElements.length) {\r\n            index = 0;\r\n        }\r\n        focusableElements[index].focus();\r\n    }\r\n    _handleBlur(ev) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focused = this._focusedSprite;\r\n        if (focused && !focused.isDisposed() && focused.events.isEnabled(\"blur\")) {\r\n            focused.events.dispatch(\"blur\", {\r\n                type: \"blur\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n        this._focusedSprite = undefined;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltip(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const text = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.stripTags(target._getText());\r\n        let tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (target.get(\"role\") == \"tooltip\" && text != \"\") {\r\n            if (!tooltipElement) {\r\n                tooltipElement = this._makeTooltipElement(target);\r\n            }\r\n            if (tooltipElement.innerHTML != text) {\r\n                tooltipElement.innerHTML = text;\r\n            }\r\n            tooltipElement.setAttribute(\"aria-hidden\", target.isVisibleDeep() ? \"false\" : \"true\");\r\n        }\r\n        else if (tooltipElement) {\r\n            tooltipElement.remove();\r\n            target.removePrivate(\"tooltipElement\");\r\n        }\r\n    }\r\n    _makeTooltipElement(target) {\r\n        const container = this._tooltipElementContainer;\r\n        const tooltipElement = document.createElement(\"div\");\r\n        tooltipElement.style.position = \"absolute\";\r\n        tooltipElement.style.width = \"1px\";\r\n        tooltipElement.style.height = \"1px\";\r\n        tooltipElement.style.overflow = \"hidden\";\r\n        tooltipElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n        _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(tooltipElement, false);\r\n        this._decorateFocusElement(target, tooltipElement);\r\n        container.append(tooltipElement);\r\n        target.setPrivate(\"tooltipElement\", tooltipElement);\r\n        return tooltipElement;\r\n    }\r\n    _removeTooltipElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (tooltipElement) {\r\n            const parent = tooltipElement.parentElement;\r\n            if (parent) {\r\n                parent.removeChild(tooltipElement);\r\n            }\r\n        }\r\n    }\r\n    _invalidateAccessibility(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._focusElementDirty = true;\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (target.get(\"focusable\")) {\r\n            if (focusElement) {\r\n                this._decorateFocusElement(target);\r\n                this._positionFocusElement(target);\r\n            }\r\n            // else {\r\n            // \tthis._renderer._makeFocusElement(0, this);\r\n            // }\r\n        }\r\n        else if (focusElement) {\r\n            this._removeFocusElement(target);\r\n        }\r\n        //this.updateCurrentFocus();\r\n    }\r\n    /**\r\n     * Returns `true` if `target` is currently focused.\r\n     *\r\n     * @param   target  Target\r\n     * @return          Focused?\r\n     */\r\n    focused(target) {\r\n        return this._focusedSprite === target;\r\n    }\r\n    /**\r\n     * Converts document coordinates to coordinates withing root element.\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    documentPointToRoot(point) {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const scaleWidth = size.width / rect.width;\r\n        const scaleHeight = size.height / rect.height;\r\n        return {\r\n            x: (point.x - rect.left) * scaleWidth,\r\n            y: (point.y - rect.top) * scaleHeight,\r\n        };\r\n    }\r\n    /**\r\n     * Converts root coordinates to document\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    rootPointToDocument(point) {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const scaleWidth = size.width / rect.width;\r\n        const scaleHeight = size.height / rect.height;\r\n        return {\r\n            x: (point.x / scaleWidth) + rect.left,\r\n            y: (point.y / scaleHeight) + rect.top\r\n        };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _updateComputedStyles() {\r\n        const styles = window.getComputedStyle(this.dom);\r\n        let fontHash = \"\";\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.each(styles, (key, val) => {\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_27__.isString(key) && key.match(/^font/)) {\r\n                fontHash += val;\r\n            }\r\n        });\r\n        const changed = fontHash != this._fontHash;\r\n        if (changed) {\r\n            this._fontHash = fontHash;\r\n        }\r\n        return changed;\r\n    }\r\n    _checkComputedStyles() {\r\n        if (this._updateComputedStyles()) {\r\n            this._invalidateLabelBounds(this.container);\r\n        }\r\n    }\r\n    _invalidateLabelBounds(target) {\r\n        if (target instanceof _render_Container__WEBPACK_IMPORTED_MODULE_14__.Container) {\r\n            target.children.each((child) => {\r\n                this._invalidateLabelBounds(child);\r\n            });\r\n        }\r\n        else if (target instanceof _render_Text__WEBPACK_IMPORTED_MODULE_28__.Text) {\r\n            target.markDirtyBounds();\r\n        }\r\n    }\r\n    /**\r\n     * To all the clever heads out there. Yes, we did not make any attempts to\r\n     * scramble this.\r\n     *\r\n     * This is a part of a tool meant for our users to manage their commercial\r\n     * licenses for removal of amCharts branding from charts.\r\n     *\r\n     * The only legit way to do so is to purchase a commercial license for amCharts:\r\n     * https://www.amcharts.com/online-store/\r\n     *\r\n     * Removing or altering this code, or disabling amCharts branding in any other\r\n     * way is against the license and thus illegal.\r\n     */\r\n    _hasLicense() {\r\n        for (let i = 0; i < _Registry__WEBPACK_IMPORTED_MODULE_12__.registry.licenses.length; i++) {\r\n            if (_Registry__WEBPACK_IMPORTED_MODULE_12__.registry.licenses[i].match(/^AM5C.{5,}/i)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    _licenseApplied() {\r\n        if (this._logo) {\r\n            this._logo.set(\"forceHidden\", true);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get debugGhostView() {\r\n        return this._renderer.debugGhostView;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    set debugGhostView(value) {\r\n        this._renderer.debugGhostView = value;\r\n    }\r\n    /**\r\n     * Set this to `true` if you need chart to require first a tap onto it before\r\n     * touch gesture related functionality like zoom/pan is turned on.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default false\r\n     * @since 5.2.9\r\n     * @param  value  Needs a tap to activate touch functions\r\n     */\r\n    set tapToActivate(value) {\r\n        this._renderer.tapToActivate = value;\r\n    }\r\n    /**\r\n     * @return Needs a tap to activate touch functions\r\n     */\r\n    get tapToActivate() {\r\n        return this._renderer.tapToActivate;\r\n    }\r\n    /**\r\n     * If `tapToActivate` is set to `true`, this setting will determine number\r\n     * of milliseconds the chart will stay \"active\", before releasing the\r\n     * controls back to the page.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default 3000\r\n     * @since 5.2.9\r\n     * @param  value  Timeout\r\n     */\r\n    set tapToActivateTimeout(value) {\r\n        this._renderer.tapToActivateTimeout = value;\r\n    }\r\n    /**\r\n     * @return Timeout\r\n     */\r\n    get tapToActivateTimeout() {\r\n        return this._renderer.tapToActivateTimeout;\r\n    }\r\n    _makeHTMLElement(target) {\r\n        // Get container\r\n        const container = this._htmlElementContainer;\r\n        // Init\r\n        const htmlElement = document.createElement(\"div\");\r\n        target.setPrivate(\"htmlElement\", htmlElement);\r\n        //htmlElement.tabIndex = this.tabindex;\r\n        htmlElement.style.position = \"absolute\";\r\n        htmlElement.style.overflow = \"auto\";\r\n        htmlElement.style.boxSizing = \"border-box\";\r\n        _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(htmlElement, target.get(\"interactive\", false));\r\n        // Translate events\r\n        if (target.events.isEnabled(\"click\")) {\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(htmlElement, true);\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(htmlElement, \"click\", (ev) => {\r\n                const downEvent = this._renderer.getEvent(ev);\r\n                target.events.dispatch(\"click\", {\r\n                    type: \"click\",\r\n                    originalEvent: downEvent.event,\r\n                    point: downEvent.point,\r\n                    simulated: false,\r\n                    target: target\r\n                });\r\n            }));\r\n        }\r\n        this._positionHTMLElement(target);\r\n        container.append(htmlElement);\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.pushOne(this._htmlEnabledContainers, target);\r\n        return htmlElement;\r\n    }\r\n    _positionHTMLElements() {\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._htmlEnabledContainers, (target) => {\r\n            this._positionHTMLElement(target);\r\n        });\r\n    }\r\n    _positionHTMLElement(target) {\r\n        const htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            // Translate settings\r\n            const visualSettings = [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(visualSettings, (setting) => {\r\n                const value = target.get(setting);\r\n                if (value) {\r\n                    htmlElement.style[setting] = value + \"px\";\r\n                }\r\n                else {\r\n                    htmlElement.style[setting] = \"\";\r\n                }\r\n            });\r\n            // Init and reset scale / rotation\r\n            const scale = target.compositeScale() || 1;\r\n            const rotation = target.compositeRotation() || 0;\r\n            htmlElement.style.transform = \"\";\r\n            htmlElement.style.transformOrigin = \"\";\r\n            // Deal with opacity\r\n            const opacity = target.compositeOpacity();\r\n            setTimeout(() => {\r\n                htmlElement.style.opacity = opacity + \"\";\r\n            }, 10);\r\n            const visible = target.isVisibleDeep();\r\n            if (visible) {\r\n                htmlElement.style.display = \"block\";\r\n            }\r\n            // Deal with position\r\n            const bounds = target.globalBounds();\r\n            htmlElement.style.top = (bounds.top) + \"px\";\r\n            htmlElement.style.left = (bounds.left) + \"px\";\r\n            // Use width/height if those are set\r\n            const width = target.get(\"width\");\r\n            const height = target.get(\"height\");\r\n            let w = 0;\r\n            let h = 0;\r\n            if (width) {\r\n                w = target.width();\r\n            }\r\n            if (height) {\r\n                h = target.height();\r\n            }\r\n            if (!width || !height) {\r\n                htmlElement.style.position = \"fixed\";\r\n                htmlElement.style.width = \"\";\r\n                htmlElement.style.height = \"\";\r\n                const bbox = htmlElement.getBoundingClientRect();\r\n                htmlElement.style.position = \"absolute\";\r\n                if (!width)\r\n                    w = bbox.width;\r\n                if (!height)\r\n                    h = bbox.height;\r\n                target._adjustedLocalBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n                target.setPrivate(\"minWidth\", w / scale);\r\n                target.setPrivate(\"minHeight\", h / scale);\r\n            }\r\n            else {\r\n                target.removePrivate(\"minWidth\");\r\n                target.removePrivate(\"minHeight\");\r\n            }\r\n            if (w > 0) {\r\n                htmlElement.style.minWidth = (w) + \"px\";\r\n            }\r\n            if (h > 0) {\r\n                htmlElement.style.minHeight = (h) + \"px\";\r\n            }\r\n            // Hide or show\r\n            if (!visible || opacity == 0) {\r\n                htmlElement.style.display = \"none\";\r\n            }\r\n            // Deal with scale\r\n            if (scale != 1) {\r\n                htmlElement.style.transform += \"scale(\" + scale + \")\";\r\n            }\r\n            if (rotation != 0) {\r\n                htmlElement.style.transform += \" rotate(\" + rotation + \"deg)\";\r\n            }\r\n            if (htmlElement.style.transform != \"\") {\r\n                htmlElement.style.transformOrigin = target.get(\"centerX\", 0) + \"%  \" + target.get(\"centerY\", 0) + \"%\";\r\n            }\r\n        }\r\n    }\r\n    _setHTMLContent(target, html) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (!htmlElement) {\r\n            htmlElement = this._makeHTMLElement(target);\r\n        }\r\n        if (htmlElement.innerHTML != html) {\r\n            htmlElement.innerHTML = html;\r\n        }\r\n    }\r\n    _removeHTMLContent(target) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            this._htmlElementContainer.removeChild(htmlElement);\r\n            target.removePrivate(\"htmlElement\");\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._htmlEnabledContainers, target);\r\n    }\r\n}\r\n//# sourceMappingURL=Root.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9Sb290LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRDtBQUNIO0FBQ1Y7QUFDd0I7QUFDSjtBQUNSO0FBQ047QUFDUTtBQUNNO0FBQ1o7QUFDRTtBQUNKO0FBQ2M7QUFDSjtBQUNRO0FBQ2xCO0FBQ2M7QUFDSDtBQUNXO0FBQ2xCO0FBQ1Y7QUFDa0I7QUFDakI7QUFDQztBQUNBO0FBQ0U7QUFDRjtBQUNGO0FBQ0g7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzRUFBc0U7QUFDL0U7QUFDTztBQUNQLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBeUQ7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBUSxhQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtREFBRTtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaUdBQWlHO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRkFBZ0Y7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrRkFBa0Y7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRkFBZ0Y7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrRUFBZSxhQUFhO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOEVBQThFO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQWEsYUFBYTtBQUM3QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhFQUE4RTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNFQUFpQixhQUFhO0FBQ2pELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRUFBZ0U7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlHQUFpRztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWMsYUFBYTtBQUM5QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0VBQWdCLGFBQWE7QUFDaEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFVLGFBQWE7QUFDMUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUF3QjtBQUNqRDtBQUNBLDZCQUE2QiwyRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOENBQVcsQ0FBQyxnREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsK0JBQStCLG1FQUFlLGFBQWE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx5REFBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQU87QUFDMUIseUJBQXlCLGdEQUFJO0FBQzdCO0FBQ0EsMEJBQTBCLGdEQUFJO0FBQzlCO0FBQ0EsNEJBQTRCLHlEQUFTO0FBQ3JDLDBCQUEwQixtREFBSztBQUMvQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYiw0QkFBNEIscURBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiwwQ0FBMEM7QUFDMUMseUNBQXlDLHVEQUFRO0FBQ2pELHdCQUF3QixtREFBSztBQUM3QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVDQUF1QyxRQUFRLG1EQUFLLFlBQVk7QUFDaEUseUNBQXlDLHVEQUFRO0FBQ2pELHdCQUF3QixtREFBSztBQUM3QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVDQUF1QyxRQUFRLG1EQUFLLFlBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix5REFBUztBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxnREFBZ0QsK0RBQVk7QUFDNUQsc0RBQXNELHlEQUFTLGFBQWEsc0JBQXNCLGdEQUFJLFVBQVUsZ0RBQUksRUFBRTtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFxQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFlO0FBQy9CLHFDQUFxQyx5REFBdUI7QUFDNUQscUNBQXFDLG9EQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLHlEQUF1QjtBQUM1RCxxQ0FBcUMsb0RBQWtCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixxQ0FBcUMseURBQXVCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCLHFDQUFxQyx5REFBdUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9EQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLHlEQUF1QjtBQUM1RDtBQUNBO0FBQ0EseUNBQXlDLG9EQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOENBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNkRBQVk7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0RBQWE7QUFDckI7QUFDQSwwQkFBMEIsNERBQWM7QUFDeEM7QUFDQTtBQUNBLCtCQUErQiw0REFBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxRQUFRLCtDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLCtDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaURBQWM7QUFDakMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSwrQ0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFRO0FBQzNCLFlBQVkscURBQWtCO0FBQzlCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMseURBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixzREFBb0I7QUFDcEM7QUFDQSxZQUFZLGdEQUFhLENBQUMsZ0RBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdFQUFnRTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxrREFBZ0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQXlEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSx5REFBUztBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFJO0FBQzNCLHdCQUF3QixnREFBSTtBQUM1QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNEJBQTRCLHFEQUFPLGFBQWE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFjO0FBQzFCO0FBQ0E7QUFDQSxZQUFZLGdEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRLDhDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxRUFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1Qix5REFBdUI7QUFDOUM7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCLHlEQUF1QjtBQUM5QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0RBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQVk7QUFDcEIsZ0JBQWdCLGlEQUFjO0FBQzlCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFTO0FBQ3ZDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxtQ0FBbUMsK0NBQUk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixJQUFJLGdEQUFRLGtCQUFrQjtBQUN0RCxnQkFBZ0IsZ0RBQVEsMkJBQTJCLEdBQUc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEZBQTRGO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEZBQTRGO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFxQjtBQUM3QjtBQUNBO0FBQ0EsWUFBWSx1REFBcUI7QUFDakMsaUNBQWlDLHlEQUF1QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0RBQWE7QUFDckI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL1Jvb3QuanM/NmNmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltYXRpb25TdGF0ZSB9IGZyb20gXCIuL3V0aWwvQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuL3JlbmRlci9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgVGV4dCB9IGZyb20gXCIuL3JlbmRlci9UZXh0XCI7XHJcbmltcG9ydCB7IEhvcml6b250YWxMYXlvdXQgfSBmcm9tIFwiLi9yZW5kZXIvSG9yaXpvbnRhbExheW91dFwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbExheW91dCB9IGZyb20gXCIuL3JlbmRlci9WZXJ0aWNhbExheW91dFwiO1xyXG5pbXBvcnQgeyBHcmlkTGF5b3V0IH0gZnJvbSBcIi4vcmVuZGVyL0dyaWRMYXlvdXRcIjtcclxuaW1wb3J0IHsgRGlzcG9zZXIgfSBmcm9tIFwiLi91dGlsL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCB7IFJlc2l6ZVNlbnNvciB9IGZyb20gXCIuL3V0aWwvUmVzaXplU2Vuc29yXCI7XHJcbmltcG9ydCB7IEludGVyZmFjZUNvbG9ycyB9IGZyb20gXCIuL3V0aWwvSW50ZXJmYWNlQ29sb3JzXCI7XHJcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4vcmVuZGVyL0dyYXBoaWNzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL3JlbmRlci9SZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gXCIuL3JlbmRlci9Ub29sdGlwXCI7XHJcbmltcG9ydCB7IE51bWJlckZvcm1hdHRlciB9IGZyb20gXCIuL3V0aWwvTnVtYmVyRm9ybWF0dGVyXCI7XHJcbmltcG9ydCB7IERhdGVGb3JtYXR0ZXIgfSBmcm9tIFwiLi91dGlsL0RhdGVGb3JtYXR0ZXJcIjtcclxuaW1wb3J0IHsgRHVyYXRpb25Gb3JtYXR0ZXIgfSBmcm9tIFwiLi91dGlsL0R1cmF0aW9uRm9ybWF0dGVyXCI7XHJcbmltcG9ydCB7IExhbmd1YWdlIH0gZnJvbSBcIi4vdXRpbC9MYW5ndWFnZVwiO1xyXG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tIFwiLi91dGlsL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0VGhlbWUgfSBmcm9tIFwiLi4vdGhlbWVzL0RlZmF1bHRUaGVtZVwiO1xyXG5pbXBvcnQgeyBDYW52YXNSZW5kZXJlciB9IGZyb20gXCIuL3JlbmRlci9iYWNrZW5kL0NhbnZhc1JlbmRlcmVyXCI7XHJcbmltcG9ydCB7IHAxMDAsIHBlcmNlbnQgfSBmcm9tIFwiLi91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgY29sb3IgfSBmcm9tIFwiLi91dGlsL0NvbG9yXCI7XHJcbmltcG9ydCB7IHBvcHVsYXRlU3RyaW5nIH0gZnJvbSBcIi4vdXRpbC9Qb3B1bGF0ZVN0cmluZ1wiO1xyXG5pbXBvcnQgeyByZWdpc3RyeSB9IGZyb20gXCIuL1JlZ2lzdHJ5XCI7XHJcbmltcG9ydCAqIGFzICRvcmRlciBmcm9tIFwiLi91dGlsL09yZGVyXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vdXRpbC9PYmplY3RcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuL3V0aWwvVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vdXRpbC9UeXBlXCI7XHJcbmltcG9ydCBlbiBmcm9tIFwiLi4vLi4vbG9jYWxlcy9lblwiO1xyXG5mdW5jdGlvbiByQUYoZnBzLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKGZwcyA9PSBudWxsKSB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xyXG4gICAgICAgIH0sIDEwMDAgLyBmcHMpO1xyXG4gICAgfVxyXG59XHJcbi8vIFRPRE8gaW1wbGVtZW50IERpc3Bvc2VyXHJcbi8qKlxyXG4gKiBSb290IGVsZW1lbnQgb2YgdGhlIGNoYXJ0LlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvI1Jvb3RfZWxlbWVudH0gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJvb3Qge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIHNldHRpbmdzID0ge30sIGlzUmVhbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIG9yaWdpbmFsIGNoYXJ0IGNvbnRhaW5lciAoZGl2IGVsZW1lbnQpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRvbVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW5uZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0RpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzRGlydHlQYXJlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzRGlydHlBbmltYXRpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlydHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlydHlQYXJlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RpcnR5Qm91bmRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RpcnR5UG9zaXRpb25zXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpY2tlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpY2tlcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXBkYXRlVGlja1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUm9vdCdzIGV2ZW50IGRpc3BhdGNoZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9ldmVudHMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBFdmVudERpc3BhdGNoZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBpZ25vcmVcclxuICAgICAgICAgKiBAdG9kbyBuZWVkcyBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFuaW1hdGlvblRpbWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hbmltYXRpb25zXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlbmRlcmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb290Q29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1haW4gY29udGVudCBjb250YWluZXIuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSB1c2VkIHRvIGRpc3BsYXkgdG9vbHRpcHMgaW4uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9vbHRpcENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9vbHRpcENvbnRhaW5lclNldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvY2FsZS1yZWxhdGVkXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhbmd1YWdlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IExhbmd1YWdlLm5ldyh0aGlzLCB7fSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMb2NhbGUgdXNlZCBieSB0aGUgY2hhcnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9sb2NhbGVzL31cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2NhbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZW5cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEYXRlLXRpbWUgcmVsYXRlZFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVzZSBVVEMgd2hlbiBmb3JtYXR0aW5nIGRhdGUvdGltZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2Zvcm1hdHRlcnMvZm9ybWF0dGluZy1kYXRlcy8jdXRjLWFuZC10aW1lLXpvbmVzfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXRjXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSWYgc2V0LCB3aWxsIGZvcm1hdCBkYXRlL3RpbWUgaW4gc3BlY2lmaWMgdGltZSB6b25lLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIHZhbHVlIHNob3VsZCBiZSBuYW1lZCB0aW1lIHpvbmUsIGUuZy46XHJcbiAgICAgICAgICogYFwiQW1lcmljYS9WYW5jb3V2ZXJcImAsIGBcIkF1c3RyYWxpYS9TeWRuZXlcImAsIGBcIlVUQ1wiYC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIE5PVEU6IFVzaW5nIHRpbWUgem9uZSBmZWF0dXJlIG1heSBub3RpY2VhYmxlIGFmZmVjdCBwZXJmb3JtYW5jZSBvZiB0aGVcclxuICAgICAgICAgKiBjaGFydCwgZXNwZWNpYWxseSB3aXRoIGxhcmdlIGRhdGEgc2V0cywgc2luY2UgZXZlcnkgc2luZ2xlIGRhdGUgd2lsbCBuZWVkXHJcbiAgICAgICAgICogdG8gYmUgcmVjYWxjdWxhdGVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkL3Jvb3QtZWxlbWVudC8jdGltZS16b25lfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICogQHNpbmNlIDUuMS4wXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZXpvbmVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG1heGltdW0gRlBTIHRoYXQgdGhlIFJvb3Qgd2lsbCBydW4gYXQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBJZiBgdW5kZWZpbmVkYCBpdCB3aWxsIHJ1biBhdCB0aGUgaGlnaGVzdCBGUFMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvcm9vdC1lbGVtZW50LyNQZXJmb3JtYW5jZX0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZwc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBOdW1iZXIgZm9ybWF0dGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZm9ybWF0dGVycy9mb3JtYXR0aW5nLW51bWJlcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibnVtYmVyRm9ybWF0dGVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IE51bWJlckZvcm1hdHRlci5uZXcodGhpcywge30pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGF0ZS90aW1lIGZvcm1hdHRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2Zvcm1hdHRlcnMvZm9ybWF0dGluZy1kYXRlcy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkYXRlRm9ybWF0dGVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IERhdGVGb3JtYXR0ZXIubmV3KHRoaXMsIHt9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIER1cmF0aW9uIGZvcm1hdHRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2Zvcm1hdHRlcnMvZm9ybWF0dGluZy1kYXRlcy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkdXJhdGlvbkZvcm1hdHRlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBEdXJhdGlvbkZvcm1hdHRlci5uZXcodGhpcywge30pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWNjZXNzaWJpbGl0eVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdsb2JhbCB0YWIgaW5kZXggZm9yIHVzaW5nIGZvciB0aGUgd2hvbGUgY2hhcnRcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2FjY2Vzc2liaWxpdHkvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGFiaW5kZXhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vQHRvZG8gbWF5YmUgbWFrZSB0aGlzIGJldHRlclxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YWJpbmRleGVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ExMXlEXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZvY3VzRWxlbWVudERpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZvY3VzRWxlbWVudENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZm9jdXNlZFNwcml0ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNTaGlmdFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfa2V5Ym9hcmREcmFnUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Rvb2x0aXBFbGVtZW50Q29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWFkZXJBbGVydEVsZW1lbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xvZ29cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Rvb2x0aXBEaXZcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXNlZCBmb3IgZHluYW1pY2FsbHktY3JlYXRlZCBDU1MgYW5kIEphdmFTY3JpcHQgd2l0aCBzdHJpY3Qgc291cmNlIHBvbGljaWVzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5vbmNlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNwZWNpYWwgY29sb3Igc2V0IHRvIGJlIHVzZWQgZm9yIHZhcmlvdXMgY29udHJvbHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb2xvcnMtZ3JhZGllbnRzLWFuZC1wYXR0ZXJucy8jSW50ZXJmYWNlX2NvbG9yc30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVyZmFjZUNvbG9yc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBpbnN0YW5jZSBvZiB2ZXJ0aWNhbCBsYXlvdXQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gc2V0IGBsYXlvdXRgIHNldHRpbmdcclxuICAgICAgICAgKiBvZiBhIFtbQ29udGFpbmVyXV0uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBWZXJ0aWNhbExheW91dC5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcnRpY2FsTGF5b3V0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFZlcnRpY2FsTGF5b3V0Lm5ldyh0aGlzLCB7fSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBpbnN0YW5jZSBvZiBob3Jpem9udGFsIGxheW91dCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byBzZXQgYGxheW91dGAgc2V0dGluZ1xyXG4gICAgICAgICAqIG9mIGEgW1tDb250YWluZXJdXS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IEhvcml6b250YWxMYXlvdXQubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJob3Jpem9udGFsTGF5b3V0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IEhvcml6b250YWxMYXlvdXQubmV3KHRoaXMsIHt9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuIGluc3RhbmNlIG9mIGdyaWQgbGF5b3V0IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCBgbGF5b3V0YCBzZXR0aW5nXHJcbiAgICAgICAgICogb2YgYSBbW0NvbnRhaW5lcl1dLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgVmVydGljYWxMYXlvdXQubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJncmlkTGF5b3V0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IEdyaWRMYXlvdXQubmV3KHRoaXMsIHt9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXVzZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBjaGFydCBzaG91bGQgcmVzaXplZCBhdXRvbWF0aWNhbGx5IHdoZW4gcGFyZW50IGNvbnRhaW5lclxyXG4gICAgICAgICAqIHdpZHRoIGFuZC9vciBoZWlnaHQgY2hhbmdlcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIElmIGRpc2FibGVkIChgYXV0b1Jlc2l6ZSA9IGZhbHNlYCkgeW91IGNhbiBtYWtlIHRoZSBjaGFydCByZXNpemUgbWFudWFsbHlcclxuICAgICAgICAgKiBieSBjYWxsaW5nIHJvb3QgZWxlbWVudCdzIGByZXNpemUoKWAgbWV0aG9kLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF1dG9SZXNpemVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mb250SGFzaFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzRGlzcG9zZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Jlc2l6ZVNlbnNvckRpc3Bvc2VyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9odG1sRWxlbWVudENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaHRtbEVuYWJsZWRDb250YWluZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFpc1JlYWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCB1c2UgYG5ldyBDbGFzcygpYCwgaW5zdGVhZCB1c2UgYENsYXNzLm5ldygpYFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICBpZiAoc2V0dGluZ3MuYWNjZXNzaWJsZSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9hMTF5RCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZXR0aW5ncy51c2VTYWZlUmVzb2x1dGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldHRpbmdzLnVzZVNhZmVSZXNvbHV0aW9uID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc29sdXRpb247XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLnVzZVNhZmVSZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSAkdXRpbHMuZ2V0U2FmZVJlc29sdXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBuZXcgQ2FudmFzUmVuZGVyZXIocmVzb2x1dGlvbik7XHJcbiAgICAgICAgbGV0IGRvbTtcclxuICAgICAgICBpZiAoaWQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICBkb20gPSBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LmVhY2gocmVnaXN0cnkucm9vdEVsZW1lbnRzLCAocm9vdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocm9vdC5kb20gPT09IGRvbSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBoYXZlIG11bHRpcGxlIFJvb3RzIG9uIHRoZSBzYW1lIERPTSBub2RlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbnRlcmZhY2VDb2xvcnMgPSBJbnRlcmZhY2VDb2xvcnMubmV3KHRoaXMsIHt9KTtcclxuICAgICAgICBpZiAoZG9tID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIEhUTUwgZWxlbWVudCB3aXRoIGlkIGBcIiArIGlkICsgXCJgXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRvbSA9IGRvbTtcclxuICAgICAgICBsZXQgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGlubmVyLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgICAgIGlubmVyLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGlubmVyKTtcclxuICAgICAgICBjb25zdCB0b29sdGlwQ29udGFpbmVyQm91bmRzID0gc2V0dGluZ3MudG9vbHRpcENvbnRhaW5lckJvdW5kcztcclxuICAgICAgICBpZiAodG9vbHRpcENvbnRhaW5lckJvdW5kcykge1xyXG4gICAgICAgICAgICB0aGlzLl90b29sdGlwQ29udGFpbmVyU2V0dGluZ3MgPSB0b29sdGlwQ29udGFpbmVyQm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbm5lciA9IGlubmVyO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbXB1dGVkU3R5bGVzKCk7XHJcbiAgICAgICAgcmVnaXN0cnkucm9vdEVsZW1lbnRzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbmV3KGlkLCBzZXR0aW5ncykge1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgUm9vdChpZCwgc2V0dGluZ3MsIHRydWUpO1xyXG4gICAgICAgIHJvb3QuX2luaXQoKTtcclxuICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgIH1cclxuICAgIG1vdmVET00oaWQpIHtcclxuICAgICAgICBsZXQgZG9tO1xyXG4gICAgICAgIGlmIChpZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGRvbSA9IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZG9tKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmRvbS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRvbS5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jaGlsZE5vZGVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRvbSA9IGRvbTtcclxuICAgICAgICAgICAgdGhpcy5faW5pdFJlc2l6ZVNlbnNvcigpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVMb2dvKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9sb2dvKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSB0aGlzLmRvbS5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgY29uc3QgaCA9IHRoaXMuZG9tLm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgaWYgKCh3IDw9IDE1MCkgfHwgKGggPD0gNjApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dvLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ28uc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Nob3dCcmFuZGluZygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xvZ28pIHtcclxuICAgICAgICAgICAgY29uc3QgbG9nbyA9IHRoaXMudG9vbHRpcENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcywge1xyXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZU9uQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiA5LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA5LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogOSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiA5LFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IC42LFxyXG4gICAgICAgICAgICAgICAgeTogcGVyY2VudCgxMDApLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyWTogcDEwMCxcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0OiBcIkNyZWF0ZWQgdXNpbmcgYW1DaGFydHMgNVwiLFxyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFg6IHAxMDAsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JPdmVyU3R5bGU6IFwicG9pbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogUmVjdGFuZ2xlLm5ldyh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogY29sb3IoMHg0NzQ3NTgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBZOiA1XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBUb29sdGlwLm5ldyh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogNCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNyxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDQsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogN1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdG9vbHRpcC5sYWJlbC5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDEyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0b29sdGlwLmdldChcImJhY2tncm91bmRcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGZpbGw6IHRoaXMuaW50ZXJmYWNlQ29sb3JzLmdldChcImJhY2tncm91bmRcIiksXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMuaW50ZXJmYWNlQ29sb3JzLmdldChcImdyaWRcIiksXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxvZ28uc2V0KFwidG9vbHRpcFwiLCB0b29sdGlwKTtcclxuICAgICAgICAgICAgbG9nby5ldmVudHMub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9cIiwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsb2dvLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7fSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG0gPSBsb2dvLmNoaWxkcmVuLnB1c2goR3JhcGhpY3MubmV3KHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogY29sb3IoMHhjY2NjY2MpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMsXHJcbiAgICAgICAgICAgICAgICBzdmdQYXRoOiBcIk01IDI1IEwxMyAyNWgxMy42YzMuNCAwIDYgMCAxMC4zLTQuM3M1LjItMTIgOC42LTEyYzMuNCAwIDQuMyA4LjYgNy43IDguNk04My40IDI1SDc5LjhjLTMuNCAwLTYgMC0xMC4zLTQuM3MtNS4yLTEyLTguNi0xMi00LjMgOC42LTcuNyA4LjZcIlxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIG0uc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHsgc3Ryb2tlOiBjb2xvcigweDNDQUJGRikgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSBsb2dvLmNoaWxkcmVuLnB1c2goR3JhcGhpY3MubmV3KHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogY29sb3IoMHg4ODg4ODgpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMsXHJcbiAgICAgICAgICAgICAgICBzdmdQYXRoOiBcIk04My40IDI1aC0zMUMzNyAyNSAzOS41IDQuNCAyOC40IDQuNFMxOC45IDI0LjIgNC4zIDI1SDBcIlxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGEuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHsgc3Ryb2tlOiBjb2xvcigweDQ3NDc1OCkgfSk7XHJcbiAgICAgICAgICAgIC8vbG9nby5zZXQoXCJ0b29sdGlwXCIsIHRoaXMuX3Rvb2x0aXApO1xyXG4gICAgICAgICAgICAvL2xvZ28uc2V0UHJpdmF0ZShcInRvb2x0aXBUYXJnZXRcIiwgbG9nby5nZXQoXCJiYWNrZ3JvdW5kXCIpKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nbyA9IGxvZ287XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxvZ28oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0UmVhbFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgfVxyXG4gICAgX2dldENhbGN1bGF0ZWRTaXplKHJlY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuY2FsY3VsYXRlU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY2FsY3VsYXRlU2l6ZShyZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLl9zZXR0aW5ncztcclxuICAgICAgICBpZiAoc2V0dGluZ3MuYWNjZXNzaWJsZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmZvY3VzYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5uZXIuc2V0QXR0cmlidXRlKFwiZm9jdXNhYmxlXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lubmVyLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIHRoaXMudGFiaW5kZXggKyBcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuYXJpYUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbm5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHNldHRpbmdzLmFyaWFMYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnJvbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lubmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgc2V0dGluZ3Mucm9sZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcclxuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5fZ2V0UmVhbFNpemUoKTtcclxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fZ2V0Q2FsY3VsYXRlZFNpemUocmVjdCk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmZsb29yKHNpemUud2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGguZmxvb3Ioc2l6ZS5oZWlnaHQpO1xyXG4gICAgICAgIGNvbnN0IHJlYWxXaWR0aCA9IE1hdGguZmxvb3IocmVjdC53aWR0aCk7XHJcbiAgICAgICAgY29uc3QgcmVhbEhlaWdodCA9IE1hdGguZmxvb3IocmVjdC5oZWlnaHQpO1xyXG4gICAgICAgIGNvbnN0IHJvb3RDb250YWluZXIgPSBDb250YWluZXIubmV3KHRoaXMsIHtcclxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9yb290Q29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLl9yb290Q29udGFpbmVyLl9kZWZhdWx0VGhlbWVzLnB1c2goRGVmYXVsdFRoZW1lLm5ldyh0aGlzKSk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcm9vdENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcywgeyB2aXNpYmxlOiB0cnVlLCB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwIH0pKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICByZW5kZXJlci5yZXNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAvL0B0b2RvOiBiZXR0ZXIgYXBwZW5kQ2hpbGQgLSByZWZlclxyXG4gICAgICAgIHRoaXMuX2lubmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xyXG4gICAgICAgIC8vIFRPRE86IFRNUCBUTVAgVE1QIGZvciB0ZXN0aW5nIG9ubHksIHJlbW92ZVxyXG4gICAgICAgIC8vcmVuZGVyZXIuZGVidWdHaG9zdFZpZXcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2luaXRSZXNpemVTZW5zb3IoKTtcclxuICAgICAgICAvLyBIVE1MIGNvbnRlbnQgaG9sZGVyXHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuX2h0bWxFbGVtZW50Q29udGFpbmVyID0gaHRtbEVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnRDb250YWluZXIuY2xhc3NOYW1lID0gXCJhbTUtaHRtbC1jb250YWluZXJcIjtcclxuICAgICAgICBodG1sRWxlbWVudENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICBodG1sRWxlbWVudENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XHJcbiAgICAgICAgaWYgKCF0aGlzLl90b29sdGlwQ29udGFpbmVyU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnRDb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbm5lci5hcHBlbmRDaGlsZChodG1sRWxlbWVudENvbnRhaW5lcik7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBlbGVtZW50IHdoaWNoIGlzIHVzZWQgdG8gbWFrZSBhbm5vdW5jZW1lbnRzIHRvIHNjcmVlbiByZWFkZXJcclxuICAgICAgICAgICAgY29uc3QgcmVhZGVyQWxlcnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgcmVhZGVyQWxlcnRFbGVtZW50LmNsYXNzTmFtZSA9IFwiYW01LXJlYWRlci1jb250YWluZXJcIjtcclxuICAgICAgICAgICAgcmVhZGVyQWxlcnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJhbGVydFwiKTtcclxuICAgICAgICAgICAgLy8gcmVhZGVyQWxlcnRFbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiLTEwMDAwMFwiO1xyXG4gICAgICAgICAgICAvLyByZWFkZXJBbGVydEVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgICAgICAvLyByZWFkZXJBbGVydEVsZW1lbnQuc3R5bGUudG9wID0gXCIwXCI7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICAgICAgcmVhZGVyQWxlcnRFbGVtZW50LnN0eWxlLndpZHRoID0gXCIxcHhcIjtcclxuICAgICAgICAgICAgcmVhZGVyQWxlcnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5zdHlsZS5jbGlwID0gXCJyZWN0KDFweCwgMXB4LCAxcHgsIDFweClcIjtcclxuICAgICAgICAgICAgdGhpcy5fcmVhZGVyQWxlcnRFbGVtZW50ID0gcmVhZGVyQWxlcnRFbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLl9pbm5lci5hcHBlbmRDaGlsZCh0aGlzLl9yZWFkZXJBbGVydEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBjb25zdCBmb2N1c0VsZW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnRDb250YWluZXIuY2xhc3NOYW1lID0gXCJhbTUtZm9jdXMtY29udGFpbmVyXCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLnN0eWxlLnRvcCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZ3JhcGhpY3MtZG9jdW1lbnRcIik7XHJcbiAgICAgICAgICAgICR1dGlscy5zZXRJbnRlcmFjdGl2ZShmb2N1c0VsZW1lbnRDb250YWluZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5fZm9jdXNFbGVtZW50Q29udGFpbmVyID0gZm9jdXNFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICB0aGlzLl9pbm5lci5hcHBlbmRDaGlsZCh0aGlzLl9mb2N1c0VsZW1lbnRDb250YWluZXIpO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwRWxlbWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBFbGVtZW50Q29udGFpbmVyID0gdG9vbHRpcEVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIHRvb2x0aXBFbGVtZW50Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYW01LXRvb2x0aXAtY29udGFpbmVyXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX2lubmVyLmFwcGVuZENoaWxkKHRvb2x0aXBFbGVtZW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgLy8gQWRkIGtleWJvYXJkIGV2ZW50cyBmb3IgYWNjZXNzaWJpbGl0eSwgZS5nLiBzaW11bGF0aW5nIGRyYWcgd2l0aCBhcnJvd1xyXG4gICAgICAgICAgICAvLyBrZXlzIGFuZCBjbGljayB3aXRoIEVOVEVSXHJcbiAgICAgICAgICAgIGlmICgkdXRpbHMuc3VwcG9ydHMoXCJrZXlib2FyZGV2ZW50c1wiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImtleWRvd25cIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRLZXkgPSAkdXRpbHMuZ2V0RXZlbnRLZXkoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEtleSA9PSBcIlNoaWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTaGlmdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50S2V5ID09IFwiVGFiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTaGlmdCA9IGV2LnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJrZXl1cFwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudEtleSA9ICR1dGlscy5nZXRFdmVudEtleShldik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50S2V5ID09IFwiU2hpZnRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NoaWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoZm9jdXNFbGVtZW50Q29udGFpbmVyLCBcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIHNjcmVlbiByZWFkZXJzIGNvbnZlcnQgRU5URVIgKGFuZCBzb21lIFNQQUNFKSBwcmVzcyB3aGlsIG9uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9jdXNlZCBlbGVtZW50IHRvIGEgXCJjbGlja1wiIGV2ZW50LCBwcmV2ZW50aW5nIGFjdHVhbCBcImtleWRvd25cIlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50IGZyb20gZmlyaW5nLiBXZSdyZSB1c2luZyB0aGlzIFwiY2xpY2tcIiBldmVudCB0byBzdGlsbFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlIGludGVybmFsIGNsaWNrIGV2ZW50cy5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2N1c2VkU3ByaXRlID0gdGhpcy5fZm9jdXNlZFNwcml0ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZFNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duRXZlbnQgPSByZW5kZXJlci5nZXRFdmVudChuZXcgTW91c2VFdmVudChcImNsaWNrXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZFNwcml0ZS5ldmVudHMuZGlzcGF0Y2goXCJjbGlja1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBkb3duRXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZG93bkV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBmb2N1c2VkU3ByaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKGZvY3VzRWxlbWVudENvbnRhaW5lciwgXCJrZXlkb3duXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzZWRTcHJpdGUgPSB0aGlzLl9mb2N1c2VkU3ByaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldi5rZXkgPT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRVNDIHByZXNzZWQgLSBsb3NlIGN1cnJlbnQgZm9jdXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1dGlscy5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb2N1c2VkU3ByaXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkcmFnT2Zmc2V0WCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkcmFnT2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgaWYgdXNpbmcgYm9ndXMgTW91c2VFdmVudCBpcyBmaW5lLCBvciBpdCB3aWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhaWwgb24gc29tZSBwbGF0Zm9ybXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRLZXkgPSAkdXRpbHMuZ2V0RXZlbnRLZXkoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRW50ZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIgXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50S2V5ID09IFwiIFwiICYmIGZvY3VzZWRTcHJpdGUuZ2V0KFwicm9sZVwiKSAhPSBcImNoZWNrYm94XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvd25FdmVudCA9IHJlbmRlcmVyLmdldEV2ZW50KG5ldyBNb3VzZUV2ZW50KFwibW91c2VcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzZWRTcHJpdGUuZXZlbnRzLmRpc3BhdGNoKFwiY2xpY2tcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGRvd25FdmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IGRvd25FdmVudC5wb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGZvY3VzZWRTcHJpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldFggPSAtNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldFggPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0WSA9IC02O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdPZmZzZXRZID0gNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmFnT2Zmc2V0WCAhPSAwIHx8IGRyYWdPZmZzZXRZICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvY3VzZWRTcHJpdGUuaXNEcmFnZ2luZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZHJhZ2dpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlib2FyZERyYWdQb2ludCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93bkV2ZW50ID0gcmVuZGVyZXIuZ2V0RXZlbnQobmV3IE1vdXNlRXZlbnQoXCJtb3VzZWRvd25cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRYOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkU3ByaXRlLmV2ZW50cy5pc0VuYWJsZWQoXCJwb2ludGVyZG93blwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2VkU3ByaXRlLmV2ZW50cy5kaXNwYXRjaChcInBvaW50ZXJkb3duXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicG9pbnRlcmRvd25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGRvd25FdmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBkb3duRXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGZvY3VzZWRTcHJpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSBmb2N1cyBtYXJrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX3Bvc2l0aW9uRm9jdXNFbGVtZW50KGZvY3VzZWRTcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSBpbmNyZW1lbnRhbGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkcmFnUG9pbnQgPSB0aGlzLl9rZXlib2FyZERyYWdQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdQb2ludC54ICs9IGRyYWdPZmZzZXRYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ1BvaW50LnkgKz0gZHJhZ09mZnNldFk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3ZlRXZlbnQgPSByZW5kZXJlci5nZXRFdmVudChuZXcgTW91c2VFdmVudChcIm1vdXNlbW92ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogZHJhZ1BvaW50LngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WTogZHJhZ1BvaW50LnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZFNwcml0ZS5ldmVudHMuaXNFbmFibGVkKFwiZ2xvYmFscG9pbnRlcm1vdmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2VkU3ByaXRlLmV2ZW50cy5kaXNwYXRjaChcImdsb2JhbHBvaW50ZXJtb3ZlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnbG9iYWxwb2ludGVybW92ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBtb3ZlRXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBtb3ZlRXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBmb2N1c2VkU3ByaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihmb2N1c0VsZW1lbnRDb250YWluZXIsIFwia2V5dXBcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZvY3VzZWRTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZFNwcml0ZSA9IHRoaXMuX2ZvY3VzZWRTcHJpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gJHV0aWxzLmdldEV2ZW50S2V5KGV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChldmVudEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1RvcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkU3ByaXRlLmlzRHJhZ2dpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW11bGF0ZSBkcmFnIHN0b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhZ1BvaW50ID0gdGhpcy5fa2V5Ym9hcmREcmFnUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwRXZlbnQgPSByZW5kZXJlci5nZXRFdmVudChuZXcgTW91c2VFdmVudChcIm1vdXNldXBcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogZHJhZ1BvaW50LngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiBkcmFnUG9pbnQueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkU3ByaXRlLmV2ZW50cy5pc0VuYWJsZWQoXCJnbG9iYWxwb2ludGVydXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzZWRTcHJpdGUuZXZlbnRzLmRpc3BhdGNoKFwiZ2xvYmFscG9pbnRlcnVwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdsb2JhbHBvaW50ZXJ1cFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IHVwRXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHVwRXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZm9jdXNlZFNwcml0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9wb3NpdGlvbkZvY3VzRWxlbWVudChmb2N1c2VkU3ByaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmREcmFnUG9pbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIGRpc3BhdGNoIG1vdXNldXAgZXZlbnQgaW5zdGVhZCBvZiBjYWxsaW5nIGRyYWdTdG9wP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9kaXNwYXRjaEV2ZW50KFwiZ2xvYmFscG9pbnRlcnVwXCIsIHRhcmdldCwgdXBFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9jdXNlZFNwcml0ZS5nZXQoXCJmb2N1c2FibGVHcm91cFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIG5leHQgaXRlbSBpbiBmb2N1c2FibGUgZ3JvdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBmb2N1c2VkU3ByaXRlLmdldChcImZvY3VzYWJsZUdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuX3RhYmluZGV4ZXMuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5nZXQoXCJmb2N1c2FibGVHcm91cFwiKSA9PSBncm91cCAmJiBpdGVtLmdldFByaXZhdGUoXCJmb2N1c2FibGVcIikgIT09IGZhbHNlICYmIGl0ZW0uaXNWaXNpYmxlRGVlcCgpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gaXRlbXMuaW5kZXhPZihmb2N1c2VkU3ByaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gaXRlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gKGV2ZW50S2V5ID09IFwiQXJyb3dSaWdodFwiIHx8IGV2ZW50S2V5ID09IFwiQXJyb3dEb3duXCIpID8gMSA6IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGxhc3RJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleCA+IGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1dGlscy5mb2N1cyhpdGVtc1tpbmRleF0uZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKS5kb20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0VGhlbWVzKFtdKTtcclxuICAgICAgICB0aGlzLl9hZGRUb29sdGlwKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9oYXNMaWNlbnNlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0JyYW5kaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2luaXRSZXNpemVTZW5zb3IoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVNlbnNvckRpc3Bvc2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVNlbnNvckRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVzaXplU2Vuc29yRGlzcG9zZXIgPSBuZXcgUmVzaXplU2Vuc29yKHRoaXMuZG9tLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZXNpemUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl9yZXNpemVTZW5zb3JEaXNwb3Nlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIElmIGF1dG9tYXRpYyByZXNpemluZyBvZiBjaGFyIGlzIGRpc2FibGVkIChgcm9vdC5hdXRvUmVzaXplID0gZmFsc2VgKSwgaXRcclxuICAgICAqIGNhbiBiZSByZXNpemVkIG1hbnVhbGx5IGJ5IGNhbGxpbmcgdGhpcyBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5fZ2V0UmVhbFNpemUoKTtcclxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fZ2V0Q2FsY3VsYXRlZFNpemUocmVjdCk7XHJcbiAgICAgICAgY29uc3QgdyA9IE1hdGguZmxvb3Ioc2l6ZS53aWR0aCk7XHJcbiAgICAgICAgY29uc3QgaCA9IE1hdGguZmxvb3Ioc2l6ZS5oZWlnaHQpO1xyXG4gICAgICAgIGlmICh3ID4gMCAmJiBoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCByZWFsV2lkdGggPSBNYXRoLmZsb29yKHJlY3Qud2lkdGgpO1xyXG4gICAgICAgICAgICBjb25zdCByZWFsSGVpZ2h0ID0gTWF0aC5mbG9vcihyZWN0LmhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGh0bWxFbGVtZW50Q29udGFpbmVyID0gdGhpcy5faHRtbEVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50Q29udGFpbmVyLnN0eWxlLndpZHRoID0gdyArIFwicHhcIjtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaCArIFwicHhcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ExMXlEICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb2N1c0VsZW1lbnRDb250YWluZXIgPSB0aGlzLl9mb2N1c0VsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICBmb2N1c0VsZW1lbnRDb250YWluZXIuc3R5bGUud2lkdGggPSB3ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgdywgaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvb3RDb250YWluZXIgPSB0aGlzLl9yb290Q29udGFpbmVyO1xyXG4gICAgICAgICAgICByb290Q29udGFpbmVyLnNldFByaXZhdGUoXCJ3aWR0aFwiLCB3KTtcclxuICAgICAgICAgICAgcm9vdENvbnRhaW5lci5zZXRQcml2YXRlKFwiaGVpZ2h0XCIsIGgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTG9nbygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHRoaXMuX3Jvb3RDb250YWluZXIuX2Rpc3BsYXkpO1xyXG4gICAgICAgIGlmICh0aGlzLl9mb2N1c0VsZW1lbnREaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50Rm9jdXMoKTtcclxuICAgICAgICAgICAgdGhpcy5fZm9jdXNFbGVtZW50RGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcnVuVGlja2VycyhjdXJyZW50VGltZSkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RpY2tlcnMsIChmKSA9PiB7XHJcbiAgICAgICAgICAgIGYoY3VycmVudFRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3J1bkFuaW1hdGlvbnMoY3VycmVudFRpbWUpIHtcclxuICAgICAgICBsZXQgcnVubmluZyA9IDA7XHJcbiAgICAgICAgJGFycmF5LmtlZXBJZih0aGlzLl9hbmltYXRpb25zLCAoYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gYW5pbWF0aW9uLl9ydW5BbmltYXRpb24oY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IEFuaW1hdGlvblN0YXRlLlN0b3BwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gQW5pbWF0aW9uU3RhdGUuUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgKytydW5uaW5nO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHlBbmltYXRpb24gPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gcnVubmluZyA9PT0gMDtcclxuICAgIH1cclxuICAgIF9ydW5EaXJ0aWVzKCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ0aWNrICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXCIpO1xyXG4gICAgICAgIGxldCBhbGxQYXJlbnRzID0ge307XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuX2lzRGlydHlQYXJlbnRzKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBiZWZvcmUgY2FsbGluZyBfcHJlcGFyZUNoaWxkcmVuXHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGlydHlQYXJlbnRzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRvYmplY3Qua2V5cyh0aGlzLl9kaXJ0eVBhcmVudHMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fZGlydHlQYXJlbnRzW2tleV07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlydHlQYXJlbnRzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxQYXJlbnRzW3BhcmVudC51aWRdID0gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkb2JqZWN0LmtleXMoYWxsUGFyZW50cykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGFsbFBhcmVudHNba2V5XS5fdXBkYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBvYmplY3RzID0gW107XHJcbiAgICAgICAgLy9cdFx0Y29uc29sZS5sb2coXCJfYmVmb3JlQ2hhbmdlZFwiKVxyXG4gICAgICAgICRvYmplY3Qua2V5cyh0aGlzLl9kaXJ0eSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuX2RpcnR5W2tleV07XHJcbiAgICAgICAgICAgIGlmIChlbnRpdHkuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlydHlbZW50aXR5LnVpZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIGVudGl0eS5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9cdFx0Y29uc29sZS5sb2coXCJfY2hhbmdlZFwiKVxyXG4gICAgICAgIG9iamVjdHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIGVudGl0eS5fY2hhbmdlZCgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlydHlbZW50aXR5LnVpZF07XHJcbiAgICAgICAgICAgIGVudGl0eS5fY2xlYXJEaXJ0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHkgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBkZXB0aHMgPSB7fTtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSBbXTtcclxuICAgICAgICAkb2JqZWN0LmtleXModGhpcy5fZGlydHlCb3VuZHMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLl9kaXJ0eUJvdW5kc1trZXldO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlydHlCb3VuZHNba2V5XTtcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBkZXB0aHNbZW50aXR5LnVpZF0gPSBlbnRpdHkuZGVwdGgoKTtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbkhUTUxFbGVtZW50cygpO1xyXG4gICAgICAgIC8vIEhpZ2ggZGVwdGggLT4gbG93IGRlcHRoXHJcbiAgICAgICAgYm91bmRzLnNvcnQoKHgsIHkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICRvcmRlci5jb21wYXJlKGRlcHRoc1t5LnVpZF0sIGRlcHRoc1t4LnVpZF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwiX3VwZGF0ZUJvdW5kc1wiKVxyXG4gICAgICAgIGJvdW5kcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICAgICAgZW50aXR5Ll91cGRhdGVCb3VuZHMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL1x0XHRjb25zb2xlLmxvZyhcIl91cGRhdGVQb3NpdGlvblwiKVxyXG4gICAgICAgIGNvbnN0IGRpcnR5UG9zaXRpb25zID0gdGhpcy5fZGlydHlQb3NpdGlvbnM7XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKGRpcnR5UG9zaXRpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gZGlydHlQb3NpdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgZGVsZXRlIGRpcnR5UG9zaXRpb25zW2tleV07XHJcbiAgICAgICAgICAgIGlmICghc3ByaXRlLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLl91cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9cdFx0Y29uc29sZS5sb2coXCJfYWZ0ZXJDaGFuZ2VkXCIpXHJcbiAgICAgICAgb2JqZWN0cy5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICAgICAgZW50aXR5Ll9hZnRlckNoYW5nZWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9yZW5kZXJGcmFtZShjdXJyZW50VGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVUaWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJmcmFtZXN0YXJ0ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKFwiZnJhbWVzdGFydGVkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZyYW1lc3RhcnRlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnRUaW1lLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tDb21wdXRlZFN0eWxlcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9ydW5UaWNrZXJzKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uRG9uZSA9IHRoaXMuX3J1bkFuaW1hdGlvbnMoY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9ydW5EaXJ0aWVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlci5yZXNldEltYWdlQXJyYXkoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25IVE1MRWxlbWVudHMoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZChcImZyYW1lZW5kZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKFwiZnJhbWVlbmRlZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmcmFtZWVuZGVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudFRpbWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2Vycy5sZW5ndGggPT09IDAgJiZcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkRvbmUgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLl9pc0RpcnR5QW5pbWF0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faXNEaXJ0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9ydW5UaWNrZXIoY3VycmVudFRpbWUsIG5vdykge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSB0aGlzLl9yZW5kZXJGcmFtZShjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIC8vIE5vIG1vcmUgd29yayB0byBkb1xyXG4gICAgICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3BhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgckFGKHRoaXMuZnBzLCB0aGlzLl90aWNrZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9ydW5UaWNrZXJOb3codGltZW91dCA9IDEwMDAwKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKyB0aW1lb3V0O1xyXG4gICAgICAgICAgICBmb3IgKDs7KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID49IGVuZFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb25lID0gdGhpcy5fcmVuZGVyRnJhbWUoY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3N0YXJ0VGlja2VyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gKGN1cnJlbnRUaW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ydW5UaWNrZXIoY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByQUYodGhpcy5mcHMsIHRoaXMuX3RpY2tlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHJvb3QgaXMgdXBkYXRpbmcgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBnZXQgdXBkYXRlVGljaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlVGljaztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgcm9vdCB1cGRhdGluZy5cclxuICAgICAqL1xyXG4gICAgc2V0IHVwZGF0ZVRpY2sodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl91cGRhdGVUaWNrID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0VGlja2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FkZERpcnR5RW50aXR5KGVudGl0eSkge1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXJ0eVtlbnRpdHkudWlkXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5W2VudGl0eS51aWRdID0gZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgfVxyXG4gICAgX2FkZERpcnR5UGFyZW50KHBhcmVudCkge1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHlQYXJlbnRzID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5fZGlydHlQYXJlbnRzW3BhcmVudC51aWRdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlydHlQYXJlbnRzW3BhcmVudC51aWRdID0gcGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgfVxyXG4gICAgX2FkZERpcnR5Qm91bmRzKGVudGl0eSkge1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXJ0eUJvdW5kc1tlbnRpdHkudWlkXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5Qm91bmRzW2VudGl0eS51aWRdID0gZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgfVxyXG4gICAgX2FkZERpcnR5UG9zaXRpb24oc3ByaXRlKSB7XHJcbiAgICAgICAgdGhpcy5faXNEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcnR5UG9zaXRpb25zW3Nwcml0ZS51aWRdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlydHlQb3NpdGlvbnNbc3ByaXRlLnVpZF0gPSBzcHJpdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0YXJ0VGlja2VyKCk7XHJcbiAgICB9XHJcbiAgICBfYWRkQW5pbWF0aW9uKGFuaW1hdGlvbikge1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHlBbmltYXRpb24gPSB0cnVlO1xyXG4gICAgICAgIC8vIFRPRE8gdXNlIG51bWVyaWMgaWQgaW5zdGVhZFxyXG4gICAgICAgIGlmICh0aGlzLl9hbmltYXRpb25zLmluZGV4T2YoYW5pbWF0aW9uKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0YXJ0VGlja2VyKCk7XHJcbiAgICB9XHJcbiAgICBfbWFya0RpcnR5KCkge1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eVJlZHJhdygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFwiZnJhbWVlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWFjaEZyYW1lKGYpIHtcclxuICAgICAgICB0aGlzLl90aWNrZXJzLnB1c2goZik7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRUaWNrZXIoKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KHRoaXMuX3RpY2tlcnMsIGYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbWFya0RpcnR5R2xvYmFsKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250YWluZXIud2Fsa0NoaWxkcmVuKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5R2xvYmFsKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGlsZC5tYXJrRGlydHkoKTtcclxuICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2lkdGggb2YgdGhlIHRhcmdldCBjb250YWluZXIsIGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFdpZHRoXHJcbiAgICAgKi9cclxuICAgIHdpZHRoKCkge1xyXG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGlzIG1vcmUgZWZmaWNpZW50LCBtYXliZSBqdXN0IHJldHVybiB0aGUgcmVuZGVyZXIncyB3aWR0aCA/XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5fZ2V0Q2FsY3VsYXRlZFNpemUodGhpcy5fZ2V0UmVhbFNpemUoKSkud2lkdGgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGhlaWdodCBvZiB0aGUgdGFyZ2V0IGNvbnRhaW5lciwgaW4gcGl4ZWxzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSGVpZ2h0XHJcbiAgICAgKi9cclxuICAgIGhlaWdodCgpIHtcclxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBtb3JlIGVmZmljaWVudCwgbWF5YmUganVzdCByZXR1cm4gdGhlIHJlbmRlcmVyJ3MgaGVpZ2h0ID9cclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9nZXRDYWxjdWxhdGVkU2l6ZSh0aGlzLl9nZXRSZWFsU2l6ZSgpKS5oZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyByb290IGFuZCBhbGwgdGhlIGNvbnRlbnQgaW4gaXQuXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9yb290Q29udGFpbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxMYXlvdXQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsTGF5b3V0LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcmZhY2VDb2xvcnMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9kaXNwb3NlcnMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB4LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbm5lcikge1xyXG4gICAgICAgICAgICAgICAgJHV0aWxzLnJlbW92ZUVsZW1lbnQodGhpcy5faW5uZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmUocmVnaXN0cnkucm9vdEVsZW1lbnRzLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHJvb3QgZWxlbWVudCBpcyBkaXNwb3NlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIERpc3Bvc2VkP1xyXG4gICAgICovXHJcbiAgICBpc0Rpc3Bvc2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VycyBzY3JlZW4gcmVhZGVyIHJlYWQgb3V0IGEgbWVzc2FnZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9hY2Nlc3NpYmlsaXR5L30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICB0ZXh0ICBBbGVydCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIHJlYWRlckFsZXJ0KHRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVhZGVyQWxlcnRFbGVtZW50LmlubmVySFRNTCA9ICR1dGlscy5zdHJpcFRhZ3ModGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZW1lcyB0byBiZSB1c2VkIGZvciB0aGUgY2hhcnQuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvdGhlbWVzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICB0aGVtZXMgIEEgbGlzdCBvZiB0aGVtZXNcclxuICAgICAqL1xyXG4gICAgc2V0VGhlbWVzKHRoZW1lcykge1xyXG4gICAgICAgIHRoaXMuX3Jvb3RDb250YWluZXIuc2V0KFwidGhlbWVzXCIsIHRoZW1lcyk7XHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlIG5ldyB0aGVtZXMgYXJlIG5vdCBhcHBsaWVkXHJcbiAgICAgICAgY29uc3QgdG9vbHRpcENvbnRhaW5lciA9IHRoaXMudG9vbHRpcENvbnRhaW5lcjtcclxuICAgICAgICBpZiAodG9vbHRpcENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0b29sdGlwQ29udGFpbmVyLl9hcHBseVRoZW1lcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBAdG9kbyByZXZpZXcgdGhpc1xyXG4gICAgICAgIGNvbnN0IGludGVyZmFjZUNvbG9ycyA9IHRoaXMuaW50ZXJmYWNlQ29sb3JzO1xyXG4gICAgICAgIGlmIChpbnRlcmZhY2VDb2xvcnMpIHtcclxuICAgICAgICAgICAgaW50ZXJmYWNlQ29sb3JzLl9hcHBseVRoZW1lcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRUb29sdGlwKCkge1xyXG4gICAgICAgIGlmICghdGhpcy50b29sdGlwQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBDb250YWluZXJTZXR0aW5ncyA9IHRoaXMuX3Rvb2x0aXBDb250YWluZXJTZXR0aW5ncztcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcENvbnRhaW5lciA9IHRoaXMuX3Jvb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICBpc01lYXN1cmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBwMTAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBwMTAwLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXI6IHRvb2x0aXBDb250YWluZXJTZXR0aW5ncyA/IDM1IDogMzAsXHJcbiAgICAgICAgICAgICAgICBsYXllck1hcmdpbjogdG9vbHRpcENvbnRhaW5lclNldHRpbmdzID8gdG9vbHRpcENvbnRhaW5lclNldHRpbmdzIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGhpcy50b29sdGlwQ29udGFpbmVyID0gdG9vbHRpcENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9IFRvb2x0aXAubmV3KHRoaXMsIHt9KTtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc2V0KFwidG9vbHRpcFwiLCB0b29sdGlwKTtcclxuICAgICAgICAgICAgdG9vbHRpcC5oaWRlKDApO1xyXG4gICAgICAgICAgICB0aGlzLl90b29sdGlwID0gdG9vbHRpcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFjY2VzaWJpbGl0eVxyXG4gICAgICovXHJcbiAgICBfcmVnaXN0ZXJUYWJpbmRleE9yZGVyKHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhcmdldC5nZXQoXCJmb2N1c2FibGVcIikpIHtcclxuICAgICAgICAgICAgJGFycmF5LnB1c2hPbmUodGhpcy5fdGFiaW5kZXhlcywgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmUodGhpcy5fdGFiaW5kZXhlcywgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZVRhYmluZGV4ZXMoKTtcclxuICAgIH1cclxuICAgIF91bnJlZ2lzdGVyVGFiaW5kZXhPcmRlcih0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5yZW1vdmUodGhpcy5fdGFiaW5kZXhlcywgdGFyZ2V0KTtcclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlVGFiaW5kZXhlcygpO1xyXG4gICAgfVxyXG4gICAgX2ludmFsaWRhdGVUYWJpbmRleGVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdGFiaW5kZXhlcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFpbmRleCA9IGEuZ2V0KFwidGFiaW5kZXhPcmRlclwiLCAwKTtcclxuICAgICAgICAgICAgY29uc3QgYmluZGV4ID0gYi5nZXQoXCJ0YWJpbmRleE9yZGVyXCIsIDApO1xyXG4gICAgICAgICAgICBpZiAoYWluZGV4ID09IGJpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYWluZGV4ID4gYmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RhYmluZGV4ZXMsIChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWl0ZW0uZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFrZUZvY3VzRWxlbWVudChpbmRleCwgaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlRm9jdXNFbGVtZW50KGluZGV4LCBpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGl0ZW0uZ2V0KFwiZm9jdXNhYmxlR3JvdXBcIik7XHJcbiAgICAgICAgICAgIGlmIChncm91cCAmJiBpdGVtLmdldFByaXZhdGUoXCJmb2N1c2FibGVcIikgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBzLmluZGV4T2YoZ3JvdXApICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vbi1maXJzdCBlbGVtZW50IGluIHRoZSBncm91cCwgbWFrZSBpdCBub3QgZGlyZWN0bHkgZm9jdXNhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpLmRvbS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIi0xXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ3VycmVudEZvY3VzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZvY3VzZWRTcHJpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVjb3JhdGVGb2N1c0VsZW1lbnQodGhpcy5fZm9jdXNlZFNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uRm9jdXNFbGVtZW50KHRoaXMuX2ZvY3VzZWRTcHJpdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kZWNvcmF0ZUZvY3VzRWxlbWVudCh0YXJnZXQsIGZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGVjb3JhdGUgd2l0aCBwcm9wZXIgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgaWYgKCFmb2N1c0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIikuZG9tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJvbGUgPSB0YXJnZXQuZ2V0KFwicm9sZVwiKTtcclxuICAgICAgICBpZiAocm9sZSkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCByb2xlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcmlhTGFiZWwgPSB0YXJnZXQuZ2V0KFwiYXJpYUxhYmVsXCIpO1xyXG4gICAgICAgIGlmIChhcmlhTGFiZWwpIHtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBwb3B1bGF0ZVN0cmluZyh0YXJnZXQsIGFyaWFMYWJlbCk7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGxhYmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcmlhTGl2ZSA9IHRhcmdldC5nZXQoXCJhcmlhTGl2ZVwiKTtcclxuICAgICAgICBpZiAoYXJpYUxpdmUpIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBhcmlhTGl2ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1saXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcmlhQ2hlY2tlZCA9IHRhcmdldC5nZXQoXCJhcmlhQ2hlY2tlZFwiKTtcclxuICAgICAgICBpZiAoYXJpYUNoZWNrZWQgIT0gbnVsbCAmJiByb2xlICYmIFtcImNoZWNrYm94XCIsIFwib3B0aW9uXCIsIFwicmFkaW9cIiwgXCJtZW51aXRlbWNoZWNrYm94XCIsIFwibWVudWl0ZW1yYWRpb1wiLCBcInRyZWVpdGVtXCJdLmluZGV4T2Yocm9sZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgYXJpYUNoZWNrZWQgPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcmlhQ3VycmVudCA9IHRhcmdldC5nZXQoXCJhcmlhQ3VycmVudFwiKTtcclxuICAgICAgICBpZiAoYXJpYUN1cnJlbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1jdXJyZW50XCIsIGFyaWFDdXJyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWN1cnJlbnRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFTZWxlY3RlZCA9IHRhcmdldC5nZXQoXCJhcmlhU2VsZWN0ZWRcIik7XHJcbiAgICAgICAgaWYgKGFyaWFTZWxlY3RlZCAhPSBudWxsICYmIHJvbGUgJiYgW1wiZ3JpZGNlbGxcIiwgXCJvcHRpb25cIiwgXCJyb3dcIiwgXCJ0YWJcIiwgXCJjb2x1bW5oZWFkZXJcIiwgXCJyb3doZWFkZXJcIiwgXCJ0cmVlaXRlbVwiXS5pbmRleE9mKHJvbGUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBhcmlhU2VsZWN0ZWQgPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhcmdldC5nZXQoXCJhcmlhSGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFPcmllbnRhdGlvbiA9IHRhcmdldC5nZXQoXCJhcmlhT3JpZW50YXRpb25cIik7XHJcbiAgICAgICAgaWYgKGFyaWFPcmllbnRhdGlvbikge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1vcmllbnRhdGlvblwiLCBhcmlhT3JpZW50YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtb3JpZW50YXRpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFWYWx1ZU5vdyA9IHRhcmdldC5nZXQoXCJhcmlhVmFsdWVOb3dcIik7XHJcbiAgICAgICAgaWYgKGFyaWFWYWx1ZU5vdykge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLCBhcmlhVmFsdWVOb3cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFWYWx1ZU1pbiA9IHRhcmdldC5nZXQoXCJhcmlhVmFsdWVNaW5cIik7XHJcbiAgICAgICAgaWYgKGFyaWFWYWx1ZU1pbikge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiLCBhcmlhVmFsdWVNaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtdmFsdWVtaW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFWYWx1ZU1heCA9IHRhcmdldC5nZXQoXCJhcmlhVmFsdWVNYXhcIik7XHJcbiAgICAgICAgaWYgKGFyaWFWYWx1ZU1heCkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1heFwiLCBhcmlhVmFsdWVNYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtdmFsdWVtYXhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFWYWx1ZVRleHQgPSB0YXJnZXQuZ2V0KFwiYXJpYVZhbHVlVGV4dFwiKTtcclxuICAgICAgICBpZiAoYXJpYVZhbHVlVGV4dCkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIiwgYXJpYVZhbHVlVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFDb250cm9scyA9IHRhcmdldC5nZXQoXCJhcmlhQ29udHJvbHNcIik7XHJcbiAgICAgICAgaWYgKGFyaWFDb250cm9scykge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1jb250cm9sc1wiLCBhcmlhQ29udHJvbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0YXJnZXQuZ2V0KFwidmlzaWJsZVwiKSAmJiB0YXJnZXQuZ2V0KFwib3BhY2l0eVwiKSAhPT0gMCAmJiB0YXJnZXQuZ2V0KFwicm9sZVwiKSAhPSBcInRvb2x0aXBcIiAmJiAhdGFyZ2V0LmlzSGlkZGVuKCkgJiYgdGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c2FibGVcIikgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmIChmb2N1c0VsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIikgIT0gXCItMVwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCJcIiArIHRoaXMudGFiaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbWFrZUZvY3VzRWxlbWVudChpbmRleCwgdGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRhcmdldC5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpIHx8IHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbml0XHJcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBpZiAodGFyZ2V0LmdldChcInJvbGVcIikgIT0gXCJ0b29sdGlwXCIpIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnRhYkluZGV4ID0gdGhpcy50YWJpbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9jdXNFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgICR1dGlscy5zZXRJbnRlcmFjdGl2ZShmb2N1c0VsZW1lbnQsIGZhbHNlKTtcclxuICAgICAgICBjb25zdCBkaXNwb3NlcnMgPSBbXTtcclxuICAgICAgICB0YXJnZXQuc2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiLCB7XHJcbiAgICAgICAgICAgIGRvbTogZm9jdXNFbGVtZW50LFxyXG4gICAgICAgICAgICBkaXNwb3NlcnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZGVjb3JhdGVGb2N1c0VsZW1lbnQodGFyZ2V0KTtcclxuICAgICAgICBkaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihmb2N1c0VsZW1lbnQsIFwiZm9jdXNcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvY3VzKGV2KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoZm9jdXNFbGVtZW50LCBcImJsdXJcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUJsdXIoZXYpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLl9tb3ZlRm9jdXNFbGVtZW50KGluZGV4LCB0YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgX3JlbW92ZUZvY3VzRWxlbWVudCh0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5yZW1vdmUodGhpcy5fdGFiaW5kZXhlcywgdGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBmb2N1c0VsZW1lbnQgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKTtcclxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2ZvY3VzRWxlbWVudENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGZvY3VzRWxlbWVudC5kb20pO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChmb2N1c0VsZW1lbnQuZGlzcG9zZXJzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oaWRlRm9jdXNFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIik7XHJcbiAgICAgICAgZm9jdXNFbGVtZW50LmRvbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBfbW92ZUZvY3VzRWxlbWVudChpbmRleCwgdGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgY29udGFpbmVyXHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fZm9jdXNFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgIGNvbnN0IGZvY3VzRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpLmRvbTtcclxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50ID09PSB0aGlzLl9mb2N1c0VsZW1lbnRDb250YWluZXIuY2hpbGRyZW5baW5kZXhdKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZG9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5fZm9jdXNFbGVtZW50Q29udGFpbmVyLmNoaWxkcmVuW2luZGV4ICsgMV07XHJcbiAgICAgICAgaWYgKG5leHQpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShmb2N1c0VsZW1lbnQsIG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChmb2N1c0VsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wb3NpdGlvbkZvY3VzRWxlbWVudCh0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSB8fCB0YXJnZXQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGFyZ2V0Lmdsb2JhbEJvdW5kcygpO1xyXG4gICAgICAgIGxldCB3aWR0aCA9IGJvdW5kcy5yaWdodCA9PSBib3VuZHMubGVmdCA/IHRhcmdldC53aWR0aCgpIDogYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQ7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IGJvdW5kcy50b3AgPT0gYm91bmRzLmJvdHRvbSA/IHRhcmdldC5oZWlnaHQoKSA6IGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wO1xyXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLl9zZXR0aW5ncy5mb2N1c1BhZGRpbmcgIT09IHVuZGVmaW5lZCA/IHRoaXMuX3NldHRpbmdzLmZvY3VzUGFkZGluZyA6IDI7XHJcbiAgICAgICAgbGV0IHggPSBib3VuZHMubGVmdCAtIHBhZGRpbmc7XHJcbiAgICAgICAgbGV0IHkgPSBib3VuZHMudG9wIC0gcGFkZGluZztcclxuICAgICAgICBpZiAod2lkdGggPCAwKSB7XHJcbiAgICAgICAgICAgIHggKz0gd2lkdGg7XHJcbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5hYnMod2lkdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVpZ2h0IDwgMCkge1xyXG4gICAgICAgICAgICB5ICs9IGhlaWdodDtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMoaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIikuZG9tO1xyXG4gICAgICAgIGZvY3VzRWxlbWVudC5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xyXG4gICAgICAgIGZvY3VzRWxlbWVudC5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcclxuICAgICAgICBmb2N1c0VsZW1lbnQuc3R5bGUud2lkdGggPSAod2lkdGggKyBwYWRkaW5nICogMikgKyBcInB4XCI7XHJcbiAgICAgICAgZm9jdXNFbGVtZW50LnN0eWxlLmhlaWdodCA9IChoZWlnaHQgKyBwYWRkaW5nICogMikgKyBcInB4XCI7XHJcbiAgICB9XHJcbiAgICBfZ2V0U3ByaXRlQnlGb2N1c0VsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICAgICAgbGV0IGZvdW5kO1xyXG4gICAgICAgICRhcnJheS5lYWNoQ29udGludWUodGhpcy5fdGFiaW5kZXhlcywgKGl0ZW0sIF9pbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpLmRvbSA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZUZvY3VzKGV2KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgZWxlbWVudFxyXG4gICAgICAgIC8vY29uc3QgZm9jdXNlZCA9IHRoaXMuX3RhYmluZGV4ZXNbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IGZvY3VzZWQgPSB0aGlzLl9nZXRTcHJpdGVCeUZvY3VzRWxlbWVudChldi50YXJnZXQpO1xyXG4gICAgICAgIGlmICghZm9jdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEp1bXAgb3ZlciBoaWRkZW4gZWxlbWVudHNcclxuICAgICAgICBpZiAoIWZvY3VzZWQuaXNWaXNpYmxlRGVlcCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzTmV4dChldi50YXJnZXQsIHRoaXMuX2lzU2hpZnQgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNpemUgYW5kIHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Gb2N1c0VsZW1lbnQoZm9jdXNlZCk7XHJcbiAgICAgICAgLy90aGlzLl9kZWNvcmF0ZUZvY3VzRWxlbWVudChmb2N1c2VkKTtcclxuICAgICAgICB0aGlzLl9mb2N1c2VkU3ByaXRlID0gZm9jdXNlZDtcclxuICAgICAgICBpZiAoZm9jdXNlZC5ldmVudHMuaXNFbmFibGVkKFwiZm9jdXNcIikpIHtcclxuICAgICAgICAgICAgZm9jdXNlZC5ldmVudHMuZGlzcGF0Y2goXCJmb2N1c1wiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZvY3VzXCIsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogZm9jdXNlZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZm9jdXNOZXh0KGVsLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFtcclxuICAgICAgICAgICAgJ2FbaHJlZl0nLFxyXG4gICAgICAgICAgICAnYXJlYVtocmVmXScsXHJcbiAgICAgICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pJyxcclxuICAgICAgICAgICAgJ2RldGFpbHMnLFxyXG4gICAgICAgICAgICAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJyxcclxuICAgICAgICAgICAgJ2lmcmFtZTpub3QoW2Rpc2FibGVkXSknLFxyXG4gICAgICAgICAgICAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKScsXHJcbiAgICAgICAgICAgICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLFxyXG4gICAgICAgICAgICAnW2NvbnRlbnRFZGl0YWJsZT1cIlwiXScsXHJcbiAgICAgICAgICAgICdbY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXScsXHJcbiAgICAgICAgICAgICdbY29udGVudEVkaXRhYmxlPVwiVFJVRVwiXScsXHJcbiAgICAgICAgICAgICdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXhePVwiLVwiXSknLFxyXG4gICAgICAgICAgICAvLyc6bm90KFtkaXNhYmxlZF0pJ1xyXG4gICAgICAgIF0uam9pbignLCcpKSk7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gZm9jdXNhYmxlRWxlbWVudHMuaW5kZXhPZihlbCkgKyBkaXJlY3Rpb247XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICBpbmRleCA9IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID49IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzW2luZGV4XS5mb2N1cygpO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZUJsdXIoZXYpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvY3VzZWQgPSB0aGlzLl9mb2N1c2VkU3ByaXRlO1xyXG4gICAgICAgIGlmIChmb2N1c2VkICYmICFmb2N1c2VkLmlzRGlzcG9zZWQoKSAmJiBmb2N1c2VkLmV2ZW50cy5pc0VuYWJsZWQoXCJibHVyXCIpKSB7XHJcbiAgICAgICAgICAgIGZvY3VzZWQuZXZlbnRzLmRpc3BhdGNoKFwiYmx1clwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJsdXJcIixcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBmb2N1c2VkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9mb2N1c2VkU3ByaXRlID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVRvb2x0aXAodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0ZXh0ID0gJHV0aWxzLnN0cmlwVGFncyh0YXJnZXQuX2dldFRleHQoKSk7XHJcbiAgICAgICAgbGV0IHRvb2x0aXBFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJ0b29sdGlwRWxlbWVudFwiKTtcclxuICAgICAgICBpZiAodGFyZ2V0LmdldChcInJvbGVcIikgPT0gXCJ0b29sdGlwXCIgJiYgdGV4dCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGlmICghdG9vbHRpcEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBFbGVtZW50ID0gdGhpcy5fbWFrZVRvb2x0aXBFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBFbGVtZW50LmlubmVySFRNTCAhPSB0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRvb2x0aXBFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIHRhcmdldC5pc1Zpc2libGVEZWVwKCkgPyBcImZhbHNlXCIgOiBcInRydWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvb2x0aXBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXBFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlUHJpdmF0ZShcInRvb2x0aXBFbGVtZW50XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tYWtlVG9vbHRpcEVsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fdG9vbHRpcEVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRvb2x0aXBFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgIHRvb2x0aXBFbGVtZW50LnN0eWxlLndpZHRoID0gXCIxcHhcIjtcclxuICAgICAgICB0b29sdGlwRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xyXG4gICAgICAgIHRvb2x0aXBFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICB0b29sdGlwRWxlbWVudC5zdHlsZS5jbGlwID0gXCJyZWN0KDFweCwgMXB4LCAxcHgsIDFweClcIjtcclxuICAgICAgICAkdXRpbHMuc2V0SW50ZXJhY3RpdmUodG9vbHRpcEVsZW1lbnQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLl9kZWNvcmF0ZUZvY3VzRWxlbWVudCh0YXJnZXQsIHRvb2x0aXBFbGVtZW50KTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKHRvb2x0aXBFbGVtZW50KTtcclxuICAgICAgICB0YXJnZXQuc2V0UHJpdmF0ZShcInRvb2x0aXBFbGVtZW50XCIsIHRvb2x0aXBFbGVtZW50KTtcclxuICAgICAgICByZXR1cm4gdG9vbHRpcEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlVG9vbHRpcEVsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0b29sdGlwRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwidG9vbHRpcEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKHRvb2x0aXBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRvb2x0aXBFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0b29sdGlwRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaW52YWxpZGF0ZUFjY2Vzc2liaWxpdHkodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9mb2N1c0VsZW1lbnREaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKHRhcmdldC5nZXQoXCJmb2N1c2FibGVcIikpIHtcclxuICAgICAgICAgICAgaWYgKGZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVjb3JhdGVGb2N1c0VsZW1lbnQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uRm9jdXNFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFx0dGhpcy5fcmVuZGVyZXIuX21ha2VGb2N1c0VsZW1lbnQoMCwgdGhpcyk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZm9jdXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUZvY3VzRWxlbWVudCh0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3RoaXMudXBkYXRlQ3VycmVudEZvY3VzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGN1cnJlbnRseSBmb2N1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgVGFyZ2V0XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgIEZvY3VzZWQ/XHJcbiAgICAgKi9cclxuICAgIGZvY3VzZWQodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvY3VzZWRTcHJpdGUgPT09IHRhcmdldDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgZG9jdW1lbnQgY29vcmRpbmF0ZXMgdG8gY29vcmRpbmF0ZXMgd2l0aGluZyByb290IGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcG9pbnQgIERvY3VtZW50IHBvaW50XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgUm9vdCBwb2ludFxyXG4gICAgICovXHJcbiAgICBkb2N1bWVudFBvaW50VG9Sb290KHBvaW50KSB7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX2dldFJlYWxTaXplKCk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldENhbGN1bGF0ZWRTaXplKHJlY3QpO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlV2lkdGggPSBzaXplLndpZHRoIC8gcmVjdC53aWR0aDtcclxuICAgICAgICBjb25zdCBzY2FsZUhlaWdodCA9IHNpemUuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogKHBvaW50LnggLSByZWN0LmxlZnQpICogc2NhbGVXaWR0aCxcclxuICAgICAgICAgICAgeTogKHBvaW50LnkgLSByZWN0LnRvcCkgKiBzY2FsZUhlaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyByb290IGNvb3JkaW5hdGVzIHRvIGRvY3VtZW50XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcG9pbnQgIERvY3VtZW50IHBvaW50XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgUm9vdCBwb2ludFxyXG4gICAgICovXHJcbiAgICByb290UG9pbnRUb0RvY3VtZW50KHBvaW50KSB7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX2dldFJlYWxTaXplKCk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldENhbGN1bGF0ZWRTaXplKHJlY3QpO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlV2lkdGggPSBzaXplLndpZHRoIC8gcmVjdC53aWR0aDtcclxuICAgICAgICBjb25zdCBzY2FsZUhlaWdodCA9IHNpemUuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogKHBvaW50LnggLyBzY2FsZVdpZHRoKSArIHJlY3QubGVmdCxcclxuICAgICAgICAgICAgeTogKHBvaW50LnkgLyBzY2FsZUhlaWdodCkgKyByZWN0LnRvcFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgYWRkRGlzcG9zZXIoZGlzcG9zZXIpIHtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChkaXNwb3Nlcik7XHJcbiAgICAgICAgcmV0dXJuIGRpc3Bvc2VyO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUNvbXB1dGVkU3R5bGVzKCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZG9tKTtcclxuICAgICAgICBsZXQgZm9udEhhc2ggPSBcIlwiO1xyXG4gICAgICAgICRvYmplY3QuZWFjaChzdHlsZXMsIChrZXksIHZhbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNTdHJpbmcoa2V5KSAmJiBrZXkubWF0Y2goL15mb250LykpIHtcclxuICAgICAgICAgICAgICAgIGZvbnRIYXNoICs9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGNoYW5nZWQgPSBmb250SGFzaCAhPSB0aGlzLl9mb250SGFzaDtcclxuICAgICAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9mb250SGFzaCA9IGZvbnRIYXNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2hhbmdlZDtcclxuICAgIH1cclxuICAgIF9jaGVja0NvbXB1dGVkU3R5bGVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVDb21wdXRlZFN0eWxlcygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVMYWJlbEJvdW5kcyh0aGlzLmNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ludmFsaWRhdGVMYWJlbEJvdW5kcyh0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5jaGlsZHJlbi5lYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW52YWxpZGF0ZUxhYmVsQm91bmRzKGNoaWxkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFRleHQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Lm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVG8gYWxsIHRoZSBjbGV2ZXIgaGVhZHMgb3V0IHRoZXJlLiBZZXMsIHdlIGRpZCBub3QgbWFrZSBhbnkgYXR0ZW1wdHMgdG9cclxuICAgICAqIHNjcmFtYmxlIHRoaXMuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyBhIHBhcnQgb2YgYSB0b29sIG1lYW50IGZvciBvdXIgdXNlcnMgdG8gbWFuYWdlIHRoZWlyIGNvbW1lcmNpYWxcclxuICAgICAqIGxpY2Vuc2VzIGZvciByZW1vdmFsIG9mIGFtQ2hhcnRzIGJyYW5kaW5nIGZyb20gY2hhcnRzLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBvbmx5IGxlZ2l0IHdheSB0byBkbyBzbyBpcyB0byBwdXJjaGFzZSBhIGNvbW1lcmNpYWwgbGljZW5zZSBmb3IgYW1DaGFydHM6XHJcbiAgICAgKiBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vb25saW5lLXN0b3JlL1xyXG4gICAgICpcclxuICAgICAqIFJlbW92aW5nIG9yIGFsdGVyaW5nIHRoaXMgY29kZSwgb3IgZGlzYWJsaW5nIGFtQ2hhcnRzIGJyYW5kaW5nIGluIGFueSBvdGhlclxyXG4gICAgICogd2F5IGlzIGFnYWluc3QgdGhlIGxpY2Vuc2UgYW5kIHRodXMgaWxsZWdhbC5cclxuICAgICAqL1xyXG4gICAgX2hhc0xpY2Vuc2UoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWdpc3RyeS5saWNlbnNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocmVnaXN0cnkubGljZW5zZXNbaV0ubWF0Y2goL15BTTVDLns1LH0vaSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIF9saWNlbnNlQXBwbGllZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fbG9nbykge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dvLnNldChcImZvcmNlSGlkZGVuXCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBnZXQgZGVidWdHaG9zdFZpZXcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLmRlYnVnR2hvc3RWaWV3O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldCBkZWJ1Z0dob3N0Vmlldyh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLmRlYnVnR2hvc3RWaWV3ID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGlzIHRvIGB0cnVlYCBpZiB5b3UgbmVlZCBjaGFydCB0byByZXF1aXJlIGZpcnN0IGEgdGFwIG9udG8gaXQgYmVmb3JlXHJcbiAgICAgKiB0b3VjaCBnZXN0dXJlIHJlbGF0ZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHpvb20vcGFuIGlzIHR1cm5lZCBvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvcm9vdC1lbGVtZW50LyNUb3VjaF9yZWxhdGVkX29wdGlvbnN9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICAgKiBAc2luY2UgNS4yLjlcclxuICAgICAqIEBwYXJhbSAgdmFsdWUgIE5lZWRzIGEgdGFwIHRvIGFjdGl2YXRlIHRvdWNoIGZ1bmN0aW9uc1xyXG4gICAgICovXHJcbiAgICBzZXQgdGFwVG9BY3RpdmF0ZSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnRhcFRvQWN0aXZhdGUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiBOZWVkcyBhIHRhcCB0byBhY3RpdmF0ZSB0b3VjaCBmdW5jdGlvbnNcclxuICAgICAqL1xyXG4gICAgZ2V0IHRhcFRvQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLnRhcFRvQWN0aXZhdGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIElmIGB0YXBUb0FjdGl2YXRlYCBpcyBzZXQgdG8gYHRydWVgLCB0aGlzIHNldHRpbmcgd2lsbCBkZXRlcm1pbmUgbnVtYmVyXHJcbiAgICAgKiBvZiBtaWxsaXNlY29uZHMgdGhlIGNoYXJ0IHdpbGwgc3RheSBcImFjdGl2ZVwiLCBiZWZvcmUgcmVsZWFzaW5nIHRoZVxyXG4gICAgICogY29udHJvbHMgYmFjayB0byB0aGUgcGFnZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvcm9vdC1lbGVtZW50LyNUb3VjaF9yZWxhdGVkX29wdGlvbnN9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBkZWZhdWx0IDMwMDBcclxuICAgICAqIEBzaW5jZSA1LjIuOVxyXG4gICAgICogQHBhcmFtICB2YWx1ZSAgVGltZW91dFxyXG4gICAgICovXHJcbiAgICBzZXQgdGFwVG9BY3RpdmF0ZVRpbWVvdXQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlci50YXBUb0FjdGl2YXRlVGltZW91dCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJuIFRpbWVvdXRcclxuICAgICAqL1xyXG4gICAgZ2V0IHRhcFRvQWN0aXZhdGVUaW1lb3V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci50YXBUb0FjdGl2YXRlVGltZW91dDtcclxuICAgIH1cclxuICAgIF9tYWtlSFRNTEVsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gR2V0IGNvbnRhaW5lclxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2h0bWxFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGFyZ2V0LnNldFByaXZhdGUoXCJodG1sRWxlbWVudFwiLCBodG1sRWxlbWVudCk7XHJcbiAgICAgICAgLy9odG1sRWxlbWVudC50YWJJbmRleCA9IHRoaXMudGFiaW5kZXg7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5ib3hTaXppbmcgPSBcImJvcmRlci1ib3hcIjtcclxuICAgICAgICAkdXRpbHMuc2V0SW50ZXJhY3RpdmUoaHRtbEVsZW1lbnQsIHRhcmdldC5nZXQoXCJpbnRlcmFjdGl2ZVwiLCBmYWxzZSkpO1xyXG4gICAgICAgIC8vIFRyYW5zbGF0ZSBldmVudHNcclxuICAgICAgICBpZiAodGFyZ2V0LmV2ZW50cy5pc0VuYWJsZWQoXCJjbGlja1wiKSkge1xyXG4gICAgICAgICAgICAkdXRpbHMuc2V0SW50ZXJhY3RpdmUoaHRtbEVsZW1lbnQsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihodG1sRWxlbWVudCwgXCJjbGlja1wiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvd25FdmVudCA9IHRoaXMuX3JlbmRlcmVyLmdldEV2ZW50KGV2KTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5ldmVudHMuZGlzcGF0Y2goXCJjbGlja1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGRvd25FdmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgICAgICBwb2ludDogZG93bkV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uSFRNTEVsZW1lbnQodGFyZ2V0KTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKGh0bWxFbGVtZW50KTtcclxuICAgICAgICAkYXJyYXkucHVzaE9uZSh0aGlzLl9odG1sRW5hYmxlZENvbnRhaW5lcnMsIHRhcmdldCk7XHJcbiAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgX3Bvc2l0aW9uSFRNTEVsZW1lbnRzKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2h0bWxFbmFibGVkQ29udGFpbmVycywgKHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkhUTUxFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfcG9zaXRpb25IVE1MRWxlbWVudCh0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFRyYW5zbGF0ZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICBjb25zdCB2aXN1YWxTZXR0aW5ncyA9IFtcInBhZGRpbmdUb3BcIiwgXCJwYWRkaW5nUmlnaHRcIiwgXCJwYWRkaW5nQm90dG9tXCIsIFwicGFkZGluZ0xlZnRcIiwgXCJtaW5XaWR0aFwiLCBcIm1pbkhlaWdodFwiLCBcIm1heFdpZHRoXCIsIFwibWF4SGVpZ2h0XCJdO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh2aXN1YWxTZXR0aW5ncywgKHNldHRpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LmdldChzZXR0aW5nKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlW3NldHRpbmddID0gdmFsdWUgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZVtzZXR0aW5nXSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBJbml0IGFuZCByZXNldCBzY2FsZSAvIHJvdGF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGFyZ2V0LmNvbXBvc2l0ZVNjYWxlKCkgfHwgMTtcclxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0YXJnZXQuY29tcG9zaXRlUm90YXRpb24oKSB8fCAwO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIlwiO1xyXG4gICAgICAgICAgICAvLyBEZWFsIHdpdGggb3BhY2l0eVxyXG4gICAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gdGFyZ2V0LmNvbXBvc2l0ZU9wYWNpdHkoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eSArIFwiXCI7XHJcbiAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IHRhcmdldC5pc1Zpc2libGVEZWVwKCk7XHJcbiAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERlYWwgd2l0aCBwb3NpdGlvblxyXG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSB0YXJnZXQuZ2xvYmFsQm91bmRzKCk7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnRvcCA9IChib3VuZHMudG9wKSArIFwicHhcIjtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUubGVmdCA9IChib3VuZHMubGVmdCkgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIC8vIFVzZSB3aWR0aC9oZWlnaHQgaWYgdGhvc2UgYXJlIHNldFxyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRhcmdldC5nZXQoXCJ3aWR0aFwiKTtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGFyZ2V0LmdldChcImhlaWdodFwiKTtcclxuICAgICAgICAgICAgbGV0IHcgPSAwO1xyXG4gICAgICAgICAgICBsZXQgaCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdyA9IHRhcmdldC53aWR0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGggPSB0YXJnZXQuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLndpZHRoID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiYm94ID0gaHRtbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICAgICAgICAgIGlmICghd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IGJib3gud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICBoID0gYmJveC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuX2FkanVzdGVkTG9jYWxCb3VuZHMgPSB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCB9O1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldFByaXZhdGUoXCJtaW5XaWR0aFwiLCB3IC8gc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldFByaXZhdGUoXCJtaW5IZWlnaHRcIiwgaCAvIHNjYWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVQcml2YXRlKFwibWluV2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlUHJpdmF0ZShcIm1pbkhlaWdodFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodyA+IDApIHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLm1pbldpZHRoID0gKHcpICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gKGgpICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEhpZGUgb3Igc2hvd1xyXG4gICAgICAgICAgICBpZiAoIXZpc2libGUgfHwgb3BhY2l0eSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGVhbCB3aXRoIHNjYWxlXHJcbiAgICAgICAgICAgIGlmIChzY2FsZSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gKz0gXCJzY2FsZShcIiArIHNjYWxlICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJvdGF0aW9uICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSArPSBcIiByb3RhdGUoXCIgKyByb3RhdGlvbiArIFwiZGVnKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gdGFyZ2V0LmdldChcImNlbnRlclhcIiwgMCkgKyBcIiUgIFwiICsgdGFyZ2V0LmdldChcImNlbnRlcllcIiwgMCkgKyBcIiVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXRIVE1MQ29udGVudCh0YXJnZXQsIGh0bWwpIHtcclxuICAgICAgICBsZXQgaHRtbEVsZW1lbnQgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcImh0bWxFbGVtZW50XCIpO1xyXG4gICAgICAgIGlmICghaHRtbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQgPSB0aGlzLl9tYWtlSFRNTEVsZW1lbnQodGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50LmlubmVySFRNTCAhPSBodG1sKSB7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbW92ZUhUTUxDb250ZW50KHRhcmdldCkge1xyXG4gICAgICAgIGxldCBodG1sRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2h0bWxFbGVtZW50Q29udGFpbmVyLnJlbW92ZUNoaWxkKGh0bWxFbGVtZW50KTtcclxuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZVByaXZhdGUoXCJodG1sRWxlbWVudFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl9odG1sRW5hYmxlZENvbnRhaW5lcnMsIHRhcmdldCk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um9vdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Root.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js":
/*!******************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/Theme.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Theme: () => (/* binding */ Theme)\n/* harmony export */ });\n/* harmony import */ var _util_Template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _util_Order__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nclass Theme {\r\n    constructor(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root) {\r\n        const x = (new this(root, true));\r\n        x.setupDefaultRules();\r\n        return x;\r\n    }\r\n    setupDefaultRules() { }\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    _lookupRules(themeClass) {\r\n        return this._rules[themeClass];\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    ruleRaw(themeClass, themeTags = []) {\r\n        let rules = this._rules[themeClass];\r\n        if (!rules) {\r\n            rules = this._rules[themeClass] = [];\r\n        }\r\n        themeTags.sort(_util_Order__WEBPACK_IMPORTED_MODULE_0__.compare);\r\n        const { index, found } = _util_Array__WEBPACK_IMPORTED_MODULE_1__.getSortedIndex(rules, (x) => {\r\n            const order = _util_Order__WEBPACK_IMPORTED_MODULE_0__.compare(x.tags.length, themeTags.length);\r\n            if (order === 0) {\r\n                return _util_Order__WEBPACK_IMPORTED_MODULE_0__.compareArray(x.tags, themeTags, _util_Order__WEBPACK_IMPORTED_MODULE_0__.compare);\r\n            }\r\n            else {\r\n                return order;\r\n            }\r\n        });\r\n        if (found) {\r\n            return rules[index].template;\r\n        }\r\n        else {\r\n            const template = _util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({});\r\n            rules.splice(index, 0, {\r\n                tags: themeTags,\r\n                template,\r\n            });\r\n            return template;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    rule(themeClass, themeTags = []) {\r\n        return this.ruleRaw(themeClass, themeTags);\r\n    }\r\n}\r\n//# sourceMappingURL=Theme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9UaGVtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0o7QUFDQTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUF5RDtBQUNsRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBYztBQUNyQyxnQkFBZ0IsZUFBZSxFQUFFLHVEQUFxQjtBQUN0RCwwQkFBMEIsZ0RBQWM7QUFDeEM7QUFDQSx1QkFBdUIscURBQW1CLG9CQUFvQixnREFBYztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBUSxPQUFPO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFnRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvVGhlbWUuanM/OWY3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCIuL3V0aWwvVGVtcGxhdGVcIjtcclxuaW1wb3J0ICogYXMgJG9yZGVyIGZyb20gXCIuL3V0aWwvT3JkZXJcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL3V0aWwvQXJyYXlcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgYW4gYW1DaGFydHMgdGhlbWUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3RoZW1lcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRoZW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKHJvb3QsIGlzUmVhbCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb290XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ydWxlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QgPSByb290O1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkLyNOZXdfZWxlbWVudF9zeW50YXh9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHJvb3QgICAgICBSb290IGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSAgIHNldHRpbmdzICBTZXR0aW5nc1xyXG4gICAgICogQHBhcmFtICAgdGVtcGxhdGUgIFRlbXBsYXRlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgSW5zdGFudGlhdGVkIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbmV3KHJvb3QpIHtcclxuICAgICAgICBjb25zdCB4ID0gKG5ldyB0aGlzKHJvb3QsIHRydWUpKTtcclxuICAgICAgICB4LnNldHVwRGVmYXVsdFJ1bGVzKCk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb29rcyB1cCB0aGUgcnVsZXMgZm9yIGEgc3BlY2lmaWMgdGhlbWUgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvdGhlbWVzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgdGhlbWVDbGFzcyBUaGVtZSBjbGFzc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBBcnJheTxJUnVsZTxBPj5cclxuICAgICAqL1xyXG4gICAgX2xvb2t1cFJ1bGVzKHRoZW1lQ2xhc3MpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXNbdGhlbWVDbGFzc107XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBbW1RlbXBsYXRlXV0gZm9yIHNwZWNpZmljIHRoZW1lIGNsYXNzIGFuZCB0YWdzLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IHRoZSBkaWZmZXJlbmNlIGZyb20gYHJ1bGUoKWAgaXMgdGhhdCBgcnVsZVJhdygpYCBkb2VzIG5vdCBkbyBhbnlcclxuICAgICAqIHR5cGUgY2hlY2tzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L3RoZW1lcy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHRoZW1lQ2xhc3MgVGhlbWUgY2xhc3NcclxuICAgICAqIEBwYXJhbSAgIHRoZW1lVGFncyAgVGhlbWUgdGFnc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBUZW1wbGF0ZVxyXG4gICAgICovXHJcbiAgICBydWxlUmF3KHRoZW1lQ2xhc3MsIHRoZW1lVGFncyA9IFtdKSB7XHJcbiAgICAgICAgbGV0IHJ1bGVzID0gdGhpcy5fcnVsZXNbdGhlbWVDbGFzc107XHJcbiAgICAgICAgaWYgKCFydWxlcykge1xyXG4gICAgICAgICAgICBydWxlcyA9IHRoaXMuX3J1bGVzW3RoZW1lQ2xhc3NdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoZW1lVGFncy5zb3J0KCRvcmRlci5jb21wYXJlKTtcclxuICAgICAgICBjb25zdCB7IGluZGV4LCBmb3VuZCB9ID0gJGFycmF5LmdldFNvcnRlZEluZGV4KHJ1bGVzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9ICRvcmRlci5jb21wYXJlKHgudGFncy5sZW5ndGgsIHRoZW1lVGFncy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAob3JkZXIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkb3JkZXIuY29tcGFyZUFycmF5KHgudGFncywgdGhlbWVUYWdzLCAkb3JkZXIuY29tcGFyZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZm91bmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJ1bGVzW2luZGV4XS50ZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUubmV3KHt9KTtcclxuICAgICAgICAgICAgcnVsZXMuc3BsaWNlKGluZGV4LCAwLCB7XHJcbiAgICAgICAgICAgICAgICB0YWdzOiB0aGVtZVRhZ3MsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBbW1RlbXBsYXRlXV0gZm9yIHNwZWNpZmljIHRoZW1lIGNsYXNzIGFuZCB0YWdzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L3RoZW1lcy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHRoZW1lQ2xhc3MgVGhlbWUgY2xhc3NcclxuICAgICAqIEBwYXJhbSAgIHRoZW1lVGFncyAgVGhlbWUgdGFnc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBUZW1wbGF0ZVxyXG4gICAgICovXHJcbiAgICBydWxlKHRoZW1lQ2xhc3MsIHRoZW1lVGFncyA9IFtdKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucnVsZVJhdyh0aGVtZUNsYXNzLCB0aGVtZVRhZ3MpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRoZW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button)\n/* harmony export */ });\n/* harmony import */ var _render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../render/RoundedRectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n/**\r\n * Draws an interactive button.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\r\n * @important\r\n */\r\nclass Button extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"button\"]);\r\n        super._afterNew();\r\n        if (!this._settings.background) {\r\n            this.set(\"background\", _render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_2__.RoundedRectangle.new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"background\"])\r\n            }));\r\n        }\r\n        this.setPrivate(\"trustBounds\", true);\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"icon\")) {\r\n            const previous = this._prevSettings.icon;\r\n            const icon = this.get(\"icon\");\r\n            if (icon !== previous) {\r\n                this._disposeProperty(\"icon\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (icon) {\r\n                    this.children.push(icon);\r\n                }\r\n                this._prevSettings.icon = icon;\r\n            }\r\n        }\r\n        if (this.isDirty(\"label\")) {\r\n            const previous = this._prevSettings.label;\r\n            const label = this.get(\"label\");\r\n            if (label !== previous) {\r\n                this._disposeProperty(\"label\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (label) {\r\n                    this.children.push(label);\r\n                }\r\n                this._prevSettings.label = label;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Button, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Button\"\r\n});\r\nObject.defineProperty(Button, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Button.className])\r\n});\r\n//# sourceMappingURL=Button.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQnV0dG9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEQ7QUFDdEI7QUFDUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBFQUEwRTtBQUNuRjtBQUNBO0FBQ08scUJBQXFCLGlEQUFTO0FBQ3JDO0FBQ0EsbUNBQW1DLHVEQUFnQjtBQUNuRDtBQUNBO0FBQ0EsbUNBQW1DLHNFQUFnQjtBQUNuRCwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVM7QUFDcEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9CdXR0b24uanM/MmE5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3VuZGVkUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL3JlbmRlci9Sb3VuZGVkUmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9VdGlsc1wiO1xyXG4vKipcclxuICogRHJhd3MgYW4gaW50ZXJhY3RpdmUgYnV0dG9uLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvYnV0dG9ucy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRhaW5lciB7XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzID0gJHV0aWxzLm1lcmdlVGFncyh0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MsIFtcImJ1dHRvblwiXSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zZXR0aW5ncy5iYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KFwiYmFja2dyb3VuZFwiLCBSb3VuZGVkUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzLCBbXCJiYWNrZ3JvdW5kXCJdKVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInRydXN0Qm91bmRzXCIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImljb25cIikpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3MuaWNvbjtcclxuICAgICAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZ2V0KFwiaWNvblwiKTtcclxuICAgICAgICAgICAgaWYgKGljb24gIT09IHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlUHJvcGVydHkoXCJpY29uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGljb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaWNvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2U2V0dGluZ3MuaWNvbiA9IGljb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImxhYmVsXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fcHJldlNldHRpbmdzLmxhYmVsO1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuZ2V0KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCAhPT0gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VQcm9wZXJ0eShcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxhYmVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZTZXR0aW5ncy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXR0b24sIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkJ1dHRvblwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnV0dG9uLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IENvbnRhaW5lci5jbGFzc05hbWVzLmNvbmNhdChbQnV0dG9uLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdXR0b24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chart: () => (/* binding */ Chart)\n/* harmony export */ });\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n\r\n\r\n/**\r\n * A base class for all charts.\r\n */\r\nclass Chart extends _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] chart places its elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"chartContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100, interactiveChildren: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] chart places its bullets in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100 })\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Chart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Chart\"\r\n});\r\nObject.defineProperty(Chart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Chart.className])\r\n});\r\n//# sourceMappingURL=Chart.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ2hhcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ1Q7QUFDL0M7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLDZEQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQVMsbUJBQW1CLE9BQU8sb0RBQUksVUFBVSxvREFBSSw4QkFBOEI7QUFDekgsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBUyxtQkFBbUIsNEVBQTRFLG9EQUFJLFVBQVUsb0RBQUksRUFBRTtBQUMvSSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ2hhcnQuanM/NTZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IHAxMDAgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1BlcmNlbnRcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgYWxsIGNoYXJ0cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGFydCBleHRlbmRzIENvbnRhaW5lciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSBjaGFydCBwbGFjZXMgaXRzIGVsZW1lbnRzIGluLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwLCBpbnRlcmFjdGl2ZUNoaWxkcmVuOiBmYWxzZSB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gY2hhcnQgcGxhY2VzIGl0cyBidWxsZXRzIGluLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYnVsbGV0c0NvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHsgaW50ZXJhY3RpdmVDaGlsZHJlbjogZmFsc2UsIGlzTWVhc3VyZWQ6IGZhbHNlLCBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYXJ0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJDaGFydFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhcnQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29udGFpbmVyLmNsYXNzTmFtZXMuY29uY2F0KFtDaGFydC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhcnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ Component),\n/* harmony export */   DataItem: () => (/* binding */ DataItem)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _util_Data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Data */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nclass DataItem extends _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Settings {\r\n    constructor(component, dataContext, settings) {\r\n        super(settings);\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.dataContext = dataContext;\r\n        this.component = component;\r\n        this._settings.visible = true;\r\n        this._checkDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this.component.markDirtyValues(this);\r\n    }\r\n    _startAnimation() {\r\n        this.component._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this.component._root.animationTime;\r\n    }\r\n    _dispose() {\r\n        if (this.component) {\r\n            this.component.disposeDataItem(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    show(duration) {\r\n        this.setRaw(\"visible\", true);\r\n        if (this.component) {\r\n            this.component.showDataItem(this, duration);\r\n        }\r\n    }\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    hide(duration) {\r\n        this.setRaw(\"visible\", false);\r\n        if (this.component) {\r\n            this.component.hideDataItem(this, duration);\r\n        }\r\n    }\r\n    isHidden() {\r\n        return !this.get(\"visible\");\r\n    }\r\n}\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nclass Component extends _Container__WEBPACK_IMPORTED_MODULE_1__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Data__WEBPACK_IMPORTED_MODULE_2__.ListData()\r\n        });\r\n        Object.defineProperty(this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._dataItems\r\n        });\r\n        Object.defineProperty(this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    /**\r\n     * Component's data.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n     */\r\n    set data(data) {\r\n        data.incrementRef();\r\n        this._data.decrementRef();\r\n        this._data = data;\r\n    }\r\n    /**\r\n     * @return  Data\r\n     */\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._data.decrementRef();\r\n    }\r\n    _onDataClear() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._data.incrementRef();\r\n        this._updateFields();\r\n        this._disposers.push(this.data.events.onAll((change) => {\r\n            const dataItems = this._mainDataItems;\r\n            this.markDirtyValues();\r\n            this._markDirtyGroup();\r\n            this._dataChanged = true;\r\n            if (change.type === \"clear\") {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(dataItems, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n                dataItems.length = 0;\r\n                this._onDataClear();\r\n            }\r\n            else if (change.type === \"push\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.push(dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                const properties = this._makeDataItem(change.newValue);\r\n                if (dataItem.bullets && dataItem.bullets.length == 0) {\r\n                    dataItem.bullets = undefined;\r\n                }\r\n                _util_Object__WEBPACK_IMPORTED_MODULE_4__.keys(properties).forEach((key) => {\r\n                    dataItem.animate({\r\n                        key: key,\r\n                        to: properties[key],\r\n                        duration: this.get(\"interpolationDuration\", 0),\r\n                        easing: this.get(\"interpolationEasing\"),\r\n                    });\r\n                });\r\n                dataItem.dataContext = change.newValue;\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.splice(change.index, 0, dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                dataItem.dispose();\r\n                dataItems.splice(change.index, 1);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                const dataItem = dataItems[change.oldIndex];\r\n                dataItems.splice(change.oldIndex, 1);\r\n                dataItems.splice(change.newIndex, 0, dataItem);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n            this._afterDataChange();\r\n        }));\r\n    }\r\n    _updateFields() {\r\n        if (this.valueFields) {\r\n            this._valueFields = [];\r\n            this._valueFieldsF = {};\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this.valueFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueFields.push(key);\r\n                    this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                }\r\n            });\r\n        }\r\n        if (this.fields) {\r\n            this._fields = [];\r\n            this._fieldsF = {};\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this.fields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._fields.push(key);\r\n                    this._fieldsF[key] = key + \"Field\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * A list of component's data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get dataItems() {\r\n        return this._dataItems;\r\n    }\r\n    processDataItem(_dataItem) { }\r\n    _makeDataItem(data) {\r\n        //const output: this[\"_dataItemSettings\"] = {};\r\n        const output = {}; // temporary to solve error\r\n        if (this._valueFields) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this._valueFields, (key) => {\r\n                const field = this.get((this._valueFieldsF[key].fieldKey));\r\n                output[key] = data[field];\r\n                output[this._valueFieldsF[key].workingKey] = output[key];\r\n            });\r\n        }\r\n        if (this._fields) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this._fields, (key) => {\r\n                const field = this.get((this._fieldsF[key]));\r\n                output[key] = data[field];\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeDataItem(data) {\r\n        let dataItem = new DataItem(this, undefined, data);\r\n        this.processDataItem(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    pushDataItem(data) {\r\n        const dataItem = this.makeDataItem(data);\r\n        this._mainDataItems.push(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(_dataItem) {\r\n    }\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    showDataItem(dataItem, _duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", true);\r\n        });\r\n    }\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    hideDataItem(dataItem, _duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", false);\r\n        });\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._valuesDirty = false;\r\n    }\r\n    _afterDataChange() {\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._dataChanged) {\r\n            const type = \"datavalidated\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n            this._dataChanged = false;\r\n        }\r\n        this.inited = true;\r\n    }\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    markDirtyValues(_dataItem) {\r\n        this.markDirty();\r\n        this._valuesDirty = true;\r\n    }\r\n    _markDirtyGroup() {\r\n        this._dataGrouped = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n}\r\nObject.defineProperty(Component, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Component\"\r\n});\r\nObject.defineProperty(Component, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_1__.Container.classNames.concat([Component.className])\r\n});\r\n//# sourceMappingURL=Component.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ29tcG9uZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ1E7QUFDRjtBQUNBO0FBQ0E7QUFDRTtBQUMxQztBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsa0RBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsaURBQVM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFRO0FBQy9CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdURBQXVEO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZDQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOENBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMEJBQTBCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVM7QUFDcEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9Db21wb25lbnQuanM/NWU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9FbnRpdHlcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4vQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IExpc3REYXRhIH0gZnJvbSBcIi4uL3V0aWwvRGF0YVwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi4vdXRpbC9PYmplY3RcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBlbGVtZW50IHRoYXQgaG9sZHMgZGF0YSBiaXQgKGRhdGEgaXRlbSkgZm9yIGFueSBbW0NvbXBvbmVudF1dLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERhdGFJdGVtIGV4dGVuZHMgU2V0dGluZ3Mge1xyXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCBkYXRhQ29udGV4dCwgc2V0dGluZ3MpIHtcclxuICAgICAgICBzdXBlcihzZXR0aW5ncyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBkYXRhIGl0ZW0ncyBvd2VuZXIgW1tDb21wb25lbnRdXS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21wb25lbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gYWN0dWFsIGl0ZW0gaW4gc291cmNlIGRhdGEgdGhpcyBpdGVtIGlzIGJhc2VkIG9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhdGFDb250ZXh0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEB0b2RvIHJlcXVpcmVzIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYnVsbGV0c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHNldCBvZiBcIm9wZW5cIiB2YWx1ZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3BlblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHNldCBvZiBcImNsb3NlXCIgdmFsdWVzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsb3NlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGF0YUNvbnRleHQgPSBkYXRhQ29udGV4dDtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9jaGVja0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5KCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50Lm1hcmtEaXJ0eVZhbHVlcyh0aGlzKTtcclxuICAgIH1cclxuICAgIF9zdGFydEFuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5fcm9vdC5fYWRkQW5pbWF0aW9uKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX2FuaW1hdGlvblRpbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Ll9yb290LmFuaW1hdGlvblRpbWU7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuZGlzcG9zZURhdGFJdGVtKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93cyBhIGRhdGEgaXRlbSB0aGF0J3MgY3VycmVudGx5IGhpZGRlbi5cclxuICAgICAqL1xyXG4gICAgc2hvdyhkdXJhdGlvbikge1xyXG4gICAgICAgIHRoaXMuc2V0UmF3KFwidmlzaWJsZVwiLCB0cnVlKTtcclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc2hvd0RhdGFJdGVtKHRoaXMsIGR1cmF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIGEgZGF0YSBpdGVtIHRoYXQncyBjdXJyZW50bHkgdmlzaWJsZS5cclxuICAgICAqL1xyXG4gICAgaGlkZShkdXJhdGlvbikge1xyXG4gICAgICAgIHRoaXMuc2V0UmF3KFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmhpZGVEYXRhSXRlbSh0aGlzLCBkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNIaWRkZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmdldChcInZpc2libGVcIik7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgZWxlbWVudHMgdGhhdCBtYWtlIHVzZSBvZiBkYXRhLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIENvbnRhaW5lciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kYXRhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0RGF0YSgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RhdGFJdGVtc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tYWluRGF0YUl0ZW1zXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2RhdGFJdGVtc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbHVlRmllbGRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmllbGRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtcImlkXCJdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZhbHVlRmllbGRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZUZpZWxkc0ZcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZpZWxkc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZmllbGRzRlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdmFsdWVzRGlydHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YUNoYW5nZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YUdyb3VwZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGNvbXBvbmVudCBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wb25lbnQncyBkYXRhLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2RhdGEvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKi9cclxuICAgIHNldCBkYXRhKGRhdGEpIHtcclxuICAgICAgICBkYXRhLmluY3JlbWVudFJlZigpO1xyXG4gICAgICAgIHRoaXMuX2RhdGEuZGVjcmVtZW50UmVmKCk7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4gIERhdGFcclxuICAgICAqL1xyXG4gICAgZ2V0IGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2RhdGEuZGVjcmVtZW50UmVmKCk7XHJcbiAgICB9XHJcbiAgICBfb25EYXRhQ2xlYXIoKSB7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5fZGF0YS5pbmNyZW1lbnRSZWYoKTtcclxuICAgICAgICB0aGlzLl91cGRhdGVGaWVsZHMoKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmRhdGEuZXZlbnRzLm9uQWxsKChjaGFuZ2UpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW1zID0gdGhpcy5fbWFpbkRhdGFJdGVtcztcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlWYWx1ZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5fbWFya0RpcnR5R3JvdXAoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlLnR5cGUgPT09IFwiY2xlYXJcIikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZGF0YUl0ZW1zLCAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtcy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25EYXRhQ2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJwdXNoXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gbmV3IERhdGFJdGVtKHRoaXMsIGNoYW5nZS5uZXdWYWx1ZSwgdGhpcy5fbWFrZURhdGFJdGVtKGNoYW5nZS5uZXdWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW1zLnB1c2goZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInNldEluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gZGF0YUl0ZW1zW2NoYW5nZS5pbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gdGhpcy5fbWFrZURhdGFJdGVtKGNoYW5nZS5uZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0uYnVsbGV0cyAmJiBkYXRhSXRlbS5idWxsZXRzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uYnVsbGV0cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRvYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBwcm9wZXJ0aWVzW2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmdldChcImludGVycG9sYXRpb25EdXJhdGlvblwiLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiB0aGlzLmdldChcImludGVycG9sYXRpb25FYXNpbmdcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtLmRhdGFDb250ZXh0ID0gY2hhbmdlLm5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcImluc2VydEluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gbmV3IERhdGFJdGVtKHRoaXMsIGNoYW5nZS5uZXdWYWx1ZSwgdGhpcy5fbWFrZURhdGFJdGVtKGNoYW5nZS5uZXdWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW1zLnNwbGljZShjaGFuZ2UuaW5kZXgsIDAsIGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0RhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJyZW1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IGRhdGFJdGVtc1tjaGFuZ2UuaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW1zLnNwbGljZShjaGFuZ2UuaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcIm1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IGRhdGFJdGVtc1tjaGFuZ2Uub2xkSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW1zLnNwbGljZShjaGFuZ2Uub2xkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW1zLnNwbGljZShjaGFuZ2UubmV3SW5kZXgsIDAsIGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gSVN0cmVhbUV2ZW50IHR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJEYXRhQ2hhbmdlKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUZpZWxkcygpIHtcclxuICAgICAgICBpZiAodGhpcy52YWx1ZUZpZWxkcykge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZUZpZWxkcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZUZpZWxkc0YgPSB7fTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy52YWx1ZUZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmdldCgoa2V5ICsgXCJGaWVsZFwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZUZpZWxkcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVGaWVsZHNGW2tleV0gPSB7IGZpZWxkS2V5OiBrZXkgKyBcIkZpZWxkXCIsIHdvcmtpbmdLZXk6IGtleSArIFwiV29ya2luZ1wiIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5maWVsZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZmllbGRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpZWxkc0YgPSB7fTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5maWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5nZXQoKGtleSArIFwiRmllbGRcIikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmllbGRzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWVsZHNGW2tleV0gPSBrZXkgKyBcIkZpZWxkXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSBsaXN0IG9mIGNvbXBvbmVudCdzIGRhdGEgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiAgRGF0YSBpdGVtc1xyXG4gICAgICovXHJcbiAgICBnZXQgZGF0YUl0ZW1zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhSXRlbXM7XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzRGF0YUl0ZW0oX2RhdGFJdGVtKSB7IH1cclxuICAgIF9tYWtlRGF0YUl0ZW0oZGF0YSkge1xyXG4gICAgICAgIC8vY29uc3Qgb3V0cHV0OiB0aGlzW1wiX2RhdGFJdGVtU2V0dGluZ3NcIl0gPSB7fTtcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSB7fTsgLy8gdGVtcG9yYXJ5IHRvIHNvbHZlIGVycm9yXHJcbiAgICAgICAgaWYgKHRoaXMuX3ZhbHVlRmllbGRzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3ZhbHVlRmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZ2V0KCh0aGlzLl92YWx1ZUZpZWxkc0Zba2V5XS5maWVsZEtleSkpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBkYXRhW2ZpZWxkXTtcclxuICAgICAgICAgICAgICAgIG91dHB1dFt0aGlzLl92YWx1ZUZpZWxkc0Zba2V5XS53b3JraW5nS2V5XSA9IG91dHB1dFtrZXldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpZWxkcykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9maWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5nZXQoKHRoaXMuX2ZpZWxkc0Zba2V5XSkpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBkYXRhW2ZpZWxkXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFrZURhdGFJdGVtKGRhdGEpIHtcclxuICAgICAgICBsZXQgZGF0YUl0ZW0gPSBuZXcgRGF0YUl0ZW0odGhpcywgdW5kZWZpbmVkLCBkYXRhKTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGFJdGVtO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1c2hEYXRhSXRlbShkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLm1ha2VEYXRhSXRlbShkYXRhKTtcclxuICAgICAgICB0aGlzLl9tYWluRGF0YUl0ZW1zLnB1c2goZGF0YUl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBkYXRhSXRlbTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlRGF0YUl0ZW0oX2RhdGFJdGVtKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIGNvbXBvbmVudCdzIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhSXRlbSAgIERhdGEgaXRlbVxyXG4gICAgICogQHBhcmFtICAgX2R1cmF0aW9uICBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgc2hvd0RhdGFJdGVtKGRhdGFJdGVtLCBfZHVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5zZXQoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyBjb21wb25lbnQncyBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZGF0YUl0ZW0gICBEYXRhIGl0ZW1cclxuICAgICAqIEBwYXJhbSAgIF9kdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIGhpZGVEYXRhSXRlbShkYXRhSXRlbSwgX2R1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfY2xlYXJEaXJ0eSgpIHtcclxuICAgICAgICBzdXBlci5fY2xlYXJEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlc0RpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJEYXRhQ2hhbmdlKCkge1xyXG4gICAgfVxyXG4gICAgX2FmdGVyQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RhdGFDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcImRhdGF2YWxpZGF0ZWRcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZGF0YUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3JjZXMgYSByZXBhaW50IG9mIHRoZSBlbGVtZW50IHdoaWNoIHJlbGllcyBvbiBkYXRhLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSA1LjAuMjFcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5VmFsdWVzKF9kYXRhSXRlbSkge1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eUdyb3VwKCkge1xyXG4gICAgICAgIHRoaXMuX2RhdGFHcm91cGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5U2l6ZSgpIHtcclxuICAgICAgICB0aGlzLl9zaXplRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiQ29tcG9uZW50XCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29udGFpbmVyLmNsYXNzTmFtZXMuY29uY2F0KFtDb21wb25lbnQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbXBvbmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Container: () => (/* binding */ Container)\n/* harmony export */ });\n/* harmony import */ var _util_Children__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Children */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _HorizontalLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HorizontalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js\");\n/* harmony import */ var _VerticalLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VerticalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js\");\n/* harmony import */ var _GridLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GridLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\");\n/* harmony import */ var _util_PopulateString__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A basic element that can have child elements, maintain their layout, and\r\n * have a background.\r\n *\r\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\r\n * full-fledged charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n * @important\r\n */\r\nclass Container extends _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        Object.defineProperty(this, \"_childrenDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        /**\r\n         * List of Container's child elements.\r\n         */\r\n        Object.defineProperty(this, \"children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Children__WEBPACK_IMPORTED_MODULE_1__.Children(this)\r\n        });\r\n        Object.defineProperty(this, \"_percentageSizeChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_percentagePositionChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_prevWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_prevHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.addChild(this._childrenDisplay);\r\n    }\r\n    _dispose() {\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.eachReverse(this.allChildren(), (child) => {\r\n            child.dispose();\r\n        });\r\n        if (this.getPrivate(\"htmlElement\")) {\r\n            this._root._removeHTMLContent(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"interactiveChildren\")) {\r\n            this._display.interactiveChildren = this.get(\"interactiveChildren\", false);\r\n        }\r\n        if (this.isDirty(\"layout\")) {\r\n            this._prevWidth = 0;\r\n            this._prevHeight = 0;\r\n            this.markDirtyBounds();\r\n            if (this._prevSettings.layout) {\r\n                this.children.each((child) => {\r\n                    child.removePrivate(\"x\");\r\n                    child.removePrivate(\"y\");\r\n                });\r\n            }\r\n        }\r\n        if (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\r\n            this.children.each((child) => {\r\n                child.markDirtyPosition();\r\n            });\r\n        }\r\n        if (this.isDirty(\"maskContent\")) {\r\n            const childrenDisplay = this._childrenDisplay;\r\n            let contentMask = this._contentMask;\r\n            if (this.get(\"maskContent\")) {\r\n                if (!contentMask) {\r\n                    contentMask = _Rectangle__WEBPACK_IMPORTED_MODULE_3__.Rectangle.new(this._root, {\r\n                        x: -.5,\r\n                        y: -.5,\r\n                        width: this.width() + 1,\r\n                        height: this.height() + 1\r\n                    });\r\n                    this._contentMask = contentMask;\r\n                    childrenDisplay.addChildAt(contentMask._display, 0);\r\n                    childrenDisplay.mask = contentMask._display;\r\n                }\r\n            }\r\n            else {\r\n                if (contentMask) {\r\n                    childrenDisplay.removeChild(contentMask._display);\r\n                    childrenDisplay.mask = null;\r\n                    contentMask.dispose();\r\n                    this._contentMask = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentageSizeChildren, (child) => {\r\n            child._updateSize();\r\n        });\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentagePositionChildren, (child) => {\r\n            child.markDirtyPosition();\r\n            child._updateSize();\r\n        });\r\n        this.updateBackground();\r\n    }\r\n    updateBackground() {\r\n        const background = this.get(\"background\");\r\n        let bounds = this._localBounds;\r\n        if (bounds && !this.isHidden()) {\r\n            let x = bounds.left;\r\n            let y = bounds.top;\r\n            let w = bounds.right - x;\r\n            let h = bounds.bottom - y;\r\n            let maxWidth = this.get(\"maxWidth\");\r\n            let maxHeight = this.get(\"maxHeight\");\r\n            if (maxHeight) {\r\n                if (h > maxHeight) {\r\n                    h = maxHeight;\r\n                }\r\n            }\r\n            if (maxWidth) {\r\n                if (w > maxWidth) {\r\n                    w = maxWidth;\r\n                }\r\n            }\r\n            let width = this.width();\r\n            let height = this.height();\r\n            if (background) {\r\n                background.setAll({ width: w, height: h, x: x, y: y });\r\n                if (this._display.interactive) {\r\n                    background._display.interactive = true;\r\n                }\r\n            }\r\n            const contentMask = this._contentMask;\r\n            if (contentMask) {\r\n                contentMask.setAll({ width: width + 1, height: height + 1 });\r\n            }\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar.set(\"height\", height);\r\n                verticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\r\n                verticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\r\n                const bg = verticalScrollbar.get(\"background\");\r\n                if (bg) {\r\n                    bg.setAll({ width: verticalScrollbar.width(), height: height });\r\n                }\r\n                let visible = true;\r\n                if (this._contentHeight <= height) {\r\n                    visible = false;\r\n                }\r\n                verticalScrollbar.setPrivate(\"visible\", visible);\r\n            }\r\n        }\r\n    }\r\n    _applyThemes(force = false) {\r\n        if (super._applyThemes(force)) {\r\n            this.eachChildren((child) => {\r\n                child._applyThemes(force);\r\n            });\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _applyState(name) {\r\n        super._applyState(name);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.apply(name);\r\n            });\r\n        }\r\n    }\r\n    _applyStateAnimated(name, duration) {\r\n        super._applyStateAnimated(name, duration);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.applyAnimate(name, duration);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns container's inner width (width without padding) in pixels.\r\n     *\r\n     * @return Inner width (px)\r\n     */\r\n    innerWidth() {\r\n        return this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\r\n    }\r\n    /**\r\n     * Returns container's inner height (height without padding) in pixels.\r\n     *\r\n     * @return Inner height (px)\r\n     */\r\n    innerHeight() {\r\n        return this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\r\n    }\r\n    _getBounds() {\r\n        let width = this.get(\"width\");\r\n        let height = this.get(\"height\");\r\n        let pWidth = this.getPrivate(\"width\");\r\n        let pHeight = this.getPrivate(\"height\");\r\n        let bounds = {\r\n            left: 0,\r\n            top: 0,\r\n            right: this.width(),\r\n            bottom: this.height()\r\n        };\r\n        let layout = this.get(\"layout\");\r\n        let horizontal = false;\r\n        let vertical = false;\r\n        if (layout instanceof _HorizontalLayout__WEBPACK_IMPORTED_MODULE_4__.HorizontalLayout || layout instanceof _GridLayout__WEBPACK_IMPORTED_MODULE_5__.GridLayout) {\r\n            horizontal = true;\r\n        }\r\n        if (layout instanceof _VerticalLayout__WEBPACK_IMPORTED_MODULE_6__.VerticalLayout) {\r\n            vertical = true;\r\n        }\r\n        if ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\r\n            // void\r\n        }\r\n        else {\r\n            let m = Number.MAX_VALUE;\r\n            let l = m;\r\n            let r = -m;\r\n            let t = m;\r\n            let b = -m;\r\n            const paddingLeft = this.get(\"paddingLeft\", 0);\r\n            const paddingTop = this.get(\"paddingTop\", 0);\r\n            const paddingRight = this.get(\"paddingRight\", 0);\r\n            const paddingBottom = this.get(\"paddingBottom\", 0);\r\n            this.children.each((child) => {\r\n                if (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\r\n                    let childBounds = child.adjustedLocalBounds();\r\n                    let childX = child.x();\r\n                    let childY = child.y();\r\n                    let cl = childX + childBounds.left;\r\n                    let cr = childX + childBounds.right;\r\n                    let ct = childY + childBounds.top;\r\n                    let cb = childY + childBounds.bottom;\r\n                    if (horizontal) {\r\n                        cl -= child.get(\"marginLeft\", 0);\r\n                        cr += child.get(\"marginRight\", 0);\r\n                    }\r\n                    if (vertical) {\r\n                        ct -= child.get(\"marginTop\", 0);\r\n                        cb += child.get(\"marginBottom\", 0);\r\n                    }\r\n                    if (cl < l) {\r\n                        l = cl;\r\n                    }\r\n                    if (cr > r) {\r\n                        r = cr;\r\n                    }\r\n                    if (ct < t) {\r\n                        t = ct;\r\n                    }\r\n                    if (cb > b) {\r\n                        b = cb;\r\n                    }\r\n                }\r\n            });\r\n            if (l == m) {\r\n                l = 0;\r\n            }\r\n            if (r == -m) {\r\n                r = 0;\r\n            }\r\n            if (t == m) {\r\n                t = 0;\r\n            }\r\n            if (b == -m) {\r\n                b = 0;\r\n            }\r\n            bounds.left = l - paddingLeft;\r\n            bounds.top = t - paddingTop;\r\n            bounds.right = r + paddingRight;\r\n            bounds.bottom = b + paddingBottom;\r\n            const minWidth = this.get(\"minWidth\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(minWidth) && minWidth > 0) {\r\n                if (bounds.right - bounds.left < minWidth) {\r\n                    if (bounds.right >= minWidth) {\r\n                        bounds.left = bounds.right - minWidth;\r\n                    }\r\n                    else {\r\n                        bounds.right = bounds.left + minWidth;\r\n                    }\r\n                }\r\n            }\r\n            const minHeight = this.get(\"minHeight\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(minHeight) && minHeight > 0) {\r\n                if (bounds.bottom - bounds.top < minHeight) {\r\n                    if (bounds.bottom >= minHeight) {\r\n                        bounds.top = bounds.bottom - minHeight;\r\n                    }\r\n                    else {\r\n                        bounds.bottom = bounds.top + minHeight;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._contentWidth = bounds.right - bounds.left;\r\n        this._contentHeight = bounds.bottom - bounds.top;\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(width)) {\r\n            bounds.left = 0;\r\n            bounds.right = width;\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(pWidth)) {\r\n            bounds.left = 0;\r\n            bounds.right = pWidth;\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(height)) {\r\n            bounds.top = 0;\r\n            bounds.bottom = height;\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(pHeight)) {\r\n            bounds.top = 0;\r\n            bounds.bottom = pHeight;\r\n        }\r\n        this._localBounds = bounds;\r\n    }\r\n    _updateBounds() {\r\n        const layout = this.get(\"layout\");\r\n        if (layout) {\r\n            layout.updateContainer(this);\r\n        }\r\n        super._updateBounds();\r\n        this.updateBackground();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this._root._addDirtyParent(this);\r\n    }\r\n    _prepareChildren() {\r\n        const innerWidth = this.innerWidth();\r\n        const innerHeight = this.innerHeight();\r\n        if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\r\n            let layout = this.get(\"layout\");\r\n            let horizontal = false;\r\n            let vertical = false;\r\n            if (layout) {\r\n                if (layout instanceof _HorizontalLayout__WEBPACK_IMPORTED_MODULE_4__.HorizontalLayout || layout instanceof _GridLayout__WEBPACK_IMPORTED_MODULE_5__.GridLayout) {\r\n                    horizontal = true;\r\n                }\r\n                if (layout instanceof _VerticalLayout__WEBPACK_IMPORTED_MODULE_6__.VerticalLayout) {\r\n                    vertical = true;\r\n                }\r\n            }\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentageSizeChildren, (child) => {\r\n                if (!horizontal) {\r\n                    let width = child.get(\"width\");\r\n                    if (width instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_8__.Percent) {\r\n                        child.setPrivate(\"width\", width.value * innerWidth);\r\n                    }\r\n                }\r\n                if (!vertical) {\r\n                    let height = child.get(\"height\");\r\n                    if (height instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_8__.Percent) {\r\n                        child.setPrivate(\"height\", height.value * innerHeight);\r\n                    }\r\n                }\r\n            });\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentagePositionChildren, (child) => {\r\n                child.markDirtyPosition();\r\n                child.markDirtyBounds();\r\n            });\r\n            this._prevWidth = innerWidth;\r\n            this._prevHeight = innerHeight;\r\n            this._sizeDirty = true;\r\n            this.updateBackground();\r\n        }\r\n        this._handleStates();\r\n    }\r\n    _updateHTMLContent() {\r\n        const html = this.get(\"html\");\r\n        if (html && html !== \"\") {\r\n            this._root._setHTMLContent(this, (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_9__.populateString)(this, this.get(\"html\", \"\")));\r\n        }\r\n        else {\r\n            this._root._removeHTMLContent(this);\r\n        }\r\n        this._root._positionHTMLElement(this);\r\n    }\r\n    _updateChildren() {\r\n        if (this.isDirty(\"html\")) {\r\n            this._updateHTMLContent();\r\n        }\r\n        if (this.isDirty(\"verticalScrollbar\")) {\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar._setParent(this);\r\n                verticalScrollbar.startGrip.setPrivate(\"visible\", false);\r\n                verticalScrollbar.endGrip.setPrivate(\"visible\", false);\r\n                this.set(\"maskContent\", true);\r\n                this.set(\"paddingRight\", verticalScrollbar.width() + verticalScrollbar.get(\"marginRight\", 0) + verticalScrollbar.get(\"marginLeft\", 0));\r\n                let background = this.get(\"background\");\r\n                if (!background) {\r\n                    background = this.set(\"background\", _Rectangle__WEBPACK_IMPORTED_MODULE_3__.Rectangle.new(this._root, {\r\n                        themeTags: [\"background\"],\r\n                        fillOpacity: 0,\r\n                        fill: this._root.interfaceColors.get(\"alternativeBackground\")\r\n                    }));\r\n                }\r\n                this._vsbd0 = this.events.on(\"wheel\", (event) => {\r\n                    const wheelEvent = event.originalEvent;\r\n                    // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n                    // some page element is over the chart.\r\n                    if (_util_Utils__WEBPACK_IMPORTED_MODULE_10__.isLocalEvent(wheelEvent, this)) {\r\n                        wheelEvent.preventDefault();\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                    let shiftY = wheelEvent.deltaY / 5000;\r\n                    const start = verticalScrollbar.get(\"start\", 0);\r\n                    const end = verticalScrollbar.get(\"end\", 1);\r\n                    if (start + shiftY <= 0) {\r\n                        shiftY = -start;\r\n                    }\r\n                    if (end + shiftY >= 1) {\r\n                        shiftY = 1 - end;\r\n                    }\r\n                    if (start + shiftY >= 0 && end + shiftY <= 1) {\r\n                        verticalScrollbar.set(\"start\", start + shiftY);\r\n                        verticalScrollbar.set(\"end\", end + shiftY);\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd0);\r\n                this._vsbd1 = verticalScrollbar.events.on(\"rangechanged\", () => {\r\n                    let h = this._contentHeight;\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    const contentMask = this._contentMask;\r\n                    childrenDisplay.y = -verticalScrollbar.get(\"start\", 0) * h;\r\n                    childrenDisplay.markDirtyLayer();\r\n                    if (contentMask) {\r\n                        contentMask._display.y = -childrenDisplay.y;\r\n                        childrenDisplay.mask = contentMask._display;\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd1);\r\n                this._display.addChild(verticalScrollbar._display);\r\n            }\r\n            else {\r\n                const previous = this._prevSettings.verticalScrollbar;\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                    if (this._vsbd0) {\r\n                        this._vsbd0.dispose();\r\n                    }\r\n                    if (this._vsbd1) {\r\n                        this._vsbd1.dispose();\r\n                    }\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    childrenDisplay.y = 0;\r\n                    this.setPrivate(\"height\", undefined);\r\n                    this.set(\"maskContent\", false);\r\n                    this.set(\"paddingRight\", undefined);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"background\")) {\r\n            // TODO maybe this should dispose ?\r\n            const previous = this._prevSettings[\"background\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n            }\r\n            const background = this.get(\"background\");\r\n            if (background instanceof _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite) {\r\n                background.set(\"isMeasured\", false);\r\n                background._setParent(this);\r\n                this._display.addChildAt(background._display, 0);\r\n            }\r\n        }\r\n        if (this.isDirty(\"mask\")) {\r\n            const mask = this.get(\"mask\");\r\n            const previous = this._prevSettings[\"mask\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n                if (previous != mask) {\r\n                    previous.dispose();\r\n                }\r\n            }\r\n            if (mask) {\r\n                const parent = mask.parent;\r\n                if (parent) {\r\n                    parent.children.removeValue(mask);\r\n                }\r\n                mask._setParent(this);\r\n                this._display.addChildAt(mask._display, 0);\r\n                this._childrenDisplay.mask = mask._display;\r\n            }\r\n        }\r\n    }\r\n    _processTemplateField() {\r\n        super._processTemplateField();\r\n        this.children.each((child) => {\r\n            child._processTemplateField();\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    walkChildren(f) {\r\n        this.children.each((child) => {\r\n            if (child instanceof Container) {\r\n                child.walkChildren(f);\r\n            }\r\n            f(child);\r\n        });\r\n    }\r\n    eachChildren(f) {\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            f(background);\r\n        }\r\n        const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n        if (verticalScrollbar) {\r\n            f(verticalScrollbar);\r\n        }\r\n        const mask = this.get(\"mask\");\r\n        if (mask) {\r\n            f(mask);\r\n        }\r\n        this.children.values.forEach((child) => {\r\n            f(child);\r\n        });\r\n    }\r\n    allChildren() {\r\n        const output = [];\r\n        this.eachChildren((x) => {\r\n            output.push(x);\r\n        });\r\n        return output;\r\n    }\r\n    _setDataItem(dataItem) {\r\n        const updated = (dataItem !== this._dataItem);\r\n        super._setDataItem(dataItem);\r\n        const html = this.get(\"html\", \"\");\r\n        if (html && html !== \"\" && updated) {\r\n            this._root._setHTMLContent(this, (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_9__.populateString)(this, html));\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Container, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Container\"\r\n});\r\nObject.defineProperty(Container, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite.classNames.concat([Container.className])\r\n});\r\n//# sourceMappingURL=Container.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ29udGFpbmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNGO0FBQ1I7QUFDTTtBQUNjO0FBQ0o7QUFDUjtBQUNjO0FBQ2hCO0FBQ0Y7QUFDRTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkVBQTZFO0FBQ3RGO0FBQ0E7QUFDTyx3QkFBd0IsMkNBQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBUTtBQUMvQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBa0I7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlEQUFTO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNULFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQ0FBaUM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNDQUFzQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtEQUFrRDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsK0RBQWdCLHNCQUFzQixtREFBVTtBQUM5RTtBQUNBO0FBQ0EsOEJBQThCLDJEQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0RBQWdCLHNCQUFzQixtREFBVTtBQUN0RjtBQUNBO0FBQ0Esc0NBQXNDLDJEQUFjO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBLHlDQUF5QyxrREFBTztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGtEQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsb0VBQWM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxpREFBUztBQUNqRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMkNBQU07QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG9FQUFjO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJDQUFNO0FBQ2pCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ29udGFpbmVyLmpzP2JjZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hpbGRyZW4gfSBmcm9tIFwiLi4vdXRpbC9DaGlsZHJlblwiO1xyXG5pbXBvcnQgeyBQZXJjZW50IH0gZnJvbSBcIi4uL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi9TcHJpdGVcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4vUmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEhvcml6b250YWxMYXlvdXQgfSBmcm9tIFwiLi9Ib3Jpem9udGFsTGF5b3V0XCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsTGF5b3V0IH0gZnJvbSBcIi4vVmVydGljYWxMYXlvdXRcIjtcclxuaW1wb3J0IHsgR3JpZExheW91dCB9IGZyb20gXCIuL0dyaWRMYXlvdXRcIjtcclxuaW1wb3J0IHsgcG9wdWxhdGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC9Qb3B1bGF0ZVN0cmluZ1wiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uL3V0aWwvVXRpbHNcIjtcclxuLyoqXHJcbiAqIEEgYmFzaWMgZWxlbWVudCB0aGF0IGNhbiBoYXZlIGNoaWxkIGVsZW1lbnRzLCBtYWludGFpbiB0aGVpciBsYXlvdXQsIGFuZFxyXG4gKiBoYXZlIGEgYmFja2dyb3VuZC5cclxuICpcclxuICogSXQgY2FuIGhhdmUgYW55IFtbU3ByaXRlXV0gZWxlbWVudCBhcyBhIGNoaWxkLCBmcm9tIHZlcnkgYmFzaWMgc2hhcGVzLCB0b1xyXG4gKiBmdWxsLWZsZWRnZWQgY2hhcnRzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbnRhaW5lciBleHRlbmRzIFNwcml0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwbGF5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3Jvb3QuX3JlbmRlcmVyLm1ha2VDb250YWluZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jaGlsZHJlbkRpc3BsYXlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fcm9vdC5fcmVuZGVyZXIubWFrZUNvbnRhaW5lcigpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCBvZiBDb250YWluZXIncyBjaGlsZCBlbGVtZW50cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGlsZHJlblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgQ2hpbGRyZW4odGhpcylcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGVyY2VudGFnZVNpemVDaGlsZHJlblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcmV2V2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcmV2SGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29udGVudFdpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29udGVudEhlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbnRlbnRNYXNrXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92c2JkMFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdnNiZDFcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5hZGRDaGlsZCh0aGlzLl9jaGlsZHJlbkRpc3BsYXkpO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2hSZXZlcnNlKHRoaXMuYWxsQ2hpbGRyZW4oKSwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGNoaWxkLmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5fcmVtb3ZlSFRNTENvbnRlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLl9kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJpbnRlcmFjdGl2ZUNoaWxkcmVuXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IHRoaXMuZ2V0KFwiaW50ZXJhY3RpdmVDaGlsZHJlblwiLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJsYXlvdXRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJldldpZHRoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fcHJldkhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcmV2U2V0dGluZ3MubGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQucmVtb3ZlUHJpdmF0ZShcInhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQucmVtb3ZlUHJpdmF0ZShcInlcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwicGFkZGluZ1RvcFwiKSB8fCB0aGlzLmlzRGlydHkoXCJwYWRkaW5nQm90dG9tXCIpIHx8IHRoaXMuaXNEaXJ0eShcInBhZGRpbmdMZWZ0XCIpIHx8IHRoaXMuaXNEaXJ0eShcInBhZGRpbmdSaWdodFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXJrRGlydHlQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm1hc2tDb250ZW50XCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuRGlzcGxheSA9IHRoaXMuX2NoaWxkcmVuRGlzcGxheTtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnRNYXNrID0gdGhpcy5fY29udGVudE1hc2s7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcIm1hc2tDb250ZW50XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRNYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudE1hc2sgPSBSZWN0YW5nbGUubmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogLS41LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAtLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoKCkgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0KCkgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29udGVudE1hc2sgPSBjb250ZW50TWFzaztcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbkRpc3BsYXkuYWRkQ2hpbGRBdChjb250ZW50TWFzay5fZGlzcGxheSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5Lm1hc2sgPSBjb250ZW50TWFzay5fZGlzcGxheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50TWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS5yZW1vdmVDaGlsZChjb250ZW50TWFzay5fZGlzcGxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5Lm1hc2sgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRNYXNrLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TWFzayA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVTaXplKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVTaXplKCk7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fcGVyY2VudGFnZVNpemVDaGlsZHJlbiwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGNoaWxkLl91cGRhdGVTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fcGVyY2VudGFnZVBvc2l0aW9uQ2hpbGRyZW4sIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBjaGlsZC5tYXJrRGlydHlQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICBjaGlsZC5fdXBkYXRlU2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZCgpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQmFja2dyb3VuZCgpIHtcclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcclxuICAgICAgICBpZiAoYm91bmRzICYmICF0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgbGV0IHggPSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgbGV0IHkgPSBib3VuZHMudG9wO1xyXG4gICAgICAgICAgICBsZXQgdyA9IGJvdW5kcy5yaWdodCAtIHg7XHJcbiAgICAgICAgICAgIGxldCBoID0gYm91bmRzLmJvdHRvbSAtIHk7XHJcbiAgICAgICAgICAgIGxldCBtYXhXaWR0aCA9IHRoaXMuZ2V0KFwibWF4V2lkdGhcIik7XHJcbiAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSB0aGlzLmdldChcIm1heEhlaWdodFwiKTtcclxuICAgICAgICAgICAgaWYgKG1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGggPiBtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoID0gbWF4SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXhXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHcgPiBtYXhXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHcgPSBtYXhXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSB0aGlzLndpZHRoKCk7XHJcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXRBbGwoeyB3aWR0aDogdywgaGVpZ2h0OiBoLCB4OiB4LCB5OiB5IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BsYXkuaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLl9kaXNwbGF5LmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50TWFzayA9IHRoaXMuX2NvbnRlbnRNYXNrO1xyXG4gICAgICAgICAgICBpZiAoY29udGVudE1hc2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRNYXNrLnNldEFsbCh7IHdpZHRoOiB3aWR0aCArIDEsIGhlaWdodDogaGVpZ2h0ICsgMSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbGJhciA9IHRoaXMuZ2V0KFwidmVydGljYWxTY3JvbGxiYXJcIik7XHJcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbFNjcm9sbGJhcikge1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuc2V0KFwiaGVpZ2h0XCIsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhci5zZXQoXCJ4XCIsIHdpZHRoIC0gdmVydGljYWxTY3JvbGxiYXIud2lkdGgoKSAtIHZlcnRpY2FsU2Nyb2xsYmFyLmdldChcIm1hcmdpblJpZ2h0XCIsIDApKTtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLnNldChcImVuZFwiLCB2ZXJ0aWNhbFNjcm9sbGJhci5nZXQoXCJzdGFydFwiLCAwKSArIGhlaWdodCAvIHRoaXMuX2NvbnRlbnRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmcgPSB2ZXJ0aWNhbFNjcm9sbGJhci5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmcuc2V0QWxsKHsgd2lkdGg6IHZlcnRpY2FsU2Nyb2xsYmFyLndpZHRoKCksIGhlaWdodDogaGVpZ2h0IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRIZWlnaHQgPD0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdmlzaWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYXBwbHlUaGVtZXMoZm9yY2UgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmIChzdXBlci5fYXBwbHlUaGVtZXMoZm9yY2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWFjaENoaWxkcmVuKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuX2FwcGx5VGhlbWVzKGZvcmNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hcHBseVN0YXRlKG5hbWUpIHtcclxuICAgICAgICBzdXBlci5fYXBwbHlTdGF0ZShuYW1lKTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJzZXRTdGF0ZU9uQ2hpbGRyZW5cIikpIHtcclxuICAgICAgICAgICAgdGhpcy5lYWNoQ2hpbGRyZW4oKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5zdGF0ZXMuYXBwbHkobmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hcHBseVN0YXRlQW5pbWF0ZWQobmFtZSwgZHVyYXRpb24pIHtcclxuICAgICAgICBzdXBlci5fYXBwbHlTdGF0ZUFuaW1hdGVkKG5hbWUsIGR1cmF0aW9uKTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJzZXRTdGF0ZU9uQ2hpbGRyZW5cIikpIHtcclxuICAgICAgICAgICAgdGhpcy5lYWNoQ2hpbGRyZW4oKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5zdGF0ZXMuYXBwbHlBbmltYXRlKG5hbWUsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbnRhaW5lcidzIGlubmVyIHdpZHRoICh3aWR0aCB3aXRob3V0IHBhZGRpbmcpIGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIElubmVyIHdpZHRoIChweClcclxuICAgICAqL1xyXG4gICAgaW5uZXJXaWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53aWR0aCgpIC0gdGhpcy5nZXQoXCJwYWRkaW5nUmlnaHRcIiwgMCkgLSB0aGlzLmdldChcInBhZGRpbmdMZWZ0XCIsIDApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbnRhaW5lcidzIGlubmVyIGhlaWdodCAoaGVpZ2h0IHdpdGhvdXQgcGFkZGluZykgaW4gcGl4ZWxzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSW5uZXIgaGVpZ2h0IChweClcclxuICAgICAqL1xyXG4gICAgaW5uZXJIZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0KCkgLSB0aGlzLmdldChcInBhZGRpbmdUb3BcIiwgMCkgLSB0aGlzLmdldChcInBhZGRpbmdCb3R0b21cIiwgMCk7XHJcbiAgICB9XHJcbiAgICBfZ2V0Qm91bmRzKCkge1xyXG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIik7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuZ2V0KFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgIGxldCBwV2lkdGggPSB0aGlzLmdldFByaXZhdGUoXCJ3aWR0aFwiKTtcclxuICAgICAgICBsZXQgcEhlaWdodCA9IHRoaXMuZ2V0UHJpdmF0ZShcImhlaWdodFwiKTtcclxuICAgICAgICBsZXQgYm91bmRzID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLndpZHRoKCksXHJcbiAgICAgICAgICAgIGJvdHRvbTogdGhpcy5oZWlnaHQoKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGxheW91dCA9IHRoaXMuZ2V0KFwibGF5b3V0XCIpO1xyXG4gICAgICAgIGxldCBob3Jpem9udGFsID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHZlcnRpY2FsID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGxheW91dCBpbnN0YW5jZW9mIEhvcml6b250YWxMYXlvdXQgfHwgbGF5b3V0IGluc3RhbmNlb2YgR3JpZExheW91dCkge1xyXG4gICAgICAgICAgICBob3Jpem9udGFsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxheW91dCBpbnN0YW5jZW9mIFZlcnRpY2FsTGF5b3V0KSB7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh3aWR0aCAhPSBudWxsIHx8IHBXaWR0aCAhPSBudWxsKSAmJiAoaGVpZ2h0ICE9IG51bGwgfHwgcEhlaWdodCAhPSBudWxsKSAmJiAhdGhpcy5nZXQoXCJ2ZXJ0aWNhbFNjcm9sbGJhclwiKSkge1xyXG4gICAgICAgICAgICAvLyB2b2lkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbSA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgICAgIGxldCBsID0gbTtcclxuICAgICAgICAgICAgbGV0IHIgPSAtbTtcclxuICAgICAgICAgICAgbGV0IHQgPSBtO1xyXG4gICAgICAgICAgICBsZXQgYiA9IC1tO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHRoaXMuZ2V0KFwicGFkZGluZ0xlZnRcIiwgMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdUb3AgPSB0aGlzLmdldChcInBhZGRpbmdUb3BcIiwgMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IHRoaXMuZ2V0KFwicGFkZGluZ1JpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gdGhpcy5nZXQoXCJwYWRkaW5nQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZ2V0KFwicG9zaXRpb25cIikgIT0gXCJhYnNvbHV0ZVwiICYmIGNoaWxkLmdldChcImlzTWVhc3VyZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRCb3VuZHMgPSBjaGlsZC5hZGp1c3RlZExvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkWCA9IGNoaWxkLngoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRZID0gY2hpbGQueSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjbCA9IGNoaWxkWCArIGNoaWxkQm91bmRzLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNyID0gY2hpbGRYICsgY2hpbGRCb3VuZHMucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN0ID0gY2hpbGRZICsgY2hpbGRCb3VuZHMudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYiA9IGNoaWxkWSArIGNoaWxkQm91bmRzLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbCAtPSBjaGlsZC5nZXQoXCJtYXJnaW5MZWZ0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjciArPSBjaGlsZC5nZXQoXCJtYXJnaW5SaWdodFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0IC09IGNoaWxkLmdldChcIm1hcmdpblRvcFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2IgKz0gY2hpbGQuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2wgPCBsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBjbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyID4gcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByID0gY3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdCA8IHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2IgPiBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBjYjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobCA9PSBtKSB7XHJcbiAgICAgICAgICAgICAgICBsID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAociA9PSAtbSkge1xyXG4gICAgICAgICAgICAgICAgciA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQgPT0gbSkge1xyXG4gICAgICAgICAgICAgICAgdCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGIgPT0gLW0pIHtcclxuICAgICAgICAgICAgICAgIGIgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gbCAtIHBhZGRpbmdMZWZ0O1xyXG4gICAgICAgICAgICBib3VuZHMudG9wID0gdCAtIHBhZGRpbmdUb3A7XHJcbiAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IHIgKyBwYWRkaW5nUmlnaHQ7XHJcbiAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBiICsgcGFkZGluZ0JvdHRvbTtcclxuICAgICAgICAgICAgY29uc3QgbWluV2lkdGggPSB0aGlzLmdldChcIm1pbldpZHRoXCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluV2lkdGgpICYmIG1pbldpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0IDwgbWluV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm91bmRzLnJpZ2h0ID49IG1pbldpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gYm91bmRzLnJpZ2h0IC0gbWluV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSBib3VuZHMubGVmdCArIG1pbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSB0aGlzLmdldChcIm1pbkhlaWdodFwiKTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pbkhlaWdodCkgJiYgbWluSGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wIDwgbWluSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kcy5ib3R0b20gPj0gbWluSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgPSBib3VuZHMuYm90dG9tIC0gbWluSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmJvdHRvbSA9IGJvdW5kcy50b3AgKyBtaW5IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NvbnRlbnRXaWR0aCA9IGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0O1xyXG4gICAgICAgIHRoaXMuX2NvbnRlbnRIZWlnaHQgPSBib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIod2lkdGgpKSB7XHJcbiAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gMDtcclxuICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gd2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihwV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gMDtcclxuICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gcFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoaGVpZ2h0KSkge1xyXG4gICAgICAgICAgICBib3VuZHMudG9wID0gMDtcclxuICAgICAgICAgICAgYm91bmRzLmJvdHRvbSA9IGhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHBIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGJvdW5kcy50b3AgPSAwO1xyXG4gICAgICAgICAgICBib3VuZHMuYm90dG9tID0gcEhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBib3VuZHM7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZ2V0KFwibGF5b3V0XCIpO1xyXG4gICAgICAgIGlmIChsYXlvdXQpIHtcclxuICAgICAgICAgICAgbGF5b3V0LnVwZGF0ZUNvbnRhaW5lcih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX3VwZGF0ZUJvdW5kcygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eSgpIHtcclxuICAgICAgICBzdXBlci5tYXJrRGlydHkoKTtcclxuICAgICAgICB0aGlzLl9yb290Ll9hZGREaXJ0eVBhcmVudCh0aGlzKTtcclxuICAgIH1cclxuICAgIF9wcmVwYXJlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgY29uc3QgaW5uZXJXaWR0aCA9IHRoaXMuaW5uZXJXaWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IGlubmVySGVpZ2h0ID0gdGhpcy5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIGlmIChpbm5lcldpZHRoICE9IHRoaXMuX3ByZXZXaWR0aCB8fCBpbm5lckhlaWdodCAhPSB0aGlzLl9wcmV2SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGxldCBsYXlvdXQgPSB0aGlzLmdldChcImxheW91dFwiKTtcclxuICAgICAgICAgICAgbGV0IGhvcml6b250YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHZlcnRpY2FsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChsYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgaW5zdGFuY2VvZiBIb3Jpem9udGFsTGF5b3V0IHx8IGxheW91dCBpbnN0YW5jZW9mIEdyaWRMYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgaW5zdGFuY2VvZiBWZXJ0aWNhbExheW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9wZXJjZW50YWdlU2l6ZUNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaG9yaXpvbnRhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IGNoaWxkLmdldChcIndpZHRoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcIndpZHRoXCIsIHdpZHRoLnZhbHVlICogaW5uZXJXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCF2ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSBjaGlsZC5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcImhlaWdodFwiLCBoZWlnaHQudmFsdWUgKiBpbm5lckhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fcGVyY2VudGFnZVBvc2l0aW9uQ2hpbGRyZW4sIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fcHJldldpZHRoID0gaW5uZXJXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fcHJldkhlaWdodCA9IGlubmVySGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplRGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhY2tncm91bmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhdGVzKCk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlSFRNTENvbnRlbnQoKSB7XHJcbiAgICAgICAgY29uc3QgaHRtbCA9IHRoaXMuZ2V0KFwiaHRtbFwiKTtcclxuICAgICAgICBpZiAoaHRtbCAmJiBodG1sICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuX3NldEhUTUxDb250ZW50KHRoaXMsIHBvcHVsYXRlU3RyaW5nKHRoaXMsIHRoaXMuZ2V0KFwiaHRtbFwiLCBcIlwiKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5fcmVtb3ZlSFRNTENvbnRlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jvb3QuX3Bvc2l0aW9uSFRNTEVsZW1lbnQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImh0bWxcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlSFRNTENvbnRlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInZlcnRpY2FsU2Nyb2xsYmFyXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU2Nyb2xsYmFyID0gdGhpcy5nZXQoXCJ2ZXJ0aWNhbFNjcm9sbGJhclwiKTtcclxuICAgICAgICAgICAgaWYgKHZlcnRpY2FsU2Nyb2xsYmFyKSB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhci5fc2V0UGFyZW50KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuc3RhcnRHcmlwLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLmVuZEdyaXAuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJtYXNrQ29udGVudFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwicGFkZGluZ1JpZ2h0XCIsIHZlcnRpY2FsU2Nyb2xsYmFyLndpZHRoKCkgKyB2ZXJ0aWNhbFNjcm9sbGJhci5nZXQoXCJtYXJnaW5SaWdodFwiLCAwKSArIHZlcnRpY2FsU2Nyb2xsYmFyLmdldChcIm1hcmdpbkxlZnRcIiwgMCkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJhY2tncm91bmQgPSB0aGlzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJhY2tncm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kID0gdGhpcy5zZXQoXCJiYWNrZ3JvdW5kXCIsIFJlY3RhbmdsZS5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6IFtcImJhY2tncm91bmRcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLl9yb290LmludGVyZmFjZUNvbG9ycy5nZXQoXCJhbHRlcm5hdGl2ZUJhY2tncm91bmRcIilcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92c2JkMCA9IHRoaXMuZXZlbnRzLm9uKFwid2hlZWxcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHdoZWVsIGV2ZW50IGlmIGl0IGlzIGhhcHBlbmluZyBvbiBhIG5vbi1jaGFydCBlbGVtZW50LCBlLmcuIGlmXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc29tZSBwYWdlIGVsZW1lbnQgaXMgb3ZlciB0aGUgY2hhcnQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR1dGlscy5pc0xvY2FsRXZlbnQod2hlZWxFdmVudCwgdGhpcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2hpZnRZID0gd2hlZWxFdmVudC5kZWx0YVkgLyA1MDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gdmVydGljYWxTY3JvbGxiYXIuZ2V0KFwic3RhcnRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gdmVydGljYWxTY3JvbGxiYXIuZ2V0KFwiZW5kXCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCArIHNoaWZ0WSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0WSA9IC1zdGFydDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCArIHNoaWZ0WSA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0WSA9IDEgLSBlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCArIHNoaWZ0WSA+PSAwICYmIGVuZCArIHNoaWZ0WSA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLnNldChcInN0YXJ0XCIsIHN0YXJ0ICsgc2hpZnRZKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuc2V0KFwiZW5kXCIsIGVuZCArIHNoaWZ0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl92c2JkMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92c2JkMSA9IHZlcnRpY2FsU2Nyb2xsYmFyLmV2ZW50cy5vbihcInJhbmdlY2hhbmdlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGggPSB0aGlzLl9jb250ZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuRGlzcGxheSA9IHRoaXMuX2NoaWxkcmVuRGlzcGxheTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50TWFzayA9IHRoaXMuX2NvbnRlbnRNYXNrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS55ID0gLXZlcnRpY2FsU2Nyb2xsYmFyLmdldChcInN0YXJ0XCIsIDApICogaDtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbkRpc3BsYXkubWFya0RpcnR5TGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudE1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudE1hc2suX2Rpc3BsYXkueSA9IC1jaGlsZHJlbkRpc3BsYXkueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5Lm1hc2sgPSBjb250ZW50TWFzay5fZGlzcGxheTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuX3ZzYmQxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYWRkQ2hpbGQodmVydGljYWxTY3JvbGxiYXIuX2Rpc3BsYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3MudmVydGljYWxTY3JvbGxiYXI7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnJlbW92ZUNoaWxkKHByZXZpb3VzLl9kaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdnNiZDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdnNiZDAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdnNiZDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdnNiZDEuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbkRpc3BsYXkgPSB0aGlzLl9jaGlsZHJlbkRpc3BsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcImhlaWdodFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwibWFza0NvbnRlbnRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwicGFkZGluZ1JpZ2h0XCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImJhY2tncm91bmRcIikpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBtYXliZSB0aGlzIHNob3VsZCBkaXNwb3NlID9cclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3NbXCJiYWNrZ3JvdW5kXCJdO1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkucmVtb3ZlQ2hpbGQocHJldmlvdXMuX2Rpc3BsYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kIGluc3RhbmNlb2YgU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldChcImlzTWVhc3VyZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5fc2V0UGFyZW50KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hZGRDaGlsZEF0KGJhY2tncm91bmQuX2Rpc3BsYXksIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtYXNrXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSB0aGlzLmdldChcIm1hc2tcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fcHJldlNldHRpbmdzW1wibWFza1wiXTtcclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnJlbW92ZUNoaWxkKHByZXZpb3VzLl9kaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cyAhPSBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBtYXNrLnBhcmVudDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucmVtb3ZlVmFsdWUobWFzayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYXNrLl9zZXRQYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmFkZENoaWxkQXQobWFzay5fZGlzcGxheSwgMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbkRpc3BsYXkubWFzayA9IG1hc2suX2Rpc3BsYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcHJvY2Vzc1RlbXBsYXRlRmllbGQoKSB7XHJcbiAgICAgICAgc3VwZXIuX3Byb2Nlc3NUZW1wbGF0ZUZpZWxkKCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5lYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBjaGlsZC5fcHJvY2Vzc1RlbXBsYXRlRmllbGQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB3YWxrQ2hpbGRyZW4oZikge1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uZWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC53YWxrQ2hpbGRyZW4oZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZihjaGlsZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlYWNoQ2hpbGRyZW4oZikge1xyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcclxuICAgICAgICAgICAgZihiYWNrZ3JvdW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmVydGljYWxTY3JvbGxiYXIgPSB0aGlzLmdldChcInZlcnRpY2FsU2Nyb2xsYmFyXCIpO1xyXG4gICAgICAgIGlmICh2ZXJ0aWNhbFNjcm9sbGJhcikge1xyXG4gICAgICAgICAgICBmKHZlcnRpY2FsU2Nyb2xsYmFyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbWFzayA9IHRoaXMuZ2V0KFwibWFza1wiKTtcclxuICAgICAgICBpZiAobWFzaykge1xyXG4gICAgICAgICAgICBmKG1hc2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnZhbHVlcy5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBmKGNoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFsbENoaWxkcmVuKCkge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIHRoaXMuZWFjaENoaWxkcmVuKCh4KSA9PiB7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKHgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICBfc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkID0gKGRhdGFJdGVtICE9PSB0aGlzLl9kYXRhSXRlbSk7XHJcbiAgICAgICAgc3VwZXIuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBjb25zdCBodG1sID0gdGhpcy5nZXQoXCJodG1sXCIsIFwiXCIpO1xyXG4gICAgICAgIGlmIChodG1sICYmIGh0bWwgIT09IFwiXCIgJiYgdXBkYXRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290Ll9zZXRIVE1MQ29udGVudCh0aGlzLCBwb3B1bGF0ZVN0cmluZyh0aGlzLCBodG1sKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkNvbnRhaW5lclwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFNwcml0ZS5jbGFzc05hbWVzLmNvbmNhdChbQ29udGFpbmVyLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250YWluZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Graphics: () => (/* binding */ Graphics),\n/* harmony export */   visualSettings: () => (/* binding */ visualSettings)\n/* harmony export */ });\n/* harmony import */ var _render_patterns_PicturePattern__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../render/patterns/PicturePattern */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js\");\n/* harmony import */ var _Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _backend_Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./backend/Renderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n\r\n\r\n\r\nconst visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\", \"shadowBlur\", \"shadowColor\", \"shadowOpacity\", \"shadowOffsetX\", \"shadowOffsetY\", \"blur\", \"sepia\", \"invert\", \"brightness\", \"hue\", \"contrast\", \"saturate\"];\r\n/**\r\n * Base class used for drawing shapes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass Graphics extends _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"scale\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"lineJoin\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\r\n            this._clear = true;\r\n        }\r\n        this._display.crisp = this.get(\"crisp\", false);\r\n        if (this.isDirty(\"fillGradient\")) {\r\n            const gradient = this.get(\"fillGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"strokeGradient\")) {\r\n            const gradient = this.get(\"strokeGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            this.markDirtyLayer();\r\n            this._display.clear();\r\n            let strokeDasharray = this.get(\"strokeDasharray\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(strokeDasharray)) {\r\n                if (strokeDasharray < 0.5) {\r\n                    strokeDasharray = [0];\r\n                }\r\n                else {\r\n                    strokeDasharray = [strokeDasharray];\r\n                }\r\n            }\r\n            this._display.setLineDash(strokeDasharray);\r\n            const strokeDashoffset = this.get(\"strokeDashoffset\");\r\n            if (strokeDashoffset) {\r\n                this._display.setLineDashOffset(strokeDashoffset);\r\n            }\r\n            const blendMode = this.get(\"blendMode\", _backend_Renderer__WEBPACK_IMPORTED_MODULE_2__.BlendMode.NORMAL);\r\n            this._display.blendMode = blendMode;\r\n            const draw = this.get(\"draw\");\r\n            if (draw && typeof draw === \"function\") {\r\n                draw(this._display, this);\r\n            }\r\n            const svgPath = this.get(\"svgPath\");\r\n            if (svgPath != null) {\r\n                this._display.svgPath(svgPath);\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._clear) {\r\n            const fill = this.get(\"fill\");\r\n            const fillGradient = this.get(\"fillGradient\");\r\n            const fillPattern = this.get(\"fillPattern\");\r\n            const fillOpacity = this.get(\"fillOpacity\");\r\n            const stroke = this.get(\"stroke\");\r\n            const strokeGradient = this.get(\"strokeGradient\");\r\n            const strokePattern = this.get(\"strokePattern\");\r\n            const shadowColor = this.get(\"shadowColor\");\r\n            const shadowBlur = this.get(\"shadowBlur\");\r\n            const shadowOffsetX = this.get(\"shadowOffsetX\");\r\n            const shadowOffsetY = this.get(\"shadowOffsetY\");\r\n            const shadowOpacity = this.get(\"shadowOpacity\");\r\n            if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\r\n                this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\r\n            }\r\n            if (fill && !fillGradient) {\r\n                this._display.beginFill(fill, fillOpacity);\r\n                this._display.endFill();\r\n            }\r\n            if (fillGradient) {\r\n                if (fill) {\r\n                    const stops = fillGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && fill) {\r\n                                stop.color = fill;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = fillOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                const gradient = fillGradient.getFill(this);\r\n                if (gradient) {\r\n                    this._display.beginFill(gradient, fillOpacity);\r\n                    this._display.endFill();\r\n                }\r\n            }\r\n            if (fillPattern) {\r\n                const pattern = fillPattern.pattern;\r\n                if (pattern) {\r\n                    this._display.beginFill(pattern, fillOpacity);\r\n                    this._display.endFill();\r\n                    if (fillPattern instanceof _render_patterns_PicturePattern__WEBPACK_IMPORTED_MODULE_4__.PicturePattern) {\r\n                        fillPattern.events.once(\"loaded\", () => {\r\n                            this._clear = true;\r\n                            this.markDirty();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            if (stroke || strokeGradient || strokePattern) {\r\n                const strokeOpacity = this.get(\"strokeOpacity\");\r\n                let strokeWidth = this.get(\"strokeWidth\", 1);\r\n                if (this.get(\"nonScalingStroke\")) {\r\n                    strokeWidth = strokeWidth / this.get(\"scale\", 1);\r\n                }\r\n                if (this.get(\"crisp\")) {\r\n                    strokeWidth /= this._root._renderer.resolution;\r\n                }\r\n                const lineJoin = this.get(\"lineJoin\");\r\n                if (stroke && !strokeGradient) {\r\n                    this._display.lineStyle(strokeWidth, stroke, strokeOpacity, lineJoin);\r\n                    this._display.endStroke();\r\n                }\r\n                if (strokeGradient) {\r\n                    const stops = strokeGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && stroke) {\r\n                                stop.color = stroke;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = strokeOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                    const gradient = strokeGradient.getFill(this);\r\n                    if (gradient) {\r\n                        this._display.lineStyle(strokeWidth, gradient, strokeOpacity, lineJoin);\r\n                        this._display.endStroke();\r\n                    }\r\n                }\r\n                if (strokePattern) {\r\n                    /*\r\n                    let changed = false;\r\n                    \r\n                    if (stroke && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\r\n                        strokePattern.set(\"color\", stroke);\r\n                        strokePattern.set(\"colorInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (changed) {\r\n                        // @todo: is this OK?\r\n                        strokePattern._changed();\r\n                    }\r\n                    */\r\n                    let pattern = strokePattern.pattern;\r\n                    if (pattern) {\r\n                        this._display.lineStyle(strokeWidth, pattern, strokeOpacity, lineJoin);\r\n                        this._display.endStroke();\r\n                        if (strokePattern instanceof _render_patterns_PicturePattern__WEBPACK_IMPORTED_MODULE_4__.PicturePattern) {\r\n                            strokePattern.events.once(\"loaded\", () => {\r\n                                this._clear = true;\r\n                                this.markDirty();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n        this._clear = false;\r\n    }\r\n}\r\nObject.defineProperty(Graphics, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Graphics\"\r\n});\r\nObject.defineProperty(Graphics, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite.classNames.concat([Graphics.className])\r\n});\r\n//# sourceMappingURL=Graphics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvR3JhcGhpY3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRTtBQUNqQztBQUNhO0FBQ1Q7QUFDRTtBQUNqQztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyx1QkFBdUIsMkNBQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsd0RBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkNBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQywyRUFBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDJFQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkNBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9HcmFwaGljcy5qcz9iZmFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBpY3R1cmVQYXR0ZXJuIH0gZnJvbSBcIi4uL3JlbmRlci9wYXR0ZXJucy9QaWN0dXJlUGF0dGVyblwiO1xyXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi9TcHJpdGVcIjtcclxuaW1wb3J0IHsgQmxlbmRNb2RlIH0gZnJvbSBcIi4vYmFja2VuZC9SZW5kZXJlclwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vdXRpbC9BcnJheVwiO1xyXG5leHBvcnQgY29uc3QgdmlzdWFsU2V0dGluZ3MgPSBbXCJmaWxsXCIsIFwiZmlsbE9wYWNpdHlcIiwgXCJzdHJva2VcIiwgXCJzdHJva2VXaWR0aFwiLCBcInN0cm9rZU9wYWNpdHlcIiwgXCJmaWxsUGF0dGVyblwiLCBcInN0cm9rZVBhdHRlcm5cIiwgXCJmaWxsR3JhZGllbnRcIiwgXCJzdHJva2VHcmFkaWVudFwiLCBcInN0cm9rZURhc2hhcnJheVwiLCBcInN0cm9rZURhc2hvZmZzZXRcIiwgXCJzaGFkb3dCbHVyXCIsIFwic2hhZG93Q29sb3JcIiwgXCJzaGFkb3dPcGFjaXR5XCIsIFwic2hhZG93T2Zmc2V0WFwiLCBcInNoYWRvd09mZnNldFlcIiwgXCJibHVyXCIsIFwic2VwaWFcIiwgXCJpbnZlcnRcIiwgXCJicmlnaHRuZXNzXCIsIFwiaHVlXCIsIFwiY29udHJhc3RcIiwgXCJzYXR1cmF0ZVwiXTtcclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgdXNlZCBmb3IgZHJhd2luZyBzaGFwZXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9ncmFwaGljcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdyYXBoaWNzIGV4dGVuZHMgU3ByaXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3BsYXlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fcm9vdC5fcmVuZGVyZXIubWFrZUdyYXBoaWNzKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2xlYXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImRyYXdcIikgfHwgdGhpcy5pc0RpcnR5KFwic3ZnUGF0aFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsbFwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VcIikgfHwgdGhpcy5pc0RpcnR5KFwidmlzaWJsZVwiKSB8fCB0aGlzLmlzRGlydHkoXCJmb3JjZUhpZGRlblwiKSB8fCB0aGlzLmlzRGlydHkoXCJzY2FsZVwiKSB8fCB0aGlzLmlzRGlydHkoXCJmaWxsR3JhZGllbnRcIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlR3JhZGllbnRcIikgfHwgdGhpcy5pc0RpcnR5KFwiZmlsbFBhdHRlcm5cIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlUGF0dGVyblwiKSB8fCB0aGlzLmlzRGlydHkoXCJmaWxsT3BhY2l0eVwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VPcGFjaXR5XCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cm9rZVdpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcImRyYXdcIikgfHwgdGhpcy5pc0RpcnR5KFwiYmxlbmRNb2RlXCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cm9rZURhc2hhcnJheVwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VEYXNob2Zmc2V0XCIpIHx8IHRoaXMuaXNEaXJ0eShcInN2Z1BhdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwibGluZUpvaW5cIikgfHwgdGhpcy5pc0RpcnR5KFwic2hhZG93Q29sb3JcIikgfHwgdGhpcy5pc0RpcnR5KFwic2hhZG93Qmx1clwiKSB8fCB0aGlzLmlzRGlydHkoXCJzaGFkb3dPZmZzZXRYXCIpIHx8IHRoaXMuaXNEaXJ0eShcInNoYWRvd09mZnNldFlcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kaXNwbGF5LmNyaXNwID0gdGhpcy5nZXQoXCJjcmlzcFwiLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImZpbGxHcmFkaWVudFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBncmFkaWVudCA9IHRoaXMuZ2V0KFwiZmlsbEdyYWRpZW50XCIpO1xyXG4gICAgICAgICAgICBpZiAoZ3JhZGllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuaXNNZWFzdXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmFkaWVudFRhcmdldCA9IGdyYWRpZW50LmdldChcInRhcmdldFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGdyYWRpZW50VGFyZ2V0LmV2ZW50cy5vbihcImJvdW5kc2NoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChncmFkaWVudFRhcmdldC5ldmVudHMub24oXCJwb3NpdGlvbmNoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwic3Ryb2tlR3JhZGllbnRcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSB0aGlzLmdldChcInN0cm9rZUdyYWRpZW50XCIpO1xyXG4gICAgICAgICAgICBpZiAoZ3JhZGllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuaXNNZWFzdXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmFkaWVudFRhcmdldCA9IGdyYWRpZW50LmdldChcInRhcmdldFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGdyYWRpZW50VGFyZ2V0LmV2ZW50cy5vbihcImJvdW5kc2NoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoXCJzdHJva2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGdyYWRpZW50VGFyZ2V0LmV2ZW50cy5vbihcInBvc2l0aW9uY2hhbmdlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShcInN0cm9rZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUxheWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuY2xlYXIoKTtcclxuICAgICAgICAgICAgbGV0IHN0cm9rZURhc2hhcnJheSA9IHRoaXMuZ2V0KFwic3Ryb2tlRGFzaGFycmF5XCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoc3Ryb2tlRGFzaGFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZURhc2hhcnJheSA8IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZURhc2hhcnJheSA9IFswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZURhc2hhcnJheSA9IFtzdHJva2VEYXNoYXJyYXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc2V0TGluZURhc2goc3Ryb2tlRGFzaGFycmF5KTtcclxuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlRGFzaG9mZnNldCA9IHRoaXMuZ2V0KFwic3Ryb2tlRGFzaG9mZnNldFwiKTtcclxuICAgICAgICAgICAgaWYgKHN0cm9rZURhc2hvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc2V0TGluZURhc2hPZmZzZXQoc3Ryb2tlRGFzaG9mZnNldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5nZXQoXCJibGVuZE1vZGVcIiwgQmxlbmRNb2RlLk5PUk1BTCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmxlbmRNb2RlID0gYmxlbmRNb2RlO1xyXG4gICAgICAgICAgICBjb25zdCBkcmF3ID0gdGhpcy5nZXQoXCJkcmF3XCIpO1xyXG4gICAgICAgICAgICBpZiAoZHJhdyAmJiB0eXBlb2YgZHJhdyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBkcmF3KHRoaXMuX2Rpc3BsYXksIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHN2Z1BhdGggPSB0aGlzLmdldChcInN2Z1BhdGhcIik7XHJcbiAgICAgICAgICAgIGlmIChzdmdQYXRoICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc3ZnUGF0aChzdmdQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZnRlckNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyQ2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxsID0gdGhpcy5nZXQoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxsR3JhZGllbnQgPSB0aGlzLmdldChcImZpbGxHcmFkaWVudFwiKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbFBhdHRlcm4gPSB0aGlzLmdldChcImZpbGxQYXR0ZXJuXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxsT3BhY2l0eSA9IHRoaXMuZ2V0KFwiZmlsbE9wYWNpdHlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMuZ2V0KFwic3Ryb2tlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdHJva2VHcmFkaWVudCA9IHRoaXMuZ2V0KFwic3Ryb2tlR3JhZGllbnRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZVBhdHRlcm4gPSB0aGlzLmdldChcInN0cm9rZVBhdHRlcm5cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0NvbG9yID0gdGhpcy5nZXQoXCJzaGFkb3dDb2xvclwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhZG93Qmx1ciA9IHRoaXMuZ2V0KFwic2hhZG93Qmx1clwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhZG93T2Zmc2V0WCA9IHRoaXMuZ2V0KFwic2hhZG93T2Zmc2V0WFwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhZG93T2Zmc2V0WSA9IHRoaXMuZ2V0KFwic2hhZG93T2Zmc2V0WVwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hhZG93T3BhY2l0eSA9IHRoaXMuZ2V0KFwic2hhZG93T3BhY2l0eVwiKTtcclxuICAgICAgICAgICAgaWYgKHNoYWRvd0NvbG9yICYmIChzaGFkb3dCbHVyIHx8IHNoYWRvd09mZnNldFggfHwgc2hhZG93T2Zmc2V0WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc2hhZG93KHNoYWRvd0NvbG9yLCBzaGFkb3dCbHVyLCBzaGFkb3dPZmZzZXRYLCBzaGFkb3dPZmZzZXRZLCBzaGFkb3dPcGFjaXR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAhZmlsbEdyYWRpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJlZ2luRmlsbChmaWxsLCBmaWxsT3BhY2l0eSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmVuZEZpbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmlsbEdyYWRpZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3BzID0gZmlsbEdyYWRpZW50LmdldChcInN0b3BzXCIsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHN0b3BzLCAoc3RvcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCghc3RvcC5jb2xvciB8fCBzdG9wLmNvbG9ySW5oZXJpdGVkKSAmJiBmaWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5jb2xvciA9IGZpbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5jb2xvckluaGVyaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcC5vcGFjaXR5ID09IG51bGwgfHwgc3RvcC5vcGFjaXR5SW5oZXJpdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5vcGFjaXR5ID0gZmlsbE9wYWNpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5vcGFjaXR5SW5oZXJpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBmaWxsR3JhZGllbnQuZ2V0RmlsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmVnaW5GaWxsKGdyYWRpZW50LCBmaWxsT3BhY2l0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5lbmRGaWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpbGxQYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gZmlsbFBhdHRlcm4ucGF0dGVybjtcclxuICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5iZWdpbkZpbGwocGF0dGVybiwgZmlsbE9wYWNpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZW5kRmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxsUGF0dGVybiBpbnN0YW5jZW9mIFBpY3R1cmVQYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuLmV2ZW50cy5vbmNlKFwibG9hZGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Ryb2tlIHx8IHN0cm9rZUdyYWRpZW50IHx8IHN0cm9rZVBhdHRlcm4pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cm9rZU9wYWNpdHkgPSB0aGlzLmdldChcInN0cm9rZU9wYWNpdHlcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3Ryb2tlV2lkdGggPSB0aGlzLmdldChcInN0cm9rZVdpZHRoXCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwibm9uU2NhbGluZ1N0cm9rZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoID0gc3Ryb2tlV2lkdGggLyB0aGlzLmdldChcInNjYWxlXCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiY3Jpc3BcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCAvPSB0aGlzLl9yb290Ll9yZW5kZXJlci5yZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUpvaW4gPSB0aGlzLmdldChcImxpbmVKb2luXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZSAmJiAhc3Ryb2tlR3JhZGllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmxpbmVTdHlsZShzdHJva2VXaWR0aCwgc3Ryb2tlLCBzdHJva2VPcGFjaXR5LCBsaW5lSm9pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5lbmRTdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VHcmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3BzID0gc3Ryb2tlR3JhZGllbnQuZ2V0KFwic3RvcHNcIiwgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9wcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goc3RvcHMsIChzdG9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCFzdG9wLmNvbG9yIHx8IHN0b3AuY29sb3JJbmhlcml0ZWQpICYmIHN0cm9rZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AuY29sb3IgPSBzdHJva2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5jb2xvckluaGVyaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcC5vcGFjaXR5ID09IG51bGwgfHwgc3RvcC5vcGFjaXR5SW5oZXJpdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5vcGFjaXR5ID0gc3Ryb2tlT3BhY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLm9wYWNpdHlJbmhlcml0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBzdHJva2VHcmFkaWVudC5nZXRGaWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmxpbmVTdHlsZShzdHJva2VXaWR0aCwgZ3JhZGllbnQsIHN0cm9rZU9wYWNpdHksIGxpbmVKb2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5lbmRTdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlUGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlICYmICghc3Ryb2tlUGF0dGVybi5nZXQoXCJjb2xvclwiKSB8fCBzdHJva2VQYXR0ZXJuLmdldChcImNvbG9ySW5oZXJpdGVkXCIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VQYXR0ZXJuLnNldChcImNvbG9yXCIsIHN0cm9rZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVBhdHRlcm4uc2V0KFwiY29sb3JJbmhlcml0ZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdG9kbzogaXMgdGhpcyBPSz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlUGF0dGVybi5fY2hhbmdlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gc3Ryb2tlUGF0dGVybi5wYXR0ZXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkubGluZVN0eWxlKHN0cm9rZVdpZHRoLCBwYXR0ZXJuLCBzdHJva2VPcGFjaXR5LCBsaW5lSm9pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZW5kU3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2VQYXR0ZXJuIGluc3RhbmNlb2YgUGljdHVyZVBhdHRlcm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVBhdHRlcm4uZXZlbnRzLm9uY2UoXCJsb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UHJpdmF0ZShcInNob3dpbmdUb29sdGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2xlYXIgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkdyYXBoaWNzXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBTcHJpdGUuY2xhc3NOYW1lcy5jb25jYXQoW0dyYXBoaWNzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GridLayout: () => (/* binding */ GridLayout)\n/* harmony export */ });\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n\r\n\r\n\r\n/**\r\n * A grid children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nclass GridLayout extends _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout {\r\n    _afterNew() {\r\n        this._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let paddingRight = container.get(\"paddingRight\", 0);\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableWidth = container.maxWidth() - paddingLeft - paddingRight;\r\n        let minCellWidth = availableWidth;\r\n        let maxCellWidth = 1;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")) {\r\n                if (child.get(\"position\") != \"absolute\") {\r\n                    let childWidth = child.width();\r\n                    if (childWidth < minCellWidth) {\r\n                        minCellWidth = childWidth;\r\n                    }\r\n                    if (childWidth > maxCellWidth) {\r\n                        maxCellWidth = childWidth;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        minCellWidth = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(minCellWidth, 1, availableWidth);\r\n        maxCellWidth = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(maxCellWidth, 1, availableWidth);\r\n        let columnCount = 1;\r\n        if (this.get(\"fixedWidthGrid\")) {\r\n            columnCount = availableWidth / maxCellWidth;\r\n        }\r\n        else {\r\n            columnCount = availableWidth / minCellWidth;\r\n        }\r\n        columnCount = Math.max(1, Math.floor(columnCount));\r\n        columnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\r\n        let columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n        let prevY = paddingTop;\r\n        let column = 0;\r\n        let maxColumnHeight = 0;\r\n        columnCount = columnWidths.length;\r\n        let prevX = paddingLeft;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\" && child.isVisible()) {\r\n                const marginTop = child.get(\"marginTop\", 0);\r\n                const marginBottom = child.get(\"marginBottom\", 0);\r\n                let bounds = child.adjustedLocalBounds();\r\n                let marginLeft = child.get(\"marginLeft\", 0);\r\n                let marginRight = child.get(\"marginRight\", 0);\r\n                let x = prevX + marginLeft - bounds.left;\r\n                let y = prevY + marginTop - bounds.top;\r\n                child.setPrivate(\"x\", x);\r\n                child.setPrivate(\"y\", y);\r\n                prevX += columnWidths[column] + marginRight;\r\n                maxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);\r\n                column++;\r\n                if (column >= columnCount) {\r\n                    column = 0;\r\n                    prevX = paddingLeft;\r\n                    prevY += maxColumnHeight;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getColumnWidths(container, columnCount, maxCellWidth, availableWidth) {\r\n        let totalWidth = 0;\r\n        let columnWidths = [];\r\n        let column = 0;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            let bounds = child.adjustedLocalBounds();\r\n            if (child.get(\"position\") != \"absolute\" && child.isVisible()) {\r\n                if (this.get(\"fixedWidthGrid\")) {\r\n                    columnWidths[column] = maxCellWidth;\r\n                }\r\n                else {\r\n                    columnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\r\n                }\r\n                if (column < container.children.length - 1) {\r\n                    column++;\r\n                    if (column == columnCount) {\r\n                        column = 0;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(columnWidths, (w) => {\r\n            totalWidth += w;\r\n        });\r\n        if (totalWidth > availableWidth) {\r\n            if (columnCount > 2) {\r\n                columnCount -= 1;\r\n                return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n            }\r\n            else {\r\n                return [availableWidth];\r\n            }\r\n        }\r\n        return columnWidths;\r\n    }\r\n}\r\nObject.defineProperty(GridLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"GridLayout\"\r\n});\r\nObject.defineProperty(GridLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout.classNames.concat([GridLayout.className])\r\n});\r\n//# sourceMappingURL=GridLayout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvR3JpZExheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ1I7QUFDRjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTLG9GQUFvRjtBQUM3RjtBQUNPLHlCQUF5QiwyQ0FBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1QixrREFBZ0I7QUFDdkMsdUJBQXVCLGtEQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDZDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJDQUFNO0FBQ2pCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvR3JpZExheW91dC5qcz84OGVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExheW91dCwgZWFjaENoaWxkcmVuIH0gZnJvbSBcIi4vTGF5b3V0XCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vdXRpbC9NYXRoXCI7XHJcbi8qKlxyXG4gKiBBIGdyaWQgY2hpbGRyZW4gbGF5b3V0IGZvciBbW0NvbnRhaW5lcl1dLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvY29udGFpbmVycy8jTGF5b3V0fSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR3JpZExheW91dCBleHRlbmRzIExheW91dCB7XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0UmF3RGVmYXVsdChcIm1heENvbHVtbnNcIiwgTnVtYmVyLk1BWF9WQUxVRSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGxldCBwYWRkaW5nTGVmdCA9IGNvbnRhaW5lci5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICBsZXQgcGFkZGluZ1JpZ2h0ID0gY29udGFpbmVyLmdldChcInBhZGRpbmdSaWdodFwiLCAwKTtcclxuICAgICAgICBsZXQgcGFkZGluZ1RvcCA9IGNvbnRhaW5lci5nZXQoXCJwYWRkaW5nVG9wXCIsIDApO1xyXG4gICAgICAgIGxldCBhdmFpbGFibGVXaWR0aCA9IGNvbnRhaW5lci5tYXhXaWR0aCgpIC0gcGFkZGluZ0xlZnQgLSBwYWRkaW5nUmlnaHQ7XHJcbiAgICAgICAgbGV0IG1pbkNlbGxXaWR0aCA9IGF2YWlsYWJsZVdpZHRoO1xyXG4gICAgICAgIGxldCBtYXhDZWxsV2lkdGggPSAxO1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuZ2V0KFwidmlzaWJsZVwiKSAmJiBjaGlsZC5nZXRQcml2YXRlKFwidmlzaWJsZVwiKSAmJiAhY2hpbGQuZ2V0KFwiZm9yY2VIaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSAhPSBcImFic29sdXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRXaWR0aCA9IGNoaWxkLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGggPCBtaW5DZWxsV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluQ2VsbFdpZHRoID0gY2hpbGRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGggPiBtYXhDZWxsV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q2VsbFdpZHRoID0gY2hpbGRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBtaW5DZWxsV2lkdGggPSAkbWF0aC5maXRUb1JhbmdlKG1pbkNlbGxXaWR0aCwgMSwgYXZhaWxhYmxlV2lkdGgpO1xyXG4gICAgICAgIG1heENlbGxXaWR0aCA9ICRtYXRoLmZpdFRvUmFuZ2UobWF4Q2VsbFdpZHRoLCAxLCBhdmFpbGFibGVXaWR0aCk7XHJcbiAgICAgICAgbGV0IGNvbHVtbkNvdW50ID0gMTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJmaXhlZFdpZHRoR3JpZFwiKSkge1xyXG4gICAgICAgICAgICBjb2x1bW5Db3VudCA9IGF2YWlsYWJsZVdpZHRoIC8gbWF4Q2VsbFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29sdW1uQ291bnQgPSBhdmFpbGFibGVXaWR0aCAvIG1pbkNlbGxXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29sdW1uQ291bnQgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKGNvbHVtbkNvdW50KSk7XHJcbiAgICAgICAgY29sdW1uQ291bnQgPSBNYXRoLm1pbih0aGlzLmdldChcIm1heENvbHVtbnNcIiwgTnVtYmVyLk1BWF9WQUxVRSksIGNvbHVtbkNvdW50KTtcclxuICAgICAgICBsZXQgY29sdW1uV2lkdGhzID0gdGhpcy5nZXRDb2x1bW5XaWR0aHMoY29udGFpbmVyLCBjb2x1bW5Db3VudCwgbWF4Q2VsbFdpZHRoLCBhdmFpbGFibGVXaWR0aCk7XHJcbiAgICAgICAgbGV0IHByZXZZID0gcGFkZGluZ1RvcDtcclxuICAgICAgICBsZXQgY29sdW1uID0gMDtcclxuICAgICAgICBsZXQgbWF4Q29sdW1uSGVpZ2h0ID0gMDtcclxuICAgICAgICBjb2x1bW5Db3VudCA9IGNvbHVtbldpZHRocy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHByZXZYID0gcGFkZGluZ0xlZnQ7XHJcbiAgICAgICAgZWFjaENoaWxkcmVuKGNvbnRhaW5lciwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIgJiYgY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmdpblRvcCA9IGNoaWxkLmdldChcIm1hcmdpblRvcFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmdpbkJvdHRvbSA9IGNoaWxkLmdldChcIm1hcmdpbkJvdHRvbVwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCBib3VuZHMgPSBjaGlsZC5hZGp1c3RlZExvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFyZ2luTGVmdCA9IGNoaWxkLmdldChcIm1hcmdpbkxlZnRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFyZ2luUmlnaHQgPSBjaGlsZC5nZXQoXCJtYXJnaW5SaWdodFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gcHJldlggKyBtYXJnaW5MZWZ0IC0gYm91bmRzLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHByZXZZICsgbWFyZ2luVG9wIC0gYm91bmRzLnRvcDtcclxuICAgICAgICAgICAgICAgIGNoaWxkLnNldFByaXZhdGUoXCJ4XCIsIHgpO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcInlcIiwgeSk7XHJcbiAgICAgICAgICAgICAgICBwcmV2WCArPSBjb2x1bW5XaWR0aHNbY29sdW1uXSArIG1hcmdpblJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgbWF4Q29sdW1uSGVpZ2h0ID0gTWF0aC5tYXgobWF4Q29sdW1uSGVpZ2h0LCBjaGlsZC5oZWlnaHQoKSArIG1hcmdpblRvcCArIG1hcmdpbkJvdHRvbSk7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW4rKztcclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4gPj0gY29sdW1uQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZYID0gcGFkZGluZ0xlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlkgKz0gbWF4Q29sdW1uSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0Q29sdW1uV2lkdGhzKGNvbnRhaW5lciwgY29sdW1uQ291bnQsIG1heENlbGxXaWR0aCwgYXZhaWxhYmxlV2lkdGgpIHtcclxuICAgICAgICBsZXQgdG90YWxXaWR0aCA9IDA7XHJcbiAgICAgICAgbGV0IGNvbHVtbldpZHRocyA9IFtdO1xyXG4gICAgICAgIGxldCBjb2x1bW4gPSAwO1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYm91bmRzID0gY2hpbGQuYWRqdXN0ZWRMb2NhbEJvdW5kcygpO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuZ2V0KFwicG9zaXRpb25cIikgIT0gXCJhYnNvbHV0ZVwiICYmIGNoaWxkLmlzVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJmaXhlZFdpZHRoR3JpZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoc1tjb2x1bW5dID0gbWF4Q2VsbFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uV2lkdGhzW2NvbHVtbl0gPSBNYXRoLm1heChjb2x1bW5XaWR0aHNbY29sdW1uXSB8IDAsIGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0ICsgY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKSArIGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4gPCBjb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4gPT0gY29sdW1uQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkYXJyYXkuZWFjaChjb2x1bW5XaWR0aHMsICh3KSA9PiB7XHJcbiAgICAgICAgICAgIHRvdGFsV2lkdGggKz0gdztcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodG90YWxXaWR0aCA+IGF2YWlsYWJsZVdpZHRoKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW5Db3VudCA+IDIpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbkNvdW50IC09IDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5XaWR0aHMoY29udGFpbmVyLCBjb2x1bW5Db3VudCwgbWF4Q2VsbFdpZHRoLCBhdmFpbGFibGVXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2F2YWlsYWJsZVdpZHRoXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sdW1uV2lkdGhzO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkTGF5b3V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJHcmlkTGF5b3V0XCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmlkTGF5b3V0LCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IExheW91dC5jbGFzc05hbWVzLmNvbmNhdChbR3JpZExheW91dC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JpZExheW91dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HorizontalLayout: () => (/* binding */ HorizontalLayout)\n/* harmony export */ });\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n\r\n\r\n\r\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nclass HorizontalLayout extends _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let availableWidth = container.innerWidth();\r\n        let totalPercent = 0;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        totalPercent += childWidth.value;\r\n                        let w = availableWidth * childWidth.value;\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        if (minWidth > w) {\r\n                            availableWidth -= minWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        if (w > maxWidth) {\r\n                            availableWidth -= maxWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!_util_Type__WEBPACK_IMPORTED_MODULE_2__.isNumber(childWidth)) {\r\n                            childWidth = child.width();\r\n                        }\r\n                        availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableWidth <= 0 || availableWidth == Infinity) {\r\n            availableWidth = .1;\r\n        }\r\n        //if (availableWidth > 0) {\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        let privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\r\n                        child.setPrivate(\"width\", privateWidth);\r\n                    }\r\n                    else {\r\n                        if (child._prevSettings.width instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                            child.setPrivate(\"width\", undefined);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevX = paddingLeft;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginLeft = child.get(\"marginLeft\", 0);\r\n                    let marginRight = child.get(\"marginRight\", 0);\r\n                    let maxWidth = child.get(\"maxWidth\");\r\n                    let left = bounds.left;\r\n                    let right = bounds.right;\r\n                    if (maxWidth) {\r\n                        if (right - left > maxWidth) {\r\n                            right = left + maxWidth;\r\n                        }\r\n                    }\r\n                    let x = prevX + marginLeft - left;\r\n                    child.setPrivate(\"x\", x);\r\n                    prevX = x + right + marginRight;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"x\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(HorizontalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HorizontalLayout\"\r\n});\r\nObject.defineProperty(HorizontalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout.classNames.concat([HorizontalLayout.className])\r\n});\r\n//# sourceMappingURL=HorizontalLayout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvSG9yaXpvbnRhbExheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ1Y7QUFDSTtBQUMxQztBQUNBO0FBQ0E7QUFDQSxTQUFTLG9GQUFvRjtBQUM3RjtBQUNPLCtCQUErQiwyQ0FBTTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGtEQUFPO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0RBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0RBQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsa0RBQU87QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxxREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJDQUFNO0FBQ2pCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvSG9yaXpvbnRhbExheW91dC5qcz8zM2UyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExheW91dCwgZWFjaENoaWxkcmVuIH0gZnJvbSBcIi4vTGF5b3V0XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi91dGlsL1R5cGVcIjtcclxuaW1wb3J0IHsgUGVyY2VudCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuLyoqXHJcbiAqIEEgaG9yaXpvbnRhbCBjaGlsZHJlbiBsYXlvdXQgZm9yIFtbQ29udGFpbmVyXV0uXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9jb250YWluZXJzLyNMYXlvdXR9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsTGF5b3V0IGV4dGVuZHMgTGF5b3V0IHtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVDb250YWluZXIoY29udGFpbmVyKSB7XHJcbiAgICAgICAgbGV0IHBhZGRpbmdMZWZ0ID0gY29udGFpbmVyLmdldChcInBhZGRpbmdMZWZ0XCIsIDApO1xyXG4gICAgICAgIGxldCBhdmFpbGFibGVXaWR0aCA9IGNvbnRhaW5lci5pbm5lcldpZHRoKCk7XHJcbiAgICAgICAgbGV0IHRvdGFsUGVyY2VudCA9IDA7XHJcbiAgICAgICAgZWFjaENoaWxkcmVuKGNvbnRhaW5lciwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpID09IFwicmVsYXRpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZFdpZHRoID0gY2hpbGQuZ2V0KFwid2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGggaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGVyY2VudCArPSBjaGlsZFdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IGF2YWlsYWJsZVdpZHRoICogY2hpbGRXaWR0aC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbldpZHRoID0gY2hpbGQuZ2V0KFwibWluV2lkdGhcIiwgY2hpbGQuZ2V0UHJpdmF0ZShcIm1pbldpZHRoXCIsIC1JbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluV2lkdGggPiB3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAtPSBtaW5XaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGVyY2VudCAtPSBjaGlsZFdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhXaWR0aCA9IGNoaWxkLmdldChcIm1heFdpZHRoXCIsIGNoaWxkLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAtPSBtYXhXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGVyY2VudCAtPSBjaGlsZFdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGNoaWxkV2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoID0gY2hpbGQud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAtPSBjaGlsZFdpZHRoICsgY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKSArIGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChhdmFpbGFibGVXaWR0aCA8PSAwIHx8IGF2YWlsYWJsZVdpZHRoID09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIGF2YWlsYWJsZVdpZHRoID0gLjE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaWYgKGF2YWlsYWJsZVdpZHRoID4gMCkge1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRXaWR0aCA9IGNoaWxkLmdldChcIndpZHRoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZFdpZHRoIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpdmF0ZVdpZHRoID0gYXZhaWxhYmxlV2lkdGggKiBjaGlsZFdpZHRoLnZhbHVlIC8gdG90YWxQZXJjZW50IC0gY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKSAtIGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluV2lkdGggPSBjaGlsZC5nZXQoXCJtaW5XaWR0aFwiLCBjaGlsZC5nZXRQcml2YXRlKFwibWluV2lkdGhcIiwgLUluZmluaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhXaWR0aCA9IGNoaWxkLmdldChcIm1heFdpZHRoXCIsIGNoaWxkLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlV2lkdGggPSBNYXRoLm1pbihNYXRoLm1heChtaW5XaWR0aCwgcHJpdmF0ZVdpZHRoKSwgbWF4V2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwid2lkdGhcIiwgcHJpdmF0ZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5fcHJldlNldHRpbmdzLndpZHRoIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcIndpZHRoXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL31cclxuICAgICAgICBsZXQgcHJldlggPSBwYWRkaW5nTGVmdDtcclxuICAgICAgICBlYWNoQ2hpbGRyZW4oY29udGFpbmVyLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpID09IFwicmVsYXRpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmlzVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvdW5kcyA9IGNoaWxkLmFkanVzdGVkTG9jYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWFyZ2luTGVmdCA9IGNoaWxkLmdldChcIm1hcmdpbkxlZnRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmdpblJpZ2h0ID0gY2hpbGQuZ2V0KFwibWFyZ2luUmlnaHRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1heFdpZHRoID0gY2hpbGQuZ2V0KFwibWF4V2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnQgPSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmlnaHQgPSBib3VuZHMucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyaWdodCAtIGxlZnQgPiBtYXhXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgbWF4V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBwcmV2WCArIG1hcmdpbkxlZnQgLSBsZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldFByaXZhdGUoXCJ4XCIsIHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZYID0geCArIHJpZ2h0ICsgbWFyZ2luUmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhvcml6b250YWxMYXlvdXQsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkhvcml6b250YWxMYXlvdXRcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhvcml6b250YWxMYXlvdXQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogTGF5b3V0LmNsYXNzTmFtZXMuY29uY2F0KFtIb3Jpem9udGFsTGF5b3V0LmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ib3Jpem9udGFsTGF5b3V0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Label: () => (/* binding */ Label)\n/* harmony export */ });\n/* harmony import */ var _render_Text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../render/Text */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a label with support for in-line styling and data bindings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\r\n */\r\nclass Label extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_textKeys\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"text\",\r\n                \"fill\",\r\n                \"fillOpacity\",\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"populateText\",\r\n                \"role\",\r\n                \"ignoreFormatting\",\r\n                \"maxChars\",\r\n                \"ariaLabel\"\r\n            ]\r\n        });\r\n    }\r\n    /**\r\n     * @ignore Text is not to be used directly\r\n     */\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._makeText();\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this._textKeys, (property) => {\r\n            const propValue = this.get(property);\r\n            if (propValue != undefined) {\r\n                this._text.set(property, propValue);\r\n            }\r\n        });\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            this._text.set(\"text\", \"\");\r\n        }\r\n        this.onPrivate(\"maxWidth\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n        this.onPrivate(\"maxHeight\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n    }\r\n    _makeText() {\r\n        this._text = this.children.push(_render_Text__WEBPACK_IMPORTED_MODULE_2__.Text.new(this._root, {}));\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        const text = this._text;\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this._textKeys, (property) => {\r\n            this._text.set(property, this.get(property));\r\n        });\r\n        if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isDirty(\"rotation\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        // Do not show regular text if HTML is used\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            text.set(\"text\", \"\");\r\n        }\r\n        else {\r\n            text.set(\"text\", this.get(\"text\"));\r\n            this._maybeUpdateHTMLColor();\r\n        }\r\n        if (this.isDirty(\"fill\")) {\r\n            this._maybeUpdateHTMLColor();\r\n        }\r\n        if (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\r\n            const textAlign = this.get(\"textAlign\");\r\n            let x;\r\n            if (this.get(\"width\") != null) {\r\n                if (textAlign == \"right\") {\r\n                    x = _util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100;\r\n                }\r\n                else if (textAlign == \"center\") {\r\n                    x = _util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50;\r\n                }\r\n                else {\r\n                    x = 0;\r\n                }\r\n            }\r\n            else {\r\n                if (textAlign == \"left\" || textAlign == \"start\") {\r\n                    x = this.get(\"paddingLeft\", 0);\r\n                }\r\n                else if (textAlign == \"right\" || textAlign == \"end\") {\r\n                    x = -this.get(\"paddingRight\", 0);\r\n                }\r\n            }\r\n            text.set(\"x\", x);\r\n        }\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            background.setPrivate(\"visible\", text._display.textVisible);\r\n        }\r\n    }\r\n    _maybeUpdateHTMLColor() {\r\n        const htmlElement = this.getPrivate(\"htmlElement\");\r\n        if (htmlElement && this.get(\"fill\")) {\r\n            htmlElement.style.color = this.get(\"fill\").toCSSHex();\r\n        }\r\n    }\r\n    _setMaxDimentions() {\r\n        const rotation = this.get(\"rotation\");\r\n        const vertical = rotation == 90 || rotation == 270 || rotation == -90;\r\n        const text = this._text;\r\n        const maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(maxWidth)) {\r\n            text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\r\n        }\r\n        else {\r\n            text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\r\n        }\r\n        const maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(maxHeight)) {\r\n            text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\r\n        }\r\n        else {\r\n            text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\r\n        }\r\n        this.root.events.once(\"frameended\", () => {\r\n            text.markDirtyBounds();\r\n        });\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this._markDirtyKey(\"text\");\r\n        const text = this._text;\r\n        if (text.get(\"populateText\")) {\r\n            text.markDirtyText();\r\n        }\r\n        const html = this.get(\"html\");\r\n        if (html && html !== \"\") {\r\n            this._updateHTMLContent();\r\n        }\r\n    }\r\n    /**\r\n     * Returns text with populated placeholders and formatting if `populateText` is\r\n     * set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    getText() {\r\n        return this._text._getText();\r\n    }\r\n    /**\r\n     * Returns \"aria-label\" text with populated placeholders and formatting\r\n     * if `populateText` is set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    getAccessibleText() {\r\n        return this._text._getAccessibleText();\r\n    }\r\n}\r\nObject.defineProperty(Label, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Label\"\r\n});\r\nObject.defineProperty(Label, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Label.className])\r\n});\r\n//# sourceMappingURL=Label.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGFiZWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQ007QUFDSjtBQUNRO0FBQ0Y7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5RUFBeUU7QUFDbEY7QUFDTyxvQkFBb0IsaURBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdDQUF3Qyw4Q0FBSSxtQkFBbUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtDQUFJO0FBQzVCO0FBQ0E7QUFDQSx3QkFBd0IsOENBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGFiZWwuanM/OGRkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0IH0gZnJvbSBcIi4uL3JlbmRlci9UZXh0XCI7XHJcbmltcG9ydCB7IHA1MCwgcDEwMCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4vQ29udGFpbmVyXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZVwiO1xyXG4vKipcclxuICogQ3JlYXRlcyBhIGxhYmVsIHdpdGggc3VwcG9ydCBmb3IgaW4tbGluZSBzdHlsaW5nIGFuZCBkYXRhIGJpbmRpbmdzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvbGFiZWxzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExhYmVsIGV4dGVuZHMgQ29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RleHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RleHRLZXlzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgXCJmaWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcImZpbGxPcGFjaXR5XCIsXHJcbiAgICAgICAgICAgICAgICBcInRleHRBbGlnblwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250RmFtaWx5XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTaXplXCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250V2VpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250VmFyaWFudFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dDb2xvclwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dCbHVyXCIsXHJcbiAgICAgICAgICAgICAgICBcInNoYWRvd09mZnNldFhcIixcclxuICAgICAgICAgICAgICAgIFwic2hhZG93T2Zmc2V0WVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dPcGFjaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcImxlYWRpbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIFwibGV0dGVyU3BhY2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgXCJsaW5lSGVpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImJhc2VsaW5lUmF0aW9cIixcclxuICAgICAgICAgICAgICAgIC8vXCJwYWRkaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJzdHJva2VUaGlja25lc3NcIixcclxuICAgICAgICAgICAgICAgIC8vIFwidHJpbVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJ3b3JkV3JhcFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXJlY3Rpb25cIixcclxuICAgICAgICAgICAgICAgIFwidGV4dEJhc2VsaW5lXCIsXHJcbiAgICAgICAgICAgICAgICBcIm92ZXJzaXplZEJlaGF2aW9yXCIsXHJcbiAgICAgICAgICAgICAgICBcImJyZWFrV29yZHNcIixcclxuICAgICAgICAgICAgICAgIFwiZWxsaXBzaXNcIixcclxuICAgICAgICAgICAgICAgIFwibWluU2NhbGVcIixcclxuICAgICAgICAgICAgICAgIFwicG9wdWxhdGVUZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBcInJvbGVcIixcclxuICAgICAgICAgICAgICAgIFwiaWdub3JlRm9ybWF0dGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgXCJtYXhDaGFyc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJhcmlhTGFiZWxcIlxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmUgVGV4dCBpcyBub3QgdG8gYmUgdXNlZCBkaXJlY3RseVxyXG4gICAgICovXHJcbiAgICBnZXQgdGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLl9tYWtlVGV4dCgpO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRLZXlzLCAocHJvcGVydHkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJvcFZhbHVlID0gdGhpcy5nZXQocHJvcGVydHkpO1xyXG4gICAgICAgICAgICBpZiAocHJvcFZhbHVlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dC5zZXQocHJvcGVydHksIHByb3BWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJodG1sXCIsIFwiXCIpICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHQuc2V0KFwidGV4dFwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vblByaXZhdGUoXCJtYXhXaWR0aFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE1heERpbWVudGlvbnMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uUHJpdmF0ZShcIm1heEhlaWdodFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE1heERpbWVudGlvbnMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9tYWtlVGV4dCgpIHtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5jaGlsZHJlbi5wdXNoKFRleHQubmV3KHRoaXMuX3Jvb3QsIHt9KSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgc3VwZXIuX3VwZGF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHQ7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGV4dEtleXMsIChwcm9wZXJ0eSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0LnNldChwcm9wZXJ0eSwgdGhpcy5nZXQocHJvcGVydHkpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibWF4V2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwibWF4SGVpZ2h0XCIpIHx8IHRoaXMuaXNEaXJ0eShcInJvdGF0aW9uXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE1heERpbWVudGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90IHNob3cgcmVndWxhciB0ZXh0IGlmIEhUTUwgaXMgdXNlZFxyXG4gICAgICAgIGlmICh0aGlzLmdldChcImh0bWxcIiwgXCJcIikgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGV4dC5zZXQoXCJ0ZXh0XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGV4dC5zZXQoXCJ0ZXh0XCIsIHRoaXMuZ2V0KFwidGV4dFwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21heWJlVXBkYXRlSFRNTENvbG9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmaWxsXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21heWJlVXBkYXRlSFRNTENvbG9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0ZXh0QWxpZ25cIikgfHwgdGhpcy5pc0RpcnR5KFwid2lkdGhcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdGV4dEFsaWduID0gdGhpcy5nZXQoXCJ0ZXh0QWxpZ25cIik7XHJcbiAgICAgICAgICAgIGxldCB4O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ3aWR0aFwiKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dEFsaWduID09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwMTAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dEFsaWduID09IFwiY2VudGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gcDUwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dEFsaWduID09IFwibGVmdFwiIHx8IHRleHRBbGlnbiA9PSBcInN0YXJ0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gdGhpcy5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHRBbGlnbiA9PSBcInJpZ2h0XCIgfHwgdGV4dEFsaWduID09IFwiZW5kXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gLXRoaXMuZ2V0KFwicGFkZGluZ1JpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRleHQuc2V0KFwieFwiLCB4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHRleHQuX2Rpc3BsYXkudGV4dFZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tYXliZVVwZGF0ZUhUTUxDb2xvcigpIHtcclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IHRoaXMuZ2V0UHJpdmF0ZShcImh0bWxFbGVtZW50XCIpO1xyXG4gICAgICAgIGlmIChodG1sRWxlbWVudCAmJiB0aGlzLmdldChcImZpbGxcIikpIHtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuY29sb3IgPSB0aGlzLmdldChcImZpbGxcIikudG9DU1NIZXgoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0TWF4RGltZW50aW9ucygpIHtcclxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuZ2V0KFwicm90YXRpb25cIik7XHJcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSByb3RhdGlvbiA9PSA5MCB8fCByb3RhdGlvbiA9PSAyNzAgfHwgcm90YXRpb24gPT0gLTkwO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl90ZXh0O1xyXG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5nZXQoXCJtYXhXaWR0aFwiLCB0aGlzLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhXaWR0aCkpIHtcclxuICAgICAgICAgICAgdGV4dC5zZXQodmVydGljYWwgPyBcIm1heEhlaWdodFwiIDogXCJtYXhXaWR0aFwiLCBtYXhXaWR0aCAtIHRoaXMuZ2V0KFwicGFkZGluZ0xlZnRcIiwgMCkgLSB0aGlzLmdldChcInBhZGRpbmdSaWdodFwiLCAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0ZXh0LnNldCh2ZXJ0aWNhbCA/IFwibWF4SGVpZ2h0XCIgOiBcIm1heFdpZHRoXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMuZ2V0KFwibWF4SGVpZ2h0XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIHRleHQuc2V0KHZlcnRpY2FsID8gXCJtYXhXaWR0aFwiIDogXCJtYXhIZWlnaHRcIiwgbWF4SGVpZ2h0IC0gdGhpcy5nZXQoXCJwYWRkaW5nVG9wXCIsIDApIC0gdGhpcy5nZXQoXCJwYWRkaW5nQm90dG9tXCIsIDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHQuc2V0KHZlcnRpY2FsID8gXCJtYXhXaWR0aFwiIDogXCJtYXhIZWlnaHRcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb290LmV2ZW50cy5vbmNlKFwiZnJhbWVlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRleHQubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBzdXBlci5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShcInRleHRcIik7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHQ7XHJcbiAgICAgICAgaWYgKHRleHQuZ2V0KFwicG9wdWxhdGVUZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIHRleHQubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBodG1sID0gdGhpcy5nZXQoXCJodG1sXCIpO1xyXG4gICAgICAgIGlmIChodG1sICYmIGh0bWwgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlSFRNTENvbnRlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGV4dCB3aXRoIHBvcHVsYXRlZCBwbGFjZWhvbGRlcnMgYW5kIGZvcm1hdHRpbmcgaWYgYHBvcHVsYXRlVGV4dGAgaXNcclxuICAgICAqIHNldCB0byBgdHJ1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBQb3B1bGF0ZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBnZXRUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0Ll9nZXRUZXh0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgXCJhcmlhLWxhYmVsXCIgdGV4dCB3aXRoIHBvcHVsYXRlZCBwbGFjZWhvbGRlcnMgYW5kIGZvcm1hdHRpbmdcclxuICAgICAqIGlmIGBwb3B1bGF0ZVRleHRgIGlzIHNldCB0byBgdHJ1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBQb3B1bGF0ZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBnZXRBY2Nlc3NpYmxlVGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dC5fZ2V0QWNjZXNzaWJsZVRleHQoKTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGFiZWwsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkxhYmVsXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMYWJlbCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBDb250YWluZXIuY2xhc3NOYW1lcy5jb25jYXQoW0xhYmVsLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MYWJlbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Layout: () => (/* binding */ Layout),\n/* harmony export */   eachChildren: () => (/* binding */ eachChildren)\n/* harmony export */ });\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\nfunction eachChildren(container, f) {\r\n    if (container.get(\"reverseChildren\", false)) {\r\n        container.children.eachReverse(f);\r\n    }\r\n    else {\r\n        container.children.each(f);\r\n    }\r\n}\r\n/**\r\n * Base class for [[Container]] layouts.\r\n */\r\nclass Layout extends _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n}\r\nObject.defineProperty(Layout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Layout\"\r\n});\r\nObject.defineProperty(Layout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([Layout.className])\r\n});\r\n//# sourceMappingURL=Layout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGF5b3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3QztBQUNqQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGdEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9MYXlvdXQuanM/NGJmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vdXRpbC9FbnRpdHlcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGVhY2hDaGlsZHJlbihjb250YWluZXIsIGYpIHtcclxuICAgIGlmIChjb250YWluZXIuZ2V0KFwicmV2ZXJzZUNoaWxkcmVuXCIsIGZhbHNlKSkge1xyXG4gICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5lYWNoUmV2ZXJzZShmKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5lYWNoKGYpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBbW0NvbnRhaW5lcl1dIGxheW91dHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgRW50aXR5IHtcclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGF5b3V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJMYXlvdXRcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExheW91dCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBFbnRpdHkuY2xhc3NOYW1lcy5jb25jYXQoW0xheW91dC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5b3V0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Legend.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Legend.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Legend: () => (/* binding */ Legend)\n/* harmony export */ });\n/* harmony import */ var _Series__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Series */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Label__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n/* harmony import */ var _core_render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/render/RoundedRectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js\");\n/* harmony import */ var _core_util_Template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A universal legend control.\r\n *\r\n * @important\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/legend/} for more info\r\n */\r\nclass Legend extends _Series__WEBPACK_IMPORTED_MODULE_0__.Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * List of all [[Container]] elements for legend items.\r\n         *\r\n         * @default new ListTemplate<Container>\r\n         */\r\n        Object.defineProperty(this, \"itemContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Container__WEBPACK_IMPORTED_MODULE_3__.Container._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\"]),\r\n                themeTagsSelf: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"]),\r\n                background: _core_render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_5__.RoundedRectangle.new(this._root, {\r\n                    themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\", \"background\"]),\r\n                    themeTagsSelf: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"])\r\n                })\r\n            }, [this.itemContainers.template]))\r\n        });\r\n        /**\r\n         * List of legend marker elements.\r\n         *\r\n         * @default new ListTemplate<Container>\r\n         */\r\n        Object.defineProperty(this, \"markers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Container__WEBPACK_IMPORTED_MODULE_3__.Container._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.markers.template.get(\"themeTags\", []), [\"legend\", \"marker\"])\r\n            }, [this.markers.template]))\r\n        });\r\n        /**\r\n         * List of legend label elements.\r\n         *\r\n         * @default new ListTemplate<Label>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Label__WEBPACK_IMPORTED_MODULE_6__.Label._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.labels.template.get(\"themeTags\", []), [\"legend\", \"label\"])\r\n            }, [this.labels.template]))\r\n        });\r\n        /**\r\n         * List of legend value label elements.\r\n         *\r\n         * @default new ListTemplate<label>\r\n         */\r\n        Object.defineProperty(this, \"valueLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Label__WEBPACK_IMPORTED_MODULE_6__.Label._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.valueLabels.template.get(\"themeTags\", []), [\"legend\", \"label\", \"value\"])\r\n            }, [this.valueLabels.template]))\r\n        });\r\n        /**\r\n         * List of rectangle elements used for default legend markers.\r\n         *\r\n         * @default new ListTemplate<RoundedRectangle>\r\n         */\r\n        Object.defineProperty(this, \"markerRectangles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_5__.RoundedRectangle._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.markerRectangles.template.get(\"themeTags\", []), [\"legend\", \"marker\", \"rectangle\"])\r\n            }, [this.markerRectangles.template]))\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this._settings.themeTags, [\"legend\"]);\r\n        this.fields.push(\"name\", \"stroke\", \"fill\");\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeItemContainer(dataItem) {\r\n        const itemContainer = this.children.push(this.itemContainers.make());\r\n        itemContainer._setDataItem(dataItem);\r\n        this.itemContainers.push(itemContainer);\r\n        itemContainer.states.create(\"disabled\", {});\r\n        return itemContainer;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeMarker() {\r\n        const marker = this.markers.make();\r\n        this.markers.push(marker);\r\n        marker.states.create(\"disabled\", {});\r\n        return marker;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel() {\r\n        const label = this.labels.make();\r\n        label.states.create(\"disabled\", {});\r\n        return label;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeValueLabel() {\r\n        const valueLabel = this.valueLabels.make();\r\n        valueLabel.states.create(\"disabled\", {});\r\n        return valueLabel;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeMarkerRectangle() {\r\n        const markerRectangle = this.markerRectangles.make();\r\n        markerRectangle.states.create(\"disabled\", {});\r\n        return markerRectangle;\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const itemContainer = this.makeItemContainer(dataItem);\r\n        const nameField = this.get(\"nameField\");\r\n        const fillField = this.get(\"fillField\");\r\n        const strokeField = this.get(\"strokeField\");\r\n        if (itemContainer) {\r\n            const clickTarget = this.get(\"clickTarget\", \"itemContainer\");\r\n            const item = dataItem.dataContext;\r\n            if (item && item.set) {\r\n                item.set(\"legendDataItem\", dataItem);\r\n            }\r\n            itemContainer._setDataItem(dataItem);\r\n            dataItem.set(\"itemContainer\", itemContainer);\r\n            const marker = this.makeMarker();\r\n            if (marker) {\r\n                itemContainer.children.push(marker);\r\n                marker._setDataItem(dataItem);\r\n                dataItem.set(\"marker\", marker);\r\n                const useDefaultMarker = this.get(\"useDefaultMarker\");\r\n                const markerRectangle = marker.children.push(this.makeMarkerRectangle());\r\n                let fill = dataItem.get(\"fill\");\r\n                let stroke = dataItem.get(\"stroke\");\r\n                dataItem.set(\"markerRectangle\", markerRectangle);\r\n                if (item && item.get) {\r\n                    fill = item.get(fillField, fill);\r\n                    stroke = item.get(strokeField, stroke);\r\n                }\r\n                if (!stroke) {\r\n                    stroke = fill;\r\n                }\r\n                if (!useDefaultMarker) {\r\n                    if (item && item.createLegendMarker) {\r\n                        item.createLegendMarker();\r\n                    }\r\n                }\r\n                else {\r\n                    if (item.on) {\r\n                        item.on(fillField, () => {\r\n                            markerRectangle.set(\"fill\", item.get(fillField));\r\n                        });\r\n                        item.on(strokeField, () => {\r\n                            markerRectangle.set(\"stroke\", item.get(strokeField));\r\n                        });\r\n                    }\r\n                }\r\n                markerRectangle.setAll({ fill, stroke });\r\n                // this solves if template field is set on slice\r\n                const component = item.component;\r\n                if (component && component.updateLegendMarker) {\r\n                    component.updateLegendMarker(item);\r\n                }\r\n            }\r\n            const label = this.makeLabel();\r\n            if (label) {\r\n                itemContainer.children.push(label);\r\n                label._setDataItem(dataItem);\r\n                dataItem.set(\"label\", label);\r\n                label.text.on(\"text\", () => {\r\n                    itemContainer.setRaw(\"ariaLabel\", label.text._getText() + (this.get(\"clickTarget\") !== \"none\" ? \"; \" + this._t(\"Press ENTER to toggle\") : \"\"));\r\n                    itemContainer.markDirtyAccessibility();\r\n                });\r\n                if (item && item.get) {\r\n                    dataItem.set(\"name\", item.get(nameField));\r\n                }\r\n                let name = dataItem.get(\"name\");\r\n                if (name) {\r\n                    label.set(\"text\", name);\r\n                }\r\n            }\r\n            const valueLabel = this.makeValueLabel();\r\n            if (valueLabel) {\r\n                itemContainer.children.push(valueLabel);\r\n                valueLabel._setDataItem(dataItem);\r\n                dataItem.set(\"valueLabel\", valueLabel);\r\n            }\r\n            if (item && item.show) {\r\n                item.on(\"visible\", (visible) => {\r\n                    itemContainer.set(\"disabled\", !visible);\r\n                });\r\n                if (!item.get(\"visible\")) {\r\n                    itemContainer.set(\"disabled\", true);\r\n                }\r\n                if (clickTarget != \"none\") {\r\n                    let clickContainer = itemContainer;\r\n                    if (clickTarget == \"marker\") {\r\n                        clickContainer = marker;\r\n                    }\r\n                    this._addClickEvents(clickContainer, item, dataItem);\r\n                }\r\n            }\r\n            // Sort children\r\n            this.children.values.sort((a, b) => {\r\n                const targetA = a.dataItem.dataContext;\r\n                const targetB = b.dataItem.dataContext;\r\n                if (targetA && targetB) {\r\n                    const indexA = this.data.indexOf(targetA);\r\n                    const indexB = this.data.indexOf(targetB);\r\n                    if (indexA > indexB) {\r\n                        return 1;\r\n                    }\r\n                    else if (indexA < indexB) {\r\n                        return -1;\r\n                    }\r\n                }\r\n                return 0;\r\n            });\r\n            if (item && item.updateLegendValue) {\r\n                item.updateLegendValue();\r\n            }\r\n        }\r\n    }\r\n    _addClickEvents(container, item, dataItem) {\r\n        container.set(\"cursorOverStyle\", \"pointer\");\r\n        container.events.on(\"pointerover\", () => {\r\n            const component = item.component;\r\n            if (component && component.hoverDataItem) {\r\n                component.hoverDataItem(item);\r\n            }\r\n        });\r\n        container.events.on(\"pointerout\", () => {\r\n            const component = item.component;\r\n            if (component && component.hoverDataItem) {\r\n                component.unhoverDataItem(item);\r\n            }\r\n        });\r\n        container.events.on(\"click\", () => {\r\n            const labelText = dataItem.get(\"label\").text._getText();\r\n            if (item.show && item.isHidden && (item.isHidden() || item.get(\"visible\") === false)) {\r\n                item.show();\r\n                container.set(\"disabled\", false);\r\n                this._root.readerAlert(this._t(\"%1 shown\", this._root.locale, labelText));\r\n            }\r\n            else if (item.hide) {\r\n                item.hide();\r\n                container.set(\"disabled\", true);\r\n                this._root.readerAlert(this._t(\"%1 hidden\", this._root.locale, labelText));\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const dataContext = dataItem.dataContext;\r\n        if (dataContext && dataContext.get) {\r\n            const di = dataContext.get(\"legendDataItem\");\r\n            if (di == dataItem) {\r\n                dataContext.set(\"legendDataItem\", undefined);\r\n            }\r\n        }\r\n        let itemContainer = dataItem.get(\"itemContainer\");\r\n        if (itemContainer) {\r\n            this.itemContainers.removeValue(itemContainer);\r\n            itemContainer.dispose();\r\n        }\r\n        let marker = dataItem.get(\"marker\");\r\n        if (marker) {\r\n            this.markers.removeValue(marker);\r\n            marker.dispose();\r\n        }\r\n        let markerRectangle = dataItem.get(\"markerRectangle\");\r\n        if (markerRectangle) {\r\n            this.markerRectangles.removeValue(markerRectangle);\r\n            markerRectangle.dispose();\r\n        }\r\n        let label = dataItem.get(\"label\");\r\n        if (label) {\r\n            this.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        let valueLabel = dataItem.get(\"valueLabel\");\r\n        if (valueLabel) {\r\n            this.valueLabels.removeValue(valueLabel);\r\n            valueLabel.dispose();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Legend, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Legend\"\r\n});\r\nObject.defineProperty(Legend, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Series__WEBPACK_IMPORTED_MODULE_0__.Series.classNames.concat([Legend.className])\r\n});\r\n//# sourceMappingURL=Legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGVnZW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ3NCO0FBQ1I7QUFDc0I7QUFDbEI7QUFDQTtBQUNKO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5REFBeUQ7QUFDbEU7QUFDTyxxQkFBcUIsMkNBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBWSxDQUFDLHlEQUFRLE9BQU8sU0FBUyw2REFBUztBQUNyRSwyQkFBMkIsdURBQWdCO0FBQzNDLCtCQUErQix1REFBZ0I7QUFDL0MsNEJBQTRCLDJFQUFnQjtBQUM1QywrQkFBK0IsdURBQWdCO0FBQy9DLG1DQUFtQyx1REFBZ0I7QUFDbkQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlEQUFZLENBQUMseURBQVEsT0FBTyxTQUFTLDZEQUFTO0FBQ3JFLDJCQUEyQix1REFBZ0I7QUFDM0MsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMscURBQUs7QUFDakUsMkJBQTJCLHVEQUFnQjtBQUMzQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBWSxDQUFDLHlEQUFRLE9BQU8sU0FBUyxxREFBSztBQUNqRSwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlEQUFZLENBQUMseURBQVEsT0FBTyxTQUFTLDJFQUFnQjtBQUM1RSwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1DQUFtQyx1REFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUhBQXVIO0FBQ3ZIO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL0xlZ2VuZC5qcz85YmNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcmllcyB9IGZyb20gXCIuL1Nlcmllc1wiO1xyXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0xhYmVsXCI7XHJcbmltcG9ydCB7IFJvdW5kZWRSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvUm91bmRlZFJlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgTGlzdFRlbXBsYXRlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9MaXN0XCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1V0aWxzXCI7XHJcbi8qKlxyXG4gKiBBIHVuaXZlcnNhbCBsZWdlbmQgY29udHJvbC5cclxuICpcclxuICogQGltcG9ydGFudFxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9sZWdlbmQvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGVnZW5kIGV4dGVuZHMgU2VyaWVzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCBvZiBhbGwgW1tDb250YWluZXJdXSBlbGVtZW50cyBmb3IgbGVnZW5kIGl0ZW1zLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgbmV3IExpc3RUZW1wbGF0ZTxDb250YWluZXI+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXRlbUNvbnRhaW5lcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IExpc3RUZW1wbGF0ZShUZW1wbGF0ZS5uZXcoe30pLCAoKSA9PiBDb250YWluZXIuX25ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5pdGVtQ29udGFpbmVycy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NcIiwgW10pLCBbXCJsZWdlbmRcIiwgXCJpdGVtXCJdKSxcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnc1NlbGY6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5pdGVtQ29udGFpbmVycy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NTZWxmXCIsIFtdKSwgW1wiaXRlbWNvbnRhaW5lclwiXSksXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBSb3VuZGVkUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMuaXRlbUNvbnRhaW5lcnMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW1wibGVnZW5kXCIsIFwiaXRlbVwiLCBcImJhY2tncm91bmRcIl0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lVGFnc1NlbGY6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5pdGVtQ29udGFpbmVycy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NTZWxmXCIsIFtdKSwgW1wiaXRlbWNvbnRhaW5lclwiXSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sIFt0aGlzLml0ZW1Db250YWluZXJzLnRlbXBsYXRlXSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCBvZiBsZWdlbmQgbWFya2VyIGVsZW1lbnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgbmV3IExpc3RUZW1wbGF0ZTxDb250YWluZXI+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWFya2Vyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IENvbnRhaW5lci5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLm1hcmtlcnMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW1wibGVnZW5kXCIsIFwibWFya2VyXCJdKVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5tYXJrZXJzLnRlbXBsYXRlXSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCBvZiBsZWdlbmQgbGFiZWwgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgTGlzdFRlbXBsYXRlPExhYmVsPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhYmVsc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IExhYmVsLl9uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMubGFiZWxzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXSksIFtcImxlZ2VuZFwiLCBcImxhYmVsXCJdKVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5sYWJlbHMudGVtcGxhdGVdKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0IG9mIGxlZ2VuZCB2YWx1ZSBsYWJlbCBlbGVtZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8bGFiZWw+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsdWVMYWJlbHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IExpc3RUZW1wbGF0ZShUZW1wbGF0ZS5uZXcoe30pLCAoKSA9PiBMYWJlbC5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLnZhbHVlTGFiZWxzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXSksIFtcImxlZ2VuZFwiLCBcImxhYmVsXCIsIFwidmFsdWVcIl0pXHJcbiAgICAgICAgICAgIH0sIFt0aGlzLnZhbHVlTGFiZWxzLnRlbXBsYXRlXSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCBvZiByZWN0YW5nbGUgZWxlbWVudHMgdXNlZCBmb3IgZGVmYXVsdCBsZWdlbmQgbWFya2Vycy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8Um91bmRlZFJlY3RhbmdsZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXJrZXJSZWN0YW5nbGVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gUm91bmRlZFJlY3RhbmdsZS5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLm1hcmtlclJlY3RhbmdsZXMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW1wibGVnZW5kXCIsIFwibWFya2VyXCIsIFwicmVjdGFuZ2xlXCJdKVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5tYXJrZXJSZWN0YW5nbGVzLnRlbXBsYXRlXSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzID0gJHV0aWxzLm1lcmdlVGFncyh0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MsIFtcImxlZ2VuZFwiXSk7XHJcbiAgICAgICAgdGhpcy5maWVsZHMucHVzaChcIm5hbWVcIiwgXCJzdHJva2VcIiwgXCJmaWxsXCIpO1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1ha2VJdGVtQ29udGFpbmVyKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbUNvbnRhaW5lciA9IHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLml0ZW1Db250YWluZXJzLm1ha2UoKSk7XHJcbiAgICAgICAgaXRlbUNvbnRhaW5lci5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIHRoaXMuaXRlbUNvbnRhaW5lcnMucHVzaChpdGVtQ29udGFpbmVyKTtcclxuICAgICAgICBpdGVtQ29udGFpbmVyLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1Db250YWluZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFrZU1hcmtlcigpIHtcclxuICAgICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLm1hcmtlcnMubWFrZSgpO1xyXG4gICAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XHJcbiAgICAgICAgbWFya2VyLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIG1hcmtlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYWtlTGFiZWwoKSB7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmxhYmVscy5tYWtlKCk7XHJcbiAgICAgICAgbGFiZWwuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFrZVZhbHVlTGFiZWwoKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVMYWJlbCA9IHRoaXMudmFsdWVMYWJlbHMubWFrZSgpO1xyXG4gICAgICAgIHZhbHVlTGFiZWwuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICByZXR1cm4gdmFsdWVMYWJlbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYWtlTWFya2VyUmVjdGFuZ2xlKCkge1xyXG4gICAgICAgIGNvbnN0IG1hcmtlclJlY3RhbmdsZSA9IHRoaXMubWFya2VyUmVjdGFuZ2xlcy5tYWtlKCk7XHJcbiAgICAgICAgbWFya2VyUmVjdGFuZ2xlLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIG1hcmtlclJlY3RhbmdsZTtcclxuICAgIH1cclxuICAgIHByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLnByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgY29uc3QgaXRlbUNvbnRhaW5lciA9IHRoaXMubWFrZUl0ZW1Db250YWluZXIoZGF0YUl0ZW0pO1xyXG4gICAgICAgIGNvbnN0IG5hbWVGaWVsZCA9IHRoaXMuZ2V0KFwibmFtZUZpZWxkXCIpO1xyXG4gICAgICAgIGNvbnN0IGZpbGxGaWVsZCA9IHRoaXMuZ2V0KFwiZmlsbEZpZWxkXCIpO1xyXG4gICAgICAgIGNvbnN0IHN0cm9rZUZpZWxkID0gdGhpcy5nZXQoXCJzdHJva2VGaWVsZFwiKTtcclxuICAgICAgICBpZiAoaXRlbUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb25zdCBjbGlja1RhcmdldCA9IHRoaXMuZ2V0KFwiY2xpY2tUYXJnZXRcIiwgXCJpdGVtQ29udGFpbmVyXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZGF0YUl0ZW0uZGF0YUNvbnRleHQ7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnNldChcImxlZ2VuZERhdGFJdGVtXCIsIGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtQ29udGFpbmVyLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIGRhdGFJdGVtLnNldChcIml0ZW1Db250YWluZXJcIiwgaXRlbUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IHRoaXMubWFrZU1hcmtlcigpO1xyXG4gICAgICAgICAgICBpZiAobWFya2VyKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtQ29udGFpbmVyLmNoaWxkcmVuLnB1c2gobWFya2VyKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlci5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwibWFya2VyXCIsIG1hcmtlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VEZWZhdWx0TWFya2VyID0gdGhpcy5nZXQoXCJ1c2VEZWZhdWx0TWFya2VyXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VyUmVjdGFuZ2xlID0gbWFya2VyLmNoaWxkcmVuLnB1c2godGhpcy5tYWtlTWFya2VyUmVjdGFuZ2xlKCkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGwgPSBkYXRhSXRlbS5nZXQoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cm9rZSA9IGRhdGFJdGVtLmdldChcInN0cm9rZVwiKTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldChcIm1hcmtlclJlY3RhbmdsZVwiLCBtYXJrZXJSZWN0YW5nbGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5nZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsID0gaXRlbS5nZXQoZmlsbEZpZWxkLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2UgPSBpdGVtLmdldChzdHJva2VGaWVsZCwgc3Ryb2tlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlID0gZmlsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdXNlRGVmYXVsdE1hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uY3JlYXRlTGVnZW5kTWFya2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY3JlYXRlTGVnZW5kTWFya2VyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ub24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbihmaWxsRmllbGQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlclJlY3RhbmdsZS5zZXQoXCJmaWxsXCIsIGl0ZW0uZ2V0KGZpbGxGaWVsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbihzdHJva2VGaWVsZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUmVjdGFuZ2xlLnNldChcInN0cm9rZVwiLCBpdGVtLmdldChzdHJva2VGaWVsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJSZWN0YW5nbGUuc2V0QWxsKHsgZmlsbCwgc3Ryb2tlIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBzb2x2ZXMgaWYgdGVtcGxhdGUgZmllbGQgaXMgc2V0IG9uIHNsaWNlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBpdGVtLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LnVwZGF0ZUxlZ2VuZE1hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC51cGRhdGVMZWdlbmRNYXJrZXIoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLm1ha2VMYWJlbCgpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1Db250YWluZXIuY2hpbGRyZW4ucHVzaChsYWJlbCk7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwibGFiZWxcIiwgbGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgbGFiZWwudGV4dC5vbihcInRleHRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db250YWluZXIuc2V0UmF3KFwiYXJpYUxhYmVsXCIsIGxhYmVsLnRleHQuX2dldFRleHQoKSArICh0aGlzLmdldChcImNsaWNrVGFyZ2V0XCIpICE9PSBcIm5vbmVcIiA/IFwiOyBcIiArIHRoaXMuX3QoXCJQcmVzcyBFTlRFUiB0byB0b2dnbGVcIikgOiBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRhaW5lci5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwibmFtZVwiLCBpdGVtLmdldChuYW1lRmllbGQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZGF0YUl0ZW0uZ2V0KFwibmFtZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwidGV4dFwiLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxhYmVsID0gdGhpcy5tYWtlVmFsdWVMYWJlbCgpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWVMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbUNvbnRhaW5lci5jaGlsZHJlbi5wdXNoKHZhbHVlTGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVMYWJlbC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwidmFsdWVMYWJlbFwiLCB2YWx1ZUxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnNob3cpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ub24oXCJ2aXNpYmxlXCIsICh2aXNpYmxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRhaW5lci5zZXQoXCJkaXNhYmxlZFwiLCAhdmlzaWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbS5nZXQoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRhaW5lci5zZXQoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjbGlja1RhcmdldCAhPSBcIm5vbmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjbGlja0NvbnRhaW5lciA9IGl0ZW1Db250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWNrVGFyZ2V0ID09IFwibWFya2VyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tDb250YWluZXIgPSBtYXJrZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZENsaWNrRXZlbnRzKGNsaWNrQ29udGFpbmVyLCBpdGVtLCBkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU29ydCBjaGlsZHJlblxyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnZhbHVlcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRBID0gYS5kYXRhSXRlbS5kYXRhQ29udGV4dDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEIgPSBiLmRhdGFJdGVtLmRhdGFDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEEgJiYgdGFyZ2V0Qikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QSA9IHRoaXMuZGF0YS5pbmRleE9mKHRhcmdldEEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QiA9IHRoaXMuZGF0YS5pbmRleE9mKHRhcmdldEIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleEEgPiBpbmRleEIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4QSA8IGluZGV4Qikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnVwZGF0ZUxlZ2VuZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnVwZGF0ZUxlZ2VuZFZhbHVlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWRkQ2xpY2tFdmVudHMoY29udGFpbmVyLCBpdGVtLCBkYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnRhaW5lci5zZXQoXCJjdXJzb3JPdmVyU3R5bGVcIiwgXCJwb2ludGVyXCIpO1xyXG4gICAgICAgIGNvbnRhaW5lci5ldmVudHMub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGl0ZW0uY29tcG9uZW50O1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5ob3ZlckRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuaG92ZXJEYXRhSXRlbShpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRhaW5lci5ldmVudHMub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gaXRlbS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LmhvdmVyRGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC51bmhvdmVyRGF0YUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb250YWluZXIuZXZlbnRzLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKS50ZXh0Ll9nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnNob3cgJiYgaXRlbS5pc0hpZGRlbiAmJiAoaXRlbS5pc0hpZGRlbigpIHx8IGl0ZW0uZ2V0KFwidmlzaWJsZVwiKSA9PT0gZmFsc2UpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXQoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290LnJlYWRlckFsZXJ0KHRoaXMuX3QoXCIlMSBzaG93blwiLCB0aGlzLl9yb290LmxvY2FsZSwgbGFiZWxUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5oaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXQoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QucmVhZGVyQWxlcnQodGhpcy5fdChcIiUxIGhpZGRlblwiLCB0aGlzLl9yb290LmxvY2FsZSwgbGFiZWxUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlRGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBzdXBlci5kaXNwb3NlRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIGNvbnN0IGRhdGFDb250ZXh0ID0gZGF0YUl0ZW0uZGF0YUNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGRhdGFDb250ZXh0ICYmIGRhdGFDb250ZXh0LmdldCkge1xyXG4gICAgICAgICAgICBjb25zdCBkaSA9IGRhdGFDb250ZXh0LmdldChcImxlZ2VuZERhdGFJdGVtXCIpO1xyXG4gICAgICAgICAgICBpZiAoZGkgPT0gZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGRhdGFDb250ZXh0LnNldChcImxlZ2VuZERhdGFJdGVtXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGl0ZW1Db250YWluZXIgPSBkYXRhSXRlbS5nZXQoXCJpdGVtQ29udGFpbmVyXCIpO1xyXG4gICAgICAgIGlmIChpdGVtQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbUNvbnRhaW5lcnMucmVtb3ZlVmFsdWUoaXRlbUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGl0ZW1Db250YWluZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbWFya2VyID0gZGF0YUl0ZW0uZ2V0KFwibWFya2VyXCIpO1xyXG4gICAgICAgIGlmIChtYXJrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzLnJlbW92ZVZhbHVlKG1hcmtlcik7XHJcbiAgICAgICAgICAgIG1hcmtlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtYXJrZXJSZWN0YW5nbGUgPSBkYXRhSXRlbS5nZXQoXCJtYXJrZXJSZWN0YW5nbGVcIik7XHJcbiAgICAgICAgaWYgKG1hcmtlclJlY3RhbmdsZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlclJlY3RhbmdsZXMucmVtb3ZlVmFsdWUobWFya2VyUmVjdGFuZ2xlKTtcclxuICAgICAgICAgICAgbWFya2VyUmVjdGFuZ2xlLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxhYmVsID0gZGF0YUl0ZW0uZ2V0KFwibGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWxzLnJlbW92ZVZhbHVlKGxhYmVsKTtcclxuICAgICAgICAgICAgbGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdmFsdWVMYWJlbCA9IGRhdGFJdGVtLmdldChcInZhbHVlTGFiZWxcIik7XHJcbiAgICAgICAgaWYgKHZhbHVlTGFiZWwpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZUxhYmVscy5yZW1vdmVWYWx1ZSh2YWx1ZUxhYmVsKTtcclxuICAgICAgICAgICAgdmFsdWVMYWJlbC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZWdlbmQsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkxlZ2VuZFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGVnZW5kLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFNlcmllcy5jbGFzc05hbWVzLmNvbmNhdChbTGVnZW5kLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MZWdlbmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Line: () => (/* binding */ Line)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _util_Draw__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Draw */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js\");\n\r\n\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass Line extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const points = this.get(\"points\");\r\n            const segments = this.get(\"segments\");\r\n            if (points && points.length > 0) {\r\n                let point = points[0];\r\n                this._display.moveTo(point.x, point.y);\r\n                _util_Draw__WEBPACK_IMPORTED_MODULE_1__.segmentedLine(this._display, [[points]]);\r\n            }\r\n            else if (segments) {\r\n                _util_Draw__WEBPACK_IMPORTED_MODULE_1__.segmentedLine(this._display, segments);\r\n            }\r\n            else if (!this.get(\"draw\")) {\r\n                let w = this.width();\r\n                let h = this.height();\r\n                this._display.moveTo(0, 0);\r\n                this._display.lineTo(w, h);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Line, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Line\"\r\n});\r\nObject.defineProperty(Line, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([Line.className])\r\n});\r\n//# sourceMappingURL=Line.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFDQTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUEyRTtBQUNwRjtBQUNBO0FBQ08sbUJBQW1CLCtDQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQW1CO0FBQ25DO0FBQ0E7QUFDQSxnQkFBZ0IscURBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVE7QUFDbkIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9MaW5lLmpzPzA0YTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi9HcmFwaGljc1wiO1xyXG5pbXBvcnQgKiBhcyAkZHJhdyBmcm9tIFwiLi4vdXRpbC9EcmF3XCI7XHJcbi8qKlxyXG4gKiBEcmF3cyBhIGxpbmUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9ncmFwaGljcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpbmUgZXh0ZW5kcyBHcmFwaGljcyB7XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJwb2ludHNcIikgfHwgdGhpcy5pc0RpcnR5KFwic2VnbWVudHNcIikgfHwgdGhpcy5fc2l6ZURpcnR5IHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJ3aWR0aFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwiaGVpZ2h0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmdldChcInBvaW50c1wiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLmdldChcInNlZ21lbnRzXCIpO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRzICYmIHBvaW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBwb2ludHNbMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5Lm1vdmVUbyhwb2ludC54LCBwb2ludC55KTtcclxuICAgICAgICAgICAgICAgICRkcmF3LnNlZ21lbnRlZExpbmUodGhpcy5fZGlzcGxheSwgW1twb2ludHNdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudHMpIHtcclxuICAgICAgICAgICAgICAgICRkcmF3LnNlZ21lbnRlZExpbmUodGhpcy5fZGlzcGxheSwgc2VnbWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmdldChcImRyYXdcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0gdGhpcy53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGggPSB0aGlzLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmxpbmVUbyh3LCBoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGluZSwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiTGluZVwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGluZSwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBHcmFwaGljcy5jbGFzc05hbWVzLmNvbmNhdChbTGluZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/MonotoneXTension.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/MonotoneXTension.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MonotoneXTension: () => (/* binding */ MonotoneXTension),\n/* harmony export */   curveMonotoneXTension: () => (/* binding */ curveMonotoneXTension)\n/* harmony export */ });\n/**\r\n * @ignore\r\n */\r\nclass MonotoneXTension {\r\n    constructor(context, tension) {\r\n        Object.defineProperty(this, \"_line\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_x0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_t0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_tension\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this._context = context;\r\n        this._tension = tension;\r\n    }\r\n    areaStart() {\r\n        this._line = 0;\r\n    }\r\n    areaEnd() {\r\n        this._line = NaN;\r\n    }\r\n    lineStart() {\r\n        this._x0 = this._x1 =\r\n            this._y0 = this._y1 =\r\n                this._t0 = NaN;\r\n        this._point = 0;\r\n    }\r\n    lineEnd() {\r\n        switch (this._point) {\r\n            case 2:\r\n                this._context.lineTo(this._x1, this._y1);\r\n                break;\r\n            case 3:\r\n                point(this, this._t0, slope2(this, this._t0));\r\n                break;\r\n        }\r\n        if (this._line || (this._line !== 0 && this._point === 1))\r\n            this._context.closePath();\r\n        this._line = 1 - this._line;\r\n    }\r\n    point(x, y) {\r\n        let t1 = NaN;\r\n        x = +x, y = +y;\r\n        if (x === this._x1 && y === this._y1)\r\n            return; // Ignore coincident points.\r\n        switch (this._point) {\r\n            case 0:\r\n                this._point = 1;\r\n                this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\r\n                break;\r\n            case 1:\r\n                this._point = 2;\r\n                break;\r\n            case 2:\r\n                this._point = 3;\r\n                point(this, slope2(this, t1 = slope3(this, x, y)), t1);\r\n                break;\r\n            default:\r\n                point(this, this._t0, t1 = slope3(this, x, y));\r\n                break;\r\n        }\r\n        this._x0 = this._x1, this._x1 = x;\r\n        this._y0 = this._y1, this._y1 = y;\r\n        this._t0 = t1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction curveMonotoneXTension(tension) {\r\n    function monotoneXTension(context) {\r\n        return new MonotoneXTension(context, tension);\r\n    }\r\n    return monotoneXTension;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction sign(x) {\r\n    return x < 0 ? -1 : 1;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction slope3(that, x2, y2) {\r\n    let h0 = (that._x1 - that._x0);\r\n    let h1 = (x2 - that._x1);\r\n    let s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0);\r\n    let s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0);\r\n    let p = (s0 * h1 + s1 * h0) / (h0 + h1);\r\n    return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction slope2(that, t) {\r\n    let h = that._x1 - that._x0;\r\n    return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction point(that, t0, t1) {\r\n    let x0 = that._x0, y0 = that._y0, x1 = that._x1, y1 = that._y1, dx = (x1 - x0) / 1.5 * (1 - that._tension);\r\n    that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\r\n}\r\n//# sourceMappingURL=MonotoneXTension.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTW9ub3RvbmVYVGVuc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL01vbm90b25lWFRlbnNpb24uanM/ZWQ4YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1vbm90b25lWFRlbnNpb24ge1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgdGVuc2lvbikge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9saW5lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jb250ZXh0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl94MFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3gxXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfeTBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl95MVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3QwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVuc2lvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5fdGVuc2lvbiA9IHRlbnNpb247XHJcbiAgICB9XHJcbiAgICBhcmVhU3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5fbGluZSA9IDA7XHJcbiAgICB9XHJcbiAgICBhcmVhRW5kKCkge1xyXG4gICAgICAgIHRoaXMuX2xpbmUgPSBOYU47XHJcbiAgICB9XHJcbiAgICBsaW5lU3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5feDAgPSB0aGlzLl94MSA9XHJcbiAgICAgICAgICAgIHRoaXMuX3kwID0gdGhpcy5feTEgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdDAgPSBOYU47XHJcbiAgICAgICAgdGhpcy5fcG9pbnQgPSAwO1xyXG4gICAgfVxyXG4gICAgbGluZUVuZCgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuX3BvaW50KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRleHQubGluZVRvKHRoaXMuX3gxLCB0aGlzLl95MSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgcG9pbnQodGhpcywgdGhpcy5fdDAsIHNsb3BlMih0aGlzLCB0aGlzLl90MCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9saW5lIHx8ICh0aGlzLl9saW5lICE9PSAwICYmIHRoaXMuX3BvaW50ID09PSAxKSlcclxuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB0aGlzLl9saW5lID0gMSAtIHRoaXMuX2xpbmU7XHJcbiAgICB9XHJcbiAgICBwb2ludCh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHQxID0gTmFOO1xyXG4gICAgICAgIHggPSAreCwgeSA9ICt5O1xyXG4gICAgICAgIGlmICh4ID09PSB0aGlzLl94MSAmJiB5ID09PSB0aGlzLl95MSlcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgY29pbmNpZGVudCBwb2ludHMuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLl9wb2ludCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludCA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lID8gdGhpcy5fY29udGV4dC5saW5lVG8oeCwgeSkgOiB0aGlzLl9jb250ZXh0Lm1vdmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludCA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnQgPSAzO1xyXG4gICAgICAgICAgICAgICAgcG9pbnQodGhpcywgc2xvcGUyKHRoaXMsIHQxID0gc2xvcGUzKHRoaXMsIHgsIHkpKSwgdDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBwb2ludCh0aGlzLCB0aGlzLl90MCwgdDEgPSBzbG9wZTModGhpcywgeCwgeSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3gwID0gdGhpcy5feDEsIHRoaXMuX3gxID0geDtcclxuICAgICAgICB0aGlzLl95MCA9IHRoaXMuX3kxLCB0aGlzLl95MSA9IHk7XHJcbiAgICAgICAgdGhpcy5fdDAgPSB0MTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGN1cnZlTW9ub3RvbmVYVGVuc2lvbih0ZW5zaW9uKSB7XHJcbiAgICBmdW5jdGlvbiBtb25vdG9uZVhUZW5zaW9uKGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1vbm90b25lWFRlbnNpb24oY29udGV4dCwgdGVuc2lvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbW9ub3RvbmVYVGVuc2lvbjtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gc2lnbih4KSB7XHJcbiAgICByZXR1cm4geCA8IDAgPyAtMSA6IDE7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIHNsb3BlMyh0aGF0LCB4MiwgeTIpIHtcclxuICAgIGxldCBoMCA9ICh0aGF0Ll94MSAtIHRoYXQuX3gwKTtcclxuICAgIGxldCBoMSA9ICh4MiAtIHRoYXQuX3gxKTtcclxuICAgIGxldCBzMCA9ICh0aGF0Ll95MSAtIHRoYXQuX3kwKSAvIChoMCB8fCBoMSA8IDAgJiYgLTApO1xyXG4gICAgbGV0IHMxID0gKHkyIC0gdGhhdC5feTEpIC8gKGgxIHx8IGgwIDwgMCAmJiAtMCk7XHJcbiAgICBsZXQgcCA9IChzMCAqIGgxICsgczEgKiBoMCkgLyAoaDAgKyBoMSk7XHJcbiAgICByZXR1cm4gKHNpZ24oczApICsgc2lnbihzMSkpICogTWF0aC5taW4oTWF0aC5hYnMoczApLCBNYXRoLmFicyhzMSksIDAuNSAqIE1hdGguYWJzKHApKSB8fCAwO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBzbG9wZTIodGhhdCwgdCkge1xyXG4gICAgbGV0IGggPSB0aGF0Ll94MSAtIHRoYXQuX3gwO1xyXG4gICAgcmV0dXJuIGggPyAoMyAqICh0aGF0Ll95MSAtIHRoYXQuX3kwKSAvIGggLSB0KSAvIDIgOiB0O1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb2ludCh0aGF0LCB0MCwgdDEpIHtcclxuICAgIGxldCB4MCA9IHRoYXQuX3gwLCB5MCA9IHRoYXQuX3kwLCB4MSA9IHRoYXQuX3gxLCB5MSA9IHRoYXQuX3kxLCBkeCA9ICh4MSAtIHgwKSAvIDEuNSAqICgxIC0gdGhhdC5fdGVuc2lvbik7XHJcbiAgICB0aGF0Ll9jb250ZXh0LmJlemllckN1cnZlVG8oeDAgKyBkeCwgeTAgKyBkeCAqIHQwLCB4MSAtIGR4LCB5MSAtIGR4ICogdDEsIHgxLCB5MSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9ub3RvbmVYVGVuc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/MonotoneXTension.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointedRectangle: () => (/* binding */ PointedRectangle)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n\r\n\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass PointedRectangle extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            if (w > 0 && h > 0) {\r\n                let cr = this.get(\"cornerRadius\", 8);\r\n                cr = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(cr, 0, Math.min(w / 2, h / 2));\r\n                let x = this.get(\"pointerX\", 0);\r\n                let y = this.get(\"pointerY\", 0);\r\n                let bwh = this.get(\"pointerBaseWidth\", 15) / 2;\r\n                // corner coordinates\r\n                // top left\r\n                let xtl = 0;\r\n                let ytl = 0;\r\n                // top right\r\n                let xtr = w;\r\n                let ytr = 0;\r\n                // bottom right\r\n                let xbr = w;\r\n                let ybr = h;\r\n                // bottom left\r\n                let xbl = 0;\r\n                let ybl = h;\r\n                // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n                // d=(xx1)(y2y1)(yy1)(x2x1)\r\n                let d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n                let d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n                const display = this._display;\r\n                // top\r\n                display.moveTo(cr, 0);\r\n                if (d1 > 0 && d2 > 0) {\r\n                    let stemX = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, -Infinity, 0);\r\n                    display.lineTo(stemX - bwh, 0);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX + bwh, 0);\r\n                }\r\n                display.lineTo(w - cr, 0);\r\n                display.arcTo(w, 0, w, cr, cr);\r\n                // right\r\n                if (d1 > 0 && d2 < 0) {\r\n                    let stemY = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, cr + bwh, h - bwh - cr));\r\n                    x = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, w, Infinity);\r\n                    display.lineTo(w, cr);\r\n                    display.lineTo(w, Math.max(stemY - bwh, cr));\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(w, stemY + bwh);\r\n                }\r\n                display.lineTo(w, h - cr);\r\n                display.arcTo(w, h, w - cr, h, cr);\r\n                // bottom\r\n                if (d1 < 0 && d2 < 0) {\r\n                    let stemX = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, h, Infinity);\r\n                    display.lineTo(w - cr, h);\r\n                    display.lineTo(stemX + bwh, h);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX - bwh, h);\r\n                }\r\n                display.lineTo(cr, h);\r\n                display.arcTo(0, h, 0, h - cr, cr);\r\n                // left\r\n                if (d1 < 0 && d2 > 0) {\r\n                    let stemY = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, cr + bwh, h - cr - bwh));\r\n                    x = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, -Infinity, 0);\r\n                    display.lineTo(0, h - cr);\r\n                    display.lineTo(0, stemY + bwh);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(0, Math.max(stemY - bwh, cr));\r\n                }\r\n                display.lineTo(0, cr);\r\n                display.arcTo(0, 0, cr, 0, cr);\r\n                display.closePath();\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PointedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PointedRectangle\"\r\n});\r\nObject.defineProperty(PointedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([PointedRectangle.className])\r\n});\r\n//# sourceMappingURL=PointedRectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUG9pbnRlZFJlY3RhbmdsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFDQTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUEyRTtBQUNwRjtBQUNBO0FBQ08sK0JBQStCLCtDQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0RBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrREFBZ0I7QUFDM0Qsd0JBQXdCLGtEQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGtEQUFnQjtBQUMzRCx3QkFBd0Isa0RBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrREFBZ0I7QUFDM0Qsd0JBQXdCLGtEQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsa0RBQWdCO0FBQzNELHdCQUF3QixrREFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVE7QUFDbkIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9Qb2ludGVkUmVjdGFuZ2xlLmpzPzIxYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi9HcmFwaGljc1wiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vdXRpbC9NYXRoXCI7XHJcbi8qKlxyXG4gKiBEcmF3cyBhIHJlY3RhbmdsZSB3aXRoIGEgcG9pbnRlci5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2dyYXBoaWNzL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUG9pbnRlZFJlY3RhbmdsZSBleHRlbmRzIEdyYXBoaWNzIHtcclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInBvaW50ZXJCYXNlV2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzXCIpIHx8IHRoaXMuaXNEaXJ0eShcInBvaW50ZXJMZW5ndGhcIikgfHwgdGhpcy5pc0RpcnR5KFwicG9pbnRlclhcIikgfHwgdGhpcy5pc0RpcnR5KFwicG9pbnRlcllcIikgfHwgdGhpcy5pc0RpcnR5KFwid2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiaGVpZ2h0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBsZXQgdyA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICAgICAgbGV0IGggPSB0aGlzLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBpZiAodyA+IDAgJiYgaCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBjciA9IHRoaXMuZ2V0KFwiY29ybmVyUmFkaXVzXCIsIDgpO1xyXG4gICAgICAgICAgICAgICAgY3IgPSAkbWF0aC5maXRUb1JhbmdlKGNyLCAwLCBNYXRoLm1pbih3IC8gMiwgaCAvIDIpKTtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gdGhpcy5nZXQoXCJwb2ludGVyWFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gdGhpcy5nZXQoXCJwb2ludGVyWVwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCBid2ggPSB0aGlzLmdldChcInBvaW50ZXJCYXNlV2lkdGhcIiwgMTUpIC8gMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvcm5lciBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgICAgLy8gdG9wIGxlZnRcclxuICAgICAgICAgICAgICAgIGxldCB4dGwgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHl0bCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyB0b3AgcmlnaHRcclxuICAgICAgICAgICAgICAgIGxldCB4dHIgPSB3O1xyXG4gICAgICAgICAgICAgICAgbGV0IHl0ciA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBib3R0b20gcmlnaHRcclxuICAgICAgICAgICAgICAgIGxldCB4YnIgPSB3O1xyXG4gICAgICAgICAgICAgICAgbGV0IHliciA9IGg7XHJcbiAgICAgICAgICAgICAgICAvLyBib3R0b20gbGVmdFxyXG4gICAgICAgICAgICAgICAgbGV0IHhibCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgeWJsID0gaDtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgc3RlbSBiYXNlIHNpZGU6IGh0dHA6Ly8kbWF0aC5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMjc0NzEyL2NhbGN1bGF0ZS1vbi13aGljaC1zaWRlLW9mLXN0cmFpZ24tbGluZS1pcy1kb3QtbG9jYXRlZFxyXG4gICAgICAgICAgICAgICAgLy8gZD0oeOKIkngxKSh5MuKIknkxKeKIkih54oiSeTEpKHgy4oiSeDEpXHJcbiAgICAgICAgICAgICAgICBsZXQgZDEgPSAoeCAtIHh0bCkgKiAoeWJyIC0geXRsKSAtICh5IC0geXRsKSAqICh4YnIgLSB4dGwpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGQyID0gKHggLSB4YmwpICogKHl0ciAtIHlibCkgLSAoeSAtIHlibCkgKiAoeHRyIC0geGJsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLl9kaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgLy8gdG9wXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbyhjciwgMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZDEgPiAwICYmIGQyID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVtWCA9IE1hdGgucm91bmQoJG1hdGguZml0VG9SYW5nZSh4LCBjciArIGJ3aCwgdyAtIGJ3aCAtIGNyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9ICRtYXRoLmZpdFRvUmFuZ2UoeSwgLUluZmluaXR5LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhzdGVtWCAtIGJ3aCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oc3RlbVggKyBid2gsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odyAtIGNyLCAwKTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuYXJjVG8odywgMCwgdywgY3IsIGNyKTtcclxuICAgICAgICAgICAgICAgIC8vIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICBpZiAoZDEgPiAwICYmIGQyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVtWSA9IE1hdGgucm91bmQoJG1hdGguZml0VG9SYW5nZSh5LCBjciArIGJ3aCwgaCAtIGJ3aCAtIGNyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9ICRtYXRoLmZpdFRvUmFuZ2UoeCwgdywgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHcsIGNyKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBNYXRoLm1heChzdGVtWSAtIGJ3aCwgY3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBzdGVtWSArIGJ3aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBoIC0gY3IpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5hcmNUbyh3LCBoLCB3IC0gY3IsIGgsIGNyKTtcclxuICAgICAgICAgICAgICAgIC8vIGJvdHRvbVxyXG4gICAgICAgICAgICAgICAgaWYgKGQxIDwgMCAmJiBkMiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlbVggPSBNYXRoLnJvdW5kKCRtYXRoLmZpdFRvUmFuZ2UoeCwgY3IgKyBid2gsIHcgLSBid2ggLSBjcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAkbWF0aC5maXRUb1JhbmdlKHksIGgsIEluZmluaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3IC0gY3IsIGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHN0ZW1YICsgYndoLCBoKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhzdGVtWCAtIGJ3aCwgaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhjciwgaCk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmFyY1RvKDAsIGgsIDAsIGggLSBjciwgY3IpO1xyXG4gICAgICAgICAgICAgICAgLy8gbGVmdFxyXG4gICAgICAgICAgICAgICAgaWYgKGQxIDwgMCAmJiBkMiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlbVkgPSBNYXRoLnJvdW5kKCRtYXRoLmZpdFRvUmFuZ2UoeSwgY3IgKyBid2gsIGggLSBjciAtIGJ3aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSAkbWF0aC5maXRUb1JhbmdlKHgsIC1JbmZpbml0eSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgaCAtIGNyKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCBzdGVtWSArIGJ3aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgTWF0aC5tYXgoc3RlbVkgLSBid2gsIGNyKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCBjcik7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmFyY1RvKDAsIDAsIGNyLCAwLCBjcik7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb2ludGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJQb2ludGVkUmVjdGFuZ2xlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb2ludGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEdyYXBoaWNzLmNsYXNzTmFtZXMuY29uY2F0KFtQb2ludGVkUmVjdGFuZ2xlLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludGVkUmVjdGFuZ2xlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Rectangle: () => (/* binding */ Rectangle)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n\r\n/**\r\n * Draws a rectangle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass Rectangle extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.isMeasured = true;\r\n        this.setPrivateRaw(\"trustBounds\", true);\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear && !this.get(\"draw\")) {\r\n            this._draw();\r\n        }\r\n    }\r\n    _draw() {\r\n        this._display.drawRect(0, 0, this.width(), this.height());\r\n    }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n}\r\nObject.defineProperty(Rectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Rectangle\"\r\n});\r\nObject.defineProperty(Rectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([Rectangle.className])\r\n});\r\n//# sourceMappingURL=Rectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUmVjdGFuZ2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyx3QkFBd0IsK0NBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQ0FBUTtBQUNuQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1JlY3RhbmdsZS5qcz81MjI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4vR3JhcGhpY3NcIjtcclxuLyoqXHJcbiAqIERyYXdzIGEgcmVjdGFuZ2xlLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvZ3JhcGhpY3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBHcmFwaGljcyB7XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5pc01lYXN1cmVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJ0cnVzdEJvdW5kc1wiLCB0cnVlKTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcImhlaWdodFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwid2lkdGhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcImhlaWdodFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhciA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fY2xlYXIgJiYgIXRoaXMuZ2V0KFwiZHJhd1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2RyYXcoKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5kcmF3UmVjdCgwLCAwLCB0aGlzLndpZHRoKCksIHRoaXMuaGVpZ2h0KCkpO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZVNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgICAgICB0aGlzLl9jbGVhciA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiUmVjdGFuZ2xlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogR3JhcGhpY3MuY2xhc3NOYW1lcy5jb25jYXQoW1JlY3RhbmdsZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVjdGFuZ2xlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoundedRectangle: () => (/* binding */ RoundedRectangle)\n/* harmony export */ });\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n\r\n\r\n\r\n\r\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass RoundedRectangle extends _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _draw() {\r\n        let width = this.width();\r\n        let height = this.height();\r\n        let w = width;\r\n        let h = height;\r\n        let wSign = w / Math.abs(width);\r\n        let hSign = h / Math.abs(height);\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(w) && _util_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(h)) {\r\n            let minSide = Math.min(w, h) / 2;\r\n            let crtl = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\r\n            let crtr = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\r\n            let crbr = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\r\n            let crbl = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\r\n            let maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\r\n            crtl = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crtl, 0, maxcr);\r\n            crtr = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crtr, 0, maxcr);\r\n            crbr = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crbr, 0, maxcr);\r\n            crbl = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crbl, 0, maxcr);\r\n            const display = this._display;\r\n            display.moveTo(crtl * wSign, 0);\r\n            display.lineTo(w - crtr * wSign, 0);\r\n            if (crtr > 0) {\r\n                display.arcTo(w, 0, w, crtr * hSign, crtr);\r\n            }\r\n            display.lineTo(w, h - crbr * hSign);\r\n            if (crbr > 0) {\r\n                display.arcTo(w, h, w - crbr * wSign, h, crbr);\r\n            }\r\n            display.lineTo(crbl * wSign, h);\r\n            if (crbl > 0) {\r\n                display.arcTo(0, h, 0, h - crbl * hSign, crbl);\r\n            }\r\n            display.lineTo(0, crtl * hSign);\r\n            if (crtl > 0) {\r\n                display.arcTo(0, 0, crtl * wSign, 0, crtl);\r\n            }\r\n            display.closePath();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(RoundedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RoundedRectangle\"\r\n});\r\nObject.defineProperty(RoundedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle.classNames.concat([RoundedRectangle.className])\r\n});\r\n//# sourceMappingURL=RoundedRectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUm91bmRlZFJlY3RhbmdsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzQztBQUNBO0FBQ0U7QUFDQTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUEyRTtBQUNwRjtBQUNBO0FBQ08sK0JBQStCLGlEQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYyxPQUFPLGdEQUFjO0FBQy9DO0FBQ0EsdUJBQXVCLHdEQUFzQjtBQUM3Qyx1QkFBdUIsd0RBQXNCO0FBQzdDLHVCQUF1Qix3REFBc0I7QUFDN0MsdUJBQXVCLHdEQUFzQjtBQUM3QztBQUNBLG1CQUFtQixrREFBZ0I7QUFDbkMsbUJBQW1CLGtEQUFnQjtBQUNuQyxtQkFBbUIsa0RBQWdCO0FBQ25DLG1CQUFtQixrREFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBUztBQUNwQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1JvdW5kZWRSZWN0YW5nbGUuanM/ZjE5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuLi91dGlsL01hdGhcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL1JlY3RhbmdsZVwiO1xyXG4vKipcclxuICogRHJhd3MgYSByZWN0YW5nbGUgd2l0aCByb3VuZGVkIGNvcm5lcnMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9ncmFwaGljcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJvdW5kZWRSZWN0YW5nbGUgZXh0ZW5kcyBSZWN0YW5nbGUge1xyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzVExcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzVFJcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzQlJcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzQkxcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kcmF3KCkge1xyXG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICBsZXQgdyA9IHdpZHRoO1xyXG4gICAgICAgIGxldCBoID0gaGVpZ2h0O1xyXG4gICAgICAgIGxldCB3U2lnbiA9IHcgLyBNYXRoLmFicyh3aWR0aCk7XHJcbiAgICAgICAgbGV0IGhTaWduID0gaCAvIE1hdGguYWJzKGhlaWdodCk7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHcpICYmICR0eXBlLmlzTnVtYmVyKGgpKSB7XHJcbiAgICAgICAgICAgIGxldCBtaW5TaWRlID0gTWF0aC5taW4odywgaCkgLyAyO1xyXG4gICAgICAgICAgICBsZXQgY3J0bCA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJjb3JuZXJSYWRpdXNUTFwiLCA4KSwgbWluU2lkZSk7XHJcbiAgICAgICAgICAgIGxldCBjcnRyID0gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh0aGlzLmdldChcImNvcm5lclJhZGl1c1RSXCIsIDgpLCBtaW5TaWRlKTtcclxuICAgICAgICAgICAgbGV0IGNyYnIgPSAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHRoaXMuZ2V0KFwiY29ybmVyUmFkaXVzQlJcIiwgOCksIG1pblNpZGUpO1xyXG4gICAgICAgICAgICBsZXQgY3JibCA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJjb3JuZXJSYWRpdXNCTFwiLCA4KSwgbWluU2lkZSk7XHJcbiAgICAgICAgICAgIGxldCBtYXhjciA9IE1hdGgubWluKE1hdGguYWJzKHcgLyAyKSwgTWF0aC5hYnMoaCAvIDIpKTtcclxuICAgICAgICAgICAgY3J0bCA9ICRtYXRoLmZpdFRvUmFuZ2UoY3J0bCwgMCwgbWF4Y3IpO1xyXG4gICAgICAgICAgICBjcnRyID0gJG1hdGguZml0VG9SYW5nZShjcnRyLCAwLCBtYXhjcik7XHJcbiAgICAgICAgICAgIGNyYnIgPSAkbWF0aC5maXRUb1JhbmdlKGNyYnIsIDAsIG1heGNyKTtcclxuICAgICAgICAgICAgY3JibCA9ICRtYXRoLmZpdFRvUmFuZ2UoY3JibCwgMCwgbWF4Y3IpO1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5fZGlzcGxheTtcclxuICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oY3J0bCAqIHdTaWduLCAwKTtcclxuICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odyAtIGNydHIgKiB3U2lnbiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChjcnRyID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5hcmNUbyh3LCAwLCB3LCBjcnRyICogaFNpZ24sIGNydHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHcsIGggLSBjcmJyICogaFNpZ24pO1xyXG4gICAgICAgICAgICBpZiAoY3JiciA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuYXJjVG8odywgaCwgdyAtIGNyYnIgKiB3U2lnbiwgaCwgY3Jicik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oY3JibCAqIHdTaWduLCBoKTtcclxuICAgICAgICAgICAgaWYgKGNyYmwgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmFyY1RvKDAsIGgsIDAsIGggLSBjcmJsICogaFNpZ24sIGNyYmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIGNydGwgKiBoU2lnbik7XHJcbiAgICAgICAgICAgIGlmIChjcnRsID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5hcmNUbygwLCAwLCBjcnRsICogd1NpZ24sIDAsIGNydGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3VuZGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJSb3VuZGVkUmVjdGFuZ2xlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3VuZGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFJlY3RhbmdsZS5jbGFzc05hbWVzLmNvbmNhdChbUm91bmRlZFJlY3RhbmdsZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91bmRlZFJlY3RhbmdsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SerialChart: () => (/* binding */ SerialChart)\n/* harmony export */ });\n/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Chart */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A base class for all series-based charts.\r\n */\r\nclass SerialChart extends _Chart__WEBPACK_IMPORTED_MODULE_0__.Chart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] where chart will store all series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"seriesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_2__.p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A list of chart's series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_3__.ListAutoDispose()\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._disposers.push(this.series);\r\n        const children = this.seriesContainer.children;\r\n        this._disposers.push(this.series.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(change.oldValues, (series) => {\r\n                    this._removeSeries(series);\r\n                });\r\n                const colors = this.get(\"colors\");\r\n                if (colors) {\r\n                    colors.reset();\r\n                }\r\n            }\r\n            else if (change.type === \"push\") {\r\n                children.moveValue(change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                children.setIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                children.insertIndex(change.index, change.newValue);\r\n                this._processSeries(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeSeries(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                children.moveValue(change.value, change.newIndex);\r\n                this._processSeries(change.value);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _processSeries(series) {\r\n        series.chart = this;\r\n        series._placeBulletsContainer(this);\r\n    }\r\n    _removeSeries(series) {\r\n        if (!series.isDisposed()) {\r\n            this.seriesContainer.children.removeValue(series);\r\n            series._removeBulletsContainer();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SerialChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"SerialChart\"\r\n});\r\nObject.defineProperty(SerialChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Chart__WEBPACK_IMPORTED_MODULE_0__.Chart.classNames.concat([SerialChart.className])\r\n});\r\n//# sourceMappingURL=SerialChart.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU2VyaWFsQ2hhcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWdDO0FBQ3dCO0FBQ0Q7QUFDUjtBQUNDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPLDBCQUEwQix5Q0FBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFTLG1CQUFtQixPQUFPLG9EQUFJLFVBQVUsb0RBQUkscUJBQXFCO0FBQzdGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw0REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlDQUFLO0FBQ2hCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU2VyaWFsQ2hhcnQuanM/YzBlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFydCB9IGZyb20gXCIuL0NoYXJ0XCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgTGlzdEF1dG9EaXNwb3NlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9MaXN0XCI7XHJcbmltcG9ydCB7IHAxMDAgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgYWxsIHNlcmllcy1iYXNlZCBjaGFydHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2VyaWFsQ2hhcnQgZXh0ZW5kcyBDaGFydCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSB3aGVyZSBjaGFydCB3aWxsIHN0b3JlIGFsbCBzZXJpZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXJpZXNDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogQ29udGFpbmVyLm5ldyh0aGlzLl9yb290LCB7IHdpZHRoOiBwMTAwLCBoZWlnaHQ6IHAxMDAsIGlzTWVhc3VyZWQ6IGZhbHNlIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIGNoYXJ0J3Mgc2VyaWVzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlcmllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdEF1dG9EaXNwb3NlKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLnNlcmllcyk7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLnNlcmllc0NvbnRhaW5lci5jaGlsZHJlbjtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLnNlcmllcy5ldmVudHMub25BbGwoKGNoYW5nZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlLnR5cGUgPT09IFwiY2xlYXJcIikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goY2hhbmdlLm9sZFZhbHVlcywgKHNlcmllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZVNlcmllcyhzZXJpZXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmdldChcImNvbG9yc1wiKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2xvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcnMucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJwdXNoXCIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLm1vdmVWYWx1ZShjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc1NlcmllcyhjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInNldEluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnNldEluZGV4KGNoYW5nZS5pbmRleCwgY2hhbmdlLm5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NTZXJpZXMoY2hhbmdlLm5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJpbnNlcnRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5pbnNlcnRJbmRleChjaGFuZ2UuaW5kZXgsIGNoYW5nZS5uZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzU2VyaWVzKGNoYW5nZS5uZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicmVtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU2VyaWVzKGNoYW5nZS5vbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwibW92ZUluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLm1vdmVWYWx1ZShjaGFuZ2UudmFsdWUsIGNoYW5nZS5uZXdJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzU2VyaWVzKGNoYW5nZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIElMaXN0RXZlbnQgdHlwZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIF9wcm9jZXNzU2VyaWVzKHNlcmllcykge1xyXG4gICAgICAgIHNlcmllcy5jaGFydCA9IHRoaXM7XHJcbiAgICAgICAgc2VyaWVzLl9wbGFjZUJ1bGxldHNDb250YWluZXIodGhpcyk7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlU2VyaWVzKHNlcmllcykge1xyXG4gICAgICAgIGlmICghc2VyaWVzLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlcmllc0NvbnRhaW5lci5jaGlsZHJlbi5yZW1vdmVWYWx1ZShzZXJpZXMpO1xyXG4gICAgICAgICAgICBzZXJpZXMuX3JlbW92ZUJ1bGxldHNDb250YWluZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcmlhbENoYXJ0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJTZXJpYWxDaGFydFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsQ2hhcnQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ2hhcnQuY2xhc3NOYW1lcy5jb25jYXQoW1NlcmlhbENoYXJ0LmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXJpYWxDaGFydC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Series: () => (/* binding */ Series)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_util_Animation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/util/Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Time__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/util/Time */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Label__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A base class for all series.\r\n */\r\nclass Series extends _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, position: \"absolute\" })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.valueFields.push(\"value\", \"customValue\");\r\n        super._afterNew();\r\n        this.setPrivate(\"customData\", {});\r\n        this._disposers.push(this.bullets.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _dispose() {\r\n        this.bulletsContainer.dispose(); // can be in a different parent\r\n        super._dispose();\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"endIndex\", len), len);\r\n    }\r\n    _handleBullets(dataItems) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n        });\r\n        this.markDirtyValues();\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.find(this.dataItems, (dataItem) => {\r\n            return dataItem.get(\"id\") == id;\r\n        });\r\n    }\r\n    _makeBullets(dataItem) {\r\n        if (this._shouldMakeBullet(dataItem)) {\r\n            dataItem.bullets = [];\r\n            this.bullets.each((bulletFunction) => {\r\n                this._makeBullet(dataItem, bulletFunction);\r\n            });\r\n        }\r\n    }\r\n    _shouldMakeBullet(_dataItem) {\r\n        return true;\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = bulletFunction(this._root, this, dataItem);\r\n        if (bullet) {\r\n            bullet._index = index;\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n        return bullet;\r\n    }\r\n    _makeBulletReal(dataItem, bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            sprite._setDataItem(dataItem);\r\n            sprite.setRaw(\"position\", \"absolute\");\r\n            this.bulletsContainer.children.push(sprite);\r\n        }\r\n        bullet.series = this;\r\n        dataItem.bullets.push(bullet);\r\n    }\r\n    /**\r\n     * Adds bullet directly to a data item.\r\n     *\r\n     * Please note: method accepts [[Bullet]] instance as a paramter, not a\r\n     * reference to a function.\r\n     *\r\n     * You should add Bullet instance, not a method like you do it on series.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/#Adding_directly_to_data_item} for more info\r\n     * @since 5.6.0\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  bullet    Bullet instance\r\n     */\r\n    addBullet(dataItem, bullet) {\r\n        if (!dataItem.bullets) {\r\n            dataItem.bullets = [];\r\n        }\r\n        if (bullet) {\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._aggregatesCalculated = false;\r\n        this._selectionAggregatesCalculated = false;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        let startIndex = this.startIndex();\r\n        let endIndex = this.endIndex();\r\n        if (this.isDirty(\"name\")) {\r\n            this.updateLegendValue();\r\n        }\r\n        if (this.isDirty(\"heatRules\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            if (baseValueSeries) {\r\n                this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", () => {\r\n                    this.markDirtyValues();\r\n                }));\r\n            }\r\n        }\r\n        const calculateAggregates = this.get(\"calculateAggregates\");\r\n        if (calculateAggregates) {\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                if (!this._aggregatesCalculated) {\r\n                    this._calculateAggregates(0, this.dataItems.length);\r\n                    this._aggregatesCalculated = true;\r\n                    if (startIndex != 0) {\r\n                        this._psi = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isPrivateDirty(\"adjustedStartIndex\")) && !this._selectionAggregatesCalculated) {\r\n                if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this._calculateAggregates(startIndex, endIndex);\r\n                }\r\n                this._selectionAggregatesCalculated = true;\r\n            }\r\n        }\r\n        if (this.isDirty(\"tooltip\")) {\r\n            let tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide(0);\r\n                tooltip.set(\"tooltipTarget\", this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n            let markerRectangle;\r\n            const legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    if (this.isVisible()) {\r\n                        if (this.isDirty(\"stroke\")) {\r\n                            let stroke = this.get(\"stroke\");\r\n                            markerRectangle.set(\"stroke\", stroke);\r\n                        }\r\n                        if (this.isDirty(\"fill\")) {\r\n                            let fill = this.get(\"fill\");\r\n                            markerRectangle.set(\"fill\", fill);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n        if (this.bullets.length > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < this.dataItems.length) {\r\n                endIndex++;\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (!dataItem.bullets) {\r\n                    this._makeBullets(dataItem);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _adjustStartIndex(index) {\r\n        return index;\r\n    }\r\n    _calculateAggregates(startIndex, endIndex) {\r\n        let fields = this._valueFields;\r\n        if (!fields) {\r\n            throw new Error(\"No value fields are set for the series.\");\r\n        }\r\n        const sum = {};\r\n        const absSum = {};\r\n        const count = {};\r\n        const low = {};\r\n        const high = {};\r\n        const open = {};\r\n        const close = {};\r\n        const average = {};\r\n        const previous = {};\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n            sum[key] = 0;\r\n            absSum[key] = 0;\r\n            count[key] = 0;\r\n        });\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n            let change = key + \"Change\";\r\n            let changePercent = key + \"ChangePercent\";\r\n            let changePrevious = key + \"ChangePrevious\";\r\n            let changePreviousPercent = key + \"ChangePreviousPercent\";\r\n            let changeSelection = key + \"ChangeSelection\";\r\n            let changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n            let openKey = \"valueY\";\r\n            if (key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\") {\r\n                openKey = \"valueX\";\r\n            }\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            const adjustedStartIndex = this.getPrivate(\"adjustedStartIndex\", startIndex);\r\n            for (let i = adjustedStartIndex; i < endIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        count[key]++;\r\n                        sum[key] += value;\r\n                        absSum[key] += Math.abs(value);\r\n                        average[key] = sum[key] / count[key];\r\n                        if (low[key] > value || low[key] == null) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] < value || high[key] == null) {\r\n                            high[key] = value;\r\n                        }\r\n                        close[key] = value;\r\n                        if (open[key] == null) {\r\n                            open[key] = value;\r\n                            previous[key] = value;\r\n                            if (baseValueSeries) {\r\n                                open[openKey] = baseValueSeries._getBase(openKey);\r\n                            }\r\n                        }\r\n                        if (startIndex === 0) {\r\n                            dataItem.setRaw((change), value - open[openKey]);\r\n                            dataItem.setRaw((changePercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        }\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            }\r\n            if (endIndex < this.dataItems.length - 1) {\r\n                const dataItem = this.dataItems[endIndex];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                    dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                    dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                    dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                }\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            delete previous[key];\r\n            for (let i = startIndex; i < adjustedStartIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (previous[key] == null) {\r\n                        previous[key] = value;\r\n                    }\r\n                    if (value != null) {\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n            this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n            this.setPrivate((key + \"CountSelection\"), count[key]);\r\n            this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n            this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n            this.setPrivate((key + \"LowSelection\"), low[key]);\r\n            this.setPrivate((key + \"HighSelection\"), high[key]);\r\n            this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n            this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n        });\r\n        if (startIndex === 0 && endIndex === this.dataItems.length) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n                this.setPrivate((key + \"Average\"), average[key]);\r\n                this.setPrivate((key + \"Count\"), count[key]);\r\n                this.setPrivate((key + \"Sum\"), sum[key]);\r\n                this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                this.setPrivate((key + \"Low\"), low[key]);\r\n                this.setPrivate((key + \"High\"), high[key]);\r\n                this.setPrivate((key + \"Open\"), open[key]);\r\n                this.setPrivate((key + \"Close\"), close[key]);\r\n            });\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._psi = this.startIndex();\r\n        this._pei = this.endIndex();\r\n        if (this.isDirty(\"visible\")) {\r\n            this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n        }\r\n        // Apply heat rules\r\n        const rules = this.get(\"heatRules\");\r\n        if (this._valuesDirty && rules && rules.length > 0) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(rules, (rule) => {\r\n                const minValue = rule.minValue || this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                const maxValue = rule.maxValue || this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(rule.target._entities, (target) => {\r\n                    const value = target.dataItem.get(rule.dataField);\r\n                    if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(value)) {\r\n                        if (rule.neutral) {\r\n                            target.set(rule.key, rule.neutral);\r\n                        }\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState && rule.neutral) {\r\n                                defaultState.set(rule.key, rule.neutral);\r\n                            }\r\n                        }\r\n                        if (!rule.customFunction) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (rule.customFunction) {\r\n                        rule.customFunction.call(this, target, minValue, maxValue, value);\r\n                    }\r\n                    else {\r\n                        let percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(value) && (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        let propertyValue;\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof _core_util_Color__WEBPACK_IMPORTED_MODULE_6__.Color) {\r\n                            propertyValue = _core_util_Color__WEBPACK_IMPORTED_MODULE_6__.Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.Percent) {\r\n                            propertyValue = (0,_core_util_Animation__WEBPACK_IMPORTED_MODULE_7__.percentInterpolate)(percent, rule.min, rule.max);\r\n                        }\r\n                        target.set(rule.key, propertyValue);\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState) {\r\n                                defaultState.set(rule.key, propertyValue);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        if (this.get(\"visible\")) {\r\n            let count = this.dataItems.length;\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < count) {\r\n                endIndex++;\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            for (let i = 0; i < startIndex; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                this._positionBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = endIndex; i < count; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n        }\r\n    }\r\n    _positionBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataItem.bullets, (bullet) => {\r\n                this._positionBullet(bullet);\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (bullet.get(\"dynamic\")) {\r\n                    if (sprite) {\r\n                        sprite._markDirtyKey(\"fill\");\r\n                        sprite.markDirtySize();\r\n                    }\r\n                    if (sprite instanceof _core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container) {\r\n                        sprite.walkChildren((child) => {\r\n                            child._markDirtyKey(\"fill\");\r\n                            child.markDirtySize();\r\n                            if (child instanceof _core_render_Label__WEBPACK_IMPORTED_MODULE_8__.Label) {\r\n                                child.text.markDirtyText();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                if (sprite instanceof _core_render_Label__WEBPACK_IMPORTED_MODULE_8__.Label && sprite.get(\"populateText\")) {\r\n                    sprite.text.markDirtyText();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _hideBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataItem.bullets, (bullet) => {\r\n                let sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _positionBullet(_bullet) {\r\n    }\r\n    _placeBulletsContainer(chart) {\r\n        chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n    }\r\n    _removeBulletsContainer() {\r\n        const bulletsContainer = this.bulletsContainer;\r\n        if (bulletsContainer.parent) {\r\n            bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        //super.disposeDataItem(dataItem); // does nothing\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                bullet.dispose();\r\n            });\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.show(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.hide(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _sequencedShowHide(show, duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (this.get(\"sequencedInterpolation\")) {\r\n                if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (duration > 0) {\r\n                    const startIndex = this.startIndex();\r\n                    const endIndex = this.endIndex();\r\n                    yield Promise.all(_core_util_Array__WEBPACK_IMPORTED_MODULE_4__.map(this.dataItems, (dataItem, i) => (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n                        let realDuration = duration || 0;\r\n                        if (i < startIndex - 10 || i > endIndex + 10) {\r\n                            realDuration = 0;\r\n                        }\r\n                        //let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\r\n                        let delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\r\n                        yield _core_util_Time__WEBPACK_IMPORTED_MODULE_10__.sleep(delay * (i - startIndex));\r\n                        if (show) {\r\n                            yield this.showDataItem(dataItem, realDuration);\r\n                        }\r\n                        else {\r\n                            yield this.hideDataItem(dataItem, realDuration);\r\n                        }\r\n                    })));\r\n                }\r\n                else {\r\n                    yield Promise.all(_core_util_Array__WEBPACK_IMPORTED_MODULE_4__.map(this.dataItems, (dataItem) => {\r\n                        if (show) {\r\n                            return this.showDataItem(dataItem, 0);\r\n                        }\r\n                        else {\r\n                            return this.hideDataItem(dataItem, 0);\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        if (dataItem) {\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    const text = valueLabel.text;\r\n                    let txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                const label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    const text = label.text;\r\n                    let txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(_dataItem) {\r\n    }\r\n    _onHide() {\r\n        super._onHide();\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    unhoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _getBase(key) {\r\n        const dataItem = this.dataItems[this.startIndex()];\r\n        if (dataItem) {\r\n            return dataItem.get(key);\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nObject.defineProperty(Series, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Series\"\r\n});\r\nObject.defineProperty(Series, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.Component.classNames.concat([Series.className])\r\n});\r\n//# sourceMappingURL=Series.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU2VyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFrQztBQUNzQjtBQUNaO0FBQ0U7QUFDaUI7QUFDYjtBQUNGO0FBQ0Y7QUFDQTtBQUNDO0FBQ1M7QUFDUjtBQUNoRDtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsNkRBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwRUFBMEU7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpREFBSTtBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFTLG1CQUFtQixPQUFPLG9EQUFJLFVBQVUsb0RBQUksd0JBQXdCO0FBQ2hHLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFXO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUdBQXVHO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGNBQWM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsY0FBYztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsd0JBQXdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrREFBVztBQUN2QjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EseUJBQXlCLHFEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFjLGFBQWEscURBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQWM7QUFDMUM7QUFDQTtBQUNBLHFEQUFxRCxtREFBSztBQUMxRCw0Q0FBNEMsbURBQUs7QUFDakQ7QUFDQSxxREFBcUQsdURBQU87QUFDNUQsNENBQTRDLHdFQUFrQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUM7QUFDQTtBQUNBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQSxtQ0FBbUMsV0FBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDZEQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxxREFBSztBQUN0RDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxzQ0FBc0MscURBQUs7QUFDM0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsWUFBWSxrREFBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLFNBQVM7QUFDVCxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLFNBQVM7QUFDVCxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EscUJBQXFCLHFEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsaURBQVUsa0NBQWtDLGdEQUFTO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHNDQUFzQyxpREFBVTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw2REFBUztBQUNwQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1Nlcmllcy5qcz8zYjBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IExpc3QgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0NvbG9yXCI7XHJcbmltcG9ydCB7IHBlcmNlbnRJbnRlcnBvbGF0ZSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFBlcmNlbnQgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICR0aW1lIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVGltZVwiO1xyXG5pbXBvcnQgeyBwMTAwIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvTGFiZWxcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgYWxsIHNlcmllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTZXJpZXMgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYWdncmVnYXRlc0NhbGN1bGF0ZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2VsZWN0aW9uQWdncmVnYXRlc0NhbGN1bGF0ZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YVByb2Nlc3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wc2lcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BlaVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGNoYXJ0IHNlcmllcyBiZWxvbmdzIHRvLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXJ0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3Qgb2YgYnVsbGV0cyB0byB1c2UgZm9yIHRoZSBzZXJpZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvYnVsbGV0cy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJidWxsZXRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0KClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gc2VyaWVzJyBidWxsZXRzIGFyZSBzdG9yZWQgaW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJidWxsZXRzQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwLCBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZUZpZWxkcy5wdXNoKFwidmFsdWVcIiwgXCJjdXN0b21WYWx1ZVwiKTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjdXN0b21EYXRhXCIsIHt9KTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmJ1bGxldHMuZXZlbnRzLm9uQWxsKChjaGFuZ2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUJ1bGxldHModGhpcy5kYXRhSXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInB1c2hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwic2V0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwiaW5zZXJ0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicmVtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwibW92ZUluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUJ1bGxldHModGhpcy5kYXRhSXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBJTGlzdEV2ZW50IHR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuZGlzcG9zZSgpOyAvLyBjYW4gYmUgaW4gYSBkaWZmZXJlbnQgcGFyZW50XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgIH1cclxuICAgIHN0YXJ0SW5kZXgoKSB7XHJcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXRQcml2YXRlKFwic3RhcnRJbmRleFwiLCAwKSwgbGVuKTtcclxuICAgIH1cclxuICAgIGVuZEluZGV4KCkge1xyXG4gICAgICAgIGxldCBsZW4gPSB0aGlzLmRhdGFJdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZ2V0UHJpdmF0ZShcImVuZEluZGV4XCIsIGxlbiksIGxlbik7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlQnVsbGV0cyhkYXRhSXRlbXMpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaChkYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXRzID0gZGF0YUl0ZW0uYnVsbGV0cztcclxuICAgICAgICAgICAgaWYgKGJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5idWxsZXRzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHlWYWx1ZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9va3MgdXAgYW5kIHJldHVybnMgYSBkYXRhIGl0ZW0gYnkgaXRzIElELlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGlkICBJRFxyXG4gICAgICogQHJldHVybiAgICAgIERhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBnZXREYXRhSXRlbUJ5SWQoaWQpIHtcclxuICAgICAgICByZXR1cm4gJGFycmF5LmZpbmQodGhpcy5kYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uZ2V0KFwiaWRcIikgPT0gaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfbWFrZUJ1bGxldHMoZGF0YUl0ZW0pIHtcclxuICAgICAgICBpZiAodGhpcy5fc2hvdWxkTWFrZUJ1bGxldChkYXRhSXRlbSkpIHtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uYnVsbGV0cyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldHMuZWFjaCgoYnVsbGV0RnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21ha2VCdWxsZXQoZGF0YUl0ZW0sIGJ1bGxldEZ1bmN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Nob3VsZE1ha2VCdWxsZXQoX2RhdGFJdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBfbWFrZUJ1bGxldChkYXRhSXRlbSwgYnVsbGV0RnVuY3Rpb24sIGluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgYnVsbGV0ID0gYnVsbGV0RnVuY3Rpb24odGhpcy5fcm9vdCwgdGhpcywgZGF0YUl0ZW0pO1xyXG4gICAgICAgIGlmIChidWxsZXQpIHtcclxuICAgICAgICAgICAgYnVsbGV0Ll9pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLl9tYWtlQnVsbGV0UmVhbChkYXRhSXRlbSwgYnVsbGV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcclxuICAgIH1cclxuICAgIF9tYWtlQnVsbGV0UmVhbChkYXRhSXRlbSwgYnVsbGV0KSB7XHJcbiAgICAgICAgbGV0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICBzcHJpdGUuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFJhdyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0c0NvbnRhaW5lci5jaGlsZHJlbi5wdXNoKHNwcml0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ1bGxldC5zZXJpZXMgPSB0aGlzO1xyXG4gICAgICAgIGRhdGFJdGVtLmJ1bGxldHMucHVzaChidWxsZXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGJ1bGxldCBkaXJlY3RseSB0byBhIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBQbGVhc2Ugbm90ZTogbWV0aG9kIGFjY2VwdHMgW1tCdWxsZXRdXSBpbnN0YW5jZSBhcyBhIHBhcmFtdGVyLCBub3QgYVxyXG4gICAgICogcmVmZXJlbmNlIHRvIGEgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogWW91IHNob3VsZCBhZGQgQnVsbGV0IGluc3RhbmNlLCBub3QgYSBtZXRob2QgbGlrZSB5b3UgZG8gaXQgb24gc2VyaWVzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9idWxsZXRzLyNBZGRpbmdfZGlyZWN0bHlfdG9fZGF0YV9pdGVtfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAc2luY2UgNS42LjBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIGRhdGFJdGVtICBUYXJnZXQgZGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gIGJ1bGxldCAgICBCdWxsZXQgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgYWRkQnVsbGV0KGRhdGFJdGVtLCBidWxsZXQpIHtcclxuICAgICAgICBpZiAoIWRhdGFJdGVtLmJ1bGxldHMpIHtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uYnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYnVsbGV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21ha2VCdWxsZXRSZWFsKGRhdGFJdGVtLCBidWxsZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jbGVhckRpcnR5KCkge1xyXG4gICAgICAgIHN1cGVyLl9jbGVhckRpcnR5KCk7XHJcbiAgICAgICAgdGhpcy5fYWdncmVnYXRlc0NhbGN1bGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zZWxlY3Rpb25BZ2dyZWdhdGVzQ2FsY3VsYXRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLnN0YXJ0SW5kZXgoKTtcclxuICAgICAgICBsZXQgZW5kSW5kZXggPSB0aGlzLmVuZEluZGV4KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm5hbWVcIikpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMZWdlbmRWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaGVhdFJ1bGVzXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQcml2YXRlRGlydHkoXCJiYXNlVmFsdWVTZXJpZXNcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgYmFzZVZhbHVlU2VyaWVzID0gdGhpcy5nZXRQcml2YXRlKFwiYmFzZVZhbHVlU2VyaWVzXCIpO1xyXG4gICAgICAgICAgICBpZiAoYmFzZVZhbHVlU2VyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChiYXNlVmFsdWVTZXJpZXMub25Qcml2YXRlKFwic3RhcnRJbmRleFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlWYWx1ZXMoKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWxjdWxhdGVBZ2dyZWdhdGVzID0gdGhpcy5nZXQoXCJjYWxjdWxhdGVBZ2dyZWdhdGVzXCIpO1xyXG4gICAgICAgIGlmIChjYWxjdWxhdGVBZ2dyZWdhdGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZXNEaXJ0eSAmJiAhdGhpcy5fZGF0YVByb2Nlc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hZ2dyZWdhdGVzQ2FsY3VsYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUFnZ3JlZ2F0ZXMoMCwgdGhpcy5kYXRhSXRlbXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZ2dyZWdhdGVzQ2FsY3VsYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wc2kgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5fcHNpICE9IHN0YXJ0SW5kZXggfHwgdGhpcy5fcGVpICE9IGVuZEluZGV4IHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJhZGp1c3RlZFN0YXJ0SW5kZXhcIikpICYmICF0aGlzLl9zZWxlY3Rpb25BZ2dyZWdhdGVzQ2FsY3VsYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IDAgJiYgZW5kSW5kZXggPT09IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aCAmJiB0aGlzLl9hZ2dyZWdhdGVzQ2FsY3VsYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZvaWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUFnZ3JlZ2F0ZXMoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0aW9uQWdncmVnYXRlc0NhbGN1bGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0b29sdGlwXCIpKSB7XHJcbiAgICAgICAgICAgIGxldCB0b29sdGlwID0gdGhpcy5nZXQoXCJ0b29sdGlwXCIpO1xyXG4gICAgICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKDApO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5zZXQoXCJ0b29sdGlwVGFyZ2V0XCIsIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmaWxsXCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cm9rZVwiKSkge1xyXG4gICAgICAgICAgICBsZXQgbWFya2VyUmVjdGFuZ2xlO1xyXG4gICAgICAgICAgICBjb25zdCBsZWdlbmREYXRhSXRlbSA9IHRoaXMuZ2V0KFwibGVnZW5kRGF0YUl0ZW1cIik7XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmREYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgbWFya2VyUmVjdGFuZ2xlID0gbGVnZW5kRGF0YUl0ZW0uZ2V0KFwibWFya2VyUmVjdGFuZ2xlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlclJlY3RhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzdHJva2VcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHJva2UgPSB0aGlzLmdldChcInN0cm9rZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlclJlY3RhbmdsZS5zZXQoXCJzdHJva2VcIiwgc3Ryb2tlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsbFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGwgPSB0aGlzLmdldChcImZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJSZWN0YW5nbGUuc2V0KFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxlZ2VuZE1hcmtlcih1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5idWxsZXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLnN0YXJ0SW5kZXgoKTtcclxuICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gdGhpcy5lbmRJbmRleCgpO1xyXG4gICAgICAgICAgICBpZiAoZW5kSW5kZXggPCB0aGlzLmRhdGFJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGVuZEluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YUl0ZW0uYnVsbGV0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21ha2VCdWxsZXRzKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfYWRqdXN0U3RhcnRJbmRleChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuICAgIF9jYWxjdWxhdGVBZ2dyZWdhdGVzKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XHJcbiAgICAgICAgbGV0IGZpZWxkcyA9IHRoaXMuX3ZhbHVlRmllbGRzO1xyXG4gICAgICAgIGlmICghZmllbGRzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbHVlIGZpZWxkcyBhcmUgc2V0IGZvciB0aGUgc2VyaWVzLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3VtID0ge307XHJcbiAgICAgICAgY29uc3QgYWJzU3VtID0ge307XHJcbiAgICAgICAgY29uc3QgY291bnQgPSB7fTtcclxuICAgICAgICBjb25zdCBsb3cgPSB7fTtcclxuICAgICAgICBjb25zdCBoaWdoID0ge307XHJcbiAgICAgICAgY29uc3Qgb3BlbiA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGNsb3NlID0ge307XHJcbiAgICAgICAgY29uc3QgYXZlcmFnZSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0ge307XHJcbiAgICAgICAgJGFycmF5LmVhY2goZmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHN1bVtrZXldID0gMDtcclxuICAgICAgICAgICAgYWJzU3VtW2tleV0gPSAwO1xyXG4gICAgICAgICAgICBjb3VudFtrZXldID0gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkYXJyYXkuZWFjaChmaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNoYW5nZSA9IGtleSArIFwiQ2hhbmdlXCI7XHJcbiAgICAgICAgICAgIGxldCBjaGFuZ2VQZXJjZW50ID0ga2V5ICsgXCJDaGFuZ2VQZXJjZW50XCI7XHJcbiAgICAgICAgICAgIGxldCBjaGFuZ2VQcmV2aW91cyA9IGtleSArIFwiQ2hhbmdlUHJldmlvdXNcIjtcclxuICAgICAgICAgICAgbGV0IGNoYW5nZVByZXZpb3VzUGVyY2VudCA9IGtleSArIFwiQ2hhbmdlUHJldmlvdXNQZXJjZW50XCI7XHJcbiAgICAgICAgICAgIGxldCBjaGFuZ2VTZWxlY3Rpb24gPSBrZXkgKyBcIkNoYW5nZVNlbGVjdGlvblwiO1xyXG4gICAgICAgICAgICBsZXQgY2hhbmdlU2VsZWN0aW9uUGVyY2VudCA9IGtleSArIFwiQ2hhbmdlU2VsZWN0aW9uUGVyY2VudFwiO1xyXG4gICAgICAgICAgICBsZXQgb3BlbktleSA9IFwidmFsdWVZXCI7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT0gXCJ2YWx1ZVhcIiB8fCBrZXkgPT0gXCJvcGVuVmFsdWVYXCIgfHwga2V5ID09IFwibG93VmFsdWVYXCIgfHwga2V5ID09IFwiaGlnaFZhbHVlWFwiKSB7XHJcbiAgICAgICAgICAgICAgICBvcGVuS2V5ID0gXCJ2YWx1ZVhcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBiYXNlVmFsdWVTZXJpZXMgPSB0aGlzLmdldFByaXZhdGUoXCJiYXNlVmFsdWVTZXJpZXNcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkU3RhcnRJbmRleCA9IHRoaXMuZ2V0UHJpdmF0ZShcImFkanVzdGVkU3RhcnRJbmRleFwiLCBzdGFydEluZGV4KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFkanVzdGVkU3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFtrZXldKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bVtrZXldICs9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhYnNTdW1ba2V5XSArPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2Vba2V5XSA9IHN1bVtrZXldIC8gY291bnRba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvd1trZXldID4gdmFsdWUgfHwgbG93W2tleV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGlnaFtrZXldIDwgdmFsdWUgfHwgaGlnaFtrZXldID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5ba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYXNlVmFsdWVTZXJpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuW29wZW5LZXldID0gYmFzZVZhbHVlU2VyaWVzLl9nZXRCYXNlKG9wZW5LZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZSksIHZhbHVlIC0gb3BlbltvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVBlcmNlbnQpLCAodmFsdWUgLSBvcGVuW29wZW5LZXldKSAvIG9wZW5bb3BlbktleV0gKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlUHJldmlvdXMpLCB2YWx1ZSAtIHByZXZpb3VzW29wZW5LZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VQcmV2aW91c1BlcmNlbnQpLCAodmFsdWUgLSBwcmV2aW91c1tvcGVuS2V5XSkgLyBwcmV2aW91c1tvcGVuS2V5XSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlU2VsZWN0aW9uKSwgdmFsdWUgLSBvcGVuW29wZW5LZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VTZWxlY3Rpb25QZXJjZW50KSwgKHZhbHVlIC0gb3BlbltvcGVuS2V5XSkgLyBvcGVuW29wZW5LZXldICogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW5kSW5kZXggPCB0aGlzLmRhdGFJdGVtcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW2VuZEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGRhdGFJdGVtLmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlUHJldmlvdXMpLCB2YWx1ZSAtIHByZXZpb3VzW29wZW5LZXldKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVByZXZpb3VzUGVyY2VudCksICh2YWx1ZSAtIHByZXZpb3VzW29wZW5LZXldKSAvIHByZXZpb3VzW29wZW5LZXldICogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVNlbGVjdGlvbiksIHZhbHVlIC0gb3BlbltvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VTZWxlY3Rpb25QZXJjZW50KSwgKHZhbHVlIC0gb3BlbltvcGVuS2V5XSkgLyBvcGVuW29wZW5LZXldICogMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWxldGUgcHJldmlvdXNba2V5XTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBhZGp1c3RlZFN0YXJ0SW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGRhdGFJdGVtLmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1trZXldID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVByZXZpb3VzKSwgdmFsdWUgLSBwcmV2aW91c1tvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlUHJldmlvdXNQZXJjZW50KSwgKHZhbHVlIC0gcHJldmlvdXNbb3BlbktleV0pIC8gcHJldmlvdXNbb3BlbktleV0gKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVNlbGVjdGlvbiksIHZhbHVlIC0gb3BlbltvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlU2VsZWN0aW9uUGVyY2VudCksICh2YWx1ZSAtIG9wZW5bb3BlbktleV0pIC8gb3BlbltvcGVuS2V5XSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkYXJyYXkuZWFjaChmaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkF2ZXJhZ2VTZWxlY3Rpb25cIiksIGF2ZXJhZ2Vba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJDb3VudFNlbGVjdGlvblwiKSwgY291bnRba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJTdW1TZWxlY3Rpb25cIiksIHN1bVtrZXldKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkFic29sdXRlU3VtU2VsZWN0aW9uXCIpLCBhYnNTdW1ba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJMb3dTZWxlY3Rpb25cIiksIGxvd1trZXldKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkhpZ2hTZWxlY3Rpb25cIiksIGhpZ2hba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJPcGVuU2VsZWN0aW9uXCIpLCBvcGVuW2tleV0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiQ2xvc2VTZWxlY3Rpb25cIiksIGNsb3NlW2tleV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzdGFydEluZGV4ID09PSAwICYmIGVuZEluZGV4ID09PSB0aGlzLmRhdGFJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiQXZlcmFnZVwiKSwgYXZlcmFnZVtrZXldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJDb3VudFwiKSwgY291bnRba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiU3VtXCIpLCBzdW1ba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiQWJzb2x1dGVTdW1cIiksIGFic1N1bVtrZXldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJMb3dcIiksIGxvd1trZXldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJIaWdoXCIpLCBoaWdoW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIk9wZW5cIiksIG9wZW5ba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiQ2xvc2VcIiksIGNsb3NlW2tleV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgc3VwZXIuX3VwZGF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgdGhpcy5fcHNpID0gdGhpcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgdGhpcy5fcGVpID0gdGhpcy5lbmRJbmRleCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0c0NvbnRhaW5lci5zZXQoXCJ2aXNpYmxlXCIsIHRoaXMuZ2V0KFwidmlzaWJsZVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFwcGx5IGhlYXQgcnVsZXNcclxuICAgICAgICBjb25zdCBydWxlcyA9IHRoaXMuZ2V0KFwiaGVhdFJ1bGVzXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLl92YWx1ZXNEaXJ0eSAmJiBydWxlcyAmJiBydWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHJ1bGVzLCAocnVsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWluVmFsdWUgPSBydWxlLm1pblZhbHVlIHx8IHRoaXMuZ2V0UHJpdmF0ZSgocnVsZS5kYXRhRmllbGQgKyBcIkxvd1wiKSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1heFZhbHVlID0gcnVsZS5tYXhWYWx1ZSB8fCB0aGlzLmdldFByaXZhdGUoKHJ1bGUuZGF0YUZpZWxkICsgXCJIaWdoXCIpKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2gocnVsZS50YXJnZXQuX2VudGl0aWVzLCAodGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0YXJnZXQuZGF0YUl0ZW0uZ2V0KHJ1bGUuZGF0YUZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZS5uZXV0cmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0KHJ1bGUua2V5LCBydWxlLm5ldXRyYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IHRhcmdldC5zdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHN0YXRlcy5sb29rdXAoXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRTdGF0ZSAmJiBydWxlLm5ldXRyYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3RhdGUuc2V0KHJ1bGUua2V5LCBydWxlLm5ldXRyYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcnVsZS5jdXN0b21GdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlLmN1c3RvbUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUuY3VzdG9tRnVuY3Rpb24uY2FsbCh0aGlzLCB0YXJnZXQsIG1pblZhbHVlLCBtYXhWYWx1ZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLmxvZ2FyaXRobWljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gKE1hdGgubG9nKHZhbHVlKSAqIE1hdGguTE9HMTBFIC0gTWF0aC5sb2cobWluVmFsdWUpICogTWF0aC5MT0cxMEUpIC8gKChNYXRoLmxvZyhtYXhWYWx1ZSkgKiBNYXRoLkxPRzEwRSAtIE1hdGgubG9nKG1pblZhbHVlKSAqIE1hdGguTE9HMTBFKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gKHZhbHVlIC0gbWluVmFsdWUpIC8gKG1heFZhbHVlIC0gbWluVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih2YWx1ZSkgJiYgKCEkdHlwZS5pc051bWJlcihwZXJjZW50KSB8fCBNYXRoLmFicyhwZXJjZW50KSA9PSBJbmZpbml0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSAwLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZml4ZXMgcHJvYmxlbXMgaWYgYWxsIHZhbHVlcyBhcmUgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihydWxlLm1pbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBydWxlLm1pbiArIChydWxlLm1heCAtIHJ1bGUubWluKSAqIHBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocnVsZS5taW4gaW5zdGFuY2VvZiBDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IENvbG9yLmludGVycG9sYXRlKHBlcmNlbnQsIHJ1bGUubWluLCBydWxlLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocnVsZS5taW4gaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gcGVyY2VudEludGVycG9sYXRlKHBlcmNlbnQsIHJ1bGUubWluLCBydWxlLm1heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldChydWxlLmtleSwgcHJvcGVydHlWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IHRhcmdldC5zdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHN0YXRlcy5sb29rdXAoXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTdGF0ZS5zZXQocnVsZS5rZXksIHByb3BlcnR5VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLnN0YXJ0SW5kZXgoKTtcclxuICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gdGhpcy5lbmRJbmRleCgpO1xyXG4gICAgICAgICAgICBpZiAoZW5kSW5kZXggPCBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgZW5kSW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJ0SW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGlkZUJ1bGxldHModGhpcy5kYXRhSXRlbXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25CdWxsZXRzKHRoaXMuZGF0YUl0ZW1zW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZW5kSW5kZXg7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oaWRlQnVsbGV0cyh0aGlzLmRhdGFJdGVtc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcG9zaXRpb25CdWxsZXRzKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgaWYgKGRhdGFJdGVtLmJ1bGxldHMpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZGF0YUl0ZW0uYnVsbGV0cywgKGJ1bGxldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25CdWxsZXQoYnVsbGV0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnVsbGV0LmdldChcImR5bmFtaWNcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5fbWFya0RpcnR5S2V5KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLm1hcmtEaXJ0eVNpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwcml0ZSBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUud2Fsa0NoaWxkcmVuKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuX21hcmtEaXJ0eUtleShcImZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5tYXJrRGlydHlTaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnRleHQubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlIGluc3RhbmNlb2YgTGFiZWwgJiYgc3ByaXRlLmdldChcInBvcHVsYXRlVGV4dFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS50ZXh0Lm1hcmtEaXJ0eVRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hpZGVCdWxsZXRzKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgaWYgKGRhdGFJdGVtLmJ1bGxldHMpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZGF0YUl0ZW0uYnVsbGV0cywgKGJ1bGxldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Bvc2l0aW9uQnVsbGV0KF9idWxsZXQpIHtcclxuICAgIH1cclxuICAgIF9wbGFjZUJ1bGxldHNDb250YWluZXIoY2hhcnQpIHtcclxuICAgICAgICBjaGFydC5idWxsZXRzQ29udGFpbmVyLmNoaWxkcmVuLm1vdmVWYWx1ZSh0aGlzLmJ1bGxldHNDb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgX3JlbW92ZUJ1bGxldHNDb250YWluZXIoKSB7XHJcbiAgICAgICAgY29uc3QgYnVsbGV0c0NvbnRhaW5lciA9IHRoaXMuYnVsbGV0c0NvbnRhaW5lcjtcclxuICAgICAgICBpZiAoYnVsbGV0c0NvbnRhaW5lci5wYXJlbnQpIHtcclxuICAgICAgICAgICAgYnVsbGV0c0NvbnRhaW5lci5wYXJlbnQuY2hpbGRyZW4ucmVtb3ZlVmFsdWUoYnVsbGV0c0NvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2VEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIC8vc3VwZXIuZGlzcG9zZURhdGFJdGVtKGRhdGFJdGVtKTsgLy8gZG9lcyBub3RoaW5nXHJcbiAgICAgICAgY29uc3QgYnVsbGV0cyA9IGRhdGFJdGVtLmJ1bGxldHM7XHJcbiAgICAgICAgaWYgKGJ1bGxldHMpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goYnVsbGV0cywgKGJ1bGxldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldEl0ZW1SZWFkZXJMYWJlbCgpIHtcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2hvd3Mgc2VyaWVzJ3MgZGF0YSBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGRhdGFJdGVtICBEYXRhIGl0ZW1cclxuICAgICAqIEBwYXJhbSAgIGR1cmF0aW9uICBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgUHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBzaG93RGF0YUl0ZW0oZGF0YUl0ZW0sIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgX3N1cGVyID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XHJcbiAgICAgICAgICAgIHNob3dEYXRhSXRlbTogeyBnZXQ6ICgpID0+IHN1cGVyLnNob3dEYXRhSXRlbSB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbX3N1cGVyLnNob3dEYXRhSXRlbS5jYWxsKHRoaXMsIGRhdGFJdGVtLCBkdXJhdGlvbildO1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXRzID0gZGF0YUl0ZW0uYnVsbGV0cztcclxuICAgICAgICAgICAgaWYgKGJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzcHJpdGUuc2hvdyhkdXJhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGlkZXMgc2VyaWVzJ3MgZGF0YSBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGRhdGFJdGVtICBEYXRhIGl0ZW1cclxuICAgICAqIEBwYXJhbSAgIGR1cmF0aW9uICBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgUHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBoaWRlRGF0YUl0ZW0oZGF0YUl0ZW0sIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgX3N1cGVyID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XHJcbiAgICAgICAgICAgIGhpZGVEYXRhSXRlbTogeyBnZXQ6ICgpID0+IHN1cGVyLmhpZGVEYXRhSXRlbSB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbX3N1cGVyLmhpZGVEYXRhSXRlbS5jYWxsKHRoaXMsIGRhdGFJdGVtLCBkdXJhdGlvbildO1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXRzID0gZGF0YUl0ZW0uYnVsbGV0cztcclxuICAgICAgICAgICAgaWYgKGJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzcHJpdGUuaGlkZShkdXJhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9zZXF1ZW5jZWRTaG93SGlkZShzaG93LCBkdXJhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcInNlcXVlbmNlZEludGVycG9sYXRpb25cIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSB0aGlzLmdldChcImludGVycG9sYXRpb25EdXJhdGlvblwiLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gdGhpcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0aGlzLmVuZEluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwoJGFycmF5Lm1hcCh0aGlzLmRhdGFJdGVtcywgKGRhdGFJdGVtLCBpKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWFsRHVyYXRpb24gPSBkdXJhdGlvbiB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHN0YXJ0SW5kZXggLSAxMCB8fCBpID4gZW5kSW5kZXggKyAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbER1cmF0aW9uID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xldCBkZWxheSA9IHRoaXMuZ2V0KFwic2VxdWVuY2VkRGVsYXlcIiwgMCkgKiBpICsgcmVhbER1cmF0aW9uICogKGkgLSBzdGFydEluZGV4KSAvIChlbmRJbmRleCAtIHN0YXJ0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSB0aGlzLmdldChcInNlcXVlbmNlZERlbGF5XCIsIDApICsgcmVhbER1cmF0aW9uIC8gKGVuZEluZGV4IC0gc3RhcnRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkICR0aW1lLnNsZWVwKGRlbGF5ICogKGkgLSBzdGFydEluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnNob3dEYXRhSXRlbShkYXRhSXRlbSwgcmVhbER1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuaGlkZURhdGFJdGVtKGRhdGFJdGVtLCByZWFsRHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKCRhcnJheS5tYXAodGhpcy5kYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0RhdGFJdGVtKGRhdGFJdGVtLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVEYXRhSXRlbShkYXRhSXRlbSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVMZWdlbmRWYWx1ZShkYXRhSXRlbSkge1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCBsZWdlbmREYXRhSXRlbSA9IGRhdGFJdGVtLmdldChcImxlZ2VuZERhdGFJdGVtXCIpO1xyXG4gICAgICAgICAgICBpZiAobGVnZW5kRGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlTGFiZWwgPSBsZWdlbmREYXRhSXRlbS5nZXQoXCJ2YWx1ZUxhYmVsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdmFsdWVMYWJlbC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGFiZWwuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0eHQgPSB0aGlzLmdldChcImxlZ2VuZFZhbHVlVGV4dFwiLCB0ZXh0LmdldChcInRleHRcIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGFiZWwuc2V0KFwidGV4dFwiLCB0eHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBsZWdlbmREYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBsYWJlbC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHh0ID0gdGhpcy5nZXQoXCJsZWdlbmRMYWJlbFRleHRcIiwgdGV4dC5nZXQoXCJ0ZXh0XCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zZXQoXCJ0ZXh0XCIsIHR4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5tYXJrRGlydHlUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlTGVnZW5kTWFya2VyKF9kYXRhSXRlbSkge1xyXG4gICAgfVxyXG4gICAgX29uSGlkZSgpIHtcclxuICAgICAgICBzdXBlci5fb25IaWRlKCk7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcCgpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBob3ZlckRhdGFJdGVtKF9kYXRhSXRlbSkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdW5ob3ZlckRhdGFJdGVtKF9kYXRhSXRlbSkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX2dldEJhc2Uoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtc1t0aGlzLnN0YXJ0SW5kZXgoKV07XHJcbiAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhSXRlbS5nZXQoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcmllcywgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiU2VyaWVzXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJpZXMsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29tcG9uZW50LmNsYXNzTmFtZXMuY29uY2F0KFtTZXJpZXMuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcmllcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sprite: () => (/* binding */ Sprite)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _util_Template__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _util_Animation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../util/Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//import { populateString } from \"../util/PopulateString\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nclass SpriteEventDispatcher extends _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\r\n    constructor(sprite) {\r\n        super();\r\n        Object.defineProperty(this, \"_sprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rendererDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dispatchParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        this._sprite = sprite;\r\n    }\r\n    _makePointerEvent(key, event) {\r\n        return {\r\n            type: key,\r\n            originalEvent: event.event,\r\n            point: event.point,\r\n            simulated: event.simulated,\r\n            native: event.native,\r\n            target: this._sprite\r\n        };\r\n    }\r\n    _onRenderer(key, dispatch) {\r\n        // TODO: is this OK? it'd be good not to require to set this on each individual element\r\n        this._sprite.set(\"interactive\", true);\r\n        this._sprite._display.interactive = true;\r\n        let events = this._rendererDisposers[key];\r\n        if (events === undefined) {\r\n            const disposer = this._sprite._display.on(key, (e) => {\r\n                dispatch.call(this, e);\r\n            });\r\n            events = this._rendererDisposers[key] = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.CounterDisposer(() => {\r\n                delete this._rendererDisposers[key];\r\n                disposer.dispose();\r\n            });\r\n        }\r\n        return events.increment();\r\n    }\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        const info = super._on(once, type, callback, context, shouldClone, dispatch);\r\n        const rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];\r\n        if (rendererEvent !== undefined) {\r\n            info.disposer = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                info.disposer,\r\n                this._onRenderer(type, rendererEvent),\r\n            ]);\r\n        }\r\n        return info;\r\n    }\r\n    /**\r\n     * Will stop any bubbling up of the event to element's parents.\r\n     *\r\n     * Should be called in an event handler, e.g.:\r\n     *\r\n     * ```TypeScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     */\r\n    stopParentDispatch() {\r\n        this._dispatchParents = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dispatchParents(type, event) {\r\n        const old = this._dispatchParents;\r\n        this._dispatchParents = true;\r\n        try {\r\n            this.dispatch(type, event);\r\n            if (this._dispatchParents && this._sprite.parent) {\r\n                this._sprite.parent.events.dispatchParents(type, event);\r\n            }\r\n        }\r\n        finally {\r\n            this._dispatchParents = old;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SpriteEventDispatcher, \"RENDERER_EVENTS\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: {\r\n        \"click\": function (event) {\r\n            if (this.isEnabled(\"click\") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent(\"click\", event))) {\r\n                this.dispatch(\"click\", this._makePointerEvent(\"click\", event));\r\n            }\r\n        },\r\n        \"rightclick\": function (event) {\r\n            if (this.isEnabled(\"rightclick\")) {\r\n                this.dispatch(\"rightclick\", this._makePointerEvent(\"rightclick\", event));\r\n            }\r\n        },\r\n        \"middleclick\": function (event) {\r\n            if (this.isEnabled(\"middleclick\")) {\r\n                this.dispatch(\"middleclick\", this._makePointerEvent(\"middleclick\", event));\r\n            }\r\n        },\r\n        \"dblclick\": function (event) {\r\n            this.dispatchParents(\"dblclick\", this._makePointerEvent(\"dblclick\", event));\r\n        },\r\n        \"pointerover\": function (event) {\r\n            const sprite = this._sprite;\r\n            let dispatch = true;\r\n            if (sprite.getPrivate(\"trustBounds\")) {\r\n                sprite._getBounds();\r\n                const bounds = sprite.globalBounds();\r\n                if (sprite.isType(\"Graphics\")) {\r\n                    const strokeWidth = sprite.get(\"strokeWidth\", 1) / 2;\r\n                    if (strokeWidth >= 1) {\r\n                        bounds.left -= strokeWidth;\r\n                        bounds.right += strokeWidth;\r\n                        bounds.top -= strokeWidth;\r\n                        bounds.bottom += strokeWidth;\r\n                    }\r\n                }\r\n                if (!_util_Math__WEBPACK_IMPORTED_MODULE_2__.inBounds(event.point, bounds)) {\r\n                    dispatch = false;\r\n                    sprite._root._renderer.removeHovering(sprite._display);\r\n                }\r\n            }\r\n            if (dispatch && this.isEnabled(\"pointerover\")) {\r\n                this.dispatch(\"pointerover\", this._makePointerEvent(\"pointerover\", event));\r\n            }\r\n        },\r\n        \"pointerout\": function (event) {\r\n            if (this.isEnabled(\"pointerout\")) {\r\n                this.dispatch(\"pointerout\", this._makePointerEvent(\"pointerout\", event));\r\n            }\r\n        },\r\n        \"pointerdown\": function (event) {\r\n            this.dispatchParents(\"pointerdown\", this._makePointerEvent(\"pointerdown\", event));\r\n        },\r\n        \"pointerup\": function (event) {\r\n            if (this.isEnabled(\"pointerup\")) {\r\n                this.dispatch(\"pointerup\", this._makePointerEvent(\"pointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointerup\": function (event) {\r\n            if (this.isEnabled(\"globalpointerup\")) {\r\n                this.dispatch(\"globalpointerup\", this._makePointerEvent(\"globalpointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointermove\": function (event) {\r\n            if (this.isEnabled(\"globalpointermove\")) {\r\n                this.dispatch(\"globalpointermove\", this._makePointerEvent(\"globalpointermove\", event));\r\n            }\r\n        },\r\n        \"wheel\": function (event) {\r\n            this.dispatchParents(\"wheel\", {\r\n                type: \"wheel\",\r\n                target: this._sprite,\r\n                originalEvent: event.event,\r\n                point: event.point,\r\n            });\r\n        },\r\n    }\r\n});\r\n/**\r\n * A base class for all visual elements.\r\n *\r\n * @important\r\n */\r\nclass Sprite extends _util_Entity__WEBPACK_IMPORTED_MODULE_3__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_adjustedLocalBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_templateField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_sizeDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // Will be true only when dragging\r\n        Object.defineProperty(this, \"_isDragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // The event when the dragging starts\r\n        Object.defineProperty(this, \"_dragEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // The position when dragging starts\r\n        Object.defineProperty(this, \"_dragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isHidden\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isShowing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isHiding\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_downPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_toggleDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dragDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_hoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipMoveDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipPointerDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_statesHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.setPrivateRaw(\"visible\", true);\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * Marks some setting as dirty. Could be used to trigger adapter.\r\n     * @param key\r\n     */\r\n    markDirtyKey(key) {\r\n        this._markDirtyKey(key);\r\n    }\r\n    _markDirtyKey(key) {\r\n        super._markDirtyKey(key);\r\n        if (key == \"x\" || key == \"y\" || key == \"dx\" || key == \"dy\") {\r\n            this.markDirtyBounds();\r\n            this._addPercentagePositionChildren();\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        super._markDirtyPrivateKey(key);\r\n        if (key == \"x\" || key == \"y\") {\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _removeTemplateField() {\r\n        if (this._templateField) {\r\n            this._templateField._removeObjectTemplate(this);\r\n        }\r\n    }\r\n    _createEvents() {\r\n        return new SpriteEventDispatcher(this);\r\n    }\r\n    _processTemplateField() {\r\n        let template;\r\n        const field = this.get(\"templateField\");\r\n        if (field) {\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                const context = dataItem.dataContext;\r\n                if (context) {\r\n                    template = context[field];\r\n                    if (!(template instanceof _util_Template__WEBPACK_IMPORTED_MODULE_4__.Template) && template) {\r\n                        template = _util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new(template);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this._templateField !== template) {\r\n            this._removeTemplateField();\r\n            this._templateField = template;\r\n            if (template) {\r\n                template._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    // TODO change this to run before the element is added to the parent, so that way\r\n    //      it doesn't need to apply the themes twice\r\n    _setDataItem(dataItem) {\r\n        const oldDataItem = this._dataItem;\r\n        this._dataItem = dataItem;\r\n        this._processTemplateField();\r\n        const eventType = \"dataitemchanged\";\r\n        if (dataItem != oldDataItem) {\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this,\r\n                    oldDataItem: oldDataItem,\r\n                    newDataItem: dataItem\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A [[DataItem]] used for this element.\r\n     *\r\n     * NOTE: data item is being assigned automatically in most cases where it\r\n     * matters. Use this accessor to set data item only if you know what you're\r\n     * doing.\r\n     *\r\n     * @param  value  Data item\r\n     */\r\n    set dataItem(value) {\r\n        this._setDataItem(value);\r\n    }\r\n    /**\r\n     * @return DataItem\r\n     */\r\n    get dataItem() {\r\n        if (this._dataItem) {\r\n            return this._dataItem;\r\n        }\r\n        else {\r\n            let parent = this._parent;\r\n            while (parent) {\r\n                if (parent._dataItem) {\r\n                    return parent._dataItem;\r\n                }\r\n                else {\r\n                    parent = parent._parent;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _addPercentageSizeChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"width\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent || this.get(\"height\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.pushOne(parent._percentageSizeChildren, this);\r\n            }\r\n            else {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentageSizeChildren, this);\r\n            }\r\n        }\r\n    }\r\n    _addPercentagePositionChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"x\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent || this.get(\"y\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.pushOne(parent._percentagePositionChildren, this);\r\n            }\r\n            else {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentagePositionChildren, this);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyPosition() {\r\n        this._root._addDirtyPosition(this);\r\n    }\r\n    updatePivotPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            const centerX = this.get(\"centerX\");\r\n            if (centerX != null) {\r\n                this._display.pivot.x = bounds.left + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(centerX, bounds.right - bounds.left);\r\n            }\r\n            const centerY = this.get(\"centerY\");\r\n            if (centerY != null) {\r\n                this._display.pivot.y = bounds.top + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(centerY, bounds.bottom - bounds.top);\r\n            }\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        // handling states in beforeChanged, otherwise states is not applied without animated theme\r\n        this._handleStates();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const previous = this._prevSettings.tooltip;\r\n            if (previous) {\r\n                previous.dispose();\r\n            }\r\n        }\r\n        if (this.isDirty(\"layer\") || this.isDirty(\"layerMargin\")) {\r\n            this._display.setLayer(this.get(\"layer\"), this.get(\"layerMargin\"));\r\n            this.markDirtyLayer();\r\n        }\r\n        if (this.isDirty(\"tooltipPosition\")) {\r\n            const tooltipMoveDp = this._tooltipMoveDp;\r\n            if (tooltipMoveDp) {\r\n                tooltipMoveDp.dispose();\r\n                this._tooltipMoveDp = undefined;\r\n            }\r\n            const tooltipPointerDp = this._tooltipPointerDp;\r\n            if (tooltipPointerDp) {\r\n                tooltipPointerDp.dispose();\r\n                this._tooltipPointerDp = undefined;\r\n            }\r\n            if (this.get(\"tooltipPosition\") == \"pointer\") {\r\n                if (this.isHover()) {\r\n                    this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                        this.showTooltip(e.point);\r\n                    });\r\n                }\r\n                this._tooltipPointerDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    this.events.on(\"pointerover\", () => {\r\n                        this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                            this.showTooltip(e.point);\r\n                        });\r\n                    }),\r\n                    this.events.on(\"pointerout\", () => {\r\n                        const tooltipMoveDp = this._tooltipMoveDp;\r\n                        if (tooltipMoveDp) {\r\n                            tooltipMoveDp.dispose();\r\n                            this._tooltipMoveDp = undefined;\r\n                        }\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n    _handleStates() {\r\n        if (!this._statesHandled) {\r\n            if (this.isDirty(\"active\")) {\r\n                if (this.get(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"disabled\")) {\r\n                if (this.get(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            this._statesHandled = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const display = this._display;\r\n        const events = this.events;\r\n        if (this.isDirty(\"draggable\")) {\r\n            const draggable = this.get(\"draggable\");\r\n            if (draggable) {\r\n                this.set(\"interactive\", true);\r\n                this._dragDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    events.on(\"pointerdown\", (ev) => {\r\n                        this.dragStart(ev);\r\n                    }),\r\n                    events.on(\"globalpointermove\", (ev) => {\r\n                        this.dragMove(ev);\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        this.dragStop(ev);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._dragDp) {\r\n                    this._dragDp.dispose();\r\n                    this._dragDp = undefined;\r\n                }\r\n            }\r\n            display.cancelTouch = draggable ? true : false;\r\n        }\r\n        if (this.isDirty(\"tooltipText\") || this.isDirty(\"tooltipHTML\") || this.isDirty(\"showTooltipOn\")) {\r\n            const tooltipText = this.get(\"tooltipText\");\r\n            const tooltipHTML = this.get(\"tooltipHTML\");\r\n            const showTooltipOn = this.get(\"showTooltipOn\", \"hover\");\r\n            if (this._tooltipDp) {\r\n                this._tooltipDp.dispose();\r\n                this._tooltipDp = undefined;\r\n            }\r\n            if (tooltipText || tooltipHTML) {\r\n                if (showTooltipOn == \"click\") {\r\n                    this._tooltipDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                        events.on(\"click\", () => {\r\n                            this.setTimeout(() => this.showTooltip(), 10);\r\n                        }),\r\n                        _util_Utils__WEBPACK_IMPORTED_MODULE_7__.addEventListener(document, \"click\", (_ev) => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n                else if (showTooltipOn == \"always\") {\r\n                    // nothing\r\n                }\r\n                else {\r\n                    this._tooltipDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                        events.on(\"pointerover\", () => {\r\n                            this.showTooltip();\r\n                        }),\r\n                        events.on(\"pointerout\", () => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"toggleKey\")) {\r\n            let toggleKey = this.get(\"toggleKey\");\r\n            if (toggleKey && toggleKey != \"none\") {\r\n                this._toggleDp = events.on(\"click\", () => {\r\n                    if (!this._isDragging) {\r\n                        this.set(toggleKey, !this.get(toggleKey));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._toggleDp) {\r\n                    this._toggleDp.dispose();\r\n                    this._toggleDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"opacity\")) {\r\n            display.alpha = Math.max(0, this.get(\"opacity\", 1));\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"rotation\")) {\r\n            this.markDirtyBounds();\r\n            display.angle = this.get(\"rotation\", 0);\r\n        }\r\n        if (this.isDirty(\"scale\")) {\r\n            this.markDirtyBounds();\r\n            display.scale = this.get(\"scale\", 0);\r\n        }\r\n        if (this.isDirty(\"centerX\") || this.isDirty(\"centerY\")) {\r\n            this.markDirtyBounds();\r\n            this.updatePivotPoint();\r\n        }\r\n        if (this.isDirty(\"visible\") || this.isPrivateDirty(\"visible\") || this.isDirty(\"forceHidden\")) {\r\n            if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                display.visible = false;\r\n                this.hideTooltip();\r\n            }\r\n            else {\r\n                display.visible = true;\r\n            }\r\n            this.markDirtyBounds();\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this.markDirtyBounds();\r\n            this._addPercentageSizeChildren();\r\n            const parent = this.parent;\r\n            if (parent) {\r\n                if ((this.isDirty(\"width\") && this.get(\"width\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) || (this.isDirty(\"height\") && this.get(\"height\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent)) {\r\n                    parent.markDirty();\r\n                    parent._prevWidth = 0;\r\n                }\r\n            }\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"minWidth\") || this.isDirty(\"minHeight\") || this.isPrivateDirty(\"maxWidth\") || this.isPrivateDirty(\"maxHeight\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\") || this.isDirty(\"marginLeft\") || this.isDirty(\"marginTop\") || this.isDirty(\"marginRight\") || this.isDirty(\"marginBottom\")) {\r\n            this.markDirtyBounds();\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this._sizeDirty) {\r\n            this._updateSize();\r\n        }\r\n        if (this.isDirty(\"wheelable\")) {\r\n            const wheelable = this.get(\"wheelable\");\r\n            if (wheelable) {\r\n                this.set(\"interactive\", true);\r\n            }\r\n            display.wheelable = wheelable ? true : false;\r\n        }\r\n        // Accessibility\r\n        if (this.isDirty(\"tabindexOrder\") || this.isDirty(\"focusableGroup\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"filter\")) {\r\n            //this.markDirtyBounds();\r\n            display.filter = this.get(\"filter\");\r\n        }\r\n        let filter = this.get(\"filter\", \"\");\r\n        if (this.isDirty(\"blur\")) {\r\n            const blur = this.get(\"blur\", 0);\r\n            if (blur != 0) {\r\n                filter += \" blur(\" + blur + \"px)\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"saturate\")) {\r\n            const saturate = this.get(\"saturate\", 1);\r\n            if (saturate != 1) {\r\n                filter += \" saturate(\" + saturate + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"brightness\")) {\r\n            const brightness = this.get(\"brightness\", 1);\r\n            if (brightness != 1) {\r\n                filter += \" brightness(\" + brightness + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"contrast\")) {\r\n            const contrast = this.get(\"contrast\", 1);\r\n            if (contrast != 1) {\r\n                filter += \" contrast(\" + contrast + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"sepia\")) {\r\n            const sepia = this.get(\"sepia\", 0);\r\n            if (sepia != 0) {\r\n                filter += \" sepia(\" + sepia + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"hue\")) {\r\n            const hue = this.get(\"hue\", 0);\r\n            if (hue != 0) {\r\n                filter += \" hue-rotate(\" + hue + \"deg)\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"invert\")) {\r\n            const invert = this.get(\"invert\", 0);\r\n            if (invert != 0) {\r\n                filter += \" invert(\" + invert + \")\";\r\n            }\r\n        }\r\n        if (filter) {\r\n            display.filter = filter;\r\n        }\r\n        if (this.isDirty(\"cursorOverStyle\")) {\r\n            display.cursorOverStyle = this.get(\"cursorOverStyle\");\r\n        }\r\n        if (this.isDirty(\"hoverOnFocus\")) {\r\n            if (this.get(\"hoverOnFocus\")) {\r\n                this._focusDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    events.on(\"focus\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.showTooltip();\r\n                    }),\r\n                    events.on(\"blur\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.hideTooltip();\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._focusDp) {\r\n                    this._focusDp.dispose();\r\n                    this._focusDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"focusable\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isPrivateDirty(\"focusable\")) {\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"role\") || this.isDirty(\"ariaLive\") || this.isDirty(\"ariaChecked\") || this.isDirty(\"ariaHidden\") || this.isDirty(\"ariaOrientation\") || this.isDirty(\"ariaValueNow\") || this.isDirty(\"ariaValueMin\") || this.isDirty(\"ariaValueMax\") || this.isDirty(\"ariaValueText\") || this.isDirty(\"ariaLabel\") || this.isDirty(\"ariaControls\")) {\r\n            // display.accessibility.ariaLabel = populateString(this, this.get(\"ariaLabel\", \"\"));\r\n            // @todo make sure ariaLabel gets populated in Root\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"exportable\")) {\r\n            display.exportable = this.get(\"exportable\");\r\n        }\r\n        if (this.isDirty(\"interactive\")) {\r\n            const events = this.events;\r\n            if (this.get(\"interactive\") && !events.isDisposed()) {\r\n                this._hoverDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    events.on(\"click\", (ev) => {\r\n                        if (_util_Utils__WEBPACK_IMPORTED_MODULE_7__.isTouchEvent(ev.originalEvent)) {\r\n                            if (!this.getPrivate(\"touchHovering\")) {\r\n                                this.setTimeout(() => {\r\n                                    this._handleOver();\r\n                                    if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                        this.showTooltip();\r\n                                    }\r\n                                    this.setPrivateRaw(\"touchHovering\", true);\r\n                                    this.events.dispatch(\"pointerover\", {\r\n                                        type: \"pointerover\",\r\n                                        target: ev.target,\r\n                                        originalEvent: ev.originalEvent,\r\n                                        point: ev.point,\r\n                                        simulated: ev.simulated\r\n                                    });\r\n                                }, 10);\r\n                            }\r\n                        }\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        if (_util_Utils__WEBPACK_IMPORTED_MODULE_7__.isTouchEvent(ev.originalEvent)) {\r\n                            if (this.getPrivate(\"touchHovering\")) {\r\n                                this._handleOut();\r\n                                if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                    this.hideTooltip();\r\n                                }\r\n                                this.setPrivateRaw(\"touchHovering\", false);\r\n                                this.events.dispatch(\"pointerout\", {\r\n                                    type: \"pointerout\",\r\n                                    target: ev.target,\r\n                                    originalEvent: ev.originalEvent,\r\n                                    point: ev.point,\r\n                                    simulated: ev.simulated\r\n                                });\r\n                            }\r\n                        }\r\n                        if (this._isDown) {\r\n                            this._handleUp(ev);\r\n                        }\r\n                        //this._isDown = false;\r\n                    }),\r\n                    events.on(\"pointerover\", () => {\r\n                        this._handleOver();\r\n                    }),\r\n                    events.on(\"pointerout\", () => {\r\n                        this._handleOut();\r\n                    }),\r\n                    events.on(\"pointerdown\", (e) => {\r\n                        this._handleDown(e);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                this._display.interactive = false;\r\n                if (this._hoverDp) {\r\n                    this._hoverDp.dispose();\r\n                    this._hoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"forceInactive\")) {\r\n            this._display.inactive = this.get(\"forceInactive\", null);\r\n        }\r\n        if (this.get(\"showTooltipOn\") == \"always\" && this._display.visible) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStart(e) {\r\n        this._dragEvent = e;\r\n        this.events.stopParentDispatch();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStop(e) {\r\n        this._dragEvent = undefined;\r\n        this._dragPoint = undefined;\r\n        this.events.stopParentDispatch();\r\n        if (this._isDragging) {\r\n            this._isDragging = false;\r\n            const type = \"dragstop\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, {\r\n                    type: type,\r\n                    target: this,\r\n                    originalEvent: e.originalEvent,\r\n                    point: e.point,\r\n                    simulated: e.simulated,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _handleOver() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"hoverActive\")) {\r\n                this.states.applyAnimate(\"hoverActive\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"hoverDisabled\")) {\r\n                this.states.applyAnimate(\"hoverDisabled\");\r\n            }\r\n            else {\r\n                this.states.applyAnimate(\"hover\");\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleOut() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else {\r\n                if (this.states.lookup(\"hover\") || this.states.lookup(\"hoverActive\")) {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleUp(e) {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else if (this.states.lookup(\"down\")) {\r\n                if (this.isHover()) {\r\n                    this.states.applyAnimate(\"hover\");\r\n                }\r\n                else {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            // @todo remove this once migrated to _downPoints\r\n            this._downPoint = undefined;\r\n            const pointerId = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.getPointerId(e.originalEvent);\r\n            delete this._downPoints[pointerId];\r\n            if (_util_Object__WEBPACK_IMPORTED_MODULE_8__.keys(this._downPoints).length == 0) {\r\n                this._isDown = false;\r\n            }\r\n        }\r\n    }\r\n    _hasMoved(e) {\r\n        // @todo remove this once migrated to _downPoints\r\n        // if (this._downPoint) {\r\n        // \tconst x = Math.abs(this._downPoint.x - e.point.x);\r\n        // \tconst y = Math.abs(this._downPoint.y - e.point.y);\r\n        // \treturn (x > 5) || (y > 5);\r\n        // }\r\n        const pointerId = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.getPointerId(e.originalEvent);\r\n        const downPoint = this._downPoints[pointerId];\r\n        if (downPoint) {\r\n            const x = Math.abs(downPoint.x - e.point.x);\r\n            const y = Math.abs(downPoint.y - e.point.y);\r\n            return (x > 5) || (y > 5);\r\n        }\r\n        return false;\r\n    }\r\n    _hasDown() {\r\n        return _util_Object__WEBPACK_IMPORTED_MODULE_8__.keys(this._downPoints).length > 0;\r\n    }\r\n    _handleDown(e) {\r\n        const parent = this.parent;\r\n        if (parent && !this.get(\"draggable\")) {\r\n            parent._handleDown(e);\r\n        }\r\n        if (this.get(\"interactive\") && !this.isHidden()) {\r\n            if (this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n            this._downPoint = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n            // @todo remove this once migrated to _downPoints\r\n            this._isDown = true;\r\n            const pointerId = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.getPointerId(e.originalEvent);\r\n            this._downPoints[pointerId] = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragMove(e) {\r\n        let dragEvent = this._dragEvent;\r\n        if (dragEvent) {\r\n            if (dragEvent.simulated && !e.simulated) {\r\n                return true;\r\n            }\r\n            let angle = 0;\r\n            let parent = this.parent;\r\n            let scale = 1;\r\n            while (parent != null) {\r\n                angle += parent.get(\"rotation\", 0);\r\n                parent = parent.parent;\r\n                if (parent) {\r\n                    scale *= parent.get(\"scale\", 1);\r\n                }\r\n            }\r\n            let x = (e.point.x - dragEvent.point.x) / scale;\r\n            let y = (e.point.y - dragEvent.point.y) / scale;\r\n            const events = this.events;\r\n            if (dragEvent.simulated && !this._isDragging) {\r\n                this._isDragging = true;\r\n                this._dragEvent = e;\r\n                this._dragPoint = {\r\n                    x: this.x(),\r\n                    y: this.y()\r\n                };\r\n                const type = \"dragstart\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            if (this._isDragging) {\r\n                let dragPoint = this._dragPoint;\r\n                this.set(\"x\", dragPoint.x + x * _util_Math__WEBPACK_IMPORTED_MODULE_2__.cos(angle) + y * _util_Math__WEBPACK_IMPORTED_MODULE_2__.sin(angle));\r\n                this.set(\"y\", dragPoint.y + y * _util_Math__WEBPACK_IMPORTED_MODULE_2__.cos(angle) - x * _util_Math__WEBPACK_IMPORTED_MODULE_2__.sin(angle));\r\n                const type = \"dragged\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (Math.hypot(x, y) > 5) {\r\n                    this._isDragging = true;\r\n                    this._dragEvent = e;\r\n                    this._dragPoint = {\r\n                        x: this.x(),\r\n                        y: this.y()\r\n                    };\r\n                    const type = \"dragstart\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n    }\r\n    _getBounds() {\r\n        this._localBounds = this._display.getLocalBounds();\r\n    }\r\n    /**\r\n     * Returns depth (how deep in the hierachy of the content tree) of this\r\n     * element.\r\n     *\r\n     * @return Depth\r\n     */\r\n    depth() {\r\n        let self = this.parent;\r\n        let depth = 0;\r\n        while (true) {\r\n            if (self) {\r\n                ++depth;\r\n                self = self.parent;\r\n            }\r\n            else {\r\n                return depth;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyBounds() {\r\n        const display = this._display;\r\n        if (this.get(\"isMeasured\")) {\r\n            this._root._addDirtyBounds(this);\r\n            display.isMeasured = true;\r\n            display.invalidateBounds();\r\n            const parent = this.parent;\r\n            if (parent && this.get(\"position\") != \"absolute\") {\r\n                if (parent.get(\"width\") == null || parent.get(\"height\") == null || parent.get(\"layout\")) {\r\n                    parent.markDirtyBounds();\r\n                }\r\n            }\r\n            if (this.get(\"focusable\") && this.isFocus()) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyAccessibility() {\r\n        //if (this._root.focused(this)) {\r\n        this._root._invalidateAccessibility(this);\r\n        //}\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyLayer() {\r\n        //this._display.markDirtyLayer(this.isDirty(\"opacity\") || this.isDirty(\"visible\")); https://codepen.io/team/amcharts/pen/gOWZPmP <- problems\r\n        this._display.markDirtyLayer(true);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this.markDirtyLayer();\r\n    }\r\n    _updateBounds() {\r\n        const oldBounds = this._adjustedLocalBounds;\r\n        let newBounds;\r\n        // if display.visible == false, it still returns bounds\r\n        if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n            newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0\r\n            };\r\n            this._localBounds = newBounds;\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            this._getBounds();\r\n            this._fixMinBounds(this._localBounds);\r\n            this.updatePivotPoint();\r\n            this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);\r\n            newBounds = this._adjustedLocalBounds;\r\n        }\r\n        if (!oldBounds || (oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom)) {\r\n            const eventType = \"boundschanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n            if (this.parent) {\r\n                this.parent.markDirty();\r\n                this.parent.markDirtyBounds();\r\n            }\r\n            // Update tooltip position together with the Sprite\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n    }\r\n    _fixMinBounds(bounds) {\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minWidth)) {\r\n            if (bounds.right - bounds.left < minWidth) {\r\n                bounds.right = bounds.left + minWidth;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minHeight)) {\r\n            if (bounds.bottom - bounds.top < minHeight) {\r\n                bounds.bottom = bounds.top + minHeight;\r\n            }\r\n        }\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateWidth)) {\r\n            if (privateWidth > 0) {\r\n                bounds.right = bounds.left + privateWidth;\r\n            }\r\n            else {\r\n                bounds.left = bounds.right + privateWidth;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateHeight)) {\r\n            if (privateHeight > 0) {\r\n                bounds.bottom = bounds.top + privateHeight;\r\n            }\r\n            else {\r\n                bounds.top = bounds.bottom + privateHeight;\r\n            }\r\n        }\r\n    }\r\n    _removeParent(parent) {\r\n        if (parent) {\r\n            parent.children.removeValue(this);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentageSizeChildren, this);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentagePositionChildren, this);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._statesHandled = false;\r\n    }\r\n    /**\r\n     * Simulate hover over element.\r\n     */\r\n    hover() {\r\n        this.showTooltip();\r\n        this._handleOver();\r\n    }\r\n    /**\r\n     * Simulate unhover over element.\r\n     */\r\n    unhover() {\r\n        this.hideTooltip();\r\n        this._handleOut();\r\n    }\r\n    /**\r\n     * Shows element's [[Tooltip]].\r\n     */\r\n    showTooltip(point) {\r\n        const tooltip = this.getTooltip();\r\n        const tooltipText = this.get(\"tooltipText\");\r\n        const tooltipHTML = this.get(\"tooltipHTML\");\r\n        if ((tooltipText || tooltipHTML) && tooltip) {\r\n            const tooltipPosition = this.get(\"tooltipPosition\");\r\n            const tooltipTarget = this.getPrivate(\"tooltipTarget\", this);\r\n            if (tooltipPosition == \"fixed\" || !point) {\r\n                this._display._setMatrix();\r\n                point = this.toGlobal(tooltipTarget._getTooltipPoint());\r\n            }\r\n            tooltip.set(\"pointTo\", point);\r\n            tooltip.set(\"tooltipTarget\", tooltipTarget);\r\n            if (!tooltip.get(\"x\")) {\r\n                tooltip.set(\"x\", point.x);\r\n            }\r\n            if (!tooltip.get(\"y\")) {\r\n                tooltip.set(\"y\", point.y);\r\n            }\r\n            if (tooltipText) {\r\n                tooltip.label.set(\"text\", tooltipText);\r\n            }\r\n            if (tooltipHTML) {\r\n                tooltip.label.set(\"html\", tooltipHTML);\r\n            }\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                tooltip.label._setDataItem(dataItem);\r\n            }\r\n            if (this.get(\"showTooltipOn\") == \"always\" && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {\r\n                this.hideTooltip();\r\n                return;\r\n            }\r\n            tooltip.label.text.markDirtyText();\r\n            const promise = tooltip.show();\r\n            this.setPrivateRaw(\"showingTooltip\", true);\r\n            return promise;\r\n        }\r\n    }\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     */\r\n    hideTooltip() {\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            if (tooltip.get(\"tooltipTarget\") == this.getPrivate(\"tooltipTarget\", this) || this.get(\"tooltip\") == tooltip) {\r\n                let timeout = tooltip.get(\"keepTargetHover\") && tooltip.get(\"stateAnimationDuration\", 0) == 0 ? 400 : undefined;\r\n                const promise = tooltip.hide(timeout);\r\n                this.setPrivateRaw(\"showingTooltip\", false);\r\n                return promise;\r\n            }\r\n        }\r\n    }\r\n    _getTooltipPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            let x = 0;\r\n            let y = 0;\r\n            if (!this.get(\"isMeasured\")) {\r\n                x = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipX\", 0), this.width());\r\n                y = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipY\", 0), this.height());\r\n            }\r\n            else {\r\n                x = bounds.left + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipX\", 0), bounds.right - bounds.left);\r\n                y = bounds.top + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipY\", 0), bounds.bottom - bounds.top);\r\n            }\r\n            return { x, y };\r\n        }\r\n        return { x: 0, y: 0 };\r\n    }\r\n    /**\r\n     * Returns [[Tooltip]] used for this element.\r\n     *\r\n     * @return Tooltip\r\n     */\r\n    getTooltip() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (!tooltip) {\r\n            let parent = this.parent;\r\n            if (parent) {\r\n                return parent.getTooltip();\r\n            }\r\n        }\r\n        else {\r\n            return tooltip;\r\n        }\r\n    }\r\n    _updatePosition() {\r\n        const parent = this.parent;\r\n        let dx = this.get(\"dx\", 0);\r\n        let dy = this.get(\"dy\", 0);\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        let xx = 0;\r\n        let yy = 0;\r\n        const position = this.get(\"position\");\r\n        if (x instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n            if (parent) {\r\n                x = parent.innerWidth() * x.value + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                x = 0;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(x)) {\r\n            xx = x + dx;\r\n        }\r\n        else {\r\n            if (_x != null) {\r\n                xx = _x;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    xx = parent.get(\"paddingLeft\", 0) + dx;\r\n                }\r\n            }\r\n        }\r\n        let y = this.get(\"y\");\r\n        let _y = this.getPrivate(\"y\");\r\n        if (y instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n            if (parent) {\r\n                y = parent.innerHeight() * y.value + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                y = 0;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(y)) {\r\n            yy = y + dy;\r\n        }\r\n        else {\r\n            if (_y != null) {\r\n                yy = _y;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    yy = parent.get(\"paddingTop\", 0) + dy;\r\n                }\r\n            }\r\n        }\r\n        const display = this._display;\r\n        if (display.x != xx || display.y != yy) {\r\n            display.invalidateBounds();\r\n            display.x = xx;\r\n            display.y = yy;\r\n            const eventType = \"positionchanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n        }\r\n        // Update tooltip position together with the Sprite\r\n        if (this.getPrivate(\"showingTooltip\")) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * Returns element's actual X position in pixels.\r\n     *\r\n     * @return X (px)\r\n     */\r\n    x() {\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (x instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                return _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(x, parent.innerWidth()) + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                if (!_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(x)) {\r\n                    if (_x != null) {\r\n                        return _x;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingLeft\", this._display.x);\r\n                    }\r\n                }\r\n                else {\r\n                    return x;\r\n                }\r\n            }\r\n        }\r\n        return this._display.x;\r\n    }\r\n    /**\r\n     * Returns element's actual Y position in pixels.\r\n     *\r\n     * @return Y (px)\r\n     */\r\n    y() {\r\n        let _y = this.getPrivate(\"y\");\r\n        if (_y != null) {\r\n            return _y;\r\n        }\r\n        let y = this.get(\"y\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (y instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                return _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(y, parent.innerHeight()) + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                if (!_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(y)) {\r\n                    if (_y != null) {\r\n                        return _y;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingTop\", this._display.y);\r\n                    }\r\n                }\r\n                else {\r\n                    return y;\r\n                }\r\n            }\r\n        }\r\n        return this._display.y;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._display.dispose();\r\n        this._removeTemplateField();\r\n        this._removeParent(this.parent);\r\n        this._root._removeFocusElement(this);\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.dispose();\r\n        }\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    adjustedLocalBounds() {\r\n        this._fixMinBounds(this._adjustedLocalBounds);\r\n        return this._adjustedLocalBounds;\r\n    }\r\n    /**\r\n     * Returns local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    localBounds() {\r\n        return this._localBounds;\r\n    }\r\n    /**\r\n     * Returns adjusted local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    bounds() {\r\n        const bounds = this._adjustedLocalBounds;\r\n        const x = this.x();\r\n        const y = this.y();\r\n        return { left: bounds.left + x, right: bounds.right + x, top: bounds.top + y, bottom: bounds.bottom + y };\r\n    }\r\n    /**\r\n     * Returns global coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    globalBounds() {\r\n        const bounds = this.localBounds();\r\n        const p0 = this.toGlobal({ x: bounds.left, y: bounds.top });\r\n        const p1 = this.toGlobal({ x: bounds.right, y: bounds.top });\r\n        const p2 = this.toGlobal({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = this.toGlobal({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    _onShow(_duration) {\r\n    }\r\n    _onHide(_duration) {\r\n    }\r\n    /**\r\n     * Plays initial reveal animation regardless if element is currently hidden\r\n     * or visible.\r\n     *\r\n     * @param   duration  Duration of the animation in milliseconds\r\n     * @param   delay     Delay showing of the element by X milliseconds\r\n     * @return            Promise\r\n     */\r\n    appear(duration, delay) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {\r\n            yield this.hide(0);\r\n            if (delay) {\r\n                return new Promise((success, _error) => {\r\n                    this.setTimeout(() => {\r\n                        success(this.show(duration));\r\n                    }, delay);\r\n                });\r\n            }\r\n            else {\r\n                return this.show(duration);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Shows currently hidden element and returns a `Promise` which completes\r\n     * when all showing animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    show(duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (!this._isShowing) {\r\n                this._isHidden = false;\r\n                this._isShowing = true;\r\n                this._isHiding = false;\r\n                if (this.states.lookup(\"default\").get(\"visible\")) {\r\n                    this.set(\"visible\", true);\r\n                }\r\n                this._onShow(duration);\r\n                const animations = this.states.applyAnimate(\"default\", duration);\r\n                yield (0,_util_Animation__WEBPACK_IMPORTED_MODULE_11__.waitForAnimations)(animations);\r\n                this._isShowing = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Hides the element and returns a `Promise` which completes when all hiding\r\n     * animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    hide(duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (!this._isHiding && !this._isHidden) {\r\n                this._isHiding = true;\r\n                this._isShowing = false;\r\n                let state = this.states.lookup(\"hidden\");\r\n                if (!state) {\r\n                    state = this.states.create(\"hidden\", {\r\n                        \"opacity\": 0,\r\n                        \"visible\": false\r\n                    });\r\n                }\r\n                this._isHidden = true;\r\n                this._onHide(duration);\r\n                const animations = this.states.applyAnimate(\"hidden\", duration);\r\n                yield (0,_util_Animation__WEBPACK_IMPORTED_MODULE_11__.waitForAnimations)(animations);\r\n                this._isHiding = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hidden.\r\n     *\r\n     * @return Is hidden?\r\n     */\r\n    isHidden() {\r\n        return this._isHidden;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a default state.\r\n     *\r\n     * @return Is showing?\r\n     */\r\n    isShowing() {\r\n        return this._isShowing;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a hidden state.\r\n     *\r\n     * @return Is hiding?\r\n     */\r\n    isHiding() {\r\n        return this._isHiding;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hovered by a pointer.\r\n     *\r\n     * @return Is hovered?\r\n     */\r\n    isHover() {\r\n        return this._display.hovering();\r\n    }\r\n    /**\r\n     * Returns `true` if this element does currently have focus.\r\n     *\r\n     * @return Is focused?\r\n     */\r\n    isFocus() {\r\n        return this._root.focused(this);\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently being dragged.\r\n     *\r\n     * @return Is dragged?\r\n     */\r\n    isDragging() {\r\n        return this._isDragging;\r\n    }\r\n    /**\r\n     * Returns `false` if if either public or private setting `visible` is set\r\n     * to `false`, or `forceHidden` is set to `true`.\r\n     *\r\n     * @return Visible?\r\n     */\r\n    isVisible() {\r\n        if (this.get(\"visible\") && this.getPrivate(\"visible\") && !this.get(\"forceHidden\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Same as `isVisible()`, except it checks all ascendants, too.\r\n     *\r\n     * @since 5.2.7\r\n     * @return Visible?\r\n     */\r\n    isVisibleDeep() {\r\n        return this._parent ? (this._parent.isVisibleDeep() && this.isVisible()) : this.isVisible();\r\n    }\r\n    /**\r\n     * Returns an actual opacity of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.2.11\r\n     */\r\n    compositeOpacity() {\r\n        const opacity = this.get(\"opacity\", 1);\r\n        return this._parent ? (this._parent.compositeOpacity() * opacity) : opacity;\r\n    }\r\n    /**\r\n     * Returns an actual scale of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.9.2\r\n     */\r\n    compositeScale() {\r\n        const scale = this.get(\"scale\", 1);\r\n        return this._parent ? (this._parent.compositeScale() * scale) : scale;\r\n    }\r\n    /**\r\n     * Returns an actual roation of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.9.2\r\n     */\r\n    compositeRotation() {\r\n        const rotation = this.get(\"rotation\", 0);\r\n        return this._parent ? (this._parent.compositeRotation() + rotation) : rotation;\r\n    }\r\n    /**\r\n     * Returns width of this element in pixels.\r\n     *\r\n     * @return Width (px)\r\n     */\r\n    width() {\r\n        let width = this.get(\"width\");\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let w = 0;\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateWidth)) {\r\n            w = privateWidth;\r\n        }\r\n        else {\r\n            if (width == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;\r\n                }\r\n            }\r\n            else {\r\n                if (width instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        w = parent.innerWidth() * width.value;\r\n                    }\r\n                    else {\r\n                        w = this._root.width() * width.value;\r\n                    }\r\n                }\r\n                else if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(width)) {\r\n                    w = width;\r\n                }\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minWidth)) {\r\n            w = Math.max(minWidth, w);\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxWidth)) {\r\n            w = Math.min(maxWidth, w);\r\n        }\r\n        return w;\r\n    }\r\n    /**\r\n     * Returns maximum allowed width of this element in pixels.\r\n     *\r\n     * @return Maximum width (px)\r\n     */\r\n    maxWidth() {\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxWidth)) {\r\n            return maxWidth;\r\n        }\r\n        else {\r\n            let width = this.get(\"width\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(width)) {\r\n                return width;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerWidth();\r\n        }\r\n        return this._root.width();\r\n    }\r\n    /**\r\n     * Returns maximum allowed height of this element in pixels.\r\n     *\r\n     * @return Maximum height (px)\r\n     */\r\n    maxHeight() {\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxHeight)) {\r\n            return maxHeight;\r\n        }\r\n        else {\r\n            let height = this.get(\"height\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(height)) {\r\n                return height;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerHeight();\r\n        }\r\n        return this._root.height();\r\n    }\r\n    /**\r\n     * Returns height of this element in pixels.\r\n     *\r\n     * @return Height (px)\r\n     */\r\n    height() {\r\n        let height = this.get(\"height\");\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        let h = 0;\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateHeight)) {\r\n            h = privateHeight;\r\n        }\r\n        else {\r\n            if (height == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;\r\n                }\r\n            }\r\n            else {\r\n                if (height instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        h = parent.innerHeight() * height.value;\r\n                    }\r\n                    else {\r\n                        h = this._root.height() * height.value;\r\n                    }\r\n                }\r\n                else if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(height)) {\r\n                    h = height;\r\n                }\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minHeight)) {\r\n            h = Math.max(minHeight, h);\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxHeight)) {\r\n            h = Math.min(maxHeight, h);\r\n        }\r\n        return h;\r\n    }\r\n    _findStaticTemplate(f) {\r\n        // templateField overrides template\r\n        if (this._templateField && f(this._templateField)) {\r\n            return this._templateField;\r\n        }\r\n        return super._findStaticTemplate(f);\r\n    }\r\n    _walkParents(f) {\r\n        if (this._parent) {\r\n            this._walkParent(f);\r\n        }\r\n    }\r\n    _walkParent(f) {\r\n        if (this._parent) {\r\n            this._parent._walkParent(f);\r\n        }\r\n        f(this);\r\n    }\r\n    /**\r\n     * Parent [[Container]] of this element.\r\n     *\r\n     * @return Parent container\r\n     */\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n    _setParent(parent, updateChildren = false) {\r\n        const prevParent = this._parent;\r\n        if (parent !== prevParent) {\r\n            this.markDirtyBounds();\r\n            parent.markDirty();\r\n            this._parent = parent;\r\n            if (updateChildren) {\r\n                this._removeParent(prevParent);\r\n                if (parent) {\r\n                    this._addPercentageSizeChildren();\r\n                    this._addPercentagePositionChildren();\r\n                }\r\n            }\r\n            this.markDirtyPosition();\r\n            this._applyThemes();\r\n        }\r\n    }\r\n    /**\r\n     * Returns an instance of [[NumberFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return NumberFormatter instace\r\n     */\r\n    getNumberFormatter() {\r\n        return this.get(\"numberFormatter\", this._root.numberFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DateFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DateFormatter instace\r\n     */\r\n    getDateFormatter() {\r\n        return this.get(\"dateFormatter\", this._root.dateFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DurationFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DurationFormatter instace\r\n     */\r\n    getDurationFormatter() {\r\n        return this.get(\"durationFormatter\", this._root.durationFormatter);\r\n    }\r\n    /**\r\n     * Converts X/Y coordinate within this element to a global coordinate.\r\n     *\r\n     * @param  point  Local coordinate\r\n     * @return        Global coordinate\r\n     */\r\n    toGlobal(point) {\r\n        return this._display.toGlobal(point);\r\n    }\r\n    /**\r\n     * Converts global X/Y coordinate to a coordinate within this element.\r\n     *\r\n     * @param  point  Global coordinate\r\n     * @return        Local coordinate\r\n     */\r\n    toLocal(point) {\r\n        return this._display.toLocal(point);\r\n    }\r\n    _getDownPoint() {\r\n        const id = this._getDownPointId();\r\n        if (id) {\r\n            return this._downPoints[id];\r\n        }\r\n    }\r\n    _getDownPointId() {\r\n        if (this._downPoints) {\r\n            return _util_Object__WEBPACK_IMPORTED_MODULE_8__.keysOrdered(this._downPoints, (a, b) => {\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            })[0];\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the end of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toFront() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, parent.children.length - 1);\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the beginning of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toBack() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, 0);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Sprite, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Sprite\"\r\n});\r\nObject.defineProperty(Sprite, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _util_Entity__WEBPACK_IMPORTED_MODULE_3__.Entity.classNames.concat([Sprite.className])\r\n});\r\n//# sourceMappingURL=Sprite.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU3ByaXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDTTtBQUNJO0FBQ0Y7QUFDZ0I7QUFDUTtBQUNaO0FBQ2Q7QUFDQTtBQUNGO0FBQ0k7QUFDSjtBQUN0QyxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUF5RDtBQUNsRTtBQUNBLG9DQUFvQyxrRUFBZTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYix3REFBd0QsMkRBQWU7QUFDdkU7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5REFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsZ0RBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsb0RBQVE7QUFDdEQsbUNBQW1DLG9EQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrREFBTyxrQ0FBa0Msa0RBQU87QUFDN0YsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxrREFBTyw2QkFBNkIsa0RBQU87QUFDcEYsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsd0RBQXNCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx3REFBc0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLDZDQUE2Qyx5REFBYTtBQUMxRDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx5REFBYTtBQUNoRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHlEQUFhO0FBQ3ZEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsd0JBQXdCLHlEQUF1QjtBQUMvQztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx5REFBYTtBQUN2RDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsa0RBQU8sOERBQThELGtEQUFPO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5REFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MseURBQWE7QUFDakQ7QUFDQSw0QkFBNEIscURBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsNEJBQTRCLHFEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFEQUFtQjtBQUNqRDtBQUNBLGdCQUFnQiw4Q0FBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFEQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDJDQUFTLGNBQWMsMkNBQVM7QUFDaEYsZ0RBQWdELDJDQUFTLGNBQWMsMkNBQVM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsK0JBQStCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBa0I7QUFDOUIsWUFBWSxvREFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3REFBc0I7QUFDMUMsb0JBQW9CLHdEQUFzQjtBQUMxQztBQUNBO0FBQ0Esa0NBQWtDLHdEQUFzQjtBQUN4RCxpQ0FBaUMsd0RBQXNCO0FBQ3ZEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBTztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBTztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsK0JBQStCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsa0RBQU87QUFDcEMsdUJBQXVCLHdEQUFzQjtBQUM3QztBQUNBO0FBQ0EscUJBQXFCLGdEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrREFBTztBQUNwQyx1QkFBdUIsd0RBQXNCO0FBQzdDO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLCtCQUErQjtBQUNsRSxtQ0FBbUMsZ0NBQWdDO0FBQ25FLG1DQUFtQyxtQ0FBbUM7QUFDdEUsbUNBQW1DLGtDQUFrQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtRUFBaUI7QUFDdkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUVBQWlCO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0RBQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxrREFBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUVBQW1FO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtRUFBbUU7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1FQUFtRTtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxREFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9TcHJpdGUuanM/ZDg2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL3V0aWwvRW50aXR5XCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSBcIi4uL3V0aWwvVGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgUGVyY2VudCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcIi4uL3V0aWwvRXZlbnREaXNwYXRjaGVyXCI7XHJcbmltcG9ydCB7IE11bHRpRGlzcG9zZXIsIENvdW50ZXJEaXNwb3NlciB9IGZyb20gXCIuLi91dGlsL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCB7IHdhaXRGb3JBbmltYXRpb25zIH0gZnJvbSBcIi4uL3V0aWwvQW5pbWF0aW9uXCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vdXRpbC9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuLi91dGlsL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vdXRpbC9NYXRoXCI7XHJcbi8vaW1wb3J0IHsgcG9wdWxhdGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC9Qb3B1bGF0ZVN0cmluZ1wiO1xyXG4vKipcclxuICogQW4gW1tFdmVudERpc3BhdGNoZXJdXSBmb3IgW1tTcHJpdGVdXS5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuY2xhc3MgU3ByaXRlRXZlbnREaXNwYXRjaGVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNwcml0ZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Nwcml0ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVuZGVyZXJEaXNwb3NlcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcGF0Y2hQYXJlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9zcHJpdGUgPSBzcHJpdGU7XHJcbiAgICB9XHJcbiAgICBfbWFrZVBvaW50ZXJFdmVudChrZXksIGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZToga2V5LFxyXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5ldmVudCxcclxuICAgICAgICAgICAgcG9pbnQ6IGV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICBzaW11bGF0ZWQ6IGV2ZW50LnNpbXVsYXRlZCxcclxuICAgICAgICAgICAgbmF0aXZlOiBldmVudC5uYXRpdmUsXHJcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5fc3ByaXRlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9vblJlbmRlcmVyKGtleSwgZGlzcGF0Y2gpIHtcclxuICAgICAgICAvLyBUT0RPOiBpcyB0aGlzIE9LPyBpdCdkIGJlIGdvb2Qgbm90IHRvIHJlcXVpcmUgdG8gc2V0IHRoaXMgb24gZWFjaCBpbmRpdmlkdWFsIGVsZW1lbnRcclxuICAgICAgICB0aGlzLl9zcHJpdGUuc2V0KFwiaW50ZXJhY3RpdmVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLl9kaXNwbGF5LmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fcmVuZGVyZXJEaXNwb3NlcnNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzcG9zZXIgPSB0aGlzLl9zcHJpdGUuX2Rpc3BsYXkub24oa2V5LCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2guY2FsbCh0aGlzLCBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV2ZW50cyA9IHRoaXMuX3JlbmRlcmVyRGlzcG9zZXJzW2tleV0gPSBuZXcgQ291bnRlckRpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9yZW5kZXJlckRpc3Bvc2Vyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5pbmNyZW1lbnQoKTtcclxuICAgIH1cclxuICAgIF9vbihvbmNlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCwgc2hvdWxkQ2xvbmUsIGRpc3BhdGNoKSB7XHJcbiAgICAgICAgY29uc3QgaW5mbyA9IHN1cGVyLl9vbihvbmNlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCwgc2hvdWxkQ2xvbmUsIGRpc3BhdGNoKTtcclxuICAgICAgICBjb25zdCByZW5kZXJlckV2ZW50ID0gU3ByaXRlRXZlbnREaXNwYXRjaGVyLlJFTkRFUkVSX0VWRU5UU1t0eXBlXTtcclxuICAgICAgICBpZiAocmVuZGVyZXJFdmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGluZm8uZGlzcG9zZXIgPSBuZXcgTXVsdGlEaXNwb3NlcihbXHJcbiAgICAgICAgICAgICAgICBpbmZvLmRpc3Bvc2VyLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZW5kZXJlcih0eXBlLCByZW5kZXJlckV2ZW50KSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaWxsIHN0b3AgYW55IGJ1YmJsaW5nIHVwIG9mIHRoZSBldmVudCB0byBlbGVtZW50J3MgcGFyZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIGluIGFuIGV2ZW50IGhhbmRsZXIsIGUuZy46XHJcbiAgICAgKlxyXG4gICAgICogYGBgVHlwZVNjcmlwdFxyXG4gICAgICogZWxlbWVudC5ldmVudHMub24oXCJwb2ludGVyZG93blwiLCBmdW5jdGlvbihldikge1xyXG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgaGVyZSBhbmQgcHJldmVudCBmcm9tIFwicG9pbnRlcmRvd25cIiBidWJibGluZyB1cFxyXG4gICAgICogICAvLyAuLi5cclxuICAgICAqICAgZXYudGFyZ2V0LmV2ZW50cy5zdG9wUGFyZW50RGlzcGF0Y2goKTtcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKiBgYGBKYXZhU2NyaXB0XHJcbiAgICAgKiBlbGVtZW50LmV2ZW50cy5vbihcInBvaW50ZXJkb3duXCIsIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyBoZXJlIGFuZCBwcmV2ZW50IGZyb20gXCJwb2ludGVyZG93blwiIGJ1YmJsaW5nIHVwXHJcbiAgICAgKiAgIC8vIC4uLlxyXG4gICAgICogICBldi50YXJnZXQuZXZlbnRzLnN0b3BQYXJlbnREaXNwYXRjaCgpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc3RvcFBhcmVudERpc3BhdGNoKCkge1xyXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoUGFyZW50cyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGRpc3BhdGNoUGFyZW50cyh0eXBlLCBldmVudCkge1xyXG4gICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX2Rpc3BhdGNoUGFyZW50cztcclxuICAgICAgICB0aGlzLl9kaXNwYXRjaFBhcmVudHMgPSB0cnVlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2godHlwZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2hQYXJlbnRzICYmIHRoaXMuX3Nwcml0ZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZS5wYXJlbnQuZXZlbnRzLmRpc3BhdGNoUGFyZW50cyh0eXBlLCBldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoUGFyZW50cyA9IG9sZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZUV2ZW50RGlzcGF0Y2hlciwgXCJSRU5ERVJFUl9FVkVOVFNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IHtcclxuICAgICAgICBcImNsaWNrXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoXCJjbGlja1wiKSAmJiAhdGhpcy5fc3ByaXRlLmlzRHJhZ2dpbmcoKSAmJiB0aGlzLl9zcHJpdGUuX2hhc0Rvd24oKSAmJiAhdGhpcy5fc3ByaXRlLl9oYXNNb3ZlZCh0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwiY2xpY2tcIiwgZXZlbnQpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChcImNsaWNrXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJjbGlja1wiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInJpZ2h0Y2xpY2tcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChcInJpZ2h0Y2xpY2tcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goXCJyaWdodGNsaWNrXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJyaWdodGNsaWNrXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibWlkZGxlY2xpY2tcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChcIm1pZGRsZWNsaWNrXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKFwibWlkZGxlY2xpY2tcIiwgdGhpcy5fbWFrZVBvaW50ZXJFdmVudChcIm1pZGRsZWNsaWNrXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZGJsY2xpY2tcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQYXJlbnRzKFwiZGJsY2xpY2tcIiwgdGhpcy5fbWFrZVBvaW50ZXJFdmVudChcImRibGNsaWNrXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvaW50ZXJvdmVyXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLl9zcHJpdGU7XHJcbiAgICAgICAgICAgIGxldCBkaXNwYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUuZ2V0UHJpdmF0ZShcInRydXN0Qm91bmRzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuX2dldEJvdW5kcygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRzID0gc3ByaXRlLmdsb2JhbEJvdW5kcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZS5pc1R5cGUoXCJHcmFwaGljc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gc3ByaXRlLmdldChcInN0cm9rZVdpZHRoXCIsIDEpIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCAtPSBzdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ICs9IHN0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMudG9wIC09IHN0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tICs9IHN0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghJG1hdGguaW5Cb3VuZHMoZXZlbnQucG9pbnQsIGJvdW5kcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5fcm9vdC5fcmVuZGVyZXIucmVtb3ZlSG92ZXJpbmcoc3ByaXRlLl9kaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2ggJiYgdGhpcy5pc0VuYWJsZWQoXCJwb2ludGVyb3ZlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChcInBvaW50ZXJvdmVyXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJwb2ludGVyb3ZlclwiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvaW50ZXJvdXRcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChcInBvaW50ZXJvdXRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goXCJwb2ludGVyb3V0XCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJwb2ludGVyb3V0XCIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwicG9pbnRlcmRvd25cIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQYXJlbnRzKFwicG9pbnRlcmRvd25cIiwgdGhpcy5fbWFrZVBvaW50ZXJFdmVudChcInBvaW50ZXJkb3duXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvaW50ZXJ1cFwiOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKFwicG9pbnRlcnVwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKFwicG9pbnRlcnVwXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJwb2ludGVydXBcIiwgZXZlbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJnbG9iYWxwb2ludGVydXBcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChcImdsb2JhbHBvaW50ZXJ1cFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChcImdsb2JhbHBvaW50ZXJ1cFwiLCB0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwiZ2xvYmFscG9pbnRlcnVwXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZ2xvYmFscG9pbnRlcm1vdmVcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChcImdsb2JhbHBvaW50ZXJtb3ZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKFwiZ2xvYmFscG9pbnRlcm1vdmVcIiwgdGhpcy5fbWFrZVBvaW50ZXJFdmVudChcImdsb2JhbHBvaW50ZXJtb3ZlXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwid2hlZWxcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQYXJlbnRzKFwid2hlZWxcIiwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ3aGVlbFwiLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLl9zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgIHBvaW50OiBldmVudC5wb2ludCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxufSk7XHJcbi8qKlxyXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGFsbCB2aXN1YWwgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTcHJpdGUgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYWRqdXN0ZWRMb2NhbEJvdW5kc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xvY2FsQm91bmRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHsgbGVmdDogMCwgcmlnaHQ6IDAsIHRvcDogMCwgYm90dG9tOiAwIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGFyZW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kYXRhSXRlbVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVtcGxhdGVGaWVsZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2l6ZURpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gV2lsbCBiZSB0cnVlIG9ubHkgd2hlbiBkcmFnZ2luZ1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0RyYWdnaW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVGhlIGV2ZW50IHdoZW4gdGhlIGRyYWdnaW5nIHN0YXJ0c1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnRXZlbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVGhlIHBvc2l0aW9uIHdoZW4gZHJhZ2dpbmcgc3RhcnRzXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RyYWdQb2ludFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNIaWRkZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNTaG93aW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzSGlkaW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzRG93blwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kb3duUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rvd25Qb2ludHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9nZ2xlRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RyYWdEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9vbHRpcERwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ob3ZlckRwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mb2N1c0RwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwTW92ZURwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwUG9pbnRlckRwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdGF0ZXNIYW5kbGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidmlzaWJsZVwiLCB0cnVlKTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTWFya3Mgc29tZSBzZXR0aW5nIGFzIGRpcnR5LiBDb3VsZCBiZSB1c2VkIHRvIHRyaWdnZXIgYWRhcHRlci5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5S2V5KGtleSkge1xyXG4gICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eUtleShrZXkpIHtcclxuICAgICAgICBzdXBlci5fbWFya0RpcnR5S2V5KGtleSk7XHJcbiAgICAgICAgaWYgKGtleSA9PSBcInhcIiB8fCBrZXkgPT0gXCJ5XCIgfHwga2V5ID09IFwiZHhcIiB8fCBrZXkgPT0gXCJkeVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZFBlcmNlbnRhZ2VQb3NpdGlvbkNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5UG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbWFya0RpcnR5UHJpdmF0ZUtleShrZXkpIHtcclxuICAgICAgICBzdXBlci5fbWFya0RpcnR5UHJpdmF0ZUtleShrZXkpO1xyXG4gICAgICAgIGlmIChrZXkgPT0gXCJ4XCIgfHwga2V5ID09IFwieVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5UG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlVGVtcGxhdGVGaWVsZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVGaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZUZpZWxkLl9yZW1vdmVPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY3JlYXRlRXZlbnRzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlRXZlbnREaXNwYXRjaGVyKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX3Byb2Nlc3NUZW1wbGF0ZUZpZWxkKCkge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZTtcclxuICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZ2V0KFwidGVtcGxhdGVGaWVsZFwiKTtcclxuICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtO1xyXG4gICAgICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBkYXRhSXRlbS5kYXRhQ29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBjb250ZXh0W2ZpZWxkXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ZW1wbGF0ZSBpbnN0YW5jZW9mIFRlbXBsYXRlKSAmJiB0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IFRlbXBsYXRlLm5ldyh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZUZpZWxkICE9PSB0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVUZW1wbGF0ZUZpZWxkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlRmllbGQgPSB0ZW1wbGF0ZTtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5fc2V0T2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fYXBwbHlUZW1wbGF0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPIGNoYW5nZSB0aGlzIHRvIHJ1biBiZWZvcmUgdGhlIGVsZW1lbnQgaXMgYWRkZWQgdG8gdGhlIHBhcmVudCwgc28gdGhhdCB3YXlcclxuICAgIC8vICAgICAgaXQgZG9lc24ndCBuZWVkIHRvIGFwcGx5IHRoZSB0aGVtZXMgdHdpY2VcclxuICAgIF9zZXREYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IG9sZERhdGFJdGVtID0gdGhpcy5fZGF0YUl0ZW07XHJcbiAgICAgICAgdGhpcy5fZGF0YUl0ZW0gPSBkYXRhSXRlbTtcclxuICAgICAgICB0aGlzLl9wcm9jZXNzVGVtcGxhdGVGaWVsZCgpO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IFwiZGF0YWl0ZW1jaGFuZ2VkXCI7XHJcbiAgICAgICAgaWYgKGRhdGFJdGVtICE9IG9sZERhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoZXZlbnRUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnRUeXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBvbGREYXRhSXRlbTogb2xkRGF0YUl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YUl0ZW06IGRhdGFJdGVtXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSBbW0RhdGFJdGVtXV0gdXNlZCBmb3IgdGhpcyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IGRhdGEgaXRlbSBpcyBiZWluZyBhc3NpZ25lZCBhdXRvbWF0aWNhbGx5IGluIG1vc3QgY2FzZXMgd2hlcmUgaXRcclxuICAgICAqIG1hdHRlcnMuIFVzZSB0aGlzIGFjY2Vzc29yIHRvIHNldCBkYXRhIGl0ZW0gb25seSBpZiB5b3Uga25vdyB3aGF0IHlvdSdyZVxyXG4gICAgICogZG9pbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB2YWx1ZSAgRGF0YSBpdGVtXHJcbiAgICAgKi9cclxuICAgIHNldCBkYXRhSXRlbSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldERhdGFJdGVtKHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiBEYXRhSXRlbVxyXG4gICAgICovXHJcbiAgICBnZXQgZGF0YUl0ZW0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhSXRlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLl9wYXJlbnQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuX2RhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5fZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX3BhcmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRQZXJjZW50YWdlU2l6ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcIndpZHRoXCIpIGluc3RhbmNlb2YgUGVyY2VudCB8fCB0aGlzLmdldChcImhlaWdodFwiKSBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5wdXNoT25lKHBhcmVudC5fcGVyY2VudGFnZVNpemVDaGlsZHJlbiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QocGFyZW50Ll9wZXJjZW50YWdlU2l6ZUNoaWxkcmVuLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRQZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbigpIHtcclxuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ4XCIpIGluc3RhbmNlb2YgUGVyY2VudCB8fCB0aGlzLmdldChcInlcIikgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkucHVzaE9uZShwYXJlbnQuX3BlcmNlbnRhZ2VQb3NpdGlvbkNoaWxkcmVuLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChwYXJlbnQuX3BlcmNlbnRhZ2VQb3NpdGlvbkNoaWxkcmVuLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHlQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9yb290Ll9hZGREaXJ0eVBvc2l0aW9uKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlUGl2b3RQb2ludCgpIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcclxuICAgICAgICBpZiAoYm91bmRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlclggPSB0aGlzLmdldChcImNlbnRlclhcIik7XHJcbiAgICAgICAgICAgIGlmIChjZW50ZXJYICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkucGl2b3QueCA9IGJvdW5kcy5sZWZ0ICsgJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZShjZW50ZXJYLCBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2VudGVyWSA9IHRoaXMuZ2V0KFwiY2VudGVyWVwiKTtcclxuICAgICAgICAgICAgaWYgKGNlbnRlclkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5waXZvdC55ID0gYm91bmRzLnRvcCArICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoY2VudGVyWSwgYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICAvLyBoYW5kbGluZyBzdGF0ZXMgaW4gYmVmb3JlQ2hhbmdlZCwgb3RoZXJ3aXNlIHN0YXRlcyBpcyBub3QgYXBwbGllZCB3aXRob3V0IGFuaW1hdGVkIHRoZW1lXHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhdGVzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRvb2x0aXBcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3MudG9vbHRpcDtcclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImxheWVyXCIpIHx8IHRoaXMuaXNEaXJ0eShcImxheWVyTWFyZ2luXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuc2V0TGF5ZXIodGhpcy5nZXQoXCJsYXllclwiKSwgdGhpcy5nZXQoXCJsYXllck1hcmdpblwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5TGF5ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRvb2x0aXBQb3NpdGlvblwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwTW92ZURwID0gdGhpcy5fdG9vbHRpcE1vdmVEcDtcclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBNb3ZlRHApIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBNb3ZlRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcE1vdmVEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwUG9pbnRlckRwID0gdGhpcy5fdG9vbHRpcFBvaW50ZXJEcDtcclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBQb2ludGVyRHApIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBQb2ludGVyRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcFBvaW50ZXJEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ0b29sdGlwUG9zaXRpb25cIikgPT0gXCJwb2ludGVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSG92ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBNb3ZlRHAgPSB0aGlzLmV2ZW50cy5vbihcImdsb2JhbHBvaW50ZXJtb3ZlXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoZS5wb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwUG9pbnRlckRwID0gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwTW92ZURwID0gdGhpcy5ldmVudHMub24oXCJnbG9iYWxwb2ludGVybW92ZVwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcChlLnBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcE1vdmVEcCA9IHRoaXMuX3Rvb2x0aXBNb3ZlRHA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwTW92ZURwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwTW92ZURwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBNb3ZlRHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlU3RhdGVzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RhdGVzSGFuZGxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJhcmlhQ2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRlZmF1bHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiYXJpYUNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImRpc2FibGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJkaXNhYmxlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiYXJpYUNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZGVmYXVsdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJhcmlhQ2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5QWNjZXNzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlc0hhbmRsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9jaGFuZ2VkKCk7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheSA9IHRoaXMuX2Rpc3BsYXk7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ldmVudHM7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImRyYWdnYWJsZVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkcmFnZ2FibGUgPSB0aGlzLmdldChcImRyYWdnYWJsZVwiKTtcclxuICAgICAgICAgICAgaWYgKGRyYWdnYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJpbnRlcmFjdGl2ZVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJwb2ludGVyZG93blwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnU3RhcnQoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5vbihcImdsb2JhbHBvaW50ZXJtb3ZlXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdNb3ZlKGV2KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJnbG9iYWxwb2ludGVydXBcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ1N0b3AoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnRHApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXNwbGF5LmNhbmNlbFRvdWNoID0gZHJhZ2dhYmxlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidG9vbHRpcFRleHRcIikgfHwgdGhpcy5pc0RpcnR5KFwidG9vbHRpcEhUTUxcIikgfHwgdGhpcy5pc0RpcnR5KFwic2hvd1Rvb2x0aXBPblwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwVGV4dCA9IHRoaXMuZ2V0KFwidG9vbHRpcFRleHRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBIVE1MID0gdGhpcy5nZXQoXCJ0b29sdGlwSFRNTFwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvd1Rvb2x0aXBPbiA9IHRoaXMuZ2V0KFwic2hvd1Rvb2x0aXBPblwiLCBcImhvdmVyXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdG9vbHRpcERwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcERwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwVGV4dCB8fCB0b29sdGlwSFRNTCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNob3dUb29sdGlwT24gPT0gXCJjbGlja1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcERwID0gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaG93VG9vbHRpcCgpLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJjbGlja1wiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fdG9vbHRpcERwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNob3dUb29sdGlwT24gPT0gXCJhbHdheXNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fdG9vbHRpcERwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidG9nZ2xlS2V5XCIpKSB7XHJcbiAgICAgICAgICAgIGxldCB0b2dnbGVLZXkgPSB0aGlzLmdldChcInRvZ2dsZUtleVwiKTtcclxuICAgICAgICAgICAgaWYgKHRvZ2dsZUtleSAmJiB0b2dnbGVLZXkgIT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURwID0gZXZlbnRzLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCh0b2dnbGVLZXksICF0aGlzLmdldCh0b2dnbGVLZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90b2dnbGVEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwib3BhY2l0eVwiKSkge1xyXG4gICAgICAgICAgICBkaXNwbGF5LmFscGhhID0gTWF0aC5tYXgoMCwgdGhpcy5nZXQoXCJvcGFjaXR5XCIsIDEpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZm9jdXNhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUFjY2Vzc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwicm90YXRpb25cIikpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgZGlzcGxheS5hbmdsZSA9IHRoaXMuZ2V0KFwicm90YXRpb25cIiwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzY2FsZVwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBkaXNwbGF5LnNjYWxlID0gdGhpcy5nZXQoXCJzY2FsZVwiLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImNlbnRlclhcIikgfHwgdGhpcy5pc0RpcnR5KFwiY2VudGVyWVwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBpdm90UG9pbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInZpc2libGVcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcInZpc2libGVcIikgfHwgdGhpcy5pc0RpcnR5KFwiZm9yY2VIaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChcInZpc2libGVcIikgfHwgIXRoaXMuZ2V0UHJpdmF0ZShcInZpc2libGVcIikgfHwgdGhpcy5nZXQoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcImhlaWdodFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRQZXJjZW50YWdlU2l6ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuaXNEaXJ0eShcIndpZHRoXCIpICYmIHRoaXMuZ2V0KFwid2lkdGhcIikgaW5zdGFuY2VvZiBQZXJjZW50KSB8fCAodGhpcy5pc0RpcnR5KFwiaGVpZ2h0XCIpICYmIHRoaXMuZ2V0KFwiaGVpZ2h0XCIpIGluc3RhbmNlb2YgUGVyY2VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Ll9wcmV2V2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemVEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtYXhXaWR0aFwiKSB8fCB0aGlzLmlzRGlydHkoXCJtYXhIZWlnaHRcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJoZWlnaHRcIikgfHwgdGhpcy5pc0RpcnR5KFwibWluV2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwibWluSGVpZ2h0XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtYXhXaWR0aFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwibWF4SGVpZ2h0XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtaW5XaWR0aFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwibWluSGVpZ2h0XCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1hcmdpbkxlZnRcIikgfHwgdGhpcy5pc0RpcnR5KFwibWFyZ2luVG9wXCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1hcmdpblJpZ2h0XCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1hcmdpbkJvdHRvbVwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fc2l6ZURpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIndoZWVsYWJsZVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB3aGVlbGFibGUgPSB0aGlzLmdldChcIndoZWVsYWJsZVwiKTtcclxuICAgICAgICAgICAgaWYgKHdoZWVsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJpbnRlcmFjdGl2ZVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXNwbGF5LndoZWVsYWJsZSA9IHdoZWVsYWJsZSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWNjZXNzaWJpbGl0eVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0YWJpbmRleE9yZGVyXCIpIHx8IHRoaXMuaXNEaXJ0eShcImZvY3VzYWJsZUdyb3VwXCIpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5fcmVnaXN0ZXJUYWJpbmRleE9yZGVyKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5fdW5yZWdpc3RlclRhYmluZGV4T3JkZXIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImZpbHRlclwiKSkge1xyXG4gICAgICAgICAgICAvL3RoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuZmlsdGVyID0gdGhpcy5nZXQoXCJmaWx0ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBmaWx0ZXIgPSB0aGlzLmdldChcImZpbHRlclwiLCBcIlwiKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiYmx1clwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBibHVyID0gdGhpcy5nZXQoXCJibHVyXCIsIDApO1xyXG4gICAgICAgICAgICBpZiAoYmx1ciAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgKz0gXCIgYmx1cihcIiArIGJsdXIgKyBcInB4KVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzYXR1cmF0ZVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXR1cmF0ZSA9IHRoaXMuZ2V0KFwic2F0dXJhdGVcIiwgMSk7XHJcbiAgICAgICAgICAgIGlmIChzYXR1cmF0ZSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgKz0gXCIgc2F0dXJhdGUoXCIgKyBzYXR1cmF0ZSArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJicmlnaHRuZXNzXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLmdldChcImJyaWdodG5lc3NcIiwgMSk7XHJcbiAgICAgICAgICAgIGlmIChicmlnaHRuZXNzICE9IDEpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlciArPSBcIiBicmlnaHRuZXNzKFwiICsgYnJpZ2h0bmVzcyArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjb250cmFzdFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjb250cmFzdCA9IHRoaXMuZ2V0KFwiY29udHJhc3RcIiwgMSk7XHJcbiAgICAgICAgICAgIGlmIChjb250cmFzdCAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgKz0gXCIgY29udHJhc3QoXCIgKyBjb250cmFzdCArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzZXBpYVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBzZXBpYSA9IHRoaXMuZ2V0KFwic2VwaWFcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChzZXBpYSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgKz0gXCIgc2VwaWEoXCIgKyBzZXBpYSArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJodWVcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgaHVlID0gdGhpcy5nZXQoXCJodWVcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChodWUgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyICs9IFwiIGh1ZS1yb3RhdGUoXCIgKyBodWUgKyBcImRlZylcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaW52ZXJ0XCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVydCA9IHRoaXMuZ2V0KFwiaW52ZXJ0XCIsIDApO1xyXG4gICAgICAgICAgICBpZiAoaW52ZXJ0ICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlciArPSBcIiBpbnZlcnQoXCIgKyBpbnZlcnQgKyBcIilcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuZmlsdGVyID0gZmlsdGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiY3Vyc29yT3ZlclN0eWxlXCIpKSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuY3Vyc29yT3ZlclN0eWxlID0gdGhpcy5nZXQoXCJjdXJzb3JPdmVyU3R5bGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJob3Zlck9uRm9jdXNcIikpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiaG92ZXJPbkZvY3VzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mb2N1c0RwID0gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5vbihcImZvY3VzXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcHJvcGVyIGhvdmVyLCBub3QganVzdCB0b29sdGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJibHVyXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcHJvcGVyIGhvdmVyLCBub3QganVzdCB0b29sdGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZm9jdXNEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzRHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJmb2N1c2FibGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QuX3JlZ2lzdGVyVGFiaW5kZXhPcmRlcih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QuX3VucmVnaXN0ZXJUYWJpbmRleE9yZGVyKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5QWNjZXNzaWJpbGl0eSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc1ByaXZhdGVEaXJ0eShcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUFjY2Vzc2liaWxpdHkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInJvbGVcIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYUxpdmVcIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYUNoZWNrZWRcIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYUhpZGRlblwiKSB8fCB0aGlzLmlzRGlydHkoXCJhcmlhT3JpZW50YXRpb25cIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYVZhbHVlTm93XCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFWYWx1ZU1pblwiKSB8fCB0aGlzLmlzRGlydHkoXCJhcmlhVmFsdWVNYXhcIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYVZhbHVlVGV4dFwiKSB8fCB0aGlzLmlzRGlydHkoXCJhcmlhTGFiZWxcIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYUNvbnRyb2xzXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIGRpc3BsYXkuYWNjZXNzaWJpbGl0eS5hcmlhTGFiZWwgPSBwb3B1bGF0ZVN0cmluZyh0aGlzLCB0aGlzLmdldChcImFyaWFMYWJlbFwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgIC8vIEB0b2RvIG1ha2Ugc3VyZSBhcmlhTGFiZWwgZ2V0cyBwb3B1bGF0ZWQgaW4gUm9vdFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUFjY2Vzc2liaWxpdHkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImV4cG9ydGFibGVcIikpIHtcclxuICAgICAgICAgICAgZGlzcGxheS5leHBvcnRhYmxlID0gdGhpcy5nZXQoXCJleHBvcnRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaW50ZXJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ldmVudHM7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImludGVyYWN0aXZlXCIpICYmICFldmVudHMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ob3ZlckRwID0gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5vbihcImNsaWNrXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWxzLmlzVG91Y2hFdmVudChldi5vcmlnaW5hbEV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldFByaXZhdGUoXCJ0b3VjaEhvdmVyaW5nXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlT3ZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ0b29sdGlwVGV4dFwiKSB8fCB0aGlzLmdldChcInRvb2x0aXBIVE1MXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidG91Y2hIb3ZlcmluZ1wiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJwb2ludGVyb3ZlclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvaW50ZXJvdmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2LnRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2Lm9yaWdpbmFsRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZXYucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IGV2LnNpbXVsYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJnbG9iYWxwb2ludGVydXBcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdXRpbHMuaXNUb3VjaEV2ZW50KGV2Lm9yaWdpbmFsRXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQcml2YXRlKFwidG91Y2hIb3ZlcmluZ1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU91dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChcInRvb2x0aXBUZXh0XCIpIHx8IHRoaXMuZ2V0KFwidG9vbHRpcEhUTUxcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJ0b3VjaEhvdmVyaW5nXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcInBvaW50ZXJvdXRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvaW50ZXJvdXRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBldi50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2Lm9yaWdpbmFsRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBldi5wb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBldi5zaW11bGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVVcChldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU92ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwicG9pbnRlcmRvd25cIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRG93bihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmludGVyYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faG92ZXJEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyRHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImZvcmNlSW5hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5pbmFjdGl2ZSA9IHRoaXMuZ2V0KFwiZm9yY2VJbmFjdGl2ZVwiLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwic2hvd1Rvb2x0aXBPblwiKSA9PSBcImFsd2F5c1wiICYmIHRoaXMuX2Rpc3BsYXkudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAdG9kbyBzaG91bGQgdGhpcyBiZSB1c2VyLWFjY2Vzc2libGU/XHJcbiAgICAgKi9cclxuICAgIGRyYWdTdGFydChlKSB7XHJcbiAgICAgICAgdGhpcy5fZHJhZ0V2ZW50ID0gZTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5zdG9wUGFyZW50RGlzcGF0Y2goKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHRvZG8gc2hvdWxkIHRoaXMgYmUgdXNlci1hY2Nlc3NpYmxlP1xyXG4gICAgICovXHJcbiAgICBkcmFnU3RvcChlKSB7XHJcbiAgICAgICAgdGhpcy5fZHJhZ0V2ZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX2RyYWdQb2ludCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmV2ZW50cy5zdG9wUGFyZW50RGlzcGF0Y2goKTtcclxuICAgICAgICBpZiAodGhpcy5faXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcImRyYWdzdG9wXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLm9yaWdpbmFsRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IGUucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBlLnNpbXVsYXRlZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZU92ZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiYWN0aXZlXCIpICYmIHRoaXMuc3RhdGVzLmxvb2t1cChcImhvdmVyQWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJob3ZlckFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdldChcImRpc2FibGVkXCIpICYmIHRoaXMuc3RhdGVzLmxvb2t1cChcImhvdmVyRGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImhvdmVyRGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJob3ZlclwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJkcmFnZ2FibGVcIikgJiYgdGhpcy5faXNEb3duICYmIHRoaXMuc3RhdGVzLmxvb2t1cChcImRvd25cIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRvd25cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlT3V0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImFjdGl2ZVwiKSAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdldChcImRpc2FibGVkXCIpICYmIHRoaXMuc3RhdGVzLmxvb2t1cChcImRpc2FibGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlcy5sb29rdXAoXCJob3ZlclwiKSB8fCB0aGlzLnN0YXRlcy5sb29rdXAoXCJob3ZlckFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRlZmF1bHRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZHJhZ2dhYmxlXCIpICYmIHRoaXMuX2lzRG93biAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJkb3duXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkb3duXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZVVwKGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJhY3RpdmVcIikgJiYgdGhpcy5zdGF0ZXMubG9va3VwKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nZXQoXCJkaXNhYmxlZFwiKSAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJkaXNhYmxlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZXMubG9va3VwKFwiZG93blwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiaG92ZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEB0b2RvIHJlbW92ZSB0aGlzIG9uY2UgbWlncmF0ZWQgdG8gX2Rvd25Qb2ludHNcclxuICAgICAgICAgICAgdGhpcy5fZG93blBvaW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludGVySWQgPSAkdXRpbHMuZ2V0UG9pbnRlcklkKGUub3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9kb3duUG9pbnRzW3BvaW50ZXJJZF07XHJcbiAgICAgICAgICAgIGlmICgkb2JqZWN0LmtleXModGhpcy5fZG93blBvaW50cykubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhc01vdmVkKGUpIHtcclxuICAgICAgICAvLyBAdG9kbyByZW1vdmUgdGhpcyBvbmNlIG1pZ3JhdGVkIHRvIF9kb3duUG9pbnRzXHJcbiAgICAgICAgLy8gaWYgKHRoaXMuX2Rvd25Qb2ludCkge1xyXG4gICAgICAgIC8vIFx0Y29uc3QgeCA9IE1hdGguYWJzKHRoaXMuX2Rvd25Qb2ludC54IC0gZS5wb2ludC54KTtcclxuICAgICAgICAvLyBcdGNvbnN0IHkgPSBNYXRoLmFicyh0aGlzLl9kb3duUG9pbnQueSAtIGUucG9pbnQueSk7XHJcbiAgICAgICAgLy8gXHRyZXR1cm4gKHggPiA1KSB8fCAoeSA+IDUpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBjb25zdCBwb2ludGVySWQgPSAkdXRpbHMuZ2V0UG9pbnRlcklkKGUub3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgY29uc3QgZG93blBvaW50ID0gdGhpcy5fZG93blBvaW50c1twb2ludGVySWRdO1xyXG4gICAgICAgIGlmIChkb3duUG9pbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IE1hdGguYWJzKGRvd25Qb2ludC54IC0gZS5wb2ludC54KTtcclxuICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguYWJzKGRvd25Qb2ludC55IC0gZS5wb2ludC55KTtcclxuICAgICAgICAgICAgcmV0dXJuICh4ID4gNSkgfHwgKHkgPiA1KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX2hhc0Rvd24oKSB7XHJcbiAgICAgICAgcmV0dXJuICRvYmplY3Qua2V5cyh0aGlzLl9kb3duUG9pbnRzKS5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZURvd24oZSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQgJiYgIXRoaXMuZ2V0KFwiZHJhZ2dhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5faGFuZGxlRG93bihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiaW50ZXJhY3RpdmVcIikgJiYgIXRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZXMubG9va3VwKFwiZG93blwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZG93blwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9kb3duUG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBlLnBvaW50LngsXHJcbiAgICAgICAgICAgICAgICB5OiBlLnBvaW50LnlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gQHRvZG8gcmVtb3ZlIHRoaXMgb25jZSBtaWdyYXRlZCB0byBfZG93blBvaW50c1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludGVySWQgPSAkdXRpbHMuZ2V0UG9pbnRlcklkKGUub3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rvd25Qb2ludHNbcG9pbnRlcklkXSA9IHtcclxuICAgICAgICAgICAgICAgIHg6IGUucG9pbnQueCxcclxuICAgICAgICAgICAgICAgIHk6IGUucG9pbnQueVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHRvZG8gc2hvdWxkIHRoaXMgYmUgdXNlci1hY2Nlc3NpYmxlP1xyXG4gICAgICovXHJcbiAgICBkcmFnTW92ZShlKSB7XHJcbiAgICAgICAgbGV0IGRyYWdFdmVudCA9IHRoaXMuX2RyYWdFdmVudDtcclxuICAgICAgICBpZiAoZHJhZ0V2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChkcmFnRXZlbnQuc2ltdWxhdGVkICYmICFlLnNpbXVsYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGFuZ2xlID0gMDtcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgICAgICBsZXQgc2NhbGUgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFuZ2xlICs9IHBhcmVudC5nZXQoXCJyb3RhdGlvblwiLCAwKTtcclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgKj0gcGFyZW50LmdldChcInNjYWxlXCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB4ID0gKGUucG9pbnQueCAtIGRyYWdFdmVudC5wb2ludC54KSAvIHNjYWxlO1xyXG4gICAgICAgICAgICBsZXQgeSA9IChlLnBvaW50LnkgLSBkcmFnRXZlbnQucG9pbnQueSkgLyBzY2FsZTtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ldmVudHM7XHJcbiAgICAgICAgICAgIGlmIChkcmFnRXZlbnQuc2ltdWxhdGVkICYmICF0aGlzLl9pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdFdmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnUG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy54KCksXHJcbiAgICAgICAgICAgICAgICAgICAgeTogdGhpcy55KClcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gXCJkcmFnc3RhcnRcIjtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLm9yaWdpbmFsRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBlLnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IGUuc2ltdWxhdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZHJhZ1BvaW50ID0gdGhpcy5fZHJhZ1BvaW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJ4XCIsIGRyYWdQb2ludC54ICsgeCAqICRtYXRoLmNvcyhhbmdsZSkgKyB5ICogJG1hdGguc2luKGFuZ2xlKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcInlcIiwgZHJhZ1BvaW50LnkgKyB5ICogJG1hdGguY29zKGFuZ2xlKSAtIHggKiAkbWF0aC5zaW4oYW5nbGUpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcImRyYWdnZWRcIjtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLm9yaWdpbmFsRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBlLnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IGUuc2ltdWxhdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguaHlwb3QoeCwgeSkgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0V2ZW50ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnUG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMueCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLnkoKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwiZHJhZ3N0YXJ0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLm9yaWdpbmFsRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZS5wb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZDogZS5zaW11bGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3VwZGF0ZVNpemUoKSB7XHJcbiAgICB9XHJcbiAgICBfZ2V0Qm91bmRzKCkge1xyXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gdGhpcy5fZGlzcGxheS5nZXRMb2NhbEJvdW5kcygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGRlcHRoIChob3cgZGVlcCBpbiB0aGUgaGllcmFjaHkgb2YgdGhlIGNvbnRlbnQgdHJlZSkgb2YgdGhpc1xyXG4gICAgICogZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIERlcHRoXHJcbiAgICAgKi9cclxuICAgIGRlcHRoKCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZikge1xyXG4gICAgICAgICAgICAgICAgKytkZXB0aDtcclxuICAgICAgICAgICAgICAgIHNlbGYgPSBzZWxmLnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXB0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHlTaXplKCkge1xyXG4gICAgICAgIHRoaXMuX3NpemVEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHlCb3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheSA9IHRoaXMuX2Rpc3BsYXk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiaXNNZWFzdXJlZFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290Ll9hZGREaXJ0eUJvdW5kcyh0aGlzKTtcclxuICAgICAgICAgICAgZGlzcGxheS5pc01lYXN1cmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGlzcGxheS5pbnZhbGlkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHRoaXMuZ2V0KFwicG9zaXRpb25cIikgIT0gXCJhYnNvbHV0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LmdldChcIndpZHRoXCIpID09IG51bGwgfHwgcGFyZW50LmdldChcImhlaWdodFwiKSA9PSBudWxsIHx8IHBhcmVudC5nZXQoXCJsYXlvdXRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZm9jdXNhYmxlXCIpICYmIHRoaXMuaXNGb2N1cygpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUFjY2Vzc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCkge1xyXG4gICAgICAgIC8vaWYgKHRoaXMuX3Jvb3QuZm9jdXNlZCh0aGlzKSkge1xyXG4gICAgICAgIHRoaXMuX3Jvb3QuX2ludmFsaWRhdGVBY2Nlc3NpYmlsaXR5KHRoaXMpO1xyXG4gICAgICAgIC8vfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eUxheWVyKCkge1xyXG4gICAgICAgIC8vdGhpcy5fZGlzcGxheS5tYXJrRGlydHlMYXllcih0aGlzLmlzRGlydHkoXCJvcGFjaXR5XCIpIHx8IHRoaXMuaXNEaXJ0eShcInZpc2libGVcIikpOyBodHRwczovL2NvZGVwZW4uaW8vdGVhbS9hbWNoYXJ0cy9wZW4vZ09XWlBtUCA8LSBwcm9ibGVtc1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkubWFya0RpcnR5TGF5ZXIodHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5KCkge1xyXG4gICAgICAgIHN1cGVyLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5TGF5ZXIoKTtcclxuICAgIH1cclxuICAgIF91cGRhdGVCb3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkQm91bmRzID0gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcztcclxuICAgICAgICBsZXQgbmV3Qm91bmRzO1xyXG4gICAgICAgIC8vIGlmIGRpc3BsYXkudmlzaWJsZSA9PSBmYWxzZSwgaXQgc3RpbGwgcmV0dXJucyBib3VuZHNcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KFwidmlzaWJsZVwiKSB8fCAhdGhpcy5nZXRQcml2YXRlKFwidmlzaWJsZVwiKSB8fCB0aGlzLmdldChcImZvcmNlSGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgIG5ld0JvdW5kcyA9IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ld0JvdW5kcztcclxuICAgICAgICAgICAgdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcyA9IG5ld0JvdW5kcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dldEJvdW5kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9maXhNaW5Cb3VuZHModGhpcy5fbG9jYWxCb3VuZHMpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBpdm90UG9pbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcyA9IHRoaXMuX2Rpc3BsYXkuZ2V0QWRqdXN0ZWRCb3VuZHModGhpcy5fbG9jYWxCb3VuZHMpO1xyXG4gICAgICAgICAgICBuZXdCb3VuZHMgPSB0aGlzLl9hZGp1c3RlZExvY2FsQm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW9sZEJvdW5kcyB8fCAob2xkQm91bmRzLmxlZnQgIT09IG5ld0JvdW5kcy5sZWZ0IHx8IG9sZEJvdW5kcy50b3AgIT09IG5ld0JvdW5kcy50b3AgfHwgb2xkQm91bmRzLnJpZ2h0ICE9PSBuZXdCb3VuZHMucmlnaHQgfHwgb2xkQm91bmRzLmJvdHRvbSAhPT0gbmV3Qm91bmRzLmJvdHRvbSkpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gXCJib3VuZHNjaGFuZ2VkXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoZXZlbnRUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnRUeXBlLCB7IHR5cGU6IGV2ZW50VHlwZSwgdGFyZ2V0OiB0aGlzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcCBwb3NpdGlvbiB0b2dldGhlciB3aXRoIHRoZSBTcHJpdGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UHJpdmF0ZShcInNob3dpbmdUb29sdGlwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZml4TWluQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIGxldCBtaW5XaWR0aCA9IHRoaXMuZ2V0KFwibWluV2lkdGhcIiwgdGhpcy5nZXRQcml2YXRlKFwibWluV2lkdGhcIikpO1xyXG4gICAgICAgIGxldCBtaW5IZWlnaHQgPSB0aGlzLmdldChcIm1pbkhlaWdodFwiLCB0aGlzLmdldFByaXZhdGUoXCJtaW5IZWlnaHRcIikpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW5XaWR0aCkpIHtcclxuICAgICAgICAgICAgaWYgKGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0IDwgbWluV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IGJvdW5kcy5sZWZ0ICsgbWluV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pbkhlaWdodCkpIHtcclxuICAgICAgICAgICAgaWYgKGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wIDwgbWluSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tID0gYm91bmRzLnRvcCArIG1pbkhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcHJpdmF0ZVdpZHRoID0gdGhpcy5nZXRQcml2YXRlKFwid2lkdGhcIik7XHJcbiAgICAgICAgbGV0IHByaXZhdGVIZWlnaHQgPSB0aGlzLmdldFByaXZhdGUoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHByaXZhdGVXaWR0aCkpIHtcclxuICAgICAgICAgICAgaWYgKHByaXZhdGVXaWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IGJvdW5kcy5sZWZ0ICsgcHJpdmF0ZVdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgPSBib3VuZHMucmlnaHQgKyBwcml2YXRlV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHByaXZhdGVIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGlmIChwcml2YXRlSGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLmJvdHRvbSA9IGJvdW5kcy50b3AgKyBwcml2YXRlSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IGJvdW5kcy5ib3R0b20gKyBwcml2YXRlSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbW92ZVBhcmVudChwYXJlbnQpIHtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5yZW1vdmVWYWx1ZSh0aGlzKTtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KHBhcmVudC5fcGVyY2VudGFnZVNpemVDaGlsZHJlbiwgdGhpcyk7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChwYXJlbnQuX3BlcmNlbnRhZ2VQb3NpdGlvbkNoaWxkcmVuLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2xlYXJEaXJ0eSgpIHtcclxuICAgICAgICBzdXBlci5fY2xlYXJEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX3NpemVEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlc0hhbmRsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2ltdWxhdGUgaG92ZXIgb3ZlciBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBob3ZlcigpIHtcclxuICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlT3ZlcigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW11bGF0ZSB1bmhvdmVyIG92ZXIgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgdW5ob3ZlcigpIHtcclxuICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlT3V0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIGVsZW1lbnQncyBbW1Rvb2x0aXBdXS5cclxuICAgICAqL1xyXG4gICAgc2hvd1Rvb2x0aXAocG9pbnQpIHtcclxuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5nZXRUb29sdGlwKCk7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcFRleHQgPSB0aGlzLmdldChcInRvb2x0aXBUZXh0XCIpO1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXBIVE1MID0gdGhpcy5nZXQoXCJ0b29sdGlwSFRNTFwiKTtcclxuICAgICAgICBpZiAoKHRvb2x0aXBUZXh0IHx8IHRvb2x0aXBIVE1MKSAmJiB0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBQb3NpdGlvbiA9IHRoaXMuZ2V0KFwidG9vbHRpcFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwVGFyZ2V0ID0gdGhpcy5nZXRQcml2YXRlKFwidG9vbHRpcFRhcmdldFwiLCB0aGlzKTtcclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBQb3NpdGlvbiA9PSBcImZpeGVkXCIgfHwgIXBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5Ll9zZXRNYXRyaXgoKTtcclxuICAgICAgICAgICAgICAgIHBvaW50ID0gdGhpcy50b0dsb2JhbCh0b29sdGlwVGFyZ2V0Ll9nZXRUb29sdGlwUG9pbnQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG9vbHRpcC5zZXQoXCJwb2ludFRvXCIsIHBvaW50KTtcclxuICAgICAgICAgICAgdG9vbHRpcC5zZXQoXCJ0b29sdGlwVGFyZ2V0XCIsIHRvb2x0aXBUYXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAoIXRvb2x0aXAuZ2V0KFwieFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5zZXQoXCJ4XCIsIHBvaW50LngpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdG9vbHRpcC5nZXQoXCJ5XCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcInlcIiwgcG9pbnQueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwLmxhYmVsLnNldChcInRleHRcIiwgdG9vbHRpcFRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwSFRNTCkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5sYWJlbC5zZXQoXCJodG1sXCIsIHRvb2x0aXBIVE1MKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW07XHJcbiAgICAgICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5sYWJlbC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcInNob3dUb29sdGlwT25cIikgPT0gXCJhbHdheXNcIiAmJiAocG9pbnQueCA8IDAgfHwgcG9pbnQueCA+IHRoaXMuX3Jvb3Qud2lkdGgoKSB8fCBwb2ludC55IDwgMCB8fCBwb2ludC55ID4gdGhpcy5fcm9vdC5oZWlnaHQoKSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0b29sdGlwLmxhYmVsLnRleHQubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdG9vbHRpcC5zaG93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInNob3dpbmdUb29sdGlwXCIsIHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIGVsZW1lbnQncyBbW1Rvb2x0aXBdXS5cclxuICAgICAqL1xyXG4gICAgaGlkZVRvb2x0aXAoKSB7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcCgpO1xyXG4gICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwLmdldChcInRvb2x0aXBUYXJnZXRcIikgPT0gdGhpcy5nZXRQcml2YXRlKFwidG9vbHRpcFRhcmdldFwiLCB0aGlzKSB8fCB0aGlzLmdldChcInRvb2x0aXBcIikgPT0gdG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpbWVvdXQgPSB0b29sdGlwLmdldChcImtlZXBUYXJnZXRIb3ZlclwiKSAmJiB0b29sdGlwLmdldChcInN0YXRlQW5pbWF0aW9uRHVyYXRpb25cIiwgMCkgPT0gMCA/IDQwMCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0b29sdGlwLmhpZGUodGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJzaG93aW5nVG9vbHRpcFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9nZXRUb29sdGlwUG9pbnQoKSB7XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fbG9jYWxCb3VuZHM7XHJcbiAgICAgICAgaWYgKGJvdW5kcykge1xyXG4gICAgICAgICAgICBsZXQgeCA9IDA7XHJcbiAgICAgICAgICAgIGxldCB5ID0gMDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChcImlzTWVhc3VyZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHggPSAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHRoaXMuZ2V0KFwidG9vbHRpcFhcIiwgMCksIHRoaXMud2lkdGgoKSk7XHJcbiAgICAgICAgICAgICAgICB5ID0gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh0aGlzLmdldChcInRvb2x0aXBZXCIsIDApLCB0aGlzLmhlaWdodCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHggPSBib3VuZHMubGVmdCArICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJ0b29sdGlwWFwiLCAwKSwgYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgeSA9IGJvdW5kcy50b3AgKyAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHRoaXMuZ2V0KFwidG9vbHRpcFlcIiwgMCksIGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBbW1Rvb2x0aXBdXSB1c2VkIGZvciB0aGlzIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBUb29sdGlwXHJcbiAgICAgKi9cclxuICAgIGdldFRvb2x0aXAoKSB7XHJcbiAgICAgICAgbGV0IHRvb2x0aXAgPSB0aGlzLmdldChcInRvb2x0aXBcIik7XHJcbiAgICAgICAgaWYgKCF0b29sdGlwKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBsZXQgZHggPSB0aGlzLmdldChcImR4XCIsIDApO1xyXG4gICAgICAgIGxldCBkeSA9IHRoaXMuZ2V0KFwiZHlcIiwgMCk7XHJcbiAgICAgICAgbGV0IHggPSB0aGlzLmdldChcInhcIik7XHJcbiAgICAgICAgbGV0IF94ID0gdGhpcy5nZXRQcml2YXRlKFwieFwiKTtcclxuICAgICAgICBsZXQgeHggPSAwO1xyXG4gICAgICAgIGxldCB5eSA9IDA7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmdldChcInBvc2l0aW9uXCIpO1xyXG4gICAgICAgIGlmICh4IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gcGFyZW50LmlubmVyV2lkdGgoKSAqIHgudmFsdWUgKyBwYXJlbnQuZ2V0KFwicGFkZGluZ0xlZnRcIiwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoeCkpIHtcclxuICAgICAgICAgICAgeHggPSB4ICsgZHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoX3ggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgeHggPSBfeDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB4eCA9IHBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKSArIGR4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB5ID0gdGhpcy5nZXQoXCJ5XCIpO1xyXG4gICAgICAgIGxldCBfeSA9IHRoaXMuZ2V0UHJpdmF0ZShcInlcIik7XHJcbiAgICAgICAgaWYgKHkgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHkgPSBwYXJlbnQuaW5uZXJIZWlnaHQoKSAqIHkudmFsdWUgKyBwYXJlbnQuZ2V0KFwicGFkZGluZ1RvcFwiLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcih5KSkge1xyXG4gICAgICAgICAgICB5eSA9IHkgKyBkeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChfeSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB5eSA9IF95O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IFwicmVsYXRpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHl5ID0gcGFyZW50LmdldChcInBhZGRpbmdUb3BcIiwgMCkgKyBkeTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5fZGlzcGxheTtcclxuICAgICAgICBpZiAoZGlzcGxheS54ICE9IHh4IHx8IGRpc3BsYXkueSAhPSB5eSkge1xyXG4gICAgICAgICAgICBkaXNwbGF5LmludmFsaWRhdGVCb3VuZHMoKTtcclxuICAgICAgICAgICAgZGlzcGxheS54ID0geHg7XHJcbiAgICAgICAgICAgIGRpc3BsYXkueSA9IHl5O1xyXG4gICAgICAgICAgICBjb25zdCBldmVudFR5cGUgPSBcInBvc2l0aW9uY2hhbmdlZFwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKGV2ZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKGV2ZW50VHlwZSwgeyB0eXBlOiBldmVudFR5cGUsIHRhcmdldDogdGhpcyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcCBwb3NpdGlvbiB0b2dldGhlciB3aXRoIHRoZSBTcHJpdGVcclxuICAgICAgICBpZiAodGhpcy5nZXRQcml2YXRlKFwic2hvd2luZ1Rvb2x0aXBcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBlbGVtZW50J3MgYWN0dWFsIFggcG9zaXRpb24gaW4gcGl4ZWxzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gWCAocHgpXHJcbiAgICAgKi9cclxuICAgIHgoKSB7XHJcbiAgICAgICAgbGV0IHggPSB0aGlzLmdldChcInhcIik7XHJcbiAgICAgICAgbGV0IF94ID0gdGhpcy5nZXRQcml2YXRlKFwieFwiKTtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh4IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoeCwgcGFyZW50LmlubmVyV2lkdGgoKSkgKyBwYXJlbnQuZ2V0KFwicGFkZGluZ0xlZnRcIiwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF94ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF94O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCB0aGlzLl9kaXNwbGF5LngpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5Lng7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgZWxlbWVudCdzIGFjdHVhbCBZIHBvc2l0aW9uIGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFkgKHB4KVxyXG4gICAgICovXHJcbiAgICB5KCkge1xyXG4gICAgICAgIGxldCBfeSA9IHRoaXMuZ2V0UHJpdmF0ZShcInlcIik7XHJcbiAgICAgICAgaWYgKF95ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF95O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeSA9IHRoaXMuZ2V0KFwieVwiKTtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoeSwgcGFyZW50LmlubmVySGVpZ2h0KCkpICsgcGFyZW50LmdldChcInBhZGRpbmdUb3BcIiwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF95ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF95O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXQoXCJwYWRkaW5nVG9wXCIsIHRoaXMuX2Rpc3BsYXkueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXkueTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLl9kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlVGVtcGxhdGVGaWVsZCgpO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZVBhcmVudCh0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5fcm9vdC5fcmVtb3ZlRm9jdXNFbGVtZW50KHRoaXMpO1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmdldChcInRvb2x0aXBcIik7XHJcbiAgICAgICAgaWYgKHRvb2x0aXApIHtcclxuICAgICAgICAgICAgdG9vbHRpcC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgYWRqdXN0ZWRMb2NhbEJvdW5kcygpIHtcclxuICAgICAgICB0aGlzLl9maXhNaW5Cb3VuZHModGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIGVsZW1lbnQncyBib3VuZHMuXHJcbiAgICAgKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHJldHVybiBHbG9iYWwgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGxvY2FsQm91bmRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbEJvdW5kcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhZGp1c3RlZCBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgZWxlbWVudCdzIGJvdW5kcy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcmV0dXJuIEdsb2JhbCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgYm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHM7XHJcbiAgICAgICAgY29uc3QgeCA9IHRoaXMueCgpO1xyXG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnkoKTtcclxuICAgICAgICByZXR1cm4geyBsZWZ0OiBib3VuZHMubGVmdCArIHgsIHJpZ2h0OiBib3VuZHMucmlnaHQgKyB4LCB0b3A6IGJvdW5kcy50b3AgKyB5LCBib3R0b206IGJvdW5kcy5ib3R0b20gKyB5IH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgZ2xvYmFsIGNvb3JkaW5hdGVzIG9mIHRoZSBlbGVtZW50J3MgYm91bmRzLlxyXG4gICAgICpcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEByZXR1cm4gR2xvYmFsIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBnbG9iYWxCb3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5sb2NhbEJvdW5kcygpO1xyXG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy50b0dsb2JhbCh7IHg6IGJvdW5kcy5sZWZ0LCB5OiBib3VuZHMudG9wIH0pO1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy50b0dsb2JhbCh7IHg6IGJvdW5kcy5yaWdodCwgeTogYm91bmRzLnRvcCB9KTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMudG9HbG9iYWwoeyB4OiBib3VuZHMucmlnaHQsIHk6IGJvdW5kcy5ib3R0b20gfSk7XHJcbiAgICAgICAgY29uc3QgcDMgPSB0aGlzLnRvR2xvYmFsKHsgeDogYm91bmRzLmxlZnQsIHk6IGJvdW5kcy5ib3R0b20gfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVmdDogTWF0aC5taW4ocDAueCwgcDEueCwgcDIueCwgcDMueCksXHJcbiAgICAgICAgICAgIHRvcDogTWF0aC5taW4ocDAueSwgcDEueSwgcDIueSwgcDMueSksXHJcbiAgICAgICAgICAgIHJpZ2h0OiBNYXRoLm1heChwMC54LCBwMS54LCBwMi54LCBwMy54KSxcclxuICAgICAgICAgICAgYm90dG9tOiBNYXRoLm1heChwMC55LCBwMS55LCBwMi55LCBwMy55KVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBfb25TaG93KF9kdXJhdGlvbikge1xyXG4gICAgfVxyXG4gICAgX29uSGlkZShfZHVyYXRpb24pIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGxheXMgaW5pdGlhbCByZXZlYWwgYW5pbWF0aW9uIHJlZ2FyZGxlc3MgaWYgZWxlbWVudCBpcyBjdXJyZW50bHkgaGlkZGVuXHJcbiAgICAgKiBvciB2aXNpYmxlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGR1cmF0aW9uICBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHBhcmFtICAgZGVsYXkgICAgIERlbGF5IHNob3dpbmcgb2YgdGhlIGVsZW1lbnQgYnkgWCBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIGFwcGVhcihkdXJhdGlvbiwgZGVsYXkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB5aWVsZCB0aGlzLmhpZGUoMCk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChzdWNjZXNzLCBfZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHRoaXMuc2hvdyhkdXJhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvdyhkdXJhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgY3VycmVudGx5IGhpZGRlbiBlbGVtZW50IGFuZCByZXR1cm5zIGEgYFByb21pc2VgIHdoaWNoIGNvbXBsZXRlc1xyXG4gICAgICogd2hlbiBhbGwgc2hvd2luZyBhbmltYXRpb25zIGFyZSBmaW5pc2hlZC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBUeXBlU2NyaXB0XHJcbiAgICAgKiBzZXJpZXMuc2hvdygpLnRoZW4oZnVuY3Rpb24oZXYpIHtcclxuICAgICAqICAgY29uc29sZS5sb2coXCJTZXJpZXMgaXMgbm93IGZ1bGx5IHZpc2libGVcIik7XHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKiBgYGBKYXZhU2NyaXB0XHJcbiAgICAgKiBzZXJpZXMuc2hvdygpLnRoZW4oZnVuY3Rpb24oZXYpIHtcclxuICAgICAqICAgY29uc29sZS5sb2coXCJTZXJpZXMgaXMgbm93IGZ1bGx5IHZpc2libGVcIik7XHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIHNob3coZHVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzU2hvd2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNIaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hvd2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0hpZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGVzLmxvb2t1cChcImRlZmF1bHRcIikuZ2V0KFwidmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwidmlzaWJsZVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX29uU2hvdyhkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25zID0gdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZGVmYXVsdFwiLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCB3YWl0Rm9yQW5pbWF0aW9ucyhhbmltYXRpb25zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIHRoZSBlbGVtZW50IGFuZCByZXR1cm5zIGEgYFByb21pc2VgIHdoaWNoIGNvbXBsZXRlcyB3aGVuIGFsbCBoaWRpbmdcclxuICAgICAqIGFuaW1hdGlvbnMgYXJlIGZpbmlzaGVkLlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIHNlcmllcy5oaWRlKCkudGhlbihmdW5jdGlvbihldikge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIlNlcmllcyBmaW5pc2hlZCBoaWRpbmdcIik7XHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKiBgYGBKYXZhU2NyaXB0XHJcbiAgICAgKiBzZXJpZXMuaGlkZSgpLnRoZW4oZnVuY3Rpb24oZXYpIHtcclxuICAgICAqICAgY29uc29sZS5sb2coXCJTZXJpZXMgZmluaXNoZWQgaGlkaW5nXCIpO1xyXG4gICAgICogfSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gUHJvbWlzZVxyXG4gICAgICovXHJcbiAgICBoaWRlKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0hpZGluZyAmJiAhdGhpcy5faXNIaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzSGlkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZXMubG9va3VwKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZXMuY3JlYXRlKFwiaGlkZGVuXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcGFjaXR5XCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmlzaWJsZVwiOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25IaWRlKGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJoaWRkZW5cIiwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgeWllbGQgd2FpdEZvckFuaW1hdGlvbnMoYW5pbWF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0hpZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBjdXJyZW50bHkgaGlkZGVuLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXMgaGlkZGVuP1xyXG4gICAgICovXHJcbiAgICBpc0hpZGRlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNIaWRkZW47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBjdXJyZW50bHkgYW5pbWF0aW5nIHRvIGEgZGVmYXVsdCBzdGF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIElzIHNob3dpbmc/XHJcbiAgICAgKi9cclxuICAgIGlzU2hvd2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNTaG93aW5nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIGVsZW1lbnQgaXMgY3VycmVudGx5IGFuaW1hdGluZyB0byBhIGhpZGRlbiBzdGF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIElzIGhpZGluZz9cclxuICAgICAqL1xyXG4gICAgaXNIaWRpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSGlkaW5nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIGVsZW1lbnQgaXMgY3VycmVudGx5IGhvdmVyZWQgYnkgYSBwb2ludGVyLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXMgaG92ZXJlZD9cclxuICAgICAqL1xyXG4gICAgaXNIb3ZlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGxheS5ob3ZlcmluZygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIGVsZW1lbnQgZG9lcyBjdXJyZW50bHkgaGF2ZSBmb2N1cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIElzIGZvY3VzZWQ/XHJcbiAgICAgKi9cclxuICAgIGlzRm9jdXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuZm9jdXNlZCh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyBlbGVtZW50IGlzIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXMgZHJhZ2dlZD9cclxuICAgICAqL1xyXG4gICAgaXNEcmFnZ2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNEcmFnZ2luZztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgZmFsc2VgIGlmIGlmIGVpdGhlciBwdWJsaWMgb3IgcHJpdmF0ZSBzZXR0aW5nIGB2aXNpYmxlYCBpcyBzZXRcclxuICAgICAqIHRvIGBmYWxzZWAsIG9yIGBmb3JjZUhpZGRlbmAgaXMgc2V0IHRvIGB0cnVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFZpc2libGU/XHJcbiAgICAgKi9cclxuICAgIGlzVmlzaWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJ2aXNpYmxlXCIpICYmIHRoaXMuZ2V0UHJpdmF0ZShcInZpc2libGVcIikgJiYgIXRoaXMuZ2V0KFwiZm9yY2VIaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2FtZSBhcyBgaXNWaXNpYmxlKClgLCBleGNlcHQgaXQgY2hlY2tzIGFsbCBhc2NlbmRhbnRzLCB0b28uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDUuMi43XHJcbiAgICAgKiBAcmV0dXJuIFZpc2libGU/XHJcbiAgICAgKi9cclxuICAgIGlzVmlzaWJsZURlZXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/ICh0aGlzLl9wYXJlbnQuaXNWaXNpYmxlRGVlcCgpICYmIHRoaXMuaXNWaXNpYmxlKCkpIDogdGhpcy5pc1Zpc2libGUoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBhY3R1YWwgb3BhY2l0eSBvZiB0aGUgZWxlbWVudCwgdGFraW5nIGludG8gYWNjb3VudCBhbGwgcGFyZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIE9wYWNpdHlcclxuICAgICAqIEBzaW5jZSA1LjIuMTFcclxuICAgICAqL1xyXG4gICAgY29tcG9zaXRlT3BhY2l0eSgpIHtcclxuICAgICAgICBjb25zdCBvcGFjaXR5ID0gdGhpcy5nZXQoXCJvcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgPyAodGhpcy5fcGFyZW50LmNvbXBvc2l0ZU9wYWNpdHkoKSAqIG9wYWNpdHkpIDogb3BhY2l0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBhY3R1YWwgc2NhbGUgb2YgdGhlIGVsZW1lbnQsIHRha2luZyBpbnRvIGFjY291bnQgYWxsIHBhcmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBPcGFjaXR5XHJcbiAgICAgKiBAc2luY2UgNS45LjJcclxuICAgICAqL1xyXG4gICAgY29tcG9zaXRlU2NhbGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldChcInNjYWxlXCIsIDEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgPyAodGhpcy5fcGFyZW50LmNvbXBvc2l0ZVNjYWxlKCkgKiBzY2FsZSkgOiBzY2FsZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBhY3R1YWwgcm9hdGlvbiBvZiB0aGUgZWxlbWVudCwgdGFraW5nIGludG8gYWNjb3VudCBhbGwgcGFyZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIE9wYWNpdHlcclxuICAgICAqIEBzaW5jZSA1LjkuMlxyXG4gICAgICovXHJcbiAgICBjb21wb3NpdGVSb3RhdGlvbigpIHtcclxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuZ2V0KFwicm90YXRpb25cIiwgMCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/ICh0aGlzLl9wYXJlbnQuY29tcG9zaXRlUm90YXRpb24oKSArIHJvdGF0aW9uKSA6IHJvdGF0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdpZHRoIG9mIHRoaXMgZWxlbWVudCBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBXaWR0aCAocHgpXHJcbiAgICAgKi9cclxuICAgIHdpZHRoKCkge1xyXG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIik7XHJcbiAgICAgICAgbGV0IG1heFdpZHRoID0gdGhpcy5nZXQoXCJtYXhXaWR0aFwiLCB0aGlzLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiKSk7XHJcbiAgICAgICAgbGV0IG1pbldpZHRoID0gdGhpcy5nZXQoXCJtaW5XaWR0aFwiLCB0aGlzLmdldFByaXZhdGUoXCJtaW5XaWR0aFwiKSk7XHJcbiAgICAgICAgbGV0IHByaXZhdGVXaWR0aCA9IHRoaXMuZ2V0UHJpdmF0ZShcIndpZHRoXCIpO1xyXG4gICAgICAgIGxldCB3ID0gMDtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIocHJpdmF0ZVdpZHRoKSkge1xyXG4gICAgICAgICAgICB3ID0gcHJpdmF0ZVdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hZGp1c3RlZExvY2FsQm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMucmlnaHQgLSB0aGlzLl9hZGp1c3RlZExvY2FsQm91bmRzLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gcGFyZW50LmlubmVyV2lkdGgoKSAqIHdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IHRoaXMuX3Jvb3Qud2lkdGgoKSAqIHdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCR0eXBlLmlzTnVtYmVyKHdpZHRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHcgPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIHcgPSBNYXRoLm1heChtaW5XaWR0aCwgdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhXaWR0aCkpIHtcclxuICAgICAgICAgICAgdyA9IE1hdGgubWluKG1heFdpZHRoLCB3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgbWF4aW11bSBhbGxvd2VkIHdpZHRoIG9mIHRoaXMgZWxlbWVudCBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBNYXhpbXVtIHdpZHRoIChweClcclxuICAgICAqL1xyXG4gICAgbWF4V2lkdGgoKSB7XHJcbiAgICAgICAgbGV0IG1heFdpZHRoID0gdGhpcy5nZXQoXCJtYXhXaWR0aFwiLCB0aGlzLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiKSk7XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1heFdpZHRoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF4V2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSB0aGlzLmdldChcIndpZHRoXCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIod2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmlubmVyV2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3Qud2lkdGgoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBtYXhpbXVtIGFsbG93ZWQgaGVpZ2h0IG9mIHRoaXMgZWxlbWVudCBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBNYXhpbXVtIGhlaWdodCAocHgpXHJcbiAgICAgKi9cclxuICAgIG1heEhlaWdodCgpIHtcclxuICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gdGhpcy5nZXQoXCJtYXhIZWlnaHRcIiwgdGhpcy5nZXRQcml2YXRlKFwibWF4SGVpZ2h0XCIpKTtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4SGVpZ2h0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF4SGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuZ2V0KFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoaGVpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuaW5uZXJIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuaGVpZ2h0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaGVpZ2h0IG9mIHRoaXMgZWxlbWVudCBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBIZWlnaHQgKHB4KVxyXG4gICAgICovXHJcbiAgICBoZWlnaHQoKSB7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuZ2V0KFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSB0aGlzLmdldChcIm1heEhlaWdodFwiLCB0aGlzLmdldFByaXZhdGUoXCJtYXhIZWlnaHRcIikpO1xyXG4gICAgICAgIGxldCBtaW5IZWlnaHQgPSB0aGlzLmdldChcIm1pbkhlaWdodFwiLCB0aGlzLmdldFByaXZhdGUoXCJtaW5IZWlnaHRcIikpO1xyXG4gICAgICAgIGxldCBwcml2YXRlSGVpZ2h0ID0gdGhpcy5nZXRQcml2YXRlKFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgIGxldCBoID0gMDtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIocHJpdmF0ZUhlaWdodCkpIHtcclxuICAgICAgICAgICAgaCA9IHByaXZhdGVIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaGVpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hZGp1c3RlZExvY2FsQm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMuYm90dG9tIC0gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcy50b3A7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHBhcmVudC5pbm5lckhlaWdodCgpICogaGVpZ2h0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMuX3Jvb3QuaGVpZ2h0KCkgKiBoZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJHR5cGUuaXNOdW1iZXIoaGVpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGggPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1pbkhlaWdodCkpIHtcclxuICAgICAgICAgICAgaCA9IE1hdGgubWF4KG1pbkhlaWdodCwgaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGggPSBNYXRoLm1pbihtYXhIZWlnaHQsIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaDtcclxuICAgIH1cclxuICAgIF9maW5kU3RhdGljVGVtcGxhdGUoZikge1xyXG4gICAgICAgIC8vIHRlbXBsYXRlRmllbGQgb3ZlcnJpZGVzIHRlbXBsYXRlXHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlRmllbGQgJiYgZih0aGlzLl90ZW1wbGF0ZUZpZWxkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGVGaWVsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLl9maW5kU3RhdGljVGVtcGxhdGUoZik7XHJcbiAgICB9XHJcbiAgICBfd2Fsa1BhcmVudHMoZikge1xyXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fd2Fsa1BhcmVudChmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfd2Fsa1BhcmVudChmKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQuX3dhbGtQYXJlbnQoZik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGYodGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcmVudCBbW0NvbnRhaW5lcl1dIG9mIHRoaXMgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFBhcmVudCBjb250YWluZXJcclxuICAgICAqL1xyXG4gICAgZ2V0IHBhcmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xyXG4gICAgfVxyXG4gICAgX3NldFBhcmVudChwYXJlbnQsIHVwZGF0ZUNoaWxkcmVuID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBwcmV2UGFyZW50ID0gdGhpcy5fcGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQgIT09IHByZXZQYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgcGFyZW50Lm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh1cGRhdGVDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlUGFyZW50KHByZXZQYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFBlcmNlbnRhZ2VTaXplQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRQZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5fYXBwbHlUaGVtZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgW1tOdW1iZXJGb3JtYXR0ZXJdXSB1c2VkIGluIHRoaXMgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGlzIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBpdCBzZXQsIGdsb2JhbCBvbmUgZm9ybSBbW1Jvb3RdXSBpcyB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3VzaW5nLWZvcm1hdHRlcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcmV0dXJuIE51bWJlckZvcm1hdHRlciBpbnN0YWNlXHJcbiAgICAgKi9cclxuICAgIGdldE51bWJlckZvcm1hdHRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJudW1iZXJGb3JtYXR0ZXJcIiwgdGhpcy5fcm9vdC5udW1iZXJGb3JtYXR0ZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIFtbRGF0ZUZvcm1hdHRlcl1dIHVzZWQgaW4gdGhpcyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoaXMgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGl0IHNldCwgZ2xvYmFsIG9uZSBmb3JtIFtbUm9vdF1dIGlzIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvdXNpbmctZm9ybWF0dGVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEByZXR1cm4gRGF0ZUZvcm1hdHRlciBpbnN0YWNlXHJcbiAgICAgKi9cclxuICAgIGdldERhdGVGb3JtYXR0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiZGF0ZUZvcm1hdHRlclwiLCB0aGlzLl9yb290LmRhdGVGb3JtYXR0ZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIFtbRHVyYXRpb25Gb3JtYXR0ZXJdXSB1c2VkIGluIHRoaXMgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGlzIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBpdCBzZXQsIGdsb2JhbCBvbmUgZm9ybSBbW1Jvb3RdXSBpcyB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3VzaW5nLWZvcm1hdHRlcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcmV0dXJuIER1cmF0aW9uRm9ybWF0dGVyIGluc3RhY2VcclxuICAgICAqL1xyXG4gICAgZ2V0RHVyYXRpb25Gb3JtYXR0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiZHVyYXRpb25Gb3JtYXR0ZXJcIiwgdGhpcy5fcm9vdC5kdXJhdGlvbkZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIFgvWSBjb29yZGluYXRlIHdpdGhpbiB0aGlzIGVsZW1lbnQgdG8gYSBnbG9iYWwgY29vcmRpbmF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHBvaW50ICBMb2NhbCBjb29yZGluYXRlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICBHbG9iYWwgY29vcmRpbmF0ZVxyXG4gICAgICovXHJcbiAgICB0b0dsb2JhbChwb2ludCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5LnRvR2xvYmFsKHBvaW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgZ2xvYmFsIFgvWSBjb29yZGluYXRlIHRvIGEgY29vcmRpbmF0ZSB3aXRoaW4gdGhpcyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgcG9pbnQgIEdsb2JhbCBjb29yZGluYXRlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICBMb2NhbCBjb29yZGluYXRlXHJcbiAgICAgKi9cclxuICAgIHRvTG9jYWwocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGxheS50b0xvY2FsKHBvaW50KTtcclxuICAgIH1cclxuICAgIF9nZXREb3duUG9pbnQoKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9nZXREb3duUG9pbnRJZCgpO1xyXG4gICAgICAgIGlmIChpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG93blBvaW50c1tpZF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldERvd25Qb2ludElkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kb3duUG9pbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkb2JqZWN0LmtleXNPcmRlcmVkKHRoaXMuX2Rvd25Qb2ludHMsIChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSA+IGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhIDwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9KVswXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1vdmVzIHNwcml0ZSB0byB0aGUgZW5kIG9mIHRoZSBwYXJlbnQncyBjaGlsZHJlbiBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBEZXBlbmRpbmcgb24gYGxheW91dGAgc2V0dGluZyBvZiB0aGUgcGFydGVuIGNvbnRhaW5lciwgaXQgbWF5IGVmZmVjdCB0aGVcclxuICAgICAqIHBvc2l0aW9uaW5nIG9yIG92ZXJsYXBwaW5nIG9yZGVyIG9mIHRoZSBlbGVtZW50cy5cclxuICAgICAqL1xyXG4gICAgdG9Gcm9udCgpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5tb3ZlVmFsdWUodGhpcywgcGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTW92ZXMgc3ByaXRlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHBhcmVudCdzIGNoaWxkcmVuIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIERlcGVuZGluZyBvbiBgbGF5b3V0YCBzZXR0aW5nIG9mIHRoZSBwYXJ0ZW4gY29udGFpbmVyLCBpdCBtYXkgZWZmZWN0IHRoZVxyXG4gICAgICogcG9zaXRpb25pbmcgb3Igb3ZlcmxhcHBpbmcgb3JkZXIgb2YgdGhlIGVsZW1lbnRzLlxyXG4gICAgICovXHJcbiAgICB0b0JhY2soKSB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ubW92ZVZhbHVlKHRoaXMsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJTcHJpdGVcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZSwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBFbnRpdHkuY2xhc3NOYW1lcy5jb25jYXQoW1Nwcml0ZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _util_PopulateString__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore Text is an internal class. Use Label instead.\r\n */\r\nclass Text extends _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeTextStyle()\r\n        });\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeText(\"\", this.textStyle)\r\n        });\r\n        Object.defineProperty(this, \"_textStyles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"maxChars\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _updateBounds() {\r\n        if (!this.get(\"text\")) {\r\n            let newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            super._updateBounds();\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        this._display.clear();\r\n        let textStyle = this.textStyle;\r\n        if (this.isDirty(\"opacity\")) {\r\n            let opacity = this.get(\"opacity\", 1);\r\n            this._display.alpha = opacity;\r\n        }\r\n        if (this.isDirty(\"text\") || this.isDirty(\"populateText\")) {\r\n            this._display.text = this._getText();\r\n            this.markDirtyBounds();\r\n            if (this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n        }\r\n        if (this.isPrivateDirty(\"tooltipElement\")) {\r\n            const tooltipElement = this.getPrivate(\"tooltipElement\");\r\n            if (tooltipElement) {\r\n                this._disposers.push(new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.Disposer(() => {\r\n                    this._root._removeTooltipElement(this);\r\n                }));\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\")) {\r\n            textStyle.wordWrapWidth = this.width();\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"oversizedBehavior\")) {\r\n            textStyle.oversizedBehavior = this.get(\"oversizedBehavior\", \"none\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"breakWords\")) {\r\n            textStyle.breakWords = this.get(\"breakWords\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ellipsis\")) {\r\n            textStyle.ellipsis = this.get(\"ellipsis\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ignoreFormatting\")) {\r\n            textStyle.ignoreFormatting = this.get(\"ignoreFormatting\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"minScale\")) {\r\n            textStyle.minScale = this.get(\"minScale\", 0);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\")) {\r\n            let fill = this.get(\"fill\");\r\n            if (fill) {\r\n                textStyle.fill = fill;\r\n            }\r\n        }\r\n        if (this.isDirty(\"fillOpacity\")) {\r\n            let fillOpacity = this.get(\"fillOpacity\", 1);\r\n            if (fillOpacity) {\r\n                textStyle.fillOpacity = fillOpacity;\r\n            }\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n            textStyle.maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n            textStyle.maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textStyles, (styleName) => {\r\n            if (this._dirty[styleName]) {\r\n                textStyle[styleName] = this.get(styleName);\r\n                this.markDirtyBounds();\r\n            }\r\n        });\r\n        textStyle[\"fontSize\"] = this.get(\"fontSize\");\r\n        textStyle[\"fontFamily\"] = this.get(\"fontFamily\");\r\n        this._display.style = textStyle;\r\n        if (this.isDirty(\"role\") && this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n    }\r\n    _getText() {\r\n        let text = this.get(\"text\", \"\");\r\n        if (this.get(\"maxChars\")) {\r\n            text = _util_Utils__WEBPACK_IMPORTED_MODULE_3__.truncateTextWithEllipsis(text, this.get(\"maxChars\", 100000000), this.get(\"breakWords\"), this.get(\"ellipsis\"));\r\n        }\r\n        return this.get(\"populateText\") ? (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_4__.populateString)(this, text) : text;\r\n    }\r\n    _getAccessibleText() {\r\n        const ariaLabel = this.get(\"ariaLabel\");\r\n        if (ariaLabel !== undefined) {\r\n            return this.get(\"populateText\") ? (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_4__.populateString)(this, ariaLabel) : ariaLabel;\r\n        }\r\n        return this._getText();\r\n    }\r\n    /**\r\n     * Forces the text to be re-evaluated and re-populated.\r\n     */\r\n    markDirtyText() {\r\n        this._display.text = this._getText();\r\n        if (this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n        this.markDirtyBounds();\r\n        this.markDirty();\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        if (this.get(\"populateText\")) {\r\n            this.markDirtyText();\r\n        }\r\n    }\r\n    getNumberFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getNumberFormatter();\r\n        }\r\n        else {\r\n            return super.getNumberFormatter();\r\n        }\r\n    }\r\n    getDateFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDateFormatter();\r\n        }\r\n        else {\r\n            return super.getDateFormatter();\r\n        }\r\n    }\r\n    getDurationFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDurationFormatter();\r\n        }\r\n        else {\r\n            return super.getDurationFormatter();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Text, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Text\"\r\n});\r\nObject.defineProperty(Text, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite.classNames.concat([Text.className])\r\n});\r\n//# sourceMappingURL=Text.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0M7QUFDc0I7QUFDaEI7QUFDQTtBQUNJO0FBQzVDO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiwyQ0FBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsb0RBQVE7QUFDakQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUErQjtBQUNsRDtBQUNBLDBDQUEwQyxvRUFBYztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxvRUFBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1RleHQuanM/YWEzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi9TcHJpdGVcIjtcclxuaW1wb3J0IHsgcG9wdWxhdGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC9Qb3B1bGF0ZVN0cmluZ1wiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCB7IERpc3Bvc2VyIH0gZnJvbSBcIi4uL3V0aWwvRGlzcG9zZXJcIjtcclxuLyoqXHJcbiAqIEBpZ25vcmUgVGV4dCBpcyBhbiBpbnRlcm5hbCBjbGFzcy4gVXNlIExhYmVsIGluc3RlYWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dCBleHRlbmRzIFNwcml0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9yb290Ll9yZW5kZXJlci5tYWtlVGV4dFN0eWxlKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcGxheVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9yb290Ll9yZW5kZXJlci5tYWtlVGV4dChcIlwiLCB0aGlzLnRleHRTdHlsZSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGV4dFN0eWxlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXHJcbiAgICAgICAgICAgICAgICBcInRleHRBbGlnblwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250RmFtaWx5XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTaXplXCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250V2VpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250VmFyaWFudFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dDb2xvclwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dCbHVyXCIsXHJcbiAgICAgICAgICAgICAgICBcInNoYWRvd09mZnNldFhcIixcclxuICAgICAgICAgICAgICAgIFwic2hhZG93T2Zmc2V0WVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dPcGFjaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcImxlYWRpbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIFwibGV0dGVyU3BhY2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgXCJsaW5lSGVpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImJhc2VsaW5lUmF0aW9cIixcclxuICAgICAgICAgICAgICAgIC8vXCJwYWRkaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJzdHJva2VUaGlja25lc3NcIixcclxuICAgICAgICAgICAgICAgIC8vIFwidHJpbVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJ3b3JkV3JhcFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXJlY3Rpb25cIixcclxuICAgICAgICAgICAgICAgIFwidGV4dEJhc2VsaW5lXCIsXHJcbiAgICAgICAgICAgICAgICBcIm92ZXJzaXplZEJlaGF2aW9yXCIsXHJcbiAgICAgICAgICAgICAgICBcImJyZWFrV29yZHNcIixcclxuICAgICAgICAgICAgICAgIFwiZWxsaXBzaXNcIixcclxuICAgICAgICAgICAgICAgIFwibWluU2NhbGVcIixcclxuICAgICAgICAgICAgICAgIFwibWF4Q2hhcnNcIlxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29yaWdpbmFsU2NhbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZXQoXCJ0ZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdCb3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMgPSBuZXdCb3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdXBlci5fdXBkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NoYW5nZWQoKTtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XHJcbiAgICAgICAgbGV0IHRleHRTdHlsZSA9IHRoaXMudGV4dFN0eWxlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJvcGFjaXR5XCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBvcGFjaXR5ID0gdGhpcy5nZXQoXCJvcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmFscGhhID0gb3BhY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRleHRcIikgfHwgdGhpcy5pc0RpcnR5KFwicG9wdWxhdGVUZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkudGV4dCA9IHRoaXMuX2dldFRleHQoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwicm9sZVwiKSA9PSBcInRvb2x0aXBcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdC51cGRhdGVUb29sdGlwKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzUHJpdmF0ZURpcnR5KFwidG9vbHRpcEVsZW1lbnRcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcEVsZW1lbnQgPSB0aGlzLmdldFByaXZhdGUoXCJ0b29sdGlwRWxlbWVudFwiKTtcclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QuX3JlbW92ZVRvb2x0aXBFbGVtZW50KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ3aWR0aFwiKSkge1xyXG4gICAgICAgICAgICB0ZXh0U3R5bGUud29yZFdyYXBXaWR0aCA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm92ZXJzaXplZEJlaGF2aW9yXCIpKSB7XHJcbiAgICAgICAgICAgIHRleHRTdHlsZS5vdmVyc2l6ZWRCZWhhdmlvciA9IHRoaXMuZ2V0KFwib3ZlcnNpemVkQmVoYXZpb3JcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiYnJlYWtXb3Jkc1wiKSkge1xyXG4gICAgICAgICAgICB0ZXh0U3R5bGUuYnJlYWtXb3JkcyA9IHRoaXMuZ2V0KFwiYnJlYWtXb3Jkc1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJlbGxpcHNpc1wiKSkge1xyXG4gICAgICAgICAgICB0ZXh0U3R5bGUuZWxsaXBzaXMgPSB0aGlzLmdldChcImVsbGlwc2lzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaWdub3JlRm9ybWF0dGluZ1wiKSkge1xyXG4gICAgICAgICAgICB0ZXh0U3R5bGUuaWdub3JlRm9ybWF0dGluZyA9IHRoaXMuZ2V0KFwiaWdub3JlRm9ybWF0dGluZ1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtaW5TY2FsZVwiKSkge1xyXG4gICAgICAgICAgICB0ZXh0U3R5bGUubWluU2NhbGUgPSB0aGlzLmdldChcIm1pblNjYWxlXCIsIDApO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsbFwiKSkge1xyXG4gICAgICAgICAgICBsZXQgZmlsbCA9IHRoaXMuZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgICAgIHRleHRTdHlsZS5maWxsID0gZmlsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsbE9wYWNpdHlcIikpIHtcclxuICAgICAgICAgICAgbGV0IGZpbGxPcGFjaXR5ID0gdGhpcy5nZXQoXCJmaWxsT3BhY2l0eVwiLCAxKTtcclxuICAgICAgICAgICAgaWYgKGZpbGxPcGFjaXR5KSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0U3R5bGUuZmlsbE9wYWNpdHkgPSBmaWxsT3BhY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibWF4V2lkdGhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1heFdpZHRoXCIpKSB7XHJcbiAgICAgICAgICAgIHRleHRTdHlsZS5tYXhXaWR0aCA9IHRoaXMuZ2V0KFwibWF4V2lkdGhcIiwgdGhpcy5nZXRQcml2YXRlKFwibWF4V2lkdGhcIikpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibWF4SGVpZ2h0XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtYXhIZWlnaHRcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLm1heEhlaWdodCA9IHRoaXMuZ2V0KFwibWF4SGVpZ2h0XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRTdHlsZXMsIChzdHlsZU5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5W3N0eWxlTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRleHRTdHlsZVtzdHlsZU5hbWVdID0gdGhpcy5nZXQoc3R5bGVOYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZXh0U3R5bGVbXCJmb250U2l6ZVwiXSA9IHRoaXMuZ2V0KFwiZm9udFNpemVcIik7XHJcbiAgICAgICAgdGV4dFN0eWxlW1wiZm9udEZhbWlseVwiXSA9IHRoaXMuZ2V0KFwiZm9udEZhbWlseVwiKTtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LnN0eWxlID0gdGV4dFN0eWxlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyb2xlXCIpICYmIHRoaXMuZ2V0KFwicm9sZVwiKSA9PSBcInRvb2x0aXBcIikge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290LnVwZGF0ZVRvb2x0aXAodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldFRleHQoKSB7XHJcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLmdldChcInRleHRcIiwgXCJcIik7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwibWF4Q2hhcnNcIikpIHtcclxuICAgICAgICAgICAgdGV4dCA9ICR1dGlscy50cnVuY2F0ZVRleHRXaXRoRWxsaXBzaXModGV4dCwgdGhpcy5nZXQoXCJtYXhDaGFyc1wiLCAxMDAwMDAwMDApLCB0aGlzLmdldChcImJyZWFrV29yZHNcIiksIHRoaXMuZ2V0KFwiZWxsaXBzaXNcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJwb3B1bGF0ZVRleHRcIikgPyBwb3B1bGF0ZVN0cmluZyh0aGlzLCB0ZXh0KSA6IHRleHQ7XHJcbiAgICB9XHJcbiAgICBfZ2V0QWNjZXNzaWJsZVRleHQoKSB7XHJcbiAgICAgICAgY29uc3QgYXJpYUxhYmVsID0gdGhpcy5nZXQoXCJhcmlhTGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGFyaWFMYWJlbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChcInBvcHVsYXRlVGV4dFwiKSA/IHBvcHVsYXRlU3RyaW5nKHRoaXMsIGFyaWFMYWJlbCkgOiBhcmlhTGFiZWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRUZXh0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZvcmNlcyB0aGUgdGV4dCB0byBiZSByZS1ldmFsdWF0ZWQgYW5kIHJlLXBvcHVsYXRlZC5cclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5VGV4dCgpIHtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LnRleHQgPSB0aGlzLl9nZXRUZXh0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicm9sZVwiKSA9PSBcInRvb2x0aXBcIikge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290LnVwZGF0ZVRvb2x0aXAodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIF9zZXREYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicG9wdWxhdGVUZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldE51bWJlckZvcm1hdHRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldE51bWJlckZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldE51bWJlckZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldERhdGVGb3JtYXR0ZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXREYXRlRm9ybWF0dGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RGF0ZUZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldER1cmF0aW9uRm9ybWF0dGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0RHVyYXRpb25Gb3JtYXR0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXREdXJhdGlvbkZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiVGV4dFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBTcHJpdGUuY2xhc3NOYW1lcy5jb25jYXQoW1RleHQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Tick: () => (/* binding */ Tick)\n/* harmony export */ });\n/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Line */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js\");\n\r\n/**\r\n * Draws a tick element (mostly used on axes).\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nclass Tick extends _Line__WEBPACK_IMPORTED_MODULE_0__.Line {\r\n}\r\nObject.defineProperty(Tick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tick\"\r\n});\r\nObject.defineProperty(Tick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Line__WEBPACK_IMPORTED_MODULE_0__.Line.classNames.concat([Tick.className])\r\n});\r\n//# sourceMappingURL=Tick.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVGljay5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUEyRTtBQUNwRjtBQUNPLG1CQUFtQix1Q0FBSTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVDQUFJO0FBQ2YsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9UaWNrLmpzP2VkMDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcclxuLyoqXHJcbiAqIERyYXdzIGEgdGljayBlbGVtZW50IChtb3N0bHkgdXNlZCBvbiBheGVzKS5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2dyYXBoaWNzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRpY2sgZXh0ZW5kcyBMaW5lIHtcclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGljaywgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiVGlja1wiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGljaywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBMaW5lLmNsYXNzTmFtZXMuY29uY2F0KFtUaWNrLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip)\n/* harmony export */ });\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _render_Label__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n/* harmony import */ var _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../render/PointedRectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a tooltip.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/tooltips/} for more info\r\n * @important\r\n */\r\nclass Tooltip extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(root, settings, isReal, templates);\r\n        Object.defineProperty(this, \"_fx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_fy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_label\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fillDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_labelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_w\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_h\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_keepHoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlContentHovered\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"tooltip\"]);\r\n        super._afterNew();\r\n        const background = this._setDefaultFn(\"background\", () => {\r\n            return _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__.PointedRectangle.new(this._root, {});\r\n        });\r\n        background.set(\"themeTags\", [\"tooltip\", \"background\"]);\r\n        this._label = this.children.push(_render_Label__WEBPACK_IMPORTED_MODULE_3__.Label.new(this._root, {}));\r\n        this._disposers.push(this._label.events.on(\"boundschanged\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._disposers.push(this.on(\"bounds\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._updateTextColor();\r\n        this._root.tooltipContainer.children.push(this);\r\n        this.hide(0);\r\n        this._disposers.push(this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n            if (htmlElement) {\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(htmlElement, \"pointerover\", (_ev) => {\r\n                    this._htmlContentHovered = true;\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(htmlElement, \"pointerout\", (_ev) => {\r\n                    this._htmlContentHovered = false;\r\n                }));\r\n            }\r\n        }));\r\n        this.on(\"visible\", (_ev) => {\r\n            this._handleReaderAnnouncement();\r\n        });\r\n        this.label.events.on(\"dataitemchanged\", (_ev) => {\r\n            this._handleReaderAnnouncement();\r\n        });\r\n        this._root._tooltips.push(this);\r\n    }\r\n    _handleReaderAnnouncement() {\r\n        if (this.get(\"readerAnnounce\") && this.isVisibleDeep()) {\r\n            this._root.readerAlert(this.label.getAccessibleText());\r\n        }\r\n    }\r\n    /**\r\n     * A [[Label]] element for the tooltip.\r\n     *\r\n     * @readonly\r\n     * @return Label\r\n     */\r\n    get label() {\r\n        return this._label;\r\n    }\r\n    /**\r\n     * Permanently disposes the tooltip.\r\n     */\r\n    dispose() {\r\n        super.dispose();\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_4__.remove(this._root._tooltips, this);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"pointerOrientation\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n            this.get(\"background\")._markDirtyKey(\"width\");\r\n        }\r\n        const labelText = this.get(\"labelText\");\r\n        if (labelText != null) {\r\n            this.label.set(\"text\", this.get(\"labelText\"));\r\n        }\r\n        const labelHTML = this.get(\"labelHTML\");\r\n        if (labelHTML != null) {\r\n            this.label.set(\"html\", this.get(\"labelHTML\"));\r\n        }\r\n        const labelAriaLabel = this.get(\"labelAriaLabel\");\r\n        if (labelAriaLabel != null) {\r\n            this.label.set(\"ariaLabel\", this.get(\"labelAriaLabel\"));\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pointTo\") || this.isDirty(\"pointerOrientation\")) {\r\n            // can't compare to previous, as sometimes pointTo is set twice (when pointer moves, so the position won't be udpated)\r\n            this._updateBackground();\r\n        }\r\n        if (this.isDirty(\"tooltipTarget\")) {\r\n            this.updateBackgroundColor();\r\n        }\r\n        if (this.isDirty(\"keepTargetHover\")) {\r\n            const keephover = this.get(\"keepTargetHover\");\r\n            if (keephover) {\r\n                const bg = this.get(\"background\");\r\n                this._keepHoverDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_5__.MultiDisposer([\r\n                    bg.events.on(\"pointerover\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            target.hover();\r\n                        }\r\n                    }),\r\n                    bg.events.on(\"pointerout\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            if (!this._htmlContentHovered) {\r\n                                target.unhover();\r\n                            }\r\n                        }\r\n                    })\r\n                ]);\r\n                this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n                    if (this._keepHoverDp && htmlElement) {\r\n                        this._keepHoverDp.disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(htmlElement, \"pointerleave\", (ev) => {\r\n                            const outEvent = this.root._renderer.getEvent(ev);\r\n                            bg.events.dispatch(\"pointerout\", {\r\n                                type: \"pointerout\",\r\n                                originalEvent: outEvent.event,\r\n                                point: outEvent.point,\r\n                                simulated: false,\r\n                                target: bg\r\n                            });\r\n                        }));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._keepHoverDp) {\r\n                    this._keepHoverDp.dispose();\r\n                    this._keepHoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _onShow() {\r\n        super._onShow();\r\n        this.updateBackgroundColor();\r\n    }\r\n    updateBackgroundColor() {\r\n        let tooltipTarget = this.get(\"tooltipTarget\");\r\n        const background = this.get(\"background\");\r\n        let fill;\r\n        let stroke;\r\n        if (tooltipTarget && background) {\r\n            fill = tooltipTarget.get(\"fill\");\r\n            stroke = tooltipTarget.get(\"stroke\");\r\n            if (fill == null) {\r\n                fill = stroke;\r\n            }\r\n            if (this.get(\"getFillFromSprite\")) {\r\n                if (this._fillDp) {\r\n                    this._fillDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"fill\", fill);\r\n                }\r\n                this._fillDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"fill\", fill);\r\n                        this._updateTextColor(fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._fillDp);\r\n            }\r\n            if (this.get(\"getStrokeFromSprite\")) {\r\n                if (this._strokeDp) {\r\n                    this._strokeDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"stroke\", fill);\r\n                }\r\n                this._strokeDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"stroke\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._strokeDp);\r\n            }\r\n            if (this.get(\"getLabelFillFromSprite\")) {\r\n                if (this._labelDp) {\r\n                    this._labelDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    this.label.set(\"fill\", fill);\r\n                }\r\n                this._labelDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        this.label.set(\"fill\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._labelDp);\r\n            }\r\n        }\r\n        this._updateTextColor(fill);\r\n    }\r\n    _updateTextColor(fill) {\r\n        if (this.get(\"autoTextColor\")) {\r\n            if (fill == null) {\r\n                fill = this.get(\"background\").get(\"fill\");\r\n            }\r\n            if (fill == null) {\r\n                fill = this._root.interfaceColors.get(\"background\");\r\n            }\r\n            if (fill instanceof _util_Color__WEBPACK_IMPORTED_MODULE_6__.Color) {\r\n                this.label.set(\"fill\", _util_Color__WEBPACK_IMPORTED_MODULE_6__.Color.alternative(fill, this._root.interfaceColors.get(\"alternativeText\"), this._root.interfaceColors.get(\"text\")));\r\n            }\r\n        }\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this.label._setDataItem(dataItem);\r\n    }\r\n    _updateBackground() {\r\n        super.updateBackground();\r\n        const parent = this._root.container;\r\n        if (parent) {\r\n            let cw = 0.5;\r\n            let ch = 0.5;\r\n            let centerX = this.get(\"centerX\");\r\n            if (centerX instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_7__.Percent) {\r\n                cw = centerX.value;\r\n            }\r\n            let centerY = this.get(\"centerY\");\r\n            if (centerY instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_7__.Percent) {\r\n                ch = centerY.value;\r\n            }\r\n            let parentW = parent.width();\r\n            let parentH = parent.height();\r\n            let tooltipContainer = this.parent;\r\n            let xx = 0;\r\n            let yy = 0;\r\n            if (tooltipContainer) {\r\n                xx = tooltipContainer.x();\r\n                yy = tooltipContainer.y();\r\n                const layerMargin = tooltipContainer.get(\"layerMargin\");\r\n                if (layerMargin) {\r\n                    xx += layerMargin.left || 0;\r\n                    yy += layerMargin.top || 0;\r\n                    parentW += (layerMargin.left || 0) + (layerMargin.right || 0);\r\n                    parentH += (layerMargin.top || 0) + (layerMargin.bottom || 0);\r\n                }\r\n            }\r\n            const bounds = this.get(\"bounds\", { left: -xx, top: -yy, right: parentW - xx, bottom: parentH - yy });\r\n            this._updateBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            // use old w and h,as when tooltip is hidden, these are 0 and unneeded animation happens\r\n            if (w === 0) {\r\n                w = this._w;\r\n            }\r\n            if (h === 0) {\r\n                h = this._h;\r\n            }\r\n            let pointTo = this.get(\"pointTo\", { x: parentW / 2, y: parentH / 2 });\r\n            let x = pointTo.x;\r\n            let y = pointTo.y;\r\n            let pointerOrientation = this.get(\"pointerOrientation\");\r\n            let background = this.get(\"background\");\r\n            let pointerLength = 0;\r\n            let bgStrokeSizeY = 0;\r\n            let bgStrokeSizeX = 0;\r\n            if (background instanceof _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__.PointedRectangle) {\r\n                pointerLength = background.get(\"pointerLength\", 0);\r\n                bgStrokeSizeY = background.get(\"strokeWidth\", 0) / 2;\r\n                bgStrokeSizeX = bgStrokeSizeY;\r\n                background.set(\"width\", w);\r\n                background.set(\"height\", h);\r\n            }\r\n            let pointerX = 0;\r\n            let pointerY = 0;\r\n            let boundsW = bounds.right - bounds.left;\r\n            let boundsH = bounds.bottom - bounds.top;\r\n            // horizontal\r\n            if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n                bgStrokeSizeY = 0;\r\n                if (pointerOrientation == \"horizontal\") {\r\n                    if (x > bounds.left + boundsW / 2) {\r\n                        x -= (w * (1 - cw) + pointerLength);\r\n                        bgStrokeSizeX *= -1;\r\n                    }\r\n                    else {\r\n                        x += (w * cw + pointerLength);\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"left\") {\r\n                    x += (w * (1 - cw) + pointerLength);\r\n                }\r\n                else {\r\n                    x -= (w * cw + pointerLength);\r\n                    bgStrokeSizeX *= -1;\r\n                }\r\n            }\r\n            // vertical pointer\r\n            else {\r\n                bgStrokeSizeX = 0;\r\n                if (pointerOrientation == \"vertical\") {\r\n                    if (y > bounds.top + h / 2 + pointerLength) {\r\n                        y -= (h * (1 - ch) + pointerLength);\r\n                    }\r\n                    else {\r\n                        y += (h * ch + pointerLength);\r\n                        bgStrokeSizeY *= -1;\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"down\") {\r\n                    y -= (h * (1 - ch) + pointerLength);\r\n                }\r\n                else {\r\n                    y += (h * ch + pointerLength);\r\n                    bgStrokeSizeY *= -1;\r\n                }\r\n            }\r\n            x = _util_Math__WEBPACK_IMPORTED_MODULE_8__.fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;\r\n            y = _util_Math__WEBPACK_IMPORTED_MODULE_8__.fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;\r\n            pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;\r\n            pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;\r\n            this._fx = x;\r\n            this._fy = y;\r\n            const animationDuration = this.get(\"animationDuration\", 0);\r\n            if (animationDuration > 0 && this.get(\"visible\") && this.get(\"opacity\") > 0.1) {\r\n                const animationEasing = this.get(\"animationEasing\");\r\n                this.animate({ key: \"x\", to: x, duration: animationDuration, easing: animationEasing });\r\n                this.animate({ key: \"y\", to: y, duration: animationDuration, easing: animationEasing });\r\n            }\r\n            else {\r\n                this.set(\"x\", x);\r\n                this.set(\"y\", y);\r\n            }\r\n            if (background instanceof _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__.PointedRectangle) {\r\n                background.set(\"pointerX\", pointerX);\r\n                background.set(\"pointerY\", pointerY);\r\n            }\r\n            if (w > 0) {\r\n                this._w = w;\r\n            }\r\n            if (h > 0) {\r\n                this._h = h;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Tooltip, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tooltip\"\r\n});\r\nObject.defineProperty(Tooltip, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Tooltip.className])\r\n});\r\n//# sourceMappingURL=Tooltip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVG9vbHRpcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ1Q7QUFDc0I7QUFDdEI7QUFDRTtBQUNKO0FBQ0E7QUFDRTtBQUNBO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyxzQkFBc0IsaURBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1DQUFtQyxrREFBZ0I7QUFDbkQ7QUFDQTtBQUNBLG1CQUFtQixzRUFBZ0IsbUJBQW1CO0FBQ3RELFNBQVM7QUFDVDtBQUNBLHlDQUF5QyxnREFBSyxtQkFBbUI7QUFDakU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMseURBQXVCO0FBQzVEO0FBQ0EsaUJBQWlCO0FBQ2pCLHFDQUFxQyx5REFBdUI7QUFDNUQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5REFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx5REFBdUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4Q0FBSztBQUNyQyx1Q0FBdUMsOENBQUs7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrREFBTztBQUMxQztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0RBQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGdFQUFnRTtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQ0FBZ0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0VBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQWdCO0FBQ2hDLGdCQUFnQixrREFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdUVBQXVFO0FBQ3RHLCtCQUErQix1RUFBdUU7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzRUFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVM7QUFDcEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9Ub29sdGlwLmpzPzk3M2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTXVsdGlEaXNwb3NlciB9IGZyb20gXCIuLi91dGlsL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uL3JlbmRlci9MYWJlbFwiO1xyXG5pbXBvcnQgeyBQb2ludGVkUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL3JlbmRlci9Qb2ludGVkUmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBQZXJjZW50IH0gZnJvbSBcIi4uL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi91dGlsL0NvbG9yXCI7XHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuLi91dGlsL01hdGhcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vdXRpbC9VdGlsc1wiO1xyXG4vKipcclxuICogQ3JlYXRlcyBhIHRvb2x0aXAuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy90b29sdGlwcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBDb250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3Iocm9vdCwgc2V0dGluZ3MsIGlzUmVhbCwgdGVtcGxhdGVzID0gW10pIHtcclxuICAgICAgICBzdXBlcihyb290LCBzZXR0aW5ncywgaXNSZWFsLCB0ZW1wbGF0ZXMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9meFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Z5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFiZWxcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZpbGxEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3Ryb2tlRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xhYmVsRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3dcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfa2VlcEhvdmVyRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2h0bWxDb250ZW50SG92ZXJlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnRoZW1lVGFncyA9ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzLCBbXCJ0b29sdGlwXCJdKTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5fc2V0RGVmYXVsdEZuKFwiYmFja2dyb3VuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBQb2ludGVkUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7fSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJ0aGVtZVRhZ3NcIiwgW1widG9vbHRpcFwiLCBcImJhY2tncm91bmRcIl0pO1xyXG4gICAgICAgIHRoaXMuX2xhYmVsID0gdGhpcy5jaGlsZHJlbi5wdXNoKExhYmVsLm5ldyh0aGlzLl9yb290LCB7fSkpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuX2xhYmVsLmV2ZW50cy5vbihcImJvdW5kc2NoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVCYWNrZ3JvdW5kKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMub24oXCJib3VuZHNcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVCYWNrZ3JvdW5kKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRleHRDb2xvcigpO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QudG9vbHRpcENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGlkZSgwKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmxhYmVsLm9uUHJpdmF0ZShcImh0bWxFbGVtZW50XCIsIChodG1sRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaHRtbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKGh0bWxFbGVtZW50LCBcInBvaW50ZXJvdmVyXCIsIChfZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9odG1sQ29udGVudEhvdmVyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoaHRtbEVsZW1lbnQsIFwicG9pbnRlcm91dFwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faHRtbENvbnRlbnRIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5vbihcInZpc2libGVcIiwgKF9ldikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZWFkZXJBbm5vdW5jZW1lbnQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxhYmVsLmV2ZW50cy5vbihcImRhdGFpdGVtY2hhbmdlZFwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlYWRlckFubm91bmNlbWVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QuX3Rvb2x0aXBzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlUmVhZGVyQW5ub3VuY2VtZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcInJlYWRlckFubm91bmNlXCIpICYmIHRoaXMuaXNWaXNpYmxlRGVlcCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QucmVhZGVyQWxlcnQodGhpcy5sYWJlbC5nZXRBY2Nlc3NpYmxlVGV4dCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgW1tMYWJlbF1dIGVsZW1lbnQgZm9yIHRoZSB0b29sdGlwLlxyXG4gICAgICpcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQHJldHVybiBMYWJlbFxyXG4gICAgICovXHJcbiAgICBnZXQgbGFiZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJtYW5lbnRseSBkaXNwb3NlcyB0aGUgdG9vbHRpcC5cclxuICAgICAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl9yb290Ll90b29sdGlwcywgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgc3VwZXIuX3VwZGF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInBvaW50ZXJPcmllbnRhdGlvblwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwibWluV2lkdGhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1pbkhlaWdodFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmdldChcImJhY2tncm91bmRcIikuX21hcmtEaXJ0eUtleShcIndpZHRoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSB0aGlzLmdldChcImxhYmVsVGV4dFwiKTtcclxuICAgICAgICBpZiAobGFiZWxUZXh0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5zZXQoXCJ0ZXh0XCIsIHRoaXMuZ2V0KFwibGFiZWxUZXh0XCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGFiZWxIVE1MID0gdGhpcy5nZXQoXCJsYWJlbEhUTUxcIik7XHJcbiAgICAgICAgaWYgKGxhYmVsSFRNTCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuc2V0KFwiaHRtbFwiLCB0aGlzLmdldChcImxhYmVsSFRNTFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxhYmVsQXJpYUxhYmVsID0gdGhpcy5nZXQoXCJsYWJlbEFyaWFMYWJlbFwiKTtcclxuICAgICAgICBpZiAobGFiZWxBcmlhTGFiZWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLnNldChcImFyaWFMYWJlbFwiLCB0aGlzLmdldChcImxhYmVsQXJpYUxhYmVsXCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJwb2ludFRvXCIpIHx8IHRoaXMuaXNEaXJ0eShcInBvaW50ZXJPcmllbnRhdGlvblwiKSkge1xyXG4gICAgICAgICAgICAvLyBjYW4ndCBjb21wYXJlIHRvIHByZXZpb3VzLCBhcyBzb21ldGltZXMgcG9pbnRUbyBpcyBzZXQgdHdpY2UgKHdoZW4gcG9pbnRlciBtb3Zlcywgc28gdGhlIHBvc2l0aW9uIHdvbid0IGJlIHVkcGF0ZWQpXHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUJhY2tncm91bmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRvb2x0aXBUYXJnZXRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kQ29sb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImtlZXBUYXJnZXRIb3ZlclwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZWVwaG92ZXIgPSB0aGlzLmdldChcImtlZXBUYXJnZXRIb3ZlclwiKTtcclxuICAgICAgICAgICAgaWYgKGtlZXBob3Zlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmcgPSB0aGlzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9rZWVwSG92ZXJEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICBiZy5ldmVudHMub24oXCJwb2ludGVyb3ZlclwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmdldChcInRvb2x0aXBUYXJnZXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucGFyZW50ICYmIHRhcmdldC5wYXJlbnQuZ2V0UHJpdmF0ZShcInRvb2x0aXBUYXJnZXRcIikgPT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5ob3ZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgYmcuZXZlbnRzLm9uKFwicG9pbnRlcm91dFwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmdldChcInRvb2x0aXBUYXJnZXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucGFyZW50ICYmIHRhcmdldC5wYXJlbnQuZ2V0UHJpdmF0ZShcInRvb2x0aXBUYXJnZXRcIikgPT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faHRtbENvbnRlbnRIb3ZlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnVuaG92ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwub25Qcml2YXRlKFwiaHRtbEVsZW1lbnRcIiwgKGh0bWxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tlZXBIb3ZlckRwICYmIGh0bWxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tlZXBIb3ZlckRwLmRpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKGh0bWxFbGVtZW50LCBcInBvaW50ZXJsZWF2ZVwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dEV2ZW50ID0gdGhpcy5yb290Ll9yZW5kZXJlci5nZXRFdmVudChldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZy5ldmVudHMuZGlzcGF0Y2goXCJwb2ludGVyb3V0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvaW50ZXJvdXRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvdXRFdmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogb3V0RXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGJnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tlZXBIb3ZlckRwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2VlcEhvdmVyRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tlZXBIb3ZlckRwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX29uU2hvdygpIHtcclxuICAgICAgICBzdXBlci5fb25TaG93KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kQ29sb3IoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUJhY2tncm91bmRDb2xvcigpIHtcclxuICAgICAgICBsZXQgdG9vbHRpcFRhcmdldCA9IHRoaXMuZ2V0KFwidG9vbHRpcFRhcmdldFwiKTtcclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIGxldCBmaWxsO1xyXG4gICAgICAgIGxldCBzdHJva2U7XHJcbiAgICAgICAgaWYgKHRvb2x0aXBUYXJnZXQgJiYgYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICBmaWxsID0gdG9vbHRpcFRhcmdldC5nZXQoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICBzdHJva2UgPSB0b29sdGlwVGFyZ2V0LmdldChcInN0cm9rZVwiKTtcclxuICAgICAgICAgICAgaWYgKGZpbGwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZmlsbCA9IHN0cm9rZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJnZXRGaWxsRnJvbVNwcml0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGxEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxEcC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJmaWxsXCIsIGZpbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbERwID0gdG9vbHRpcFRhcmdldC5vbihcImZpbGxcIiwgKGZpbGwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4dENvbG9yKGZpbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fZmlsbERwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJnZXRTdHJva2VGcm9tU3ByaXRlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlRHApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VEcC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJzdHJva2VcIiwgZmlsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VEcCA9IHRvb2x0aXBUYXJnZXQub24oXCJmaWxsXCIsIChmaWxsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldChcInN0cm9rZVwiLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuX3N0cm9rZURwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJnZXRMYWJlbEZpbGxGcm9tU3ByaXRlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGFiZWxEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFiZWwuc2V0KFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsRHAgPSB0b29sdGlwVGFyZ2V0Lm9uKFwiZmlsbFwiLCAoZmlsbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbC5zZXQoXCJmaWxsXCIsIGZpbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fbGFiZWxEcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlVGV4dENvbG9yKGZpbGwpO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZVRleHRDb2xvcihmaWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiYXV0b1RleHRDb2xvclwiKSkge1xyXG4gICAgICAgICAgICBpZiAoZmlsbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsID0gdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpLmdldChcImZpbGxcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpbGwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZmlsbCA9IHRoaXMuX3Jvb3QuaW50ZXJmYWNlQ29sb3JzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpbGwgaW5zdGFuY2VvZiBDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbC5zZXQoXCJmaWxsXCIsIENvbG9yLmFsdGVybmF0aXZlKGZpbGwsIHRoaXMuX3Jvb3QuaW50ZXJmYWNlQ29sb3JzLmdldChcImFsdGVybmF0aXZlVGV4dFwiKSwgdGhpcy5fcm9vdC5pbnRlcmZhY2VDb2xvcnMuZ2V0KFwidGV4dFwiKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldERhdGFJdGVtKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgc3VwZXIuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICB0aGlzLmxhYmVsLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQmFja2dyb3VuZCgpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVCYWNrZ3JvdW5kKCk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fcm9vdC5jb250YWluZXI7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBsZXQgY3cgPSAwLjU7XHJcbiAgICAgICAgICAgIGxldCBjaCA9IDAuNTtcclxuICAgICAgICAgICAgbGV0IGNlbnRlclggPSB0aGlzLmdldChcImNlbnRlclhcIik7XHJcbiAgICAgICAgICAgIGlmIChjZW50ZXJYIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgY3cgPSBjZW50ZXJYLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjZW50ZXJZID0gdGhpcy5nZXQoXCJjZW50ZXJZXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2VudGVyWSBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNoID0gY2VudGVyWS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcGFyZW50VyA9IHBhcmVudC53aWR0aCgpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50SCA9IHBhcmVudC5oZWlnaHQoKTtcclxuICAgICAgICAgICAgbGV0IHRvb2x0aXBDb250YWluZXIgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICAgICAgbGV0IHh4ID0gMDtcclxuICAgICAgICAgICAgbGV0IHl5ID0gMDtcclxuICAgICAgICAgICAgaWYgKHRvb2x0aXBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHh4ID0gdG9vbHRpcENvbnRhaW5lci54KCk7XHJcbiAgICAgICAgICAgICAgICB5eSA9IHRvb2x0aXBDb250YWluZXIueSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJNYXJnaW4gPSB0b29sdGlwQ29udGFpbmVyLmdldChcImxheWVyTWFyZ2luXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyTWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeHggKz0gbGF5ZXJNYXJnaW4ubGVmdCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHl5ICs9IGxheWVyTWFyZ2luLnRvcCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFcgKz0gKGxheWVyTWFyZ2luLmxlZnQgfHwgMCkgKyAobGF5ZXJNYXJnaW4ucmlnaHQgfHwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SCArPSAobGF5ZXJNYXJnaW4udG9wIHx8IDApICsgKGxheWVyTWFyZ2luLmJvdHRvbSB8fCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldChcImJvdW5kc1wiLCB7IGxlZnQ6IC14eCwgdG9wOiAteXksIHJpZ2h0OiBwYXJlbnRXIC0geHgsIGJvdHRvbTogcGFyZW50SCAtIHl5IH0pO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVCb3VuZHMoKTtcclxuICAgICAgICAgICAgbGV0IHcgPSB0aGlzLndpZHRoKCk7XHJcbiAgICAgICAgICAgIGxldCBoID0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICAgICAgLy8gdXNlIG9sZCB3IGFuZCBoLGFzIHdoZW4gdG9vbHRpcCBpcyBoaWRkZW4sIHRoZXNlIGFyZSAwIGFuZCB1bm5lZWRlZCBhbmltYXRpb24gaGFwcGVuc1xyXG4gICAgICAgICAgICBpZiAodyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdyA9IHRoaXMuX3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGggPSB0aGlzLl9oO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwb2ludFRvID0gdGhpcy5nZXQoXCJwb2ludFRvXCIsIHsgeDogcGFyZW50VyAvIDIsIHk6IHBhcmVudEggLyAyIH0pO1xyXG4gICAgICAgICAgICBsZXQgeCA9IHBvaW50VG8ueDtcclxuICAgICAgICAgICAgbGV0IHkgPSBwb2ludFRvLnk7XHJcbiAgICAgICAgICAgIGxldCBwb2ludGVyT3JpZW50YXRpb24gPSB0aGlzLmdldChcInBvaW50ZXJPcmllbnRhdGlvblwiKTtcclxuICAgICAgICAgICAgbGV0IGJhY2tncm91bmQgPSB0aGlzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgICAgIGxldCBwb2ludGVyTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgbGV0IGJnU3Ryb2tlU2l6ZVkgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYmdTdHJva2VTaXplWCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kIGluc3RhbmNlb2YgUG9pbnRlZFJlY3RhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlckxlbmd0aCA9IGJhY2tncm91bmQuZ2V0KFwicG9pbnRlckxlbmd0aFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGJnU3Ryb2tlU2l6ZVkgPSBiYWNrZ3JvdW5kLmdldChcInN0cm9rZVdpZHRoXCIsIDApIC8gMjtcclxuICAgICAgICAgICAgICAgIGJnU3Ryb2tlU2l6ZVggPSBiZ1N0cm9rZVNpemVZO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJ3aWR0aFwiLCB3KTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwiaGVpZ2h0XCIsIGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwb2ludGVyWCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBwb2ludGVyWSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBib3VuZHNXID0gYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQ7XHJcbiAgICAgICAgICAgIGxldCBib3VuZHNIID0gYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3A7XHJcbiAgICAgICAgICAgIC8vIGhvcml6b250YWxcclxuICAgICAgICAgICAgaWYgKHBvaW50ZXJPcmllbnRhdGlvbiA9PSBcImhvcml6b250YWxcIiB8fCBwb2ludGVyT3JpZW50YXRpb24gPT0gXCJsZWZ0XCIgfHwgcG9pbnRlck9yaWVudGF0aW9uID09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgYmdTdHJva2VTaXplWSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRlck9yaWVudGF0aW9uID09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHggPiBib3VuZHMubGVmdCArIGJvdW5kc1cgLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggLT0gKHcgKiAoMSAtIGN3KSArIHBvaW50ZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVYICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSAodyAqIGN3ICsgcG9pbnRlckxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocG9pbnRlck9yaWVudGF0aW9uID09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSAodyAqICgxIC0gY3cpICsgcG9pbnRlckxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB4IC09ICh3ICogY3cgKyBwb2ludGVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVYICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZlcnRpY2FsIHBvaW50ZXJcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVYID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChwb2ludGVyT3JpZW50YXRpb24gPT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHkgPiBib3VuZHMudG9wICsgaCAvIDIgKyBwb2ludGVyTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgLT0gKGggKiAoMSAtIGNoKSArIHBvaW50ZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSAoaCAqIGNoICsgcG9pbnRlckxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJnU3Ryb2tlU2l6ZVkgKj0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocG9pbnRlck9yaWVudGF0aW9uID09IFwiZG93blwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSAtPSAoaCAqICgxIC0gY2gpICsgcG9pbnRlckxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9IChoICogY2ggKyBwb2ludGVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVZICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHggPSAkbWF0aC5maXRUb1JhbmdlKHgsIGJvdW5kcy5sZWZ0ICsgdyAqIGN3LCBib3VuZHMubGVmdCArIGJvdW5kc1cgLSB3ICogKDEgLSBjdykpICsgYmdTdHJva2VTaXplWDtcclxuICAgICAgICAgICAgeSA9ICRtYXRoLmZpdFRvUmFuZ2UoeSwgYm91bmRzLnRvcCArIGggKiBjaCwgYm91bmRzLnRvcCArIGJvdW5kc0ggLSBoICogKDEgLSBjaCkpIC0gYmdTdHJva2VTaXplWTtcclxuICAgICAgICAgICAgcG9pbnRlclggPSBwb2ludFRvLnggLSB4ICsgdyAqIGN3ICsgYmdTdHJva2VTaXplWDtcclxuICAgICAgICAgICAgcG9pbnRlclkgPSBwb2ludFRvLnkgLSB5ICsgaCAqIGNoIC0gYmdTdHJva2VTaXplWTtcclxuICAgICAgICAgICAgdGhpcy5fZnggPSB4O1xyXG4gICAgICAgICAgICB0aGlzLl9meSA9IHk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gdGhpcy5nZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCAwKTtcclxuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJiB0aGlzLmdldChcInZpc2libGVcIikgJiYgdGhpcy5nZXQoXCJvcGFjaXR5XCIpID4gMC4xKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25FYXNpbmcgPSB0aGlzLmdldChcImFuaW1hdGlvbkVhc2luZ1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSh7IGtleTogXCJ4XCIsIHRvOiB4LCBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sIGVhc2luZzogYW5pbWF0aW9uRWFzaW5nIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKHsga2V5OiBcInlcIiwgdG86IHksIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbiwgZWFzaW5nOiBhbmltYXRpb25FYXNpbmcgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcInhcIiwgeCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcInlcIiwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGJhY2tncm91bmQgaW5zdGFuY2VvZiBQb2ludGVkUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldChcInBvaW50ZXJYXCIsIHBvaW50ZXJYKTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwicG9pbnRlcllcIiwgcG9pbnRlclkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh3ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdyA9IHc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oID0gaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVG9vbHRpcCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiVG9vbHRpcFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVG9vbHRpcCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBDb250YWluZXIuY2xhc3NOYW1lcy5jb25jYXQoW1Rvb2x0aXAuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRvb2x0aXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VerticalLayout: () => (/* binding */ VerticalLayout)\n/* harmony export */ });\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n\r\n\r\n\r\n/**\r\n * A vertical children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nclass VerticalLayout extends _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableHeight = container.innerHeight();\r\n        let totalPercent = 0;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        totalPercent += childHeight.value;\r\n                        let h = availableHeight * childHeight.value;\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        if (minHeight > h) {\r\n                            availableHeight -= minHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        if (h > maxHeight) {\r\n                            availableHeight -= maxHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!_util_Type__WEBPACK_IMPORTED_MODULE_2__.isNumber(childHeight)) {\r\n                            childHeight = child.height();\r\n                        }\r\n                        availableHeight -= childHeight + child.get(\"marginTop\", 0) + child.get(\"marginBottom\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableHeight <= 0 || availableHeight == Infinity) {\r\n            availableHeight = .1;\r\n        }\r\n        //if (availableHeight > 0) {\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        let privateHeight = availableHeight * childHeight.value / totalPercent - child.get(\"marginTop\", 0) - child.get(\"marginBottom\", 0);\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);\r\n                        child.setPrivate(\"height\", privateHeight);\r\n                    }\r\n                    else {\r\n                        if (child._prevSettings.height instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                            child.setPrivate(\"height\", undefined);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevY = paddingTop;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginTop = child.get(\"marginTop\", 0);\r\n                    let top = bounds.top;\r\n                    let bottom = bounds.bottom;\r\n                    let maxHeight = child.get(\"maxHeight\");\r\n                    if (maxHeight) {\r\n                        if (bottom - top > maxHeight) {\r\n                            bottom = top + maxHeight;\r\n                        }\r\n                    }\r\n                    let marginBottom = child.get(\"marginBottom\", 0);\r\n                    let y = prevY + marginTop - top;\r\n                    child.setPrivate(\"y\", y);\r\n                    prevY = y + bottom + marginBottom;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"y\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(VerticalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"VerticalLayout\"\r\n});\r\nObject.defineProperty(VerticalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout.classNames.concat([VerticalLayout.className])\r\n});\r\n//# sourceMappingURL=VerticalLayout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVmVydGljYWxMYXlvdXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnRDtBQUNWO0FBQ0k7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRkFBb0Y7QUFDN0Y7QUFDTyw2QkFBNkIsMkNBQU07QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxrREFBTztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGtEQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGtEQUFPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1ZlcnRpY2FsTGF5b3V0LmpzP2RhYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5b3V0LCBlYWNoQ2hpbGRyZW4gfSBmcm9tIFwiLi9MYXlvdXRcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgeyBQZXJjZW50IH0gZnJvbSBcIi4uL3V0aWwvUGVyY2VudFwiO1xyXG4vKipcclxuICogQSB2ZXJ0aWNhbCBjaGlsZHJlbiBsYXlvdXQgZm9yIFtbQ29udGFpbmVyXV0uXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9jb250YWluZXJzLyNMYXlvdXR9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJ0aWNhbExheW91dCBleHRlbmRzIExheW91dCB7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGxldCBwYWRkaW5nVG9wID0gY29udGFpbmVyLmdldChcInBhZGRpbmdUb3BcIiwgMCk7XHJcbiAgICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IGNvbnRhaW5lci5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIGxldCB0b3RhbFBlcmNlbnQgPSAwO1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRIZWlnaHQgPSBjaGlsZC5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBlcmNlbnQgKz0gY2hpbGRIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoID0gYXZhaWxhYmxlSGVpZ2h0ICogY2hpbGRIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaW5IZWlnaHQgPSBjaGlsZC5nZXQoXCJtaW5IZWlnaHRcIiwgY2hpbGQuZ2V0UHJpdmF0ZShcIm1pbkhlaWdodFwiLCAtSW5maW5pdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbkhlaWdodCA+IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUhlaWdodCAtPSBtaW5IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBlcmNlbnQgLT0gY2hpbGRIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heEhlaWdodCA9IGNoaWxkLmdldChcIm1heEhlaWdodFwiLCBjaGlsZC5nZXRQcml2YXRlKFwibWF4SGVpZ2h0XCIsIEluZmluaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoID4gbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgLT0gbWF4SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQZXJjZW50IC09IGNoaWxkSGVpZ2h0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGNoaWxkSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRIZWlnaHQgPSBjaGlsZC5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgLT0gY2hpbGRIZWlnaHQgKyBjaGlsZC5nZXQoXCJtYXJnaW5Ub3BcIiwgMCkgKyBjaGlsZC5nZXQoXCJtYXJnaW5Cb3R0b21cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGF2YWlsYWJsZUhlaWdodCA8PSAwIHx8IGF2YWlsYWJsZUhlaWdodCA9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSAuMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9pZiAoYXZhaWxhYmxlSGVpZ2h0ID4gMCkge1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRIZWlnaHQgPSBjaGlsZC5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpdmF0ZUhlaWdodCA9IGF2YWlsYWJsZUhlaWdodCAqIGNoaWxkSGVpZ2h0LnZhbHVlIC8gdG90YWxQZXJjZW50IC0gY2hpbGQuZ2V0KFwibWFyZ2luVG9wXCIsIDApIC0gY2hpbGQuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluSGVpZ2h0ID0gY2hpbGQuZ2V0KFwibWluSGVpZ2h0XCIsIGNoaWxkLmdldFByaXZhdGUoXCJtaW5IZWlnaHRcIiwgLUluZmluaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSBjaGlsZC5nZXQoXCJtYXhIZWlnaHRcIiwgY2hpbGQuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlSGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgobWluSGVpZ2h0LCBwcml2YXRlSGVpZ2h0KSwgbWF4SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcImhlaWdodFwiLCBwcml2YXRlSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5fcHJldlNldHRpbmdzLmhlaWdodCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldFByaXZhdGUoXCJoZWlnaHRcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIGxldCBwcmV2WSA9IHBhZGRpbmdUb3A7XHJcbiAgICAgICAgZWFjaENoaWxkcmVuKGNvbnRhaW5lciwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBib3VuZHMgPSBjaGlsZC5hZGp1c3RlZExvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmdpblRvcCA9IGNoaWxkLmdldChcIm1hcmdpblRvcFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9wID0gYm91bmRzLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gYm91bmRzLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gY2hpbGQuZ2V0KFwibWF4SGVpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCA+IG1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0gdG9wICsgbWF4SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXJnaW5Cb3R0b20gPSBjaGlsZC5nZXQoXCJtYXJnaW5Cb3R0b21cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBwcmV2WSArIG1hcmdpblRvcCAtIHRvcDtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieVwiLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2WSA9IHkgKyBib3R0b20gKyBtYXJnaW5Cb3R0b207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieVwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnRpY2FsTGF5b3V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJWZXJ0aWNhbExheW91dFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVmVydGljYWxMYXlvdXQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogTGF5b3V0LmNsYXNzTmFtZXMuY29uY2F0KFtWZXJ0aWNhbExheW91dC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVydGljYWxMYXlvdXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanvasContainer: () => (/* binding */ CanvasContainer),\n/* harmony export */   CanvasDisplayObject: () => (/* binding */ CanvasDisplayObject),\n/* harmony export */   CanvasGraphics: () => (/* binding */ CanvasGraphics),\n/* harmony export */   CanvasImage: () => (/* binding */ CanvasImage),\n/* harmony export */   CanvasLayer: () => (/* binding */ CanvasLayer),\n/* harmony export */   CanvasPivot: () => (/* binding */ CanvasPivot),\n/* harmony export */   CanvasRadialText: () => (/* binding */ CanvasRadialText),\n/* harmony export */   CanvasRenderer: () => (/* binding */ CanvasRenderer),\n/* harmony export */   CanvasRendererEvent: () => (/* binding */ CanvasRendererEvent),\n/* harmony export */   CanvasText: () => (/* binding */ CanvasText),\n/* harmony export */   CanvasTextStyle: () => (/* binding */ CanvasTextStyle)\n/* harmony export */ });\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Renderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js\");\n/* harmony import */ var _util_Color__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _util_Matrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/Matrix */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var svg_arc_to_cubic_bezier__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-arc-to-cubic-bezier */ \"(ssr)/./node_modules/svg-arc-to-cubic-bezier/modules/index.js\");\n/** @ignore */ /** */\r\n\r\n\r\n\r\n\r\n//import { Throttler } from \"../../util/Throttler\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction checkArgs(name, actual, expected) {\r\n    if (actual !== expected) {\r\n        throw new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkMinArgs(name, actual, expected) {\r\n    if (actual < expected) {\r\n        throw new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkEvenArgs(name, actual, expected) {\r\n    checkMinArgs(name, actual, expected);\r\n    if ((actual % expected) !== 0) {\r\n        throw new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n * This splits the flag so that way 0017 will be processed as 0 0 17\r\n *\r\n * This is important for weird paths like `M17 5A1 1 0 0017 30 1 1 0 0017 5`\r\n */\r\nfunction splitArcFlags(args) {\r\n    for (let i = 0; i < args.length; i += 7) {\r\n        let index = i + 3;\r\n        let flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])([01])(.*)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args.splice(index, 0, a[2]);\r\n                ++index;\r\n                if (a[3].length > 0) {\r\n                    args[index] = a[3];\r\n                }\r\n                else {\r\n                    args.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        ++index;\r\n        flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])(.+)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args[index] = a[2];\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction assertBinary(value) {\r\n    if (value === 0 || value === 1) {\r\n        return value;\r\n    }\r\n    else {\r\n        throw new Error(\"Flag must be 0 or 1\");\r\n    }\r\n}\r\n//  1 -> 0xffffff * (2 / 2)\r\n//  2 -> 0xffffff * (1 / 2)\r\n//\r\n//  3 -> 0xffffff * (3 / 4)\r\n//  4 -> 0xffffff * (1 / 4)\r\n//\r\n//  5 -> 0xffffff * (7 / 8)\r\n//  6 -> 0xffffff * (5 / 8)\r\n//  7 -> 0xffffff * (3 / 8)\r\n//  8 -> 0xffffff * (1 / 8)\r\n//\r\n//  9 -> 0xffffff * (15 / 16)\r\n// 10 -> 0xffffff * (13 / 16)\r\n// 11 -> 0xffffff * (11 / 16)\r\n// 12 -> 0xffffff *  (9 / 16)\r\n// 13 -> 0xffffff *  (7 / 16)\r\n// 14 -> 0xffffff *  (5 / 16)\r\n// 15 -> 0xffffff *  (3 / 16)\r\n// 16 -> 0xffffff *  (1 / 16)\r\n// @todo remove this old color distribution algo if the new one pans out\r\n/*function distributeId(id: number): number {\r\n    if (id === 1) {\r\n        return 0x000001;\r\n\r\n    } else {\r\n        // Finds the closest power of 2\r\n        const base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\r\n\r\n        // Translates the id into an odd fraction index\r\n        const index = ((base - id) * 2) + 1;\r\n\r\n        // TODO is Math.round correct ?\r\n        return Math.round(0xffffff * (index / base));\r\n    }\r\n}*/\r\n/**\r\n * Function by smeans:\r\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\r\n * @ignore\r\n */\r\nfunction distributeId(id) {\r\n    const rgb = [0, 0, 0];\r\n    for (let i = 0; i < 24; i++) {\r\n        rgb[i % 3] <<= 1;\r\n        rgb[i % 3] |= id & 0x01;\r\n        id >>= 1;\r\n    }\r\n    return (rgb[0] | 0) + (rgb[1] << 8) + (rgb[2] << 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction eachTargets(hitTarget, f) {\r\n    for (;;) {\r\n        if (hitTarget.interactive) {\r\n            if (!f(hitTarget)) {\r\n                break;\r\n            }\r\n        }\r\n        if (hitTarget._parent) {\r\n            hitTarget = hitTarget._parent;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n}\r\n// TODO feature detection for mouse/touch/pointer\r\n/**\r\n * @ignore\r\n */\r\nfunction onPointerEvent(element, name, f) {\r\n    return _util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(element, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getRendererEvent(name), (event) => {\r\n        const target = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getEventTarget(event);\r\n        let touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length == 0) {\r\n                touches = event.changedTouches;\r\n            }\r\n            f(_util_Array__WEBPACK_IMPORTED_MODULE_2__.copy(touches), target);\r\n        }\r\n        else {\r\n            f([event], target);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction isTainted(image) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    const context = canvas.getContext(\"2d\", { willReadFrequently: true });\r\n    context.drawImage(image, 0, 0, 1, 1);\r\n    try {\r\n        context.getImageData(0, 0, 1, 1);\r\n        return false;\r\n    }\r\n    catch (err) {\r\n        console.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\r\n *\r\n * @ignore\r\n */\r\nfunction clearCanvas(view) {\r\n    view.width = 0;\r\n    view.height = 0;\r\n    view.style.width = \"0px\";\r\n    view.style.height = \"0px\";\r\n}\r\n/**\r\n * Aligns the coordinate to the pixel, so it renders crisp\r\n *\r\n * @ignore\r\n */\r\nfunction crisp(x) {\r\n    return Math.floor(x) + .5;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasPivot {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasDisplayObject extends _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.DisposerClass {\r\n    constructor(renderer) {\r\n        super();\r\n        Object.defineProperty(this, \"_layer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"mask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"interactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"inactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"wheelable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"cancelTouch\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"isMeasured\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"buttonMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"alpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"compoundAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"angle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"crisp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"pivot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new CanvasPivot()\r\n        });\r\n        Object.defineProperty(this, \"filter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"cursorOverStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_replacedCursorStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Matrix__WEBPACK_IMPORTED_MODULE_4__.Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_matrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Matrix__WEBPACK_IMPORTED_MODULE_4__.Matrix()\r\n        });\r\n        // TODO can this be replaced with _localMatrix ?\r\n        Object.defineProperty(this, \"_uMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Matrix__WEBPACK_IMPORTED_MODULE_4__.Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_bounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._renderer = renderer;\r\n    }\r\n    subStatus(status) {\r\n        return {\r\n            inactive: (this.inactive == null ? status.inactive : this.inactive),\r\n            layer: this._layer || status.layer,\r\n        };\r\n    }\r\n    _dispose() {\r\n        this._renderer._removeObject(this);\r\n        this.getLayer().dirty = true;\r\n    }\r\n    getCanvas() {\r\n        return this.getLayer().view;\r\n    }\r\n    getLayer() {\r\n        let self = this;\r\n        for (;;) {\r\n            if (self._layer) {\r\n                return self._layer;\r\n            }\r\n            else if (self._parent) {\r\n                self = self._parent;\r\n            }\r\n            else {\r\n                return this._renderer.defaultLayer;\r\n            }\r\n        }\r\n    }\r\n    setLayer(order, margin) {\r\n        if (order == null) {\r\n            this._layer = undefined;\r\n        }\r\n        else {\r\n            const visible = true;\r\n            this._layer = this._renderer.getLayer(order, visible);\r\n            this._layer.visible = visible;\r\n            this._layer.margin = margin;\r\n            if (margin) {\r\n                _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setInteractive(this._layer.view, false);\r\n            }\r\n            this._renderer._ghostLayer.setMargin(this._renderer.layers);\r\n            if (this._parent) {\r\n                this._parent.registerChildLayer(this._layer);\r\n            }\r\n            this._layer.dirty = true;\r\n            this._renderer.resizeLayer(this._layer);\r\n            this._renderer.resizeGhost();\r\n        }\r\n    }\r\n    markDirtyLayer() {\r\n        this.getLayer().dirty = true;\r\n    }\r\n    clear() {\r\n        this.invalidateBounds();\r\n    }\r\n    invalidateBounds() {\r\n        this._localBounds = undefined;\r\n    }\r\n    _addBounds(_bounds) { }\r\n    _getColorId() {\r\n        if (this._colorId === undefined) {\r\n            this._colorId = this._renderer.paintId(this);\r\n        }\r\n        return this._colorId;\r\n    }\r\n    _isInteractive(status) {\r\n        return !status.inactive && (this.interactive || this._renderer._forceInteractive > 0);\r\n    }\r\n    _isInteractiveMask(status) {\r\n        return this._isInteractive(status);\r\n    }\r\n    contains(child) {\r\n        for (;;) {\r\n            if (child === this) {\r\n                return true;\r\n            }\r\n            else if (child._parent) {\r\n                child = child._parent;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    toGlobal(point) {\r\n        return this._matrix.apply(point);\r\n    }\r\n    toLocal(point) {\r\n        return this._matrix.applyInverse(point);\r\n    }\r\n    getLocalMatrix() {\r\n        this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\r\n        return this._uMatrix;\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            const bn = 10000000;\r\n            this._localBounds = {\r\n                left: bn,\r\n                top: bn,\r\n                right: -bn,\r\n                bottom: -bn\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    getAdjustedBounds(bounds) {\r\n        this._setMatrix();\r\n        const matrix = this.getLocalMatrix();\r\n        const p0 = matrix.apply({ x: bounds.left, y: bounds.top });\r\n        const p1 = matrix.apply({ x: bounds.right, y: bounds.top });\r\n        const p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    on(key, callback, context) {\r\n        if (this.interactive) {\r\n            return this._renderer._addEvent(this, key, callback, context);\r\n        }\r\n        else {\r\n            return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => { });\r\n        }\r\n    }\r\n    _setMatrix() {\r\n        // TODO only calculate this if it has actually changed\r\n        this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, \r\n        // Converts degrees to radians\r\n        this.angle * Math.PI / 180, this.scale);\r\n        this._matrix.copyFrom(this._localMatrix);\r\n        if (this._parent) {\r\n            // TODO only calculate this if it has actually changed\r\n            this._matrix.prepend(this._parent._matrix);\r\n        }\r\n    }\r\n    _transform(context, resolution) {\r\n        const m = this._matrix;\r\n        let tx = m.tx * resolution;\r\n        let ty = m.ty * resolution;\r\n        if (this.crisp) {\r\n            tx = crisp(tx);\r\n            ty = crisp(ty);\r\n        }\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, tx, ty);\r\n    }\r\n    _transformMargin(context, resolution, margin) {\r\n        const m = this._matrix;\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, (m.tx + margin.left) * resolution, (m.ty + margin.top) * resolution);\r\n    }\r\n    _transformLayer(context, resolution, layer) {\r\n        if (layer.margin) {\r\n            this._transformMargin(context, layer.scale || resolution, layer.margin);\r\n        }\r\n        else {\r\n            this._transform(context, layer.scale || resolution);\r\n        }\r\n    }\r\n    render(status) {\r\n        if (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\r\n            this._setMatrix();\r\n            const subStatus = this.subStatus(status);\r\n            const resolution = this._renderer.resolution;\r\n            const layers = this._renderer.layers;\r\n            const ghostLayer = this._renderer._ghostLayer;\r\n            const ghostContext = ghostLayer.context;\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n            }\r\n            // TODO improve this\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(layers, (layer) => {\r\n                if (layer) {\r\n                    const context = layer.context;\r\n                    context.save();\r\n                    // We must apply the mask before we transform the element\r\n                    if (mask) {\r\n                        mask._transformLayer(context, resolution, layer);\r\n                        mask._runPath(context);\r\n                        context.clip();\r\n                    }\r\n                    context.globalAlpha = this.compoundAlpha * this.alpha;\r\n                    this._transformLayer(context, resolution, layer);\r\n                    if (this.filter) {\r\n                        context.filter = this.filter;\r\n                    }\r\n                }\r\n            });\r\n            ghostContext.save();\r\n            // We must apply the mask before we transform the element\r\n            if (mask && this._isInteractiveMask(subStatus)) {\r\n                mask._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n                mask._runPath(ghostContext);\r\n                ghostContext.clip();\r\n            }\r\n            this._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n            this._render(subStatus);\r\n            ghostContext.restore();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(layers, (layer) => {\r\n                if (layer) {\r\n                    layer.context.restore();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _render(status) {\r\n        if (this.exportable === false) {\r\n            status.layer.tainted = true;\r\n        }\r\n    }\r\n    hovering() {\r\n        return this._renderer._hovering.has(this);\r\n    }\r\n    dragging() {\r\n        return this._renderer._dragging.some((x) => x.value === this);\r\n    }\r\n    shouldCancelTouch() {\r\n        const renderer = this._renderer;\r\n        if (renderer.tapToActivate && !renderer._touchActive) {\r\n            return false;\r\n        }\r\n        if (this.cancelTouch) {\r\n            return true;\r\n        }\r\n        else if (this._parent) {\r\n            return this._parent.shouldCancelTouch();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasContainer extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"interactiveChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_childLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _isInteractiveMask(status) {\r\n        return this.interactiveChildren || super._isInteractiveMask(status);\r\n    }\r\n    addChild(child) {\r\n        child._parent = this;\r\n        this._children.push(child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    addChildAt(child, index) {\r\n        child._parent = this;\r\n        this._children.splice(index, 0, child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    removeChild(child) {\r\n        child._parent = undefined;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(this._children, child);\r\n    }\r\n    _render(status) {\r\n        super._render(status);\r\n        const renderer = this._renderer;\r\n        if (this.interactive && this.interactiveChildren) {\r\n            ++renderer._forceInteractive;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._children, (child) => {\r\n            child.compoundAlpha = this.compoundAlpha * this.alpha;\r\n            child.render(status);\r\n        });\r\n        if (this.interactive && this.interactiveChildren) {\r\n            --renderer._forceInteractive;\r\n        }\r\n    }\r\n    registerChildLayer(layer) {\r\n        if (!this._childLayers) {\r\n            this._childLayers = [];\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.pushOne(this._childLayers, layer);\r\n        if (this._parent) {\r\n            this._parent.registerChildLayer(layer);\r\n        }\r\n    }\r\n    markDirtyLayer(deep = false) {\r\n        super.markDirtyLayer();\r\n        if (deep && this._childLayers) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._childLayers, (layer) => layer.dirty = true);\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._childLayers) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._childLayers, (layer) => {\r\n                layer.dirty = true;\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction setPoint(bounds, point) {\r\n    bounds.left = Math.min(bounds.left, point.x);\r\n    bounds.top = Math.min(bounds.top, point.y);\r\n    bounds.right = Math.max(bounds.right, point.x);\r\n    bounds.bottom = Math.max(bounds.bottom, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Op {\r\n    colorize(_context, _forceColor) { }\r\n    colorizeGhost(context, forceColor) {\r\n        this.colorize(context, forceColor);\r\n    }\r\n    path(_context) { }\r\n    pathGhost(context) {\r\n        this.path(context);\r\n    }\r\n    addBounds(_bounds) { }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginPath extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.beginPath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginFill extends Op {\r\n    constructor(color) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.fillStyle = forceColor;\r\n        }\r\n        else {\r\n            context.fillStyle = this.color;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndFill extends Op {\r\n    constructor(clearShadow) {\r\n        super();\r\n        Object.defineProperty(this, \"clearShadow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: clearShadow\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.fill();\r\n        if (this.clearShadow) {\r\n            context.shadowColor = \"\";\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndStroke extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.stroke();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineStyle extends Op {\r\n    constructor(width, color, lineJoin) {\r\n        super();\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"lineJoin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: lineJoin\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.strokeStyle = forceColor;\r\n        }\r\n        else {\r\n            context.strokeStyle = this.color;\r\n        }\r\n        context.lineWidth = this.width;\r\n        if (this.lineJoin) {\r\n            context.lineJoin = this.lineJoin;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDash extends Op {\r\n    constructor(dash) {\r\n        super();\r\n        Object.defineProperty(this, \"dash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dash\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.setLineDash(this.dash);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDashOffset extends Op {\r\n    constructor(dashOffset) {\r\n        super();\r\n        Object.defineProperty(this, \"dashOffset\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dashOffset\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.lineDashOffset = this.dashOffset;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawRect extends Op {\r\n    constructor(x, y, width, height) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n    }\r\n    path(context) {\r\n        context.rect(this.x, this.y, this.width, this.height);\r\n    }\r\n    addBounds(bounds) {\r\n        const l = this.x;\r\n        const t = this.y;\r\n        const r = l + this.width;\r\n        const b = t + this.height;\r\n        setPoint(bounds, { x: l, y: t });\r\n        setPoint(bounds, { x: r, y: t });\r\n        setPoint(bounds, { x: l, y: b });\r\n        setPoint(bounds, { x: r, y: b });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawCircle extends Op {\r\n    constructor(x, y, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x + this.radius, this.y);\r\n        context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\r\n        setPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawEllipse extends Op {\r\n    constructor(x, y, radiusX, radiusY) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radiusX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusX\r\n        });\r\n        Object.defineProperty(this, \"radiusY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\r\n        setPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Arc extends Op {\r\n    constructor(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n        super();\r\n        Object.defineProperty(this, \"cx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cx\r\n        });\r\n        Object.defineProperty(this, \"cy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cy\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: startAngle\r\n        });\r\n        Object.defineProperty(this, \"endAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: endAngle\r\n        });\r\n        Object.defineProperty(this, \"anticlockwise\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: anticlockwise\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\r\n        }\r\n    }\r\n    addBounds(bounds) {\r\n        let arcBounds = _util_Math__WEBPACK_IMPORTED_MODULE_5__.getArcBounds(this.cx, this.cy, this.startAngle * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES, this.endAngle * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES, this.radius);\r\n        setPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\r\n        setPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ArcTo extends Op {\r\n    constructor(x1, y1, x2, y2, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x1\r\n        });\r\n        Object.defineProperty(this, \"y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y1\r\n        });\r\n        Object.defineProperty(this, \"x2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x2\r\n        });\r\n        Object.defineProperty(this, \"y2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y2\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\r\n        }\r\n    }\r\n    // TODO: add points\r\n    addBounds(_bounds) {\r\n        /*\r\n        // not finished\r\n        https://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\r\n\r\n        if (prevPoint) {\r\n            let x1 = prevPoint.x;\r\n            let y1 = prevPoint.y;\r\n            let x2 = this.x2;\r\n            let y2 = this.y2;\r\n            let r = this.radius;\r\n\r\n            let xa = (x2 - x1) / 2;\r\n            let ya = (y2 - y1) / 2;\r\n\r\n            let x0 = x1 + xa;\r\n            let y0 = y1 + ya;\r\n\r\n            let a = Math.hypot(xa, ya);\r\n            let b = Math.sqrt(r * r - a * a);\r\n\r\n            let cx = x0 + b * ya / a;\r\n            let cy = y0 - b * xa / a;\r\n\r\n            console.log(cx, cy);\r\n        }*/\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.lineTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass MoveTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ClosePath extends Op {\r\n    path(context) {\r\n        context.closePath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BezierCurveTo extends Op {\r\n    constructor(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"cpX2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX2\r\n        });\r\n        Object.defineProperty(this, \"cpY2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY2\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.cpX2, y: this.cpY2 });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass QuadraticCurveTo extends Op {\r\n    constructor(cpX, cpY, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Shadow extends Op {\r\n    constructor(color, blur, offsetX, offsetY, opacity) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"blur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: blur\r\n        });\r\n        Object.defineProperty(this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetX\r\n        });\r\n        Object.defineProperty(this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetY\r\n        });\r\n        Object.defineProperty(this, \"opacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: opacity\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        if (this.opacity) {\r\n            context.fillStyle = this.color;\r\n        }\r\n        context.shadowColor = this.color;\r\n        context.shadowBlur = this.blur;\r\n        context.shadowOffsetX = this.offsetX;\r\n        context.shadowOffsetY = this.offsetY;\r\n    }\r\n    colorizeGhost(_context, _forceColor) { }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass GraphicsImage extends Op {\r\n    constructor(image, width, height, x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: image\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.drawImage(this.image, this.x, this.y, this.width, this.height);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n        setPoint(bounds, { x: this.width, y: this.height });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasGraphics extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_operations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"blendMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _Renderer__WEBPACK_IMPORTED_MODULE_6__.BlendMode.NORMAL\r\n        });\r\n        Object.defineProperty(this, \"_hasShadows\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_fillAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this._operations.length = 0;\r\n    }\r\n    _pushOp(op) {\r\n        this._operations.push(op);\r\n    }\r\n    beginFill(color, alpha = 1) {\r\n        this._fillAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                this._pushOp(new BeginFill(color.toCSS(alpha)));\r\n            }\r\n            else {\r\n                this.isMeasured = true;\r\n                this._pushOp(new BeginFill(color));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\r\n        }\r\n    }\r\n    endFill() {\r\n        this._pushOp(new EndFill(this._hasShadows));\r\n    }\r\n    endStroke() {\r\n        this._pushOp(new EndStroke());\r\n    }\r\n    beginPath() {\r\n        this._pushOp(new BeginPath());\r\n    }\r\n    lineStyle(width = 0, color, alpha = 1, lineJoin) {\r\n        this._strokeAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                this._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin));\r\n            }\r\n            else {\r\n                this._pushOp(new LineStyle(width, color, lineJoin));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\", lineJoin));\r\n        }\r\n    }\r\n    setLineDash(dash) {\r\n        this._pushOp(new LineDash(dash ? dash : []));\r\n    }\r\n    setLineDashOffset(dashOffset = 0) {\r\n        this._pushOp(new LineDashOffset(dashOffset));\r\n    }\r\n    drawRect(x, y, width, height) {\r\n        this._pushOp(new DrawRect(x, y, width, height));\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pushOp(new DrawCircle(x, y, radius));\r\n    }\r\n    drawEllipse(x, y, radiusX, radiusY) {\r\n        this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\r\n    }\r\n    arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {\r\n        this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pushOp(new ArcTo(x1, y1, x2, y2, radius));\r\n    }\r\n    lineTo(x, y) {\r\n        this._pushOp(new LineTo(x, y));\r\n    }\r\n    moveTo(x, y) {\r\n        this._pushOp(new MoveTo(x, y));\r\n    }\r\n    bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\r\n    }\r\n    quadraticCurveTo(cpX, cpY, toX, toY) {\r\n        this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\r\n    }\r\n    closePath() {\r\n        this._pushOp(new ClosePath());\r\n    }\r\n    shadow(color, blur = 0, offsetX = 0, offsetY = 0, opacity) {\r\n        this._hasShadows = true;\r\n        this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\r\n    }\r\n    image(image, width, height, x, y) {\r\n        this._pushOp(new GraphicsImage(image, width, height, x, y));\r\n    }\r\n    // https://svgwg.org/svg2-draft/paths.html#DProperty\r\n    // TODO better error checking\r\n    svgPath(path) {\r\n        let x = 0;\r\n        let y = 0;\r\n        let cpx = null;\r\n        let cpy = null;\r\n        let qcpx = null;\r\n        let qcpy = null;\r\n        const SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\r\n        const ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\r\n        let match;\r\n        while ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\r\n            const name = match[1];\r\n            const rest = match[2];\r\n            const args = [];\r\n            while ((match = ARGS_REGEXP.exec(rest)) !== null) {\r\n                args.push(match[1]);\r\n            }\r\n            // Reset control point\r\n            if (name !== \"S\" && name !== \"s\" && name !== \"C\" && name !== \"c\") {\r\n                cpx = null;\r\n                cpy = null;\r\n            }\r\n            // Reset control point\r\n            if (name !== \"Q\" && name !== \"q\" && name !== \"T\" && name !== \"t\") {\r\n                qcpx = null;\r\n                qcpy = null;\r\n            }\r\n            switch (name) {\r\n                case \"M\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x = +args[0];\r\n                    y = +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"m\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x += +args[0];\r\n                    y += +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"L\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"l\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"H\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"V\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"v\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"C\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i];\r\n                        const y1 = +args[i + 1];\r\n                        cpx = +args[i + 2];\r\n                        cpy = +args[i + 3];\r\n                        x = +args[i + 4];\r\n                        y = +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"c\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i] + x;\r\n                        const y1 = +args[i + 1] + y;\r\n                        cpx = +args[i + 2] + x;\r\n                        cpy = +args[i + 3] + y;\r\n                        x += +args[i + 4];\r\n                        y += +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"S\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i];\r\n                        cpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"s\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i] + x;\r\n                        cpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"Q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i];\r\n                        qcpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i] + x;\r\n                        qcpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"T\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"t\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"A\":\r\n                case \"a\":\r\n                    const relative = (name === \"a\");\r\n                    splitArcFlags(args);\r\n                    checkEvenArgs(name, args.length, 7);\r\n                    for (let i = 0; i < args.length; i += 7) {\r\n                        let cx = +args[i + 5];\r\n                        let cy = +args[i + 6];\r\n                        if (relative) {\r\n                            cx += x;\r\n                            cy += y;\r\n                        }\r\n                        const bs = (0,svg_arc_to_cubic_bezier__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\r\n                            px: x,\r\n                            py: y,\r\n                            rx: +args[i],\r\n                            ry: +args[i + 1],\r\n                            xAxisRotation: +args[i + 2],\r\n                            largeArcFlag: assertBinary(+args[i + 3]),\r\n                            sweepFlag: assertBinary(+args[i + 4]),\r\n                            cx,\r\n                            cy,\r\n                        });\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(bs, (b) => {\r\n                            this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\r\n                            x = b.x;\r\n                            y = b.y;\r\n                        });\r\n                    }\r\n                    break;\r\n                case \"Z\":\r\n                case \"z\":\r\n                    checkArgs(name, args.length, 0);\r\n                    this.closePath();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    _runPath(context) {\r\n        context.beginPath();\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n            op.path(context);\r\n        });\r\n    }\r\n    _render(status) {\r\n        super._render(status);\r\n        const layerDirty = status.layer.dirty;\r\n        const interactive = this._isInteractive(status);\r\n        if (layerDirty || interactive) {\r\n            const context = status.layer.context;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            if (layerDirty) {\r\n                context.globalCompositeOperation = this.blendMode;\r\n                context.beginPath();\r\n            }\r\n            let color;\r\n            if (interactive) {\r\n                ghostContext.beginPath();\r\n                color = this._getColorId();\r\n            }\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n                if (layerDirty) {\r\n                    op.path(context);\r\n                    op.colorize(context, undefined);\r\n                }\r\n                if (interactive) {\r\n                    op.pathGhost(ghostContext);\r\n                    op.colorizeGhost(ghostContext, color);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    renderDetached(context) {\r\n        if (this.visible) {\r\n            this._setMatrix();\r\n            context.save();\r\n            // We must apply the mask before we transform the element\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n                mask._transform(context, 1);\r\n                mask._runPath(context);\r\n                context.clip();\r\n            }\r\n            // TODO handle compoundAlpha somehow ?\r\n            context.globalAlpha = this.compoundAlpha * this.alpha;\r\n            this._transform(context, 1);\r\n            if (this.filter) {\r\n                context.filter = this.filter;\r\n            }\r\n            context.globalCompositeOperation = this.blendMode;\r\n            context.beginPath();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n                op.path(context);\r\n                op.colorize(context, undefined);\r\n            });\r\n            context.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n                op.addBounds(bounds);\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasText extends CanvasDisplayObject {\r\n    constructor(renderer, text, style) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"style\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"textVisible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_textInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        this.text = text;\r\n        this.style = style;\r\n    }\r\n    invalidateBounds() {\r\n        super.invalidateBounds();\r\n        this._textInfo = undefined;\r\n    }\r\n    _shared(context) {\r\n        if (this.style.textAlign) {\r\n            context.textAlign = this.style.textAlign;\r\n        }\r\n        if (this.style.direction) {\r\n            context.direction = this.style.direction;\r\n        }\r\n        if (this.style.textBaseline) {\r\n            context.textBaseline = this.style.textBaseline;\r\n        }\r\n    }\r\n    _prerender(status, ignoreGhost = false, ignoreFontWeight = false) {\r\n        super._render(status);\r\n        const context = status.layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        // Font style\r\n        const style = this.style;\r\n        let fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\r\n        context.font = fontStyle;\r\n        if (this._isInteractive(status) && !ignoreGhost) {\r\n            ghostContext.font = fontStyle;\r\n        }\r\n        // Other parameters\r\n        if (style.fill) {\r\n            if (style.fill instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                context.fillStyle = style.fill.toCSS(style.fillOpacity != undefined ? style.fillOpacity : 1);\r\n            }\r\n            else {\r\n                context.fillStyle = style.fill;\r\n            }\r\n        }\r\n        if (style.shadowColor) {\r\n            status.layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\r\n        }\r\n        if (style.shadowBlur) {\r\n            status.layer.context.shadowBlur = style.shadowBlur;\r\n        }\r\n        if (style.shadowOffsetX) {\r\n            status.layer.context.shadowOffsetX = style.shadowOffsetX;\r\n        }\r\n        if (style.shadowOffsetY) {\r\n            status.layer.context.shadowOffsetY = style.shadowOffsetY;\r\n        }\r\n        this._shared(context);\r\n        if (this._isInteractive(status) && !ignoreGhost) {\r\n            ghostContext.fillStyle = this._getColorId();\r\n            this._shared(ghostContext);\r\n        }\r\n    }\r\n    _getFontStyle(style2, ignoreFontWeight = false) {\r\n        // Process defaults\r\n        const style = this.style;\r\n        let fontStyle = [];\r\n        if (style2 && style2.fontVariant) {\r\n            fontStyle.push(style2.fontVariant);\r\n        }\r\n        else if (style.fontVariant) {\r\n            fontStyle.push(style.fontVariant);\r\n        }\r\n        if (!ignoreFontWeight) {\r\n            if (style2 && style2.fontWeight) {\r\n                fontStyle.push(style2.fontWeight);\r\n            }\r\n            else if (style.fontWeight) {\r\n                fontStyle.push(style.fontWeight);\r\n            }\r\n        }\r\n        if (style2 && style2.fontStyle) {\r\n            fontStyle.push(style2.fontStyle);\r\n        }\r\n        else if (style.fontStyle) {\r\n            fontStyle.push(style.fontStyle);\r\n        }\r\n        if (style2 && style2.fontSize) {\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(style2.fontSize)) {\r\n                style2.fontSize = style2.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style2.fontSize);\r\n        }\r\n        else if (style.fontSize) {\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(style.fontSize)) {\r\n                style.fontSize = style.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style.fontSize);\r\n        }\r\n        if (style2 && style2.fontFamily) {\r\n            fontStyle.push(style2.fontFamily);\r\n        }\r\n        else if (style.fontFamily) {\r\n            fontStyle.push(style.fontFamily);\r\n        }\r\n        else if (fontStyle.length) {\r\n            fontStyle.push(\"Arial\");\r\n        }\r\n        return fontStyle.join(\" \");\r\n    }\r\n    _render(status) {\r\n        // We need measurements in order to properly position text for alignment\r\n        if (!this._textInfo) {\r\n            this._measure(status);\r\n        }\r\n        if (this.textVisible) {\r\n            const interactive = this._isInteractive(status);\r\n            const context = status.layer.context;\r\n            const layerDirty = status.layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(status);\r\n            // const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            // const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\r\n            // Process text info produced by _measure()\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (line, _index) => {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(line.textChunks, (chunk, _index) => {\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (this._isInteractive(status)) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Draw text\r\n                    if (layerDirty) {\r\n                        context.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    // Draw underline\r\n                    if (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\r\n                        let thickness = 1;\r\n                        let offset = 1;\r\n                        let fontSize = chunk.height;\r\n                        let offsetX = chunk.offsetX;\r\n                        switch (this.style.textAlign) {\r\n                            case \"right\":\r\n                            case \"end\":\r\n                                offsetX -= chunk.width;\r\n                                break;\r\n                            case \"center\":\r\n                                offsetX -= chunk.width / 2;\r\n                                break;\r\n                        }\r\n                        if (chunk.style) {\r\n                            const format = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.getTextStyle(chunk.style);\r\n                            switch (format.fontWeight) {\r\n                                case \"bolder\":\r\n                                case \"bold\":\r\n                                case \"700\":\r\n                                case \"800\":\r\n                                case \"900\":\r\n                                    thickness = 2;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        if (fontSize) {\r\n                            offset = fontSize / 20;\r\n                        }\r\n                        let y;\r\n                        if (chunk.textDecoration == \"line-through\") {\r\n                            y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\r\n                        }\r\n                        else {\r\n                            y = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\r\n                        }\r\n                        context.save();\r\n                        context.beginPath();\r\n                        if (chunk.fill) {\r\n                            context.strokeStyle = chunk.fill.toCSS();\r\n                        }\r\n                        else if (this.style.fill && this.style.fill instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                            context.strokeStyle = this.style.fill.toCSS();\r\n                        }\r\n                        context.lineWidth = thickness * offset;\r\n                        context.moveTo(offsetX, y);\r\n                        context.lineTo(offsetX + chunk.width, y);\r\n                        context.stroke();\r\n                        context.restore();\r\n                    }\r\n                    if (interactive && this.interactive) {\r\n                        // Draw text in ghost canvas ONLY if it is set as interactive\r\n                        // explicitly. This way we avoid hit test anomalies caused by anti\r\n                        // aliasing of text.\r\n                        ghostContext.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                });\r\n            });\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            //if (this._textVisible) {\r\n            const x = this._measure({\r\n                inactive: this.inactive,\r\n                layer: this.getLayer(),\r\n            });\r\n            setPoint(bounds, { x: x.left, y: x.top });\r\n            setPoint(bounds, { x: x.right, y: x.bottom });\r\n            //}\r\n        }\r\n    }\r\n    _ignoreFontWeight() {\r\n        return /apple/i.test(navigator.vendor);\r\n    }\r\n    _measure(status) {\r\n        const context = status.layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        // Reset text info\r\n        this._textInfo = [];\r\n        // Init\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = _util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const wrap = _util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(status, true, this._ignoreFontWeight());\r\n        // Get default font metrix\r\n        const refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let minX = 0;\r\n        let maxX = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        let currentStyle;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks;\r\n            if (line == \"\") {\r\n                chunks = [{\r\n                        type: \"value\",\r\n                        text: \"\"\r\n                    }];\r\n            }\r\n            else {\r\n                chunks = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            }\r\n            while (chunks.length > 0) {\r\n                // Init line object\r\n                let lineInfo = {\r\n                    offsetY: offsetY,\r\n                    ascent: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    textChunks: []\r\n                };\r\n                // Measure reference text\r\n                const metrics = this._measureText(refText, context);\r\n                const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                lineInfo.height = height;\r\n                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                let currentFormat;\r\n                let currentDecoration = this.style.textDecoration;\r\n                let currentFill;\r\n                let currentChunkWidth;\r\n                let skipFurtherText = false;\r\n                let firstTextChunk = true;\r\n                let leftoverChunks = [];\r\n                let currentVerticalAlign;\r\n                //let offsetX = 0;\r\n                //let chunk;\r\n                //while(chunk = chunks.shift()) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.eachContinue(chunks, (chunk, index) => {\r\n                    // Format chunk\r\n                    if (chunk.type == \"format\") {\r\n                        if (chunk.text == \"[/]\") {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                                styleRestored = true;\r\n                            }\r\n                            currentFill = undefined;\r\n                            currentStyle = undefined;\r\n                            currentChunkWidth = undefined;\r\n                            currentDecoration = this.style.textDecoration;\r\n                            currentVerticalAlign = undefined;\r\n                            currentFormat = chunk.text;\r\n                        }\r\n                        else {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                            }\r\n                            let format = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.getTextStyle(chunk.text);\r\n                            const fontStyle = this._getFontStyle(format);\r\n                            context.save();\r\n                            ghostContext.save();\r\n                            context.font = fontStyle;\r\n                            currentStyle = fontStyle;\r\n                            currentFormat = chunk.text;\r\n                            if (format.textDecoration) {\r\n                                currentDecoration = format.textDecoration;\r\n                            }\r\n                            if (format.fill) {\r\n                                currentFill = format.fill;\r\n                            }\r\n                            if (format.width) {\r\n                                currentChunkWidth = _util_Type__WEBPACK_IMPORTED_MODULE_8__.toNumber(format.width);\r\n                            }\r\n                            if (format.verticalAlign) {\r\n                                currentVerticalAlign = format.verticalAlign;\r\n                            }\r\n                            styleRestored = false;\r\n                            // Measure reference text after change of format\r\n                            const metrics = this._measureText(refText, context);\r\n                            const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                            if (height > lineInfo.height) {\r\n                                lineInfo.height = height;\r\n                            }\r\n                            if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                            }\r\n                        }\r\n                    }\r\n                    // Text chunk\r\n                    else if (chunk.type == \"value\" && !skipFurtherText) {\r\n                        // Measure\r\n                        const metrics = this._measureText(chunk.text, context);\r\n                        let chunkWidth = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n                        // Check for fit\r\n                        if (truncate) {\r\n                            // Break words?\r\n                            let breakWords = firstTextChunk || this.style.breakWords || false;\r\n                            // Measure ellipsis and check if it fits\r\n                            const ellipsis = this.style.ellipsis || \"\";\r\n                            const ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\r\n                                chunk.text = this._truncateText(context, chunk.text, excessWidth, breakWords);\r\n                                chunk.text += ellipsis;\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        else if (wrap) {\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width;\r\n                                const tmpText = this._truncateText(context, chunk.text, excessWidth, false, (firstTextChunk && this.style.oversizedBehavior != \"wrap-no-break\"));\r\n                                if (tmpText == \"\") {\r\n                                    // Unable to fit a single letter - hide the whole label\r\n                                    this.textVisible = true;\r\n                                    return false;\r\n                                }\r\n                                //skipFurtherText = true;\r\n                                //Add remaining chunks for the next line\r\n                                leftoverChunks = chunks.slice(index + 1);\r\n                                //Add remaining text of current chunk if it was forced-cut\r\n                                if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(tmpText) != _util_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(chunk.text)) {\r\n                                    leftoverChunks.unshift({\r\n                                        type: \"value\",\r\n                                        text: chunk.text.substr(tmpText.length)\r\n                                    });\r\n                                    if (currentFormat) {\r\n                                        leftoverChunks.unshift({\r\n                                            type: \"format\",\r\n                                            text: currentFormat\r\n                                        });\r\n                                    }\r\n                                }\r\n                                // Set current chunk (truncated)\r\n                                chunk.text = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(tmpText);\r\n                                chunks = [];\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        // Chunk width?\r\n                        let leftBoundMod = 1;\r\n                        let rightBoundMod = 1;\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            // increase horizontal bounding boxes accordingly\r\n                            const boundsMod = chunkWidth / currentChunkWidth;\r\n                            switch (this.style.textAlign) {\r\n                                case \"right\":\r\n                                case \"end\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    break;\r\n                                case \"center\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    rightBoundMod = boundsMod;\r\n                                    break;\r\n                                default:\r\n                                    rightBoundMod = boundsMod;\r\n                            }\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft / leftBoundMod;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight / rightBoundMod;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: chunk.text,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: 0,\r\n                            textDecoration: currentDecoration,\r\n                            verticalAlign: currentVerticalAlign\r\n                        });\r\n                        //offsetX += chunkWidth;\r\n                        firstTextChunk = false;\r\n                    }\r\n                    if (leftoverChunks) {\r\n                        //return false;\r\n                    }\r\n                    return true;\r\n                    //}\r\n                });\r\n                if (this.style.lineHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_10__.Percent) {\r\n                    lineInfo.height *= this.style.lineHeight.value;\r\n                    lineInfo.ascent *= this.style.lineHeight.value;\r\n                }\r\n                else {\r\n                    lineInfo.height *= this.style.lineHeight || 1.2;\r\n                    lineInfo.ascent *= this.style.lineHeight || 1.2;\r\n                }\r\n                if (minX < lineInfo.left) {\r\n                    minX = lineInfo.left;\r\n                }\r\n                if (maxX < lineInfo.right) {\r\n                    maxX = lineInfo.right;\r\n                }\r\n                this._textInfo.push(lineInfo);\r\n                //lineInfo.offsetY += lineInfo.ascent;\r\n                offsetY += lineInfo.height;\r\n                // Reset chunks so that it can proceed to the next line\r\n                chunks = leftoverChunks || [];\r\n            }\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        // Adjust chunk internal offsets\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (lineInfo, _index) => {\r\n            let currentChunkOffset = 0;\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\r\n                chunk.offsetY += lineInfo.height - lineInfo.height * (this.style.baselineRatio || 0.19);\r\n                currentChunkOffset += chunk.width;\r\n                if (chunk.verticalAlign) {\r\n                    switch (chunk.verticalAlign) {\r\n                        case \"super\":\r\n                            chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\r\n                            break;\r\n                        case \"sub\":\r\n                            chunk.offsetY += chunk.height / 2;\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        const bounds = {\r\n            left: rtl ? -maxX : -minX,\r\n            top: 0,\r\n            right: rtl ? minX : maxX,\r\n            bottom: offsetY,\r\n        };\r\n        // We need to fit?\r\n        if (oversizedBehavior !== \"none\") {\r\n            const ratio = this._fitRatio(bounds);\r\n            if (ratio < 1) {\r\n                if (oversizedBehavior == \"fit\") {\r\n                    if (_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\r\n                        this.textVisible = false;\r\n                        bounds.left = 0;\r\n                        bounds.top = 0;\r\n                        bounds.right = 0;\r\n                        bounds.bottom = 0;\r\n                    }\r\n                    else {\r\n                        if (!this._originalScale || this._originalScale == 1) {\r\n                            this._originalScale = this.scale;\r\n                        }\r\n                        this.scale = ratio;\r\n                        this.textVisible = true;\r\n                    }\r\n                }\r\n                else if (oversizedBehavior == \"hide\") {\r\n                    this.textVisible = false;\r\n                    bounds.left = 0;\r\n                    bounds.top = 0;\r\n                    bounds.right = 0;\r\n                    bounds.bottom = 0;\r\n                }\r\n                else {\r\n                    switch (this.style.textAlign) {\r\n                        case \"right\":\r\n                        case \"end\":\r\n                            bounds.left = -maxWidth;\r\n                            bounds.right = 0;\r\n                            break;\r\n                        case \"center\":\r\n                            bounds.left = -maxWidth / 2;\r\n                            bounds.right = maxWidth / 2;\r\n                            break;\r\n                        default:\r\n                            bounds.left = 0;\r\n                            bounds.right = maxWidth;\r\n                    }\r\n                    this.scale = this._originalScale || 1;\r\n                    this._originalScale = undefined;\r\n                    this.textVisible = true;\r\n                }\r\n            }\r\n            else {\r\n                this.scale = this._originalScale || 1;\r\n                this._originalScale = undefined;\r\n                this.textVisible = true;\r\n            }\r\n        }\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return bounds;\r\n    }\r\n    _fitRatio(bounds) {\r\n        const maxW = this.style.maxWidth;\r\n        const maxH = this.style.maxHeight;\r\n        if (!_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxW) && !_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxH)) {\r\n            return 1;\r\n        }\r\n        const w = bounds.right - bounds.left;\r\n        const h = bounds.bottom - bounds.top;\r\n        return Math.min(maxW / w || 1, maxH / h || 1);\r\n    }\r\n    _truncateText(context, text, maxWidth, breakWords = false, fallbackBreakWords = true) {\r\n        let width;\r\n        do {\r\n            if (breakWords) {\r\n                text = text.slice(0, -1);\r\n            }\r\n            else {\r\n                let tmp = text.replace(/[^,;:!?\\\\\\/\\s]+[,;:!?\\\\\\/\\s]*$/g, \"\");\r\n                if ((tmp == \"\" || tmp === text) && fallbackBreakWords) {\r\n                    breakWords = true;\r\n                }\r\n                else if (tmp == \"\") {\r\n                    return text;\r\n                }\r\n                else {\r\n                    text = tmp;\r\n                }\r\n            }\r\n            const metrics = this._measureText(text, context);\r\n            width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n        } while ((width > maxWidth) && text != \"\");\r\n        return text;\r\n    }\r\n    _measureText(text, context) {\r\n        let metrics = context.measureText(text);\r\n        let fakeMetrics = {};\r\n        if (metrics.actualBoundingBoxAscent == null) {\r\n            const div = document.createElement(\"div\");\r\n            div.innerText = text;\r\n            div.style.visibility = \"hidden\";\r\n            div.style.position = \"absolute\";\r\n            div.style.top = \"-1000000px;\";\r\n            div.style.fontFamily = this.style.fontFamily || \"\";\r\n            div.style.fontSize = this.style.fontSize + \"\";\r\n            document.body.appendChild(div);\r\n            const bbox = div.getBoundingClientRect();\r\n            document.body.removeChild(div);\r\n            const h = bbox.height;\r\n            const w = metrics.width;\r\n            let left = 0;\r\n            let right = w;\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: h,\r\n                actualBoundingBoxDescent: 0,\r\n                actualBoundingBoxLeft: left,\r\n                actualBoundingBoxRight: right,\r\n                fontBoundingBoxAscent: h,\r\n                fontBoundingBoxDescent: 0,\r\n                width: w\r\n            };\r\n            //return fake;\r\n        }\r\n        else {\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\r\n                actualBoundingBoxRight: metrics.actualBoundingBoxRight,\r\n                fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                width: metrics.width\r\n            };\r\n        }\r\n        const w = metrics.width;\r\n        switch (this.style.textAlign) {\r\n            case \"right\":\r\n            case \"end\":\r\n                fakeMetrics.actualBoundingBoxLeft = w;\r\n                fakeMetrics.actualBoundingBoxRight = 0;\r\n                break;\r\n            case \"center\":\r\n                fakeMetrics.actualBoundingBoxLeft = w / 2;\r\n                fakeMetrics.actualBoundingBoxRight = w / 2;\r\n                break;\r\n            default:\r\n                fakeMetrics.actualBoundingBoxLeft = 0;\r\n                fakeMetrics.actualBoundingBoxRight = w;\r\n        }\r\n        return fakeMetrics;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasTextStyle {\r\n    constructor() {\r\n        //public wordWrapWidth: number = 100;\r\n        Object.defineProperty(this, \"fill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fillOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textAlign\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontFamily\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontWeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontVariant\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textDecoration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // leading?: number;\r\n        // letterSpacing?: number;\r\n        Object.defineProperty(this, \"lineHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: (0,_util_Percent__WEBPACK_IMPORTED_MODULE_10__.percent)(120)\r\n        });\r\n        Object.defineProperty(this, \"baselineRatio\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0.19\r\n        });\r\n        // padding?: number;\r\n        // stroke?: number;\r\n        // strokeThickness?: number;\r\n        // trim?: number;\r\n        // wordWrap?: boolean;\r\n        Object.defineProperty(this, \"direction\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textBaseline\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"oversizedBehavior\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"none\"\r\n        });\r\n        Object.defineProperty(this, \"breakWords\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"ellipsis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"maxWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"maxHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"minScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ignoreFormatting\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasRadialText extends CanvasText {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"circular\"\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"inside\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"orientation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"auto\"\r\n        });\r\n        Object.defineProperty(this, \"kerning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_textReversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _render(status) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                this._renderCircular(status);\r\n                break;\r\n            default:\r\n                super._render(status);\r\n                break;\r\n        }\r\n    }\r\n    _renderCircular(status) {\r\n        if (this.textVisible) {\r\n            this._prerender(status);\r\n            const interactive = this._isInteractive(status);\r\n            const context = status.layer.context;\r\n            const layerDirty = status.layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            // Savepoint\r\n            context.save();\r\n            if (interactive) {\r\n                ghostContext.save();\r\n            }\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(status);\r\n            }\r\n            // Init\r\n            let radius = (this.radius || 0);\r\n            let startAngle = (this.startAngle || 0);\r\n            let deltaAngle = 0;\r\n            let orientation = this.orientation;\r\n            let inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\r\n            const inside = this.inside;\r\n            const align = this.style.textAlign || \"left\";\r\n            const kerning = this.kerning || 0;\r\n            let clockwise = align == \"left\" ? 1 : -1;\r\n            const shouldReverse = !this._textReversed;\r\n            // Check if we need to invert the whole stuff\r\n            if (inward == \"auto\") {\r\n                // Calc max angle so we know whether we need to flip it\r\n                let maxAngle = 0;\r\n                let midAngle = 0;\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (line, _index) => {\r\n                    const deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\r\n                    if (deltaAngle > maxAngle) {\r\n                        maxAngle = deltaAngle;\r\n                    }\r\n                });\r\n                if (align == \"left\") {\r\n                    midAngle = (maxAngle + deltaAngle / 2) * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES;\r\n                }\r\n                else if (align == \"right\") {\r\n                    midAngle = (maxAngle - deltaAngle / 2) * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES;\r\n                }\r\n                else {\r\n                    midAngle = startAngle * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES;\r\n                }\r\n                midAngle = _util_Math__WEBPACK_IMPORTED_MODULE_5__.normalizeAngle(midAngle);\r\n                inward = (midAngle >= 270) || (midAngle <= 90);\r\n            }\r\n            if (inward == true && shouldReverse) {\r\n                this._textInfo.reverse();\r\n                this._textReversed = true;\r\n            }\r\n            // if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\r\n            // \tclockwise *= -1;\r\n            // }\r\n            // Process text info produced by _measure()\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (line, _index) => {\r\n                const textHeight = line.height;\r\n                // Adjust radius (for `inside = false`)\r\n                // Radius adjustment for `inside = false` is below the line calculation\r\n                if (!inside) {\r\n                    radius += textHeight;\r\n                }\r\n                // Reverse letters if we're painting them counter-clockwise\r\n                if (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\r\n                    line.textChunks.reverse();\r\n                }\r\n                // Init angles\r\n                let lineStartAngle = startAngle;\r\n                deltaAngle = 0;\r\n                // Adjust for center-align\r\n                if (align == \"center\") {\r\n                    lineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\r\n                    deltaAngle = lineStartAngle - startAngle;\r\n                }\r\n                // if (inward == \"auto\") {\r\n                // \tlet midAngle;\r\n                // \tif (align == \"left\") {\r\n                // \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \telse if () {\r\n                // \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \tinward = (midAngle >= 270) || (midAngle <= 90);\r\n                // }\r\n                // Rotate letters if they are facing outward\r\n                lineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\r\n                // Savepoint\r\n                context.save();\r\n                if (interactive) {\r\n                    ghostContext.save();\r\n                }\r\n                // Assume starting angle\r\n                context.rotate(lineStartAngle);\r\n                if (interactive) {\r\n                    ghostContext.rotate(lineStartAngle);\r\n                }\r\n                let angleShift = 0;\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(line.textChunks, (chunk, _index) => {\r\n                    // Draw the letter\r\n                    const char = chunk.text;\r\n                    const charWidth = chunk.width;\r\n                    // Rotate half a letter\r\n                    angleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (interactive) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Center letters\r\n                    context.textBaseline = \"middle\";\r\n                    context.textAlign = \"center\";\r\n                    if (interactive) {\r\n                        ghostContext.textBaseline = \"middle\";\r\n                        ghostContext.textAlign = \"center\";\r\n                    }\r\n                    // Plop the letter\r\n                    if (layerDirty) {\r\n                        context.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                    // Rotate half a letter and add spacing\r\n                    angleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                });\r\n                // Restore angle\r\n                context.restore();\r\n                if (interactive) {\r\n                    ghostContext.restore();\r\n                }\r\n                // Adjust radius (for `inside = true`)\r\n                if (inside) {\r\n                    radius -= textHeight;\r\n                }\r\n            });\r\n            // Restore\r\n            context.restore();\r\n            if (interactive) {\r\n                ghostContext.restore();\r\n            }\r\n        }\r\n    }\r\n    _measure(status) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                return this._measureCircular(status);\r\n            default:\r\n                return super._measure(status);\r\n        }\r\n    }\r\n    _measureCircular(status) {\r\n        const context = status.layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = _util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const ellipsis = this.style.ellipsis || \"\";\r\n        let ellipsisMetrics;\r\n        //const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Reset text info\r\n        this.textVisible = true;\r\n        this._textInfo = [];\r\n        this._textReversed = false;\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(status, true);\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let totalWidth = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            // Init line object\r\n            let lineInfo = {\r\n                offsetY: offsetY,\r\n                ascent: 0,\r\n                width: 0,\r\n                height: 0,\r\n                left: 0,\r\n                right: 0,\r\n                textChunks: []\r\n            };\r\n            let currentStyle;\r\n            let currentFill;\r\n            let currentChunkWidth;\r\n            //while(chunk = chunks.shift()) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(chunks, (chunk, _index) => {\r\n                // Format chunk\r\n                if (chunk.type == \"format\") {\r\n                    if (chunk.text == \"[/]\") {\r\n                        if (!styleRestored) {\r\n                            context.restore();\r\n                            ghostContext.restore();\r\n                            styleRestored = true;\r\n                        }\r\n                        currentFill = undefined;\r\n                        currentStyle = undefined;\r\n                        currentChunkWidth = undefined;\r\n                    }\r\n                    else {\r\n                        let format = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.getTextStyle(chunk.text);\r\n                        const fontStyle = this._getFontStyle(format);\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = fontStyle;\r\n                        currentStyle = fontStyle;\r\n                        if (format.fill) {\r\n                            currentFill = format.fill;\r\n                        }\r\n                        if (format.width) {\r\n                            currentChunkWidth = _util_Type__WEBPACK_IMPORTED_MODULE_8__.toNumber(format.width);\r\n                        }\r\n                        styleRestored = false;\r\n                    }\r\n                    if (truncate) {\r\n                        ellipsisMetrics = this._measureText(ellipsis, context);\r\n                    }\r\n                }\r\n                // Text format\r\n                else if (chunk.type == \"value\") {\r\n                    // Measure each letter\r\n                    let chars = chunk.text.match(/./ug) || [];\r\n                    if (rtl) {\r\n                        chars = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.splitString(chunk.text);\r\n                        chars.reverse();\r\n                    }\r\n                    for (let i = 0; i < chars.length; i++) {\r\n                        const char = chars[i];\r\n                        // Measure\r\n                        const metrics = this._measureText(char, context);\r\n                        let chunkWidth = metrics.width;\r\n                        // Chunk width?\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        totalWidth += chunkWidth;\r\n                        // Handle oversized behavior\r\n                        if (truncate) {\r\n                            // Measure ellipsis and check if it fits\r\n                            if (!ellipsisMetrics) {\r\n                                ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            }\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            //totalWidth += ellipsisWidth;\r\n                            if ((totalWidth + ellipsisWidth) > maxWidth) {\r\n                                if (lineInfo.textChunks.length == 1) {\r\n                                    this.textVisible = false;\r\n                                }\r\n                                else {\r\n                                    lineInfo.width += ellipsisWidth;\r\n                                    lineInfo.left += ellipsisMetrics.actualBoundingBoxLeft;\r\n                                    lineInfo.right += ellipsisMetrics.actualBoundingBoxRight;\r\n                                    lineInfo.textChunks.push({\r\n                                        style: currentStyle,\r\n                                        fill: currentFill,\r\n                                        text: ellipsis,\r\n                                        width: ellipsisWidth,\r\n                                        height: chunkHeight + ellipsisMetrics.actualBoundingBoxDescent,\r\n                                        left: ellipsisMetrics.actualBoundingBoxLeft,\r\n                                        right: ellipsisMetrics.actualBoundingBoxRight,\r\n                                        ascent: ellipsisMetrics.actualBoundingBoxAscent,\r\n                                        offsetX: 0,\r\n                                        offsetY: chunkHeight,\r\n                                        textDecoration: undefined\r\n                                    });\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: char,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight + metrics.actualBoundingBoxDescent,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: chunkHeight,\r\n                            textDecoration: undefined\r\n                        });\r\n                        if (rtl) {\r\n                            // @todo still needed?\r\n                            //break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (this.style.lineHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_10__.Percent) {\r\n                lineInfo.height *= this.style.lineHeight.value;\r\n            }\r\n            else {\r\n                lineInfo.height *= this.style.lineHeight || 1.2;\r\n            }\r\n            this._textInfo.push(lineInfo);\r\n            //lineInfo.offsetY += lineInfo.ascent;\r\n            offsetY += lineInfo.height;\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        if (oversizedBehavior == \"hide\" && (totalWidth > maxWidth)) {\r\n            this.textVisible = false;\r\n        }\r\n        // Adjust chunk internal offsets\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (lineInfo) => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\r\n            });\r\n        });\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return {\r\n            left: 0,\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n        };\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasImage extends CanvasDisplayObject {\r\n    constructor(renderer, image) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_imageMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.image = image;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._imageMask) {\r\n            clearCanvas(this._imageMask);\r\n        }\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            let w = 0;\r\n            let h = 0;\r\n            if (this.width) {\r\n                w = this.width;\r\n            }\r\n            if (this.height) {\r\n                h = this.height;\r\n            }\r\n            this._localBounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: w,\r\n                bottom: h\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    _render(status) {\r\n        super._render(status);\r\n        if (this.image) {\r\n            if (this.tainted === undefined) {\r\n                this.tainted = isTainted(this.image);\r\n                status.layer.tainted = true;\r\n            }\r\n            if (this.tainted && this._renderer._omitTainted) {\r\n                return;\r\n            }\r\n            if (status.layer.dirty) {\r\n                if (this.shadowColor) {\r\n                    status.layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\r\n                }\r\n                if (this.shadowBlur) {\r\n                    status.layer.context.shadowBlur = this.shadowBlur;\r\n                }\r\n                if (this.shadowOffsetX) {\r\n                    status.layer.context.shadowOffsetX = this.shadowOffsetX;\r\n                }\r\n                if (this.shadowOffsetY) {\r\n                    status.layer.context.shadowOffsetY = this.shadowOffsetY;\r\n                }\r\n                // TODO should this round ?\r\n                const width = this.width || this.image.naturalWidth;\r\n                const height = this.height || this.image.naturalHeight;\r\n                status.layer.context.drawImage(this.image, 0, 0, width, height);\r\n            }\r\n            if (this.interactive && this._isInteractive(status)) {\r\n                const mask = this._getMask(this.image);\r\n                this._renderer._ghostLayer.context.drawImage(mask, 0, 0);\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.image = undefined;\r\n        this._imageMask = undefined;\r\n    }\r\n    _getMask(image) {\r\n        if (this._imageMask === undefined) {\r\n            // TODO should this round ?\r\n            const width = this.width || image.naturalWidth;\r\n            const height = this.height || image.naturalHeight;\r\n            // We need to create a second canvas because destination-in clears out the entire canvas\r\n            const canvas = document.createElement(\"canvas\");\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            const context = canvas.getContext(\"2d\");\r\n            context.imageSmoothingEnabled = false;\r\n            context.fillStyle = this._getColorId();\r\n            context.fillRect(0, 0, width, height);\r\n            if (!isTainted(image)) {\r\n                context.globalCompositeOperation = \"destination-in\";\r\n                context.drawImage(image, 0, 0, width, height);\r\n            }\r\n            this._imageMask = canvas;\r\n        }\r\n        return this._imageMask;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasRendererEvent {\r\n    constructor(event, originalPoint, point, bbox) {\r\n        Object.defineProperty(this, \"event\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: event\r\n        });\r\n        Object.defineProperty(this, \"originalPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: originalPoint\r\n        });\r\n        Object.defineProperty(this, \"point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: point\r\n        });\r\n        Object.defineProperty(this, \"bbox\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: bbox\r\n        });\r\n        Object.defineProperty(this, \"id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"simulated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"native\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.supports(\"touchevents\") && event instanceof Touch) {\r\n            this.id = event.identifier;\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasRenderer extends _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.ArrayDisposer {\r\n    constructor(resolution) {\r\n        super();\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"_layerDom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"layers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_dirtyLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"defaultLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.getLayer(0)\r\n        });\r\n        Object.defineProperty(this, \"_ghostLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new GhostLayer()\r\n        });\r\n        Object.defineProperty(this, \"_patternCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"canvas\")\r\n        });\r\n        Object.defineProperty(this, \"_patternContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._patternCanvas.getContext(\"2d\")\r\n        });\r\n        Object.defineProperty(this, \"_realWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_realHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_calculatedWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_calculatedHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"interactionsEnabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_colorMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_forceInteractive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_omitTainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO this should store the Id as well\r\n        Object.defineProperty(this, \"_hovering\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Set()\r\n        });\r\n        Object.defineProperty(this, \"_dragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mousedown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_lastPointerMoveEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tapToActivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"tapToActivateTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 3000\r\n        });\r\n        Object.defineProperty(this, \"_touchActive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_touchActiveTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (resolution == null) {\r\n            this.resolution = window.devicePixelRatio;\r\n        }\r\n        else {\r\n            this.resolution = resolution;\r\n        }\r\n        this.view.style.position = \"absolute\";\r\n        this.view.setAttribute(\"aria-hidden\", \"true\");\r\n        this.view.appendChild(this._layerDom);\r\n        this._disposers.push(new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n            _util_Object__WEBPACK_IMPORTED_MODULE_11__.each(this._events, (_key, events) => {\r\n                events.disposer.dispose();\r\n            });\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n                clearCanvas(layer.view);\r\n                if (layer.exportableView) {\r\n                    clearCanvas(layer.exportableView);\r\n                }\r\n            });\r\n            clearCanvas(this._ghostLayer.view);\r\n            clearCanvas(this._patternCanvas);\r\n        }));\r\n        /*\r\n        this._disposers.push($utils.addEventListener(this._ghostLayer.view, \"click\", (originalEvent: MouseEvent) => {\r\n            const event = this.getEvent(originalEvent);\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox);\r\n            console.debug(target);\r\n        }));\r\n        */\r\n        // Monitor for possible pixel ratio changes (when page is zoomed)\r\n        this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.onZoom(() => {\r\n            if (resolution == null) {\r\n                this.resolution = window.devicePixelRatio;\r\n            }\r\n        }));\r\n        // We need this in order top prevent default touch gestures when dragging\r\n        // draggable elements\r\n        if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.supports(\"touchevents\")) {\r\n            const listener = (ev) => {\r\n                if (this._dragging.length !== 0) {\r\n                    _util_Array__WEBPACK_IMPORTED_MODULE_2__.eachContinue(this._dragging, (item) => {\r\n                        if (item.value.shouldCancelTouch()) {\r\n                            ev.preventDefault();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                // If touch down happends, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            };\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(window, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"touchmove\", () => {\r\n                // If touch is moving, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            }, { passive: true }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(window, \"click\", (_ev) => {\r\n                this._touchActive = false;\r\n            }, { passive: true }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"click\", (_ev) => {\r\n                window.setTimeout(() => {\r\n                    this._touchActive = true;\r\n                    this._delayTouchDeactivate();\r\n                }, 100);\r\n            }, { passive: true }));\r\n        }\r\n        // Prevent scrolling of the window when hovering on \"wheelable\" object\r\n        if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.supports(\"wheelevents\")) {\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"wheel\", (ev) => {\r\n                let prevent = false;\r\n                this._hovering.forEach((obj) => {\r\n                    if (obj.wheelable) {\r\n                        prevent = true;\r\n                        return false;\r\n                    }\r\n                });\r\n                if (prevent) {\r\n                    ev.preventDefault();\r\n                }\r\n            }, { passive: false }));\r\n        }\r\n    }\r\n    /*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\r\n        this._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\r\n    });\r\n    */\r\n    resetImageArray() {\r\n        this._ghostLayer.imageArray = undefined;\r\n    }\r\n    _delayTouchDeactivate() {\r\n        if (this._touchActiveTimeout) {\r\n            clearTimeout(this._touchActiveTimeout);\r\n        }\r\n        if (this.tapToActivateTimeout > 0) {\r\n            this._touchActiveTimeout = window.setTimeout(() => {\r\n                this._touchActive = false;\r\n            }, this.tapToActivateTimeout);\r\n        }\r\n    }\r\n    get debugGhostView() {\r\n        return !!this._ghostLayer.view.parentNode;\r\n    }\r\n    set debugGhostView(value) {\r\n        if (value) {\r\n            if (!this._ghostLayer.view.parentNode) {\r\n                this.view.appendChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n        else {\r\n            if (this._ghostLayer.view.parentNode) {\r\n                this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n    }\r\n    createLinearGradient(x1, y1, x2, y2) {\r\n        return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\r\n    }\r\n    createRadialGradient(x1, y1, radius1, x2, y2, radius2) {\r\n        return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\r\n    }\r\n    createPattern(graphics, background, repetition, width, height) {\r\n        // const patternCanvas = document.createElement(\"canvas\");\r\n        // const patternContext = patternCanvas.getContext(\"2d\")!;\r\n        // patternCanvas.width = width;\r\n        // patternCanvas.height = height;\r\n        // if (fill) {\r\n        // \tpatternContext.fillStyle = fill.toCSS();\r\n        // \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\r\n        // }\r\n        // const layer = {\r\n        // \tview: patternCanvas,\r\n        // \tcontext: patternContext,\r\n        // \tvisible: true,\r\n        // \torder: 0,\r\n        // \twidth: width,\r\n        // \theight: height,\r\n        // \tdirty: true\r\n        // };\r\n        // // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\r\n        // // patternContext.stroke();\r\n        // image.targetLayer = layer;\r\n        // image.render(layer);\r\n        //this._layerDom.appendChild(patternCanvas);\r\n        this._patternCanvas.width = width;\r\n        this._patternCanvas.height = height;\r\n        this._patternContext.clearRect(0, 0, width, height);\r\n        // patternCanvas.style.width = width * this.resolution + \"px\";\r\n        // patternCanvas.style.height = height * this.resolution + \"px\";\r\n        background.renderDetached(this._patternContext);\r\n        graphics.renderDetached(this._patternContext);\r\n        return this._patternContext.createPattern(this._patternCanvas, repetition);\r\n    }\r\n    makeContainer() {\r\n        return new CanvasContainer(this);\r\n    }\r\n    makeGraphics() {\r\n        return new CanvasGraphics(this);\r\n    }\r\n    makeText(text, style) {\r\n        return new CanvasText(this, text, style);\r\n    }\r\n    makeTextStyle() {\r\n        return new CanvasTextStyle();\r\n    }\r\n    makeRadialText(text, style) {\r\n        return new CanvasRadialText(this, text, style);\r\n    }\r\n    makePicture(image) {\r\n        return new CanvasImage(this, image);\r\n    }\r\n    resizeLayer(layer) {\r\n        layer.resize(this._calculatedWidth, this._calculatedHeight, this._calculatedWidth, this._calculatedHeight, this.resolution);\r\n    }\r\n    resizeGhost() {\r\n        this._ghostLayer.resize(this._calculatedWidth, this._calculatedHeight, this._calculatedWidth, this._calculatedHeight, this.resolution);\r\n    }\r\n    resize(realWidth, realHeight, calculatedWidth, calculatedHeight) {\r\n        this._realWidth = realWidth;\r\n        this._realHeight = realHeight;\r\n        this._calculatedWidth = calculatedWidth;\r\n        this._calculatedHeight = calculatedHeight;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                layer.dirty = true;\r\n                this.resizeLayer(layer);\r\n            }\r\n        });\r\n        this.resizeGhost();\r\n        this.view.style.width = calculatedWidth + \"px\";\r\n        this.view.style.height = calculatedHeight + \"px\";\r\n    }\r\n    createDetachedLayer(willReadFrequently = false) {\r\n        const view = document.createElement(\"canvas\");\r\n        const context = view.getContext(\"2d\", { willReadFrequently: willReadFrequently });\r\n        const layer = new CanvasLayer(view, context);\r\n        view.style.position = \"absolute\";\r\n        view.style.top = \"0px\";\r\n        view.style.left = \"0px\";\r\n        return layer;\r\n    }\r\n    getLayerByOrder(order) {\r\n        const layers = this.layers;\r\n        const length = layers.length;\r\n        for (let i = 0; i < length; i++) {\r\n            const layer = layers[i];\r\n            if (layer.order == order) {\r\n                return layer;\r\n            }\r\n        }\r\n    }\r\n    getLayer(order, visible = true) {\r\n        let existingLayer = this.getLayerByOrder(order);\r\n        if (existingLayer) {\r\n            return existingLayer;\r\n        }\r\n        const layer = this.createDetachedLayer(order == 99);\r\n        layer.order = order;\r\n        layer.visible = visible;\r\n        layer.view.className = \"am5-layer-\" + order;\r\n        if (layer.visible) {\r\n            this.resizeLayer(layer);\r\n        }\r\n        const layers = this.layers;\r\n        layers.push(layer);\r\n        layers.sort((a, b) => {\r\n            if (a.order > b.order) {\r\n                return 1;\r\n            }\r\n            else if (a.order < b.order) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        const length = layers.length;\r\n        const layerIndex = _util_Array__WEBPACK_IMPORTED_MODULE_2__.indexOf(layers, layer);\r\n        let next;\r\n        for (let i = layerIndex + 1; i < length; i++) {\r\n            if (layers[i].visible) {\r\n                next = layers[i];\r\n                break;\r\n            }\r\n        }\r\n        if (layer.visible) {\r\n            if (next === undefined) {\r\n                this._layerDom.appendChild(layer.view);\r\n            }\r\n            else {\r\n                this._layerDom.insertBefore(layer.view, next.view);\r\n            }\r\n        }\r\n        return layer;\r\n    }\r\n    render(root) {\r\n        this._dirtyLayers.length = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                if (layer.dirty && layer.visible) {\r\n                    this._dirtyLayers.push(layer);\r\n                    layer.clear();\r\n                }\r\n            }\r\n        });\r\n        this._ghostLayer.clear();\r\n        root.render({\r\n            inactive: null,\r\n            layer: this.defaultLayer,\r\n        });\r\n        this._ghostLayer.context.restore();\r\n        //setTimeout(() => {\r\n        // Remove this after the Chrome bug is fixed:\r\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                const context = layer.context;\r\n                context.beginPath();\r\n                context.moveTo(0, 0);\r\n                context.stroke();\r\n            }\r\n        });\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._dirtyLayers, (layer) => {\r\n            layer.context.restore();\r\n            layer.dirty = false;\r\n        });\r\n        //}, 100)\r\n        if (this._hovering.size && this._lastPointerMoveEvent) {\r\n            const { events, target, native } = this._lastPointerMoveEvent;\r\n            //this._mouseMoveThrottler.run();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                this._dispatchGlobalMousemove(event, target, native);\r\n            });\r\n        }\r\n    }\r\n    paintId(obj) {\r\n        const id = distributeId(++this._colorId);\r\n        const color = _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color.fromHex(id).toCSS();\r\n        this._colorMap[color] = obj;\r\n        return color;\r\n    }\r\n    _removeObject(obj) {\r\n        if (obj._colorId !== undefined) {\r\n            delete this._colorMap[obj._colorId];\r\n        }\r\n    }\r\n    // protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\r\n    // \treturn this._colorMap[colorId];\r\n    // }\r\n    _adjustBoundingBox(bbox) {\r\n        const margin = this._ghostLayer.margin;\r\n        return new DOMRect(-margin.left, -margin.top, bbox.width + margin.left + margin.right, bbox.height + margin.top + margin.bottom);\r\n    }\r\n    getEvent(originalEvent, adjustPoint = true) {\r\n        const bbox = this.view.getBoundingClientRect();\r\n        const x = originalEvent.clientX || 0;\r\n        const y = originalEvent.clientY || 0;\r\n        const widthScale = this._calculatedWidth / this._realWidth;\r\n        const heightScale = this._calculatedHeight / this._realHeight;\r\n        const originalPoint = {\r\n            x: x - bbox.left,\r\n            y: y - bbox.top,\r\n        };\r\n        const point = {\r\n            x: (x - (adjustPoint ? bbox.left : 0)) * widthScale,\r\n            y: (y - (adjustPoint ? bbox.top : 0)) * heightScale,\r\n        };\r\n        return new CanvasRendererEvent(originalEvent, originalPoint, point, this._adjustBoundingBox(bbox));\r\n    }\r\n    _getHitTarget(point, bbox, target) {\r\n        if (bbox.width === 0 || bbox.height === 0 || point.x < bbox.left || point.x > bbox.right || point.y < bbox.top || point.y > bbox.bottom) {\r\n            return;\r\n        }\r\n        if (!target || !this._layerDom.contains(target)) {\r\n            return;\r\n        }\r\n        const pixel = this._ghostLayer.getImageData(point, bbox);\r\n        if (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\r\n            return false;\r\n        }\r\n        const colorId = _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\r\n        const hit = this._colorMap[colorId];\r\n        return hit;\r\n    }\r\n    getObjectAtPoint(point) {\r\n        const data = this._ghostLayer.getImageArray(point);\r\n        if (data[0] === 0 && data[1] === 0 && data[2] === 0) {\r\n            return undefined;\r\n        }\r\n        const colorId = _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color.fromRGB(data[0], data[1], data[2]).toCSS();\r\n        const hit = this._colorMap[colorId];\r\n        return hit;\r\n    }\r\n    _withEvents(key, f) {\r\n        const events = this._events[key];\r\n        if (events !== undefined) {\r\n            events.dispatching = true;\r\n            try {\r\n                f(events);\r\n            }\r\n            finally {\r\n                events.dispatching = false;\r\n                if (events.cleanup) {\r\n                    events.cleanup = false;\r\n                    _util_Array__WEBPACK_IMPORTED_MODULE_2__.keepIf(events.callbacks, (callback) => {\r\n                        return !callback.disposed;\r\n                    });\r\n                    if (events.callbacks.length === 0) {\r\n                        events.disposer.dispose();\r\n                        delete this._events[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _dispatchEventAll(key, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return;\r\n        }\r\n        this._withEvents(key, (events) => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed) {\r\n                    callback.callback.call(callback.context, event);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    _dispatchEvent(key, target, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return false;\r\n        }\r\n        let dispatched = false;\r\n        this._withEvents(key, (events) => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed && callback.object === target) {\r\n                    callback.callback.call(callback.context, event);\r\n                    dispatched = true;\r\n                }\r\n            });\r\n        });\r\n        return dispatched;\r\n    }\r\n    _dispatchMousedown(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        if (button != 0 && button != 2 && button != 1 && button !== undefined) {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            const id = event.id;\r\n            let dragged = false;\r\n            eachTargets(target, (obj) => {\r\n                const info = { id: id, value: obj };\r\n                this._mousedown.push(info);\r\n                if (!dragged && this._dispatchEvent(\"pointerdown\", obj, event)) {\r\n                    // Only dispatch the first element which matches\r\n                    dragged = true;\r\n                    const has = this._dragging.some((x) => {\r\n                        return x.value === obj && x.id === id;\r\n                    });\r\n                    if (!has) {\r\n                        this._dragging.push(info);\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n    }\r\n    _dispatchGlobalMousemove(originalEvent, originalTarget, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        event.native = native;\r\n        if (target) {\r\n            this._hovering.forEach((obj) => {\r\n                if (!obj.contains(target)) {\r\n                    this._hovering.delete(obj);\r\n                    if (obj.cursorOverStyle) {\r\n                        _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                    }\r\n                    this._dispatchEvent(\"pointerout\", obj, event);\r\n                }\r\n            });\r\n            if (event.native) {\r\n                eachTargets(target, (obj) => {\r\n                    if (!this._hovering.has(obj)) {\r\n                        this._hovering.add(obj);\r\n                        if (obj.cursorOverStyle) {\r\n                            obj._replacedCursorStyle = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getStyle(document.body, \"cursor\");\r\n                            _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\r\n                        }\r\n                        this._dispatchEvent(\"pointerover\", obj, event);\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n            //} else if (target === false) {\r\n        }\r\n        else {\r\n            this._hovering.forEach((obj) => {\r\n                if (obj.cursorOverStyle) {\r\n                    _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                }\r\n                this._dispatchEvent(\"pointerout\", obj, event);\r\n            });\r\n            this._hovering.clear();\r\n        }\r\n        this._dispatchEventAll(\"globalpointermove\", event);\r\n    }\r\n    removeHovering(graphics) {\r\n        this._hovering.delete(graphics);\r\n        if (graphics.cursorOverStyle) {\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", graphics._replacedCursorStyle);\r\n        }\r\n    }\r\n    _dispatchGlobalMouseup(originalEvent, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        event.native = native;\r\n        //const target = this._getHitTarget(event.originalPoint);\r\n        this._dispatchEventAll(\"globalpointerup\", event);\r\n    }\r\n    _dispatchDragMove(originalEvent) {\r\n        if (this._dragging.length !== 0) {\r\n            const event = this.getEvent(originalEvent);\r\n            const id = event.id;\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointermove\", obj.value, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchDragEnd(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        let clickevent;\r\n        if (button == 0 || button === undefined) {\r\n            clickevent = \"click\";\r\n        }\r\n        else if (button == 2) {\r\n            clickevent = \"rightclick\";\r\n        }\r\n        else if (button == 1) {\r\n            clickevent = \"middleclick\";\r\n        }\r\n        else {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const id = event.id;\r\n        if (this._mousedown.length !== 0) {\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n            if (target) {\r\n                this._mousedown.forEach((obj) => {\r\n                    if (obj.id === id && obj.value.contains(target)) {\r\n                        this._dispatchEvent(clickevent, obj.value, event);\r\n                    }\r\n                });\r\n            }\r\n            this._mousedown.length = 0;\r\n        }\r\n        if (this._dragging.length !== 0) {\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointerup\", obj.value, event);\r\n                }\r\n            });\r\n            this._dragging.length = 0;\r\n        }\r\n    }\r\n    _dispatchDoubleClick(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"dblclick\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchWheel(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"wheel\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _makeSharedEvent(key, f) {\r\n        if (this._listeners[key] === undefined) {\r\n            const listener = f();\r\n            this._listeners[key] = new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.CounterDisposer(() => {\r\n                delete this._listeners[key];\r\n                listener.dispose();\r\n            });\r\n        }\r\n        return this._listeners[key].increment();\r\n    }\r\n    _onPointerEvent(name, f) {\r\n        let native = false;\r\n        let timer = null;\r\n        function clear() {\r\n            timer = null;\r\n            native = false;\r\n        }\r\n        return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.MultiDisposer([\r\n            new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                clear();\r\n            }),\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getRendererEvent(name), (_) => {\r\n                native = true;\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                timer = window.setTimeout(clear, 0);\r\n            }),\r\n            onPointerEvent(window, name, (ev, target) => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                    timer = null;\r\n                }\r\n                f(ev, target, native);\r\n                native = false;\r\n            }),\r\n        ]);\r\n    }\r\n    // This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\r\n    _initEvent(key) {\r\n        switch (key) {\r\n            case \"globalpointermove\":\r\n            case \"pointerover\":\r\n            case \"pointerout\":\r\n                return this._makeSharedEvent(\"pointermove\", () => {\r\n                    const listener = (events, target, native) => {\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                            this._dispatchGlobalMousemove(event, target, native);\r\n                        });\r\n                    };\r\n                    return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.MultiDisposer([\r\n                        this._onPointerEvent(\"pointerdown\", listener),\r\n                        this._onPointerEvent(\"pointermove\", listener),\r\n                    ]);\r\n                });\r\n            case \"globalpointerup\":\r\n                return this._makeSharedEvent(\"pointerup\", () => {\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (events, target, native) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (events, target, native) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"click\":\r\n            case \"rightclick\":\r\n            case \"middleclick\":\r\n            case \"pointerdown\":\r\n            /*\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    return this._onPointerEvent(\"pointerdown\", (event, target, native) => {\r\n                        this._lastPointerMoveEvent = { event, target, native };\r\n                        this._dispatchMousedown(event)\r\n                    });\r\n                });\r\n            */\r\n            case \"pointermove\":\r\n            case \"pointerup\":\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    //const throttler = new Throttler();\r\n                    const mousedown = this._onPointerEvent(\"pointerdown\", (events, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (ev) => {\r\n                            this._dispatchMousedown(ev, target);\r\n                        });\r\n                    });\r\n                    // TODO handle throttling properly for multitouch\r\n                    const mousemove = this._onPointerEvent(\"pointermove\", (ev) => {\r\n                        //throttler.throttle(() => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDragMove(ev);\r\n                        });\r\n                        //});\r\n                    });\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (ev, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (ev, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n                        mousedown.dispose();\r\n                        mousemove.dispose();\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"dblclick\":\r\n                return this._makeSharedEvent(\"dblclick\", () => {\r\n                    return this._onPointerEvent(\"dblclick\", (ev, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDoubleClick(ev, target);\r\n                        });\r\n                    });\r\n                });\r\n            case \"wheel\":\r\n                return this._makeSharedEvent(\"wheel\", () => {\r\n                    return _util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getRendererEvent(\"wheel\"), (event) => {\r\n                        this._dispatchWheel(event, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getEventTarget(event));\r\n                    }, { passive: false });\r\n                });\r\n        }\r\n    }\r\n    _addEvent(object, key, callback, context) {\r\n        let events = this._events[key];\r\n        if (events === undefined) {\r\n            events = this._events[key] = {\r\n                disposer: this._initEvent(key),\r\n                callbacks: [],\r\n                dispatching: false,\r\n                cleanup: false,\r\n            };\r\n        }\r\n        const listener = { object, context, callback, disposed: false };\r\n        events.callbacks.push(listener);\r\n        return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n            listener.disposed = true;\r\n            if (events.dispatching) {\r\n                events.cleanup = true;\r\n            }\r\n            else {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(events.callbacks, listener);\r\n                if (events.callbacks.length === 0) {\r\n                    events.disposer.dispose();\r\n                    delete this._events[key];\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getCanvas(root, options) {\r\n        // Make sure everything is rendered\r\n        this.render(root);\r\n        if (!options) {\r\n            options = {};\r\n        }\r\n        let scale = this.resolution;\r\n        let canvasWidth = Math.floor(this._calculatedWidth * this.resolution);\r\n        let canvasHeight = Math.floor(this._calculatedHeight * this.resolution);\r\n        // Check if we need to scale\r\n        if (options.minWidth && (options.minWidth > canvasWidth)) {\r\n            let minScale = options.minWidth / canvasWidth;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.minHeight && (options.minHeight > canvasHeight)) {\r\n            let minScale = options.minHeight / canvasHeight;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxWidth && (options.maxWidth < canvasWidth)) {\r\n            let maxScale = options.maxWidth / canvasWidth;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxHeight && (options.maxHeight > canvasHeight)) {\r\n            let maxScale = options.maxHeight / canvasHeight;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        // Check if we need to compensate for pixel ratio\r\n        if (options.maintainPixelRatio) {\r\n            scale /= this.resolution;\r\n        }\r\n        // Init list canvases to remove from DOM after export\r\n        const canvases = [];\r\n        // Set up new canvas for export\r\n        let forceRender = false;\r\n        const canvas = document.createElement(\"canvas\");\r\n        if (scale != this.resolution) {\r\n            forceRender = true;\r\n            canvasWidth = canvasWidth * scale / this.resolution;\r\n            canvasHeight = canvasHeight * scale / this.resolution;\r\n        }\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n        // Add to DOM so it inherits CSS\r\n        canvas.style.position = \"fixed\";\r\n        canvas.style.top = \"-10000px\";\r\n        this.view.appendChild(canvas);\r\n        canvases.push(canvas);\r\n        // Context\r\n        const context = canvas.getContext(\"2d\");\r\n        let width = 0;\r\n        let height = 0;\r\n        let needRerender = false;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                if (layer.tainted || forceRender) {\r\n                    needRerender = true;\r\n                    layer.exportableView = layer.view;\r\n                    layer.exportableContext = layer.context;\r\n                    layer.view = document.createElement(\"canvas\");\r\n                    // Add to DOM so it inherits CSS\r\n                    layer.view.style.position = \"fixed\";\r\n                    layer.view.style.top = \"-10000px\";\r\n                    this.view.appendChild(layer.view);\r\n                    canvases.push(layer.view);\r\n                    let extraX = 0;\r\n                    let extraY = 0;\r\n                    if (layer.margin) {\r\n                        extraX += layer.margin.left || 0 + layer.margin.right || 0;\r\n                        extraY += layer.margin.top || 0 + layer.margin.bottom || 0;\r\n                    }\r\n                    layer.view.width = canvasWidth + extraX;\r\n                    layer.view.height = canvasHeight + extraY;\r\n                    layer.context = layer.view.getContext(\"2d\");\r\n                    layer.dirty = true;\r\n                    layer.scale = scale;\r\n                }\r\n            }\r\n        });\r\n        if (needRerender) {\r\n            this._omitTainted = true;\r\n            this.render(root);\r\n            this._omitTainted = false;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                // Layer is fine. Just plop it into our target canvas\r\n                let x = 0;\r\n                let y = 0;\r\n                if (layer.margin) {\r\n                    x = -(layer.margin.left || 0) * this.resolution;\r\n                    y = -(layer.margin.top || 0) * this.resolution;\r\n                }\r\n                context.drawImage(layer.view, x, y);\r\n                // Restore layer original canvas\r\n                if (layer.exportableView) {\r\n                    layer.view = layer.exportableView;\r\n                    layer.exportableView = undefined;\r\n                }\r\n                if (layer.exportableContext) {\r\n                    layer.context = layer.exportableContext;\r\n                    layer.exportableContext = undefined;\r\n                }\r\n                if (width < layer.view.clientWidth) {\r\n                    width = layer.view.clientWidth;\r\n                }\r\n                if (height < layer.view.clientHeight) {\r\n                    height = layer.view.clientHeight;\r\n                }\r\n                layer.scale = undefined;\r\n            }\r\n        });\r\n        canvas.style.width = width + \"px\";\r\n        canvas.style.height = height + \"px\";\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(canvases, (canvas) => {\r\n            canvas.style.position = \"\";\r\n            canvas.style.top = \"\";\r\n            this.view.removeChild(canvas);\r\n        });\r\n        return canvas;\r\n    }\r\n}\r\nclass GhostLayer {\r\n    constructor() {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            }\r\n        });\r\n        Object.defineProperty(this, \"_resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"imageArray\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.view = document.createElement(\"canvas\");\r\n        this.context = this.view.getContext(\"2d\", { alpha: false, willReadFrequently: true });\r\n        this.context.imageSmoothingEnabled = false;\r\n        this.view.style.position = \"absolute\";\r\n        this.view.style.top = \"0px\";\r\n        this.view.style.left = \"0px\";\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        this._resolution = resolution;\r\n        canvasWidth += (this.margin.left + this.margin.right);\r\n        canvasHeight += (this.margin.top + this.margin.bottom);\r\n        // TODO this should take into account calculateSize\r\n        domWidth += (this.margin.left + this.margin.right);\r\n        domHeight += (this.margin.top + this.margin.bottom);\r\n        this.view.style.left = -this.margin.left + \"px\";\r\n        this.view.style.top = -this.margin.top + \"px\";\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    getImageData(point, bbox) {\r\n        return this.context.getImageData(\r\n        // TODO should this round ?\r\n        Math.round(((point.x - bbox.left) / bbox.width) * this._width), Math.round(((point.y - bbox.top) / bbox.height) * this._height), 1, 1);\r\n    }\r\n    getImageArray(point) {\r\n        if (!this.imageArray) {\r\n            this.imageArray = this.context.getImageData(0, 0, this._width, this._height).data;\r\n        }\r\n        const data = this.imageArray;\r\n        const x = Math.round(point.x * this._resolution);\r\n        const y = Math.round(point.y * this._resolution);\r\n        const i = (y * this._width + x) * 4;\r\n        return [data[i], data[i + 1], data[i + 2], data[i + 3]];\r\n    }\r\n    setMargin(layers) {\r\n        this.margin.left = 0;\r\n        this.margin.right = 0;\r\n        this.margin.top = 0;\r\n        this.margin.bottom = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(layers, (layer) => {\r\n            if (layer.margin) {\r\n                this.margin.left = Math.max(this.margin.left, layer.margin.left);\r\n                this.margin.right = Math.max(this.margin.right, layer.margin.right);\r\n                this.margin.top = Math.max(this.margin.top, layer.margin.top);\r\n                this.margin.bottom = Math.max(this.margin.bottom, layer.margin.bottom);\r\n            }\r\n        });\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.fillStyle = '#000';\r\n        this.context.fillRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasLayer {\r\n    constructor(view, context) {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"order\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportableView\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"exportableContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this.view = view;\r\n        this.context = context;\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.width != null) {\r\n            canvasWidth = this.width;\r\n            domWidth = this.width;\r\n        }\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.height != null) {\r\n            canvasHeight = this.height;\r\n            domHeight = this.height;\r\n        }\r\n        if (this.margin) {\r\n            canvasWidth += (this.margin.left + this.margin.right);\r\n            canvasHeight += (this.margin.top + this.margin.bottom);\r\n            // TODO this should take into account calculateSize\r\n            domWidth += (this.margin.left + this.margin.right);\r\n            domHeight += (this.margin.top + this.margin.bottom);\r\n            this.view.style.left = -this.margin.left + \"px\";\r\n            this.view.style.top = -this.margin.top + \"px\";\r\n        }\r\n        else {\r\n            this.view.style.left = \"0px\";\r\n            this.view.style.top = \"0px\";\r\n        }\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.clearRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n//# sourceMappingURL=CanvasRenderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9DYW52YXNSZW5kZXJlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3VDO0FBQ0U7QUFDRTtBQUNXO0FBQ3RELFdBQVcsWUFBWTtBQUNzRjtBQUNwRDtBQUNkO0FBQ0E7QUFDRTtBQUNKO0FBQ0E7QUFDUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUF1QixVQUFVLHlEQUF1QjtBQUNuRSx1QkFBdUIsdURBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZDQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsMEJBQTBCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQ0FBa0MseURBQWE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFNO0FBQzdCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBTTtBQUM3QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBTTtBQUM3QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVEQUFxQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0JBQStCO0FBQ2pFLGtDQUFrQyxnQ0FBZ0M7QUFDbEUsa0NBQWtDLG1DQUFtQztBQUNyRSxrQ0FBa0Msa0NBQWtDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBUSxVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQWtCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFlBQVk7QUFDdkMsMkJBQTJCLFlBQVk7QUFDdkMsMkJBQTJCLFlBQVk7QUFDdkMsMkJBQTJCLFlBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFrRDtBQUM3RSwyQkFBMkIsa0RBQWtEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvREFBb0Q7QUFDL0UsMkJBQTJCLG9EQUFvRDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQWtCLHFDQUFxQywrQ0FBYSxrQkFBa0IsK0NBQWE7QUFDM0gsMkJBQTJCLHFDQUFxQztBQUNoRSwyQkFBMkIseUNBQXlDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0JBQXNCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JELDJCQUEyQiw0QkFBNEI7QUFDdkQsMkJBQTJCLDBCQUEwQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JELDJCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNCQUFzQjtBQUNqRCwyQkFBMkIsK0JBQStCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFTO0FBQzVCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDhDQUFLO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOENBQUs7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsbUVBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDhDQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCLGdCQUFnQiw2Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyw4REFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSw4Q0FBSztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiwrQkFBK0IscUJBQXFCO0FBQ3BELCtCQUErQix5QkFBeUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdEQUFjO0FBQ3ZDLHFCQUFxQixnREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHlCQUF5Qiw4REFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw4REFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnREFBYztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQVcsYUFBYSw2Q0FBVztBQUN2RTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDZDQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixxREFBcUQsbURBQU87QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWMsV0FBVyxnREFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxlQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQU87QUFDMUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZDQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkRBQTZELCtDQUFhO0FBQzFFO0FBQ0E7QUFDQSw2REFBNkQsK0NBQWE7QUFDMUU7QUFDQTtBQUNBLDRDQUE0QywrQ0FBYTtBQUN6RDtBQUNBLDJCQUEyQixzREFBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0EseUJBQXlCLDhEQUFhO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDhEQUFhO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnREFBYztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0RBQWtCO0FBQ2xEO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGlEQUFpRCxtREFBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CLFlBQVksNkNBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsWUFBWSxpREFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qix5REFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxvREFBUTtBQUN6QyxZQUFZLCtDQUFZO0FBQ3hCO0FBQ0EsYUFBYTtBQUNiLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBNkIsK0NBQWE7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxZQUFZLGlEQUFlO0FBQzNCO0FBQ0E7QUFDQSxvQkFBb0IscURBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUF1QixtQ0FBbUMsZ0JBQWdCO0FBQzNHLGlDQUFpQyx5REFBdUIsc0NBQXNDLGdCQUFnQjtBQUM5RyxpQ0FBaUMseURBQXVCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWU7QUFDaEMsaUNBQWlDLHlEQUF1QjtBQUN4RDtBQUNBLGFBQWEsSUFBSSxlQUFlO0FBQ2hDLGlDQUFpQyx5REFBdUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWEsSUFBSSxlQUFlO0FBQ2hDO0FBQ0E7QUFDQSxZQUFZLGlEQUFlO0FBQzNCLGlDQUFpQyx5REFBdUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsSUFBSSxnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx3Q0FBd0M7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMkJBQTJCLGdEQUFjO0FBQ3pDO0FBQ0EscUNBQXFDLFlBQVk7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNULFdBQVc7QUFDWDtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4Q0FBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDhDQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0NBQWE7QUFDakM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaURBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsaURBQWU7QUFDdEUsNEJBQTRCLGlEQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlEQUFlO0FBQ25DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyREFBZTtBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUFhO0FBQ2hDLGdCQUFnQixvREFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHlEQUF1QixZQUFZLHlEQUF1QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLCtCQUErQix5REFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0EseUJBQXlCO0FBQ3pCLHVEQUF1RDtBQUN2RCxxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0IsNkNBQVc7QUFDbkM7QUFDQSx5QkFBeUI7QUFDekIsdURBQXVEO0FBQ3ZELHFCQUFxQjtBQUNyQiwrQkFBK0Isb0RBQVE7QUFDdkM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0EseUJBQXlCO0FBQ3pCLDJCQUEyQjtBQUMzQixxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0IsNkNBQVc7QUFDbkM7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQiwrQkFBK0Isb0RBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSwyQkFBMkIseURBQXVCLFlBQVkseURBQXVCO0FBQ3JGLG1EQUFtRCx1REFBcUI7QUFDeEUscUJBQXFCLElBQUksZ0JBQWdCO0FBQ3pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxtQkFBbUIsb0RBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvREFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG9EQUFvRCx3Q0FBd0M7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9DYW52YXNSZW5kZXJlci5qcz84ZmU2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAaWdub3JlICovIC8qKiAqL1xyXG5pbXBvcnQgeyBCbGVuZE1vZGUgfSBmcm9tIFwiLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi8uLi91dGlsL0NvbG9yXCI7XHJcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi8uLi91dGlsL01hdHJpeFwiO1xyXG5pbXBvcnQgeyBQZXJjZW50LCBwZXJjZW50IH0gZnJvbSBcIi4uLy4uL3V0aWwvUGVyY2VudFwiO1xyXG4vL2ltcG9ydCB7IFRocm90dGxlciB9IGZyb20gXCIuLi8uLi91dGlsL1Rocm90dGxlclwiO1xyXG5pbXBvcnQgeyBBcnJheURpc3Bvc2VyLCBEaXNwb3NlciwgRGlzcG9zZXJDbGFzcywgQ291bnRlckRpc3Bvc2VyLCBNdWx0aURpc3Bvc2VyIH0gZnJvbSBcIi4uLy4uL3V0aWwvRGlzcG9zZXJcIjtcclxuaW1wb3J0IHsgVGV4dEZvcm1hdHRlciB9IGZyb20gXCIuLi8uLi91dGlsL1RleHRGb3JtYXR0ZXJcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuLi8uLi91dGlsL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuLi8uLi91dGlsL01hdGhcIjtcclxuaW1wb3J0IGFyY1RvQmV6aWVyIGZyb20gJ3N2Zy1hcmMtdG8tY3ViaWMtYmV6aWVyJztcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrQXJncyhuYW1lLCBhY3R1YWwsIGV4cGVjdGVkKSB7XHJcbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIFwiICsgZXhwZWN0ZWQgKyBcIiBhcmd1bWVudHMgZm9yIFwiICsgbmFtZSArIFwiIGJ1dCBnb3QgXCIgKyBhY3R1YWwpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja01pbkFyZ3MobmFtZSwgYWN0dWFsLCBleHBlY3RlZCkge1xyXG4gICAgaWYgKGFjdHVhbCA8IGV4cGVjdGVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgYXQgbGVhc3QgXCIgKyBleHBlY3RlZCArIFwiIGFyZ3VtZW50cyBmb3IgXCIgKyBuYW1lICsgXCIgYnV0IGdvdCBcIiArIGFjdHVhbCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrRXZlbkFyZ3MobmFtZSwgYWN0dWFsLCBleHBlY3RlZCkge1xyXG4gICAgY2hlY2tNaW5BcmdzKG5hbWUsIGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgaWYgKChhY3R1YWwgJSBleHBlY3RlZCkgIT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudHMgZm9yIFwiICsgbmFtZSArIFwiIG11c3QgYmUgaW4gcGFpcnMgb2YgXCIgKyBleHBlY3RlZCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICogVGhpcyBzcGxpdHMgdGhlIGZsYWcgc28gdGhhdCB3YXkgMDAxNyB3aWxsIGJlIHByb2Nlc3NlZCBhcyAwIDAgMTdcclxuICpcclxuICogVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHdlaXJkIHBhdGhzIGxpa2UgYE0xNyA1QTEgMSAwIDAwMTcgMzAgMSAxIDAgMDAxNyA1YFxyXG4gKi9cclxuZnVuY3Rpb24gc3BsaXRBcmNGbGFncyhhcmdzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDcpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSBpICsgMztcclxuICAgICAgICBsZXQgZmxhZyA9IGFyZ3NbaW5kZXhdO1xyXG4gICAgICAgIGlmIChmbGFnLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgYSA9IC9eKFswMV0pKFswMV0pKC4qKSQvLmV4ZWMoZmxhZyk7XHJcbiAgICAgICAgICAgIGlmIChhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMCwgYVsxXSk7XHJcbiAgICAgICAgICAgICAgICArK2luZGV4O1xyXG4gICAgICAgICAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDAsIGFbMl0pO1xyXG4gICAgICAgICAgICAgICAgKytpbmRleDtcclxuICAgICAgICAgICAgICAgIGlmIChhWzNdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzW2luZGV4XSA9IGFbM107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKytpbmRleDtcclxuICAgICAgICBmbGFnID0gYXJnc1tpbmRleF07XHJcbiAgICAgICAgaWYgKGZsYWcubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gL14oWzAxXSkoLispJC8uZXhlYyhmbGFnKTtcclxuICAgICAgICAgICAgaWYgKGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAwLCBhWzFdKTtcclxuICAgICAgICAgICAgICAgICsraW5kZXg7XHJcbiAgICAgICAgICAgICAgICBhcmdzW2luZGV4XSA9IGFbMl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydEJpbmFyeSh2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSAwIHx8IHZhbHVlID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmxhZyBtdXN0IGJlIDAgb3IgMVwiKTtcclxuICAgIH1cclxufVxyXG4vLyAgMSAtPiAweGZmZmZmZiAqICgyIC8gMilcclxuLy8gIDIgLT4gMHhmZmZmZmYgKiAoMSAvIDIpXHJcbi8vXHJcbi8vICAzIC0+IDB4ZmZmZmZmICogKDMgLyA0KVxyXG4vLyAgNCAtPiAweGZmZmZmZiAqICgxIC8gNClcclxuLy9cclxuLy8gIDUgLT4gMHhmZmZmZmYgKiAoNyAvIDgpXHJcbi8vICA2IC0+IDB4ZmZmZmZmICogKDUgLyA4KVxyXG4vLyAgNyAtPiAweGZmZmZmZiAqICgzIC8gOClcclxuLy8gIDggLT4gMHhmZmZmZmYgKiAoMSAvIDgpXHJcbi8vXHJcbi8vICA5IC0+IDB4ZmZmZmZmICogKDE1IC8gMTYpXHJcbi8vIDEwIC0+IDB4ZmZmZmZmICogKDEzIC8gMTYpXHJcbi8vIDExIC0+IDB4ZmZmZmZmICogKDExIC8gMTYpXHJcbi8vIDEyIC0+IDB4ZmZmZmZmICogICg5IC8gMTYpXHJcbi8vIDEzIC0+IDB4ZmZmZmZmICogICg3IC8gMTYpXHJcbi8vIDE0IC0+IDB4ZmZmZmZmICogICg1IC8gMTYpXHJcbi8vIDE1IC0+IDB4ZmZmZmZmICogICgzIC8gMTYpXHJcbi8vIDE2IC0+IDB4ZmZmZmZmICogICgxIC8gMTYpXHJcbi8vIEB0b2RvIHJlbW92ZSB0aGlzIG9sZCBjb2xvciBkaXN0cmlidXRpb24gYWxnbyBpZiB0aGUgbmV3IG9uZSBwYW5zIG91dFxyXG4vKmZ1bmN0aW9uIGRpc3RyaWJ1dGVJZChpZDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGlmIChpZCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAweDAwMDAwMTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZpbmRzIHRoZSBjbG9zZXN0IHBvd2VyIG9mIDJcclxuICAgICAgICBjb25zdCBiYXNlID0gTWF0aC5wb3coMiwgTWF0aC5jZWlsKE1hdGgubG9nKGlkKSAvIE1hdGgubG9nKDIpKSk7XHJcblxyXG4gICAgICAgIC8vIFRyYW5zbGF0ZXMgdGhlIGlkIGludG8gYW4gb2RkIGZyYWN0aW9uIGluZGV4XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSAoKGJhc2UgLSBpZCkgKiAyKSArIDE7XHJcblxyXG4gICAgICAgIC8vIFRPRE8gaXMgTWF0aC5yb3VuZCBjb3JyZWN0ID9cclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgweGZmZmZmZiAqIChpbmRleCAvIGJhc2UpKTtcclxuICAgIH1cclxufSovXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBieSBzbWVhbnM6XHJcbiAqIGh0dHBzOi8vbG93Y29kZS5saWZlL2dlbmVyYXRpbmctdW5pcXVlLWNvbnRyYXN0aW5nLWNvbG9ycy1pbi1qYXZhc2NyaXB0L1xyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBkaXN0cmlidXRlSWQoaWQpIHtcclxuICAgIGNvbnN0IHJnYiA9IFswLCAwLCAwXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkrKykge1xyXG4gICAgICAgIHJnYltpICUgM10gPDw9IDE7XHJcbiAgICAgICAgcmdiW2kgJSAzXSB8PSBpZCAmIDB4MDE7XHJcbiAgICAgICAgaWQgPj49IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKHJnYlswXSB8IDApICsgKHJnYlsxXSA8PCA4KSArIChyZ2JbMl0gPDwgMTYpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBlYWNoVGFyZ2V0cyhoaXRUYXJnZXQsIGYpIHtcclxuICAgIGZvciAoOzspIHtcclxuICAgICAgICBpZiAoaGl0VGFyZ2V0LmludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICghZihoaXRUYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGl0VGFyZ2V0Ll9wYXJlbnQpIHtcclxuICAgICAgICAgICAgaGl0VGFyZ2V0ID0gaGl0VGFyZ2V0Ll9wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gVE9ETyBmZWF0dXJlIGRldGVjdGlvbiBmb3IgbW91c2UvdG91Y2gvcG9pbnRlclxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gb25Qb2ludGVyRXZlbnQoZWxlbWVudCwgbmFtZSwgZikge1xyXG4gICAgcmV0dXJuICR1dGlscy5hZGRFdmVudExpc3RlbmVyKGVsZW1lbnQsICR1dGlscy5nZXRSZW5kZXJlckV2ZW50KG5hbWUpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSAkdXRpbHMuZ2V0RXZlbnRUYXJnZXQoZXZlbnQpO1xyXG4gICAgICAgIGxldCB0b3VjaGVzID0gZXZlbnQudG91Y2hlcztcclxuICAgICAgICBpZiAodG91Y2hlcykge1xyXG4gICAgICAgICAgICBpZiAodG91Y2hlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGYoJGFycmF5LmNvcHkodG91Y2hlcyksIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmKFtldmVudF0sIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGlzVGFpbnRlZChpbWFnZSkge1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIGNhbnZhcy53aWR0aCA9IDE7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcclxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlIH0pO1xyXG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIDEsIDEpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiSW1hZ2UgXFxcIlwiICsgaW1hZ2Uuc3JjICsgXCJcXFwiIGlzIGxvYWRlZCBmcm9tIGRpZmZlcmVudCBob3N0IGFuZCBpcyBub3QgY292ZXJlZCBieSBDT1JTIHBvbGljeS4gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGltcGxpY2F0aW9ucyByZWFkIGhlcmU6IGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvcnNcIik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgaXMgbmVlZGVkIHRvIHdvcmthcm91bmQgYSBidWcgaW4gaU9TIHdoaWNoIGNhdXNlcyBpdCB0byBub3QgR0MgY2FudmFzIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbGVhckNhbnZhcyh2aWV3KSB7XHJcbiAgICB2aWV3LndpZHRoID0gMDtcclxuICAgIHZpZXcuaGVpZ2h0ID0gMDtcclxuICAgIHZpZXcuc3R5bGUud2lkdGggPSBcIjBweFwiO1xyXG4gICAgdmlldy5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlnbnMgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHBpeGVsLCBzbyBpdCByZW5kZXJzIGNyaXNwXHJcbiAqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNyaXNwKHgpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKHgpICsgLjU7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNQaXZvdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3lcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IHgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XHJcbiAgICB9XHJcbiAgICBnZXQgeSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5feTtcclxuICAgIH1cclxuICAgIHNldCB4KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHkodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl95ID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNEaXNwbGF5T2JqZWN0IGV4dGVuZHMgRGlzcG9zZXJDbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xheWVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1hc2tcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpc2libGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4cG9ydGFibGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVyYWN0aXZlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5hY3RpdmVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndoZWVsYWJsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbmNlbFRvdWNoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNNZWFzdXJlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJ1dHRvbk1vZGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbHBoYVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29tcG91bmRBbHBoYVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYW5nbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjYWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcmlzcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBpdm90XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBDYW52YXNQaXZvdCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlsdGVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnNvck92ZXJTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVwbGFjZWRDdXJzb3JTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbG9jYWxNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IE1hdHJpeCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX21hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTWF0cml4KClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUT0RPIGNhbiB0aGlzIGJlIHJlcGxhY2VkIHdpdGggX2xvY2FsTWF0cml4ID9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdU1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTWF0cml4KClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVuZGVyZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbG9jYWxCb3VuZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2JvdW5kc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29sb3JJZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgfVxyXG4gICAgc3ViU3RhdHVzKHN0YXR1cykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGluYWN0aXZlOiAodGhpcy5pbmFjdGl2ZSA9PSBudWxsID8gc3RhdHVzLmluYWN0aXZlIDogdGhpcy5pbmFjdGl2ZSksXHJcbiAgICAgICAgICAgIGxheWVyOiB0aGlzLl9sYXllciB8fCBzdGF0dXMubGF5ZXIsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLl9yZW1vdmVPYmplY3QodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nZXRMYXllcigpLmRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGdldENhbnZhcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcigpLnZpZXc7XHJcbiAgICB9XHJcbiAgICBnZXRMYXllcigpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZm9yICg7Oykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9sYXllcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxmLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYgPSBzZWxmLl9wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIuZGVmYXVsdExheWVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0TGF5ZXIob3JkZXIsIG1hcmdpbikge1xyXG4gICAgICAgIGlmIChvcmRlciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xheWVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2xheWVyID0gdGhpcy5fcmVuZGVyZXIuZ2V0TGF5ZXIob3JkZXIsIHZpc2libGUpO1xyXG4gICAgICAgICAgICB0aGlzLl9sYXllci52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICAgICAgdGhpcy5fbGF5ZXIubWFyZ2luID0gbWFyZ2luO1xyXG4gICAgICAgICAgICBpZiAobWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAkdXRpbHMuc2V0SW50ZXJhY3RpdmUodGhpcy5fbGF5ZXIudmlldywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLnNldE1hcmdpbih0aGlzLl9yZW5kZXJlci5sYXllcnMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnQucmVnaXN0ZXJDaGlsZExheWVyKHRoaXMuX2xheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sYXllci5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlc2l6ZUxheWVyKHRoaXMuX2xheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVzaXplR2hvc3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtYXJrRGlydHlMYXllcigpIHtcclxuICAgICAgICB0aGlzLmdldExheWVyKCkuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlQm91bmRzKCk7XHJcbiAgICB9XHJcbiAgICBpbnZhbGlkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgX2FkZEJvdW5kcyhfYm91bmRzKSB7IH1cclxuICAgIF9nZXRDb2xvcklkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jb2xvcklkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3JJZCA9IHRoaXMuX3JlbmRlcmVyLnBhaW50SWQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xvcklkO1xyXG4gICAgfVxyXG4gICAgX2lzSW50ZXJhY3RpdmUoc3RhdHVzKSB7XHJcbiAgICAgICAgcmV0dXJuICFzdGF0dXMuaW5hY3RpdmUgJiYgKHRoaXMuaW50ZXJhY3RpdmUgfHwgdGhpcy5fcmVuZGVyZXIuX2ZvcmNlSW50ZXJhY3RpdmUgPiAwKTtcclxuICAgIH1cclxuICAgIF9pc0ludGVyYWN0aXZlTWFzayhzdGF0dXMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNJbnRlcmFjdGl2ZShzdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgY29udGFpbnMoY2hpbGQpIHtcclxuICAgICAgICBmb3IgKDs7KSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuX3BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5fcGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdG9HbG9iYWwocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0cml4LmFwcGx5KHBvaW50KTtcclxuICAgIH1cclxuICAgIHRvTG9jYWwocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCk7XHJcbiAgICB9XHJcbiAgICBnZXRMb2NhbE1hdHJpeCgpIHtcclxuICAgICAgICB0aGlzLl91TWF0cml4LnNldFRyYW5zZm9ybSgwLCAwLCB0aGlzLnBpdm90LngsIHRoaXMucGl2b3QueSwgdGhpcy5hbmdsZSAqIE1hdGguUEkgLyAxODAsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91TWF0cml4O1xyXG4gICAgfVxyXG4gICAgZ2V0TG9jYWxCb3VuZHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zdCBibiA9IDEwMDAwMDAwO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGJuLFxyXG4gICAgICAgICAgICAgICAgdG9wOiBibixcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAtYm4sXHJcbiAgICAgICAgICAgICAgICBib3R0b206IC1iblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRCb3VuZHModGhpcy5fbG9jYWxCb3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxCb3VuZHM7XHJcbiAgICB9XHJcbiAgICBnZXRBZGp1c3RlZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICB0aGlzLl9zZXRNYXRyaXgoKTtcclxuICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLmdldExvY2FsTWF0cml4KCk7XHJcbiAgICAgICAgY29uc3QgcDAgPSBtYXRyaXguYXBwbHkoeyB4OiBib3VuZHMubGVmdCwgeTogYm91bmRzLnRvcCB9KTtcclxuICAgICAgICBjb25zdCBwMSA9IG1hdHJpeC5hcHBseSh7IHg6IGJvdW5kcy5yaWdodCwgeTogYm91bmRzLnRvcCB9KTtcclxuICAgICAgICBjb25zdCBwMiA9IG1hdHJpeC5hcHBseSh7IHg6IGJvdW5kcy5yaWdodCwgeTogYm91bmRzLmJvdHRvbSB9KTtcclxuICAgICAgICBjb25zdCBwMyA9IG1hdHJpeC5hcHBseSh7IHg6IGJvdW5kcy5sZWZ0LCB5OiBib3VuZHMuYm90dG9tIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IE1hdGgubWluKHAwLngsIHAxLngsIHAyLngsIHAzLngpLFxyXG4gICAgICAgICAgICB0b3A6IE1hdGgubWluKHAwLnksIHAxLnksIHAyLnksIHAzLnkpLFxyXG4gICAgICAgICAgICByaWdodDogTWF0aC5tYXgocDAueCwgcDEueCwgcDIueCwgcDMueCksXHJcbiAgICAgICAgICAgIGJvdHRvbTogTWF0aC5tYXgocDAueSwgcDEueSwgcDIueSwgcDMueSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgb24oa2V5LCBjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5fYWRkRXZlbnQodGhpcywga2V5LCBjYWxsYmFjaywgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldE1hdHJpeCgpIHtcclxuICAgICAgICAvLyBUT0RPIG9ubHkgY2FsY3VsYXRlIHRoaXMgaWYgaXQgaGFzIGFjdHVhbGx5IGNoYW5nZWRcclxuICAgICAgICB0aGlzLl9sb2NhbE1hdHJpeC5zZXRUcmFuc2Zvcm0odGhpcy54LCB0aGlzLnksIHRoaXMucGl2b3QueCwgdGhpcy5waXZvdC55LCBcclxuICAgICAgICAvLyBDb252ZXJ0cyBkZWdyZWVzIHRvIHJhZGlhbnNcclxuICAgICAgICB0aGlzLmFuZ2xlICogTWF0aC5QSSAvIDE4MCwgdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgdGhpcy5fbWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtcclxuICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gb25seSBjYWxjdWxhdGUgdGhpcyBpZiBpdCBoYXMgYWN0dWFsbHkgY2hhbmdlZFxyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXgucHJlcGVuZCh0aGlzLl9wYXJlbnQuX21hdHJpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3RyYW5zZm9ybShjb250ZXh0LCByZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgbSA9IHRoaXMuX21hdHJpeDtcclxuICAgICAgICBsZXQgdHggPSBtLnR4ICogcmVzb2x1dGlvbjtcclxuICAgICAgICBsZXQgdHkgPSBtLnR5ICogcmVzb2x1dGlvbjtcclxuICAgICAgICBpZiAodGhpcy5jcmlzcCkge1xyXG4gICAgICAgICAgICB0eCA9IGNyaXNwKHR4KTtcclxuICAgICAgICAgICAgdHkgPSBjcmlzcCh0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKG0uYSAqIHJlc29sdXRpb24sIG0uYiAqIHJlc29sdXRpb24sIG0uYyAqIHJlc29sdXRpb24sIG0uZCAqIHJlc29sdXRpb24sIHR4LCB0eSk7XHJcbiAgICB9XHJcbiAgICBfdHJhbnNmb3JtTWFyZ2luKGNvbnRleHQsIHJlc29sdXRpb24sIG1hcmdpbikge1xyXG4gICAgICAgIGNvbnN0IG0gPSB0aGlzLl9tYXRyaXg7XHJcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0obS5hICogcmVzb2x1dGlvbiwgbS5iICogcmVzb2x1dGlvbiwgbS5jICogcmVzb2x1dGlvbiwgbS5kICogcmVzb2x1dGlvbiwgKG0udHggKyBtYXJnaW4ubGVmdCkgKiByZXNvbHV0aW9uLCAobS50eSArIG1hcmdpbi50b3ApICogcmVzb2x1dGlvbik7XHJcbiAgICB9XHJcbiAgICBfdHJhbnNmb3JtTGF5ZXIoY29udGV4dCwgcmVzb2x1dGlvbiwgbGF5ZXIpIHtcclxuICAgICAgICBpZiAobGF5ZXIubWFyZ2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybU1hcmdpbihjb250ZXh0LCBsYXllci5zY2FsZSB8fCByZXNvbHV0aW9uLCBsYXllci5tYXJnaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtKGNvbnRleHQsIGxheWVyLnNjYWxlIHx8IHJlc29sdXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcihzdGF0dXMpIHtcclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlICYmICh0aGlzLmV4cG9ydGFibGUgIT09IGZhbHNlIHx8ICF0aGlzLl9yZW5kZXJlci5fb21pdFRhaW50ZWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE1hdHJpeCgpO1xyXG4gICAgICAgICAgICBjb25zdCBzdWJTdGF0dXMgPSB0aGlzLnN1YlN0YXR1cyhzdGF0dXMpO1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fcmVuZGVyZXIubGF5ZXJzO1xyXG4gICAgICAgICAgICBjb25zdCBnaG9zdExheWVyID0gdGhpcy5fcmVuZGVyZXIuX2dob3N0TGF5ZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGdob3N0Q29udGV4dCA9IGdob3N0TGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgY29uc3QgbWFzayA9IHRoaXMubWFzaztcclxuICAgICAgICAgICAgaWYgKG1hc2spIHtcclxuICAgICAgICAgICAgICAgIG1hc2suX3NldE1hdHJpeCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaW1wcm92ZSB0aGlzXHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBtdXN0IGFwcGx5IHRoZSBtYXNrIGJlZm9yZSB3ZSB0cmFuc2Zvcm0gdGhlIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrLl90cmFuc2Zvcm1MYXllcihjb250ZXh0LCByZXNvbHV0aW9uLCBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2suX3J1blBhdGgoY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy5jb21wb3VuZEFscGhhICogdGhpcy5hbHBoYTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1MYXllcihjb250ZXh0LCByZXNvbHV0aW9uLCBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsdGVyID0gdGhpcy5maWx0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgLy8gV2UgbXVzdCBhcHBseSB0aGUgbWFzayBiZWZvcmUgd2UgdHJhbnNmb3JtIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmIChtYXNrICYmIHRoaXMuX2lzSW50ZXJhY3RpdmVNYXNrKHN1YlN0YXR1cykpIHtcclxuICAgICAgICAgICAgICAgIG1hc2suX3RyYW5zZm9ybU1hcmdpbihnaG9zdENvbnRleHQsIHJlc29sdXRpb24sIGdob3N0TGF5ZXIubWFyZ2luKTtcclxuICAgICAgICAgICAgICAgIG1hc2suX3J1blBhdGgoZ2hvc3RDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5jbGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtTWFyZ2luKGdob3N0Q29udGV4dCwgcmVzb2x1dGlvbiwgZ2hvc3RMYXllci5tYXJnaW4pO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoc3ViU3RhdHVzKTtcclxuICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2gobGF5ZXJzLCAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVuZGVyKHN0YXR1cykge1xyXG4gICAgICAgIGlmICh0aGlzLmV4cG9ydGFibGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cy5sYXllci50YWludGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBob3ZlcmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIuX2hvdmVyaW5nLmhhcyh0aGlzKTtcclxuICAgIH1cclxuICAgIGRyYWdnaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5fZHJhZ2dpbmcuc29tZSgoeCkgPT4geC52YWx1ZSA9PT0gdGhpcyk7XHJcbiAgICB9XHJcbiAgICBzaG91bGRDYW5jZWxUb3VjaCgpIHtcclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xyXG4gICAgICAgIGlmIChyZW5kZXJlci50YXBUb0FjdGl2YXRlICYmICFyZW5kZXJlci5fdG91Y2hBY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jYW5jZWxUb3VjaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuc2hvdWxkQ2FuY2VsVG91Y2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzQ29udGFpbmVyIGV4dGVuZHMgQ2FudmFzRGlzcGxheU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVyYWN0aXZlQ2hpbGRyZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jaGlsZExheWVyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2hpbGRyZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9pc0ludGVyYWN0aXZlTWFzayhzdGF0dXMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuIHx8IHN1cGVyLl9pc0ludGVyYWN0aXZlTWFzayhzdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgYWRkQ2hpbGQoY2hpbGQpIHtcclxuICAgICAgICBjaGlsZC5fcGFyZW50ID0gdGhpcztcclxuICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGNoaWxkKTtcclxuICAgICAgICBpZiAoY2hpbGQuX2xheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJDaGlsZExheWVyKGNoaWxkLl9sYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkQ2hpbGRBdChjaGlsZCwgaW5kZXgpIHtcclxuICAgICAgICBjaGlsZC5fcGFyZW50ID0gdGhpcztcclxuICAgICAgICB0aGlzLl9jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcclxuICAgICAgICBpZiAoY2hpbGQuX2xheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJDaGlsZExheWVyKGNoaWxkLl9sYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVtb3ZlQ2hpbGQoY2hpbGQpIHtcclxuICAgICAgICBjaGlsZC5fcGFyZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICRhcnJheS5yZW1vdmVGaXJzdCh0aGlzLl9jaGlsZHJlbiwgY2hpbGQpO1xyXG4gICAgfVxyXG4gICAgX3JlbmRlcihzdGF0dXMpIHtcclxuICAgICAgICBzdXBlci5fcmVuZGVyKHN0YXR1cyk7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcclxuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGl2ZSAmJiB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgKytyZW5kZXJlci5fZm9yY2VJbnRlcmFjdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBjaGlsZC5jb21wb3VuZEFscGhhID0gdGhpcy5jb21wb3VuZEFscGhhICogdGhpcy5hbHBoYTtcclxuICAgICAgICAgICAgY2hpbGQucmVuZGVyKHN0YXR1cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3RpdmUgJiYgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIC0tcmVuZGVyZXIuX2ZvcmNlSW50ZXJhY3RpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJDaGlsZExheWVyKGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jaGlsZExheWVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZExheWVycyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkYXJyYXkucHVzaE9uZSh0aGlzLl9jaGlsZExheWVycywgbGF5ZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50LnJlZ2lzdGVyQ2hpbGRMYXllcihsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbWFya0RpcnR5TGF5ZXIoZGVlcCA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIubWFya0RpcnR5TGF5ZXIoKTtcclxuICAgICAgICBpZiAoZGVlcCAmJiB0aGlzLl9jaGlsZExheWVycykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9jaGlsZExheWVycywgKGxheWVyKSA9PiBsYXllci5kaXJ0eSA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLl9kaXNwb3NlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NoaWxkTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2NoaWxkTGF5ZXJzLCAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRQb2ludChib3VuZHMsIHBvaW50KSB7XHJcbiAgICBib3VuZHMubGVmdCA9IE1hdGgubWluKGJvdW5kcy5sZWZ0LCBwb2ludC54KTtcclxuICAgIGJvdW5kcy50b3AgPSBNYXRoLm1pbihib3VuZHMudG9wLCBwb2ludC55KTtcclxuICAgIGJvdW5kcy5yaWdodCA9IE1hdGgubWF4KGJvdW5kcy5yaWdodCwgcG9pbnQueCk7XHJcbiAgICBib3VuZHMuYm90dG9tID0gTWF0aC5tYXgoYm91bmRzLmJvdHRvbSwgcG9pbnQueSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIE9wIHtcclxuICAgIGNvbG9yaXplKF9jb250ZXh0LCBfZm9yY2VDb2xvcikgeyB9XHJcbiAgICBjb2xvcml6ZUdob3N0KGNvbnRleHQsIGZvcmNlQ29sb3IpIHtcclxuICAgICAgICB0aGlzLmNvbG9yaXplKGNvbnRleHQsIGZvcmNlQ29sb3IpO1xyXG4gICAgfVxyXG4gICAgcGF0aChfY29udGV4dCkgeyB9XHJcbiAgICBwYXRoR2hvc3QoY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMucGF0aChjb250ZXh0KTtcclxuICAgIH1cclxuICAgIGFkZEJvdW5kcyhfYm91bmRzKSB7IH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgQmVnaW5QYXRoIGV4dGVuZHMgT3Age1xyXG4gICAgY29sb3JpemUoY29udGV4dCwgX2ZvcmNlQ29sb3IpIHtcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBCZWdpbkZpbGwgZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29sb3JcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY29sb3JcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbG9yaXplKGNvbnRleHQsIGZvcmNlQ29sb3IpIHtcclxuICAgICAgICBpZiAoZm9yY2VDb2xvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZm9yY2VDb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIEVuZEZpbGwgZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjbGVhclNoYWRvdykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xlYXJTaGFkb3dcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY2xlYXJTaGFkb3dcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbG9yaXplKGNvbnRleHQsIF9mb3JjZUNvbG9yKSB7XHJcbiAgICAgICAgY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xlYXJTaGFkb3cpIHtcclxuICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwiXCI7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBFbmRTdHJva2UgZXh0ZW5kcyBPcCB7XHJcbiAgICBjb2xvcml6ZShjb250ZXh0LCBfZm9yY2VDb2xvcikge1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIExpbmVTdHlsZSBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBjb2xvciwgbGluZUpvaW4pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHdpZHRoXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29sb3JcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY29sb3JcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsaW5lSm9pblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBsaW5lSm9pblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29sb3JpemUoY29udGV4dCwgZm9yY2VDb2xvcikge1xyXG4gICAgICAgIGlmIChmb3JjZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGZvcmNlQ29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSB0aGlzLndpZHRoO1xyXG4gICAgICAgIGlmICh0aGlzLmxpbmVKb2luKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZUpvaW4gPSB0aGlzLmxpbmVKb2luO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgTGluZURhc2ggZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXNoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkYXNoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGRhc2hcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbG9yaXplKGNvbnRleHQsIF9mb3JjZUNvbG9yKSB7XHJcbiAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaCh0aGlzLmRhc2gpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBMaW5lRGFzaE9mZnNldCBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhc2hPZmZzZXQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhc2hPZmZzZXRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZGFzaE9mZnNldFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29sb3JpemUoY29udGV4dCwgX2ZvcmNlQ29sb3IpIHtcclxuICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5kYXNoT2Zmc2V0O1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBEcmF3UmVjdCBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHdpZHRoXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICB9XHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgY29uc3QgbCA9IHRoaXMueDtcclxuICAgICAgICBjb25zdCB0ID0gdGhpcy55O1xyXG4gICAgICAgIGNvbnN0IHIgPSBsICsgdGhpcy53aWR0aDtcclxuICAgICAgICBjb25zdCBiID0gdCArIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiBsLCB5OiB0IH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiByLCB5OiB0IH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiBsLCB5OiBiIH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiByLCB5OiBiIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBEcmF3Q2lyY2xlIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgcmFkaXVzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyYWRpdXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogcmFkaXVzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0aGlzLnggKyB0aGlzLnJhZGl1cywgdGhpcy55KTtcclxuICAgICAgICBjb250ZXh0LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE8gaGFuZGxlIHNrZXdpbmcgYW5kIHJvdGF0aW9uXHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMueCAtIHRoaXMucmFkaXVzLCB5OiB0aGlzLnkgLSB0aGlzLnJhZGl1cyB9KTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy54ICsgdGhpcy5yYWRpdXMsIHk6IHRoaXMueSArIHRoaXMucmFkaXVzIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBEcmF3RWxsaXBzZSBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHJhZGl1c1gsIHJhZGl1c1kpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGl1c1hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogcmFkaXVzWFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGl1c1lcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogcmFkaXVzWVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5lbGxpcHNlKDAsIDAsIHRoaXMucmFkaXVzWCwgdGhpcy5yYWRpdXNZLCAwLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPIGhhbmRsZSBza2V3aW5nIGFuZCByb3RhdGlvblxyXG4gICAgYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLnggLSB0aGlzLnJhZGl1c1gsIHk6IHRoaXMueSAtIHRoaXMucmFkaXVzWSB9KTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy54ICsgdGhpcy5yYWRpdXNYLCB5OiB0aGlzLnkgKyB0aGlzLnJhZGl1c1kgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIEFyYyBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY3hcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjeVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjeVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGl1c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiByYWRpdXNcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydEFuZ2xlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHN0YXJ0QW5nbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmRBbmdsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBlbmRBbmdsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFudGljbG9ja3dpc2VcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogYW50aWNsb2Nrd2lzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzID4gMCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFyYyh0aGlzLmN4LCB0aGlzLmN5LCB0aGlzLnJhZGl1cywgdGhpcy5zdGFydEFuZ2xlLCB0aGlzLmVuZEFuZ2xlLCB0aGlzLmFudGljbG9ja3dpc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBsZXQgYXJjQm91bmRzID0gJG1hdGguZ2V0QXJjQm91bmRzKHRoaXMuY3gsIHRoaXMuY3ksIHRoaXMuc3RhcnRBbmdsZSAqICRtYXRoLkRFR1JFRVMsIHRoaXMuZW5kQW5nbGUgKiAkbWF0aC5ERUdSRUVTLCB0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IGFyY0JvdW5kcy5sZWZ0LCB5OiBhcmNCb3VuZHMudG9wIH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiBhcmNCb3VuZHMucmlnaHQsIHk6IGFyY0JvdW5kcy5ib3R0b20gfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIEFyY1RvIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieDFcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeDFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5MVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB5MVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIngyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHgyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieTJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeTJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyYWRpdXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogcmFkaXVzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy5yYWRpdXMgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYXJjVG8odGhpcy54MSwgdGhpcy55MSwgdGhpcy54MiwgdGhpcy55MiwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFRPRE86IGFkZCBwb2ludHNcclxuICAgIGFkZEJvdW5kcyhfYm91bmRzKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAvLyBub3QgZmluaXNoZWRcclxuICAgICAgICBodHRwczovL21hdGguc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE3ODE0MzgvZmluZGluZy10aGUtY2VudGVyLW9mLWEtY2lyY2xlLWdpdmVuLXR3by1wb2ludHMtYW5kLWEtcmFkaXVzLWFsZ2VicmFpY2FsbHlcclxuXHJcbiAgICAgICAgaWYgKHByZXZQb2ludCkge1xyXG4gICAgICAgICAgICBsZXQgeDEgPSBwcmV2UG9pbnQueDtcclxuICAgICAgICAgICAgbGV0IHkxID0gcHJldlBvaW50Lnk7XHJcbiAgICAgICAgICAgIGxldCB4MiA9IHRoaXMueDI7XHJcbiAgICAgICAgICAgIGxldCB5MiA9IHRoaXMueTI7XHJcbiAgICAgICAgICAgIGxldCByID0gdGhpcy5yYWRpdXM7XHJcblxyXG4gICAgICAgICAgICBsZXQgeGEgPSAoeDIgLSB4MSkgLyAyO1xyXG4gICAgICAgICAgICBsZXQgeWEgPSAoeTIgLSB5MSkgLyAyO1xyXG5cclxuICAgICAgICAgICAgbGV0IHgwID0geDEgKyB4YTtcclxuICAgICAgICAgICAgbGV0IHkwID0geTEgKyB5YTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhID0gTWF0aC5oeXBvdCh4YSwgeWEpO1xyXG4gICAgICAgICAgICBsZXQgYiA9IE1hdGguc3FydChyICogciAtIGEgKiBhKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjeCA9IHgwICsgYiAqIHlhIC8gYTtcclxuICAgICAgICAgICAgbGV0IGN5ID0geTAgLSBiICogeGEgLyBhO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY3gsIGN5KTtcclxuICAgICAgICB9Ki9cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgTGluZVRvIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLngsIHRoaXMueSk7XHJcbiAgICB9XHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMueCwgeTogdGhpcy55IH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBNb3ZlVG8gZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBhdGgoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMueCwgdGhpcy55KTtcclxuICAgIH1cclxuICAgIGFkZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy54LCB5OiB0aGlzLnkgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIENsb3NlUGF0aCBleHRlbmRzIE9wIHtcclxuICAgIHBhdGgoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIEJlemllckN1cnZlVG8gZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNwWFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjcFhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcFlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY3BZXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3BYMlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjcFgyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3BZMlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjcFkyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9YXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRvWFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvWVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0b1lcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBhdGgoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh0aGlzLmNwWCwgdGhpcy5jcFksIHRoaXMuY3BYMiwgdGhpcy5jcFkyLCB0aGlzLnRvWCwgdGhpcy50b1kpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogT0s/XHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMuY3BYLCB5OiB0aGlzLmNwWSB9KTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy5jcFgyLCB5OiB0aGlzLmNwWTIgfSk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMudG9YLCB5OiB0aGlzLnRvWSB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgUXVhZHJhdGljQ3VydmVUbyBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3BYXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNwWFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNwWVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjcFlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b1hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdG9YXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9ZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRvWVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHRoaXMuY3BYLCB0aGlzLmNwWSwgdGhpcy50b1gsIHRoaXMudG9ZKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE86IE9LP1xyXG4gICAgYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLmNwWCwgeTogdGhpcy5jcFkgfSk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMudG9YLCB5OiB0aGlzLnRvWSB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgU2hhZG93IGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoY29sb3IsIGJsdXIsIG9mZnNldFgsIG9mZnNldFksIG9wYWNpdHkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbG9yXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmx1clwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBibHVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib2Zmc2V0WFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBvZmZzZXRYXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib2Zmc2V0WVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBvZmZzZXRZXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3BhY2l0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBvcGFjaXR5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb2xvcml6ZShjb250ZXh0LCBfZm9yY2VDb2xvcikge1xyXG4gICAgICAgIGlmICh0aGlzLm9wYWNpdHkpIHtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSB0aGlzLmJsdXI7XHJcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gdGhpcy5vZmZzZXRYO1xyXG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuICAgIH1cclxuICAgIGNvbG9yaXplR2hvc3QoX2NvbnRleHQsIF9mb3JjZUNvbG9yKSB7IH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgR3JhcGhpY3NJbWFnZSBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbWFnZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBpbWFnZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHdpZHRoXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgdGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIH1cclxuICAgIC8vIFRPRE86IE9LP1xyXG4gICAgYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLngsIHk6IHRoaXMueSB9KTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy53aWR0aCwgeTogdGhpcy5oZWlnaHQgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNHcmFwaGljcyBleHRlbmRzIENhbnZhc0Rpc3BsYXlPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb3BlcmF0aW9uc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJsZW5kTW9kZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBCbGVuZE1vZGUuTk9STUFMXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hhc1NoYWRvd3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZmlsbEFscGhhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdHJva2VBbHBoYVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHN1cGVyLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5fb3BlcmF0aW9ucy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgX3B1c2hPcChvcCkge1xyXG4gICAgICAgIHRoaXMuX29wZXJhdGlvbnMucHVzaChvcCk7XHJcbiAgICB9XHJcbiAgICBiZWdpbkZpbGwoY29sb3IsIGFscGhhID0gMSkge1xyXG4gICAgICAgIHRoaXMuX2ZpbGxBbHBoYSA9IGFscGhhO1xyXG4gICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICBpZiAoY29sb3IgaW5zdGFuY2VvZiBDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBCZWdpbkZpbGwoY29sb3IudG9DU1MoYWxwaGEpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTWVhc3VyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBCZWdpbkZpbGwoY29sb3IpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBCZWdpbkZpbGwoXCJyZ2JhKDAsIDAsIDAsIFwiICsgYWxwaGEgKyBcIilcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVuZEZpbGwoKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBFbmRGaWxsKHRoaXMuX2hhc1NoYWRvd3MpKTtcclxuICAgIH1cclxuICAgIGVuZFN0cm9rZSgpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEVuZFN0cm9rZSgpKTtcclxuICAgIH1cclxuICAgIGJlZ2luUGF0aCgpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEJlZ2luUGF0aCgpKTtcclxuICAgIH1cclxuICAgIGxpbmVTdHlsZSh3aWR0aCA9IDAsIGNvbG9yLCBhbHBoYSA9IDEsIGxpbmVKb2luKSB7XHJcbiAgICAgICAgdGhpcy5fc3Ryb2tlQWxwaGEgPSBhbHBoYTtcclxuICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3B1c2hPcChuZXcgTGluZVN0eWxlKHdpZHRoLCBjb2xvci50b0NTUyhhbHBoYSksIGxpbmVKb2luKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXNoT3AobmV3IExpbmVTdHlsZSh3aWR0aCwgY29sb3IsIGxpbmVKb2luKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3B1c2hPcChuZXcgTGluZVN0eWxlKHdpZHRoLCBcInJnYmEoMCwgMCwgMCwgXCIgKyBhbHBoYSArIFwiKVwiLCBsaW5lSm9pbikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldExpbmVEYXNoKGRhc2gpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IExpbmVEYXNoKGRhc2ggPyBkYXNoIDogW10pKTtcclxuICAgIH1cclxuICAgIHNldExpbmVEYXNoT2Zmc2V0KGRhc2hPZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBMaW5lRGFzaE9mZnNldChkYXNoT2Zmc2V0KSk7XHJcbiAgICB9XHJcbiAgICBkcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBEcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICB9XHJcbiAgICBkcmF3Q2lyY2xlKHgsIHksIHJhZGl1cykge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgRHJhd0NpcmNsZSh4LCB5LCByYWRpdXMpKTtcclxuICAgIH1cclxuICAgIGRyYXdFbGxpcHNlKHgsIHksIHJhZGl1c1gsIHJhZGl1c1kpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IERyYXdFbGxpcHNlKHgsIHksIHJhZGl1c1gsIHJhZGl1c1kpKTtcclxuICAgIH1cclxuICAgIGFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgQXJjKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSkpO1xyXG4gICAgfVxyXG4gICAgYXJjVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgQXJjVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykpO1xyXG4gICAgfVxyXG4gICAgbGluZVRvKHgsIHkpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IExpbmVUbyh4LCB5KSk7XHJcbiAgICB9XHJcbiAgICBtb3ZlVG8oeCwgeSkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgTW92ZVRvKHgsIHkpKTtcclxuICAgIH1cclxuICAgIGJlemllckN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBCZXppZXJDdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkpO1xyXG4gICAgfVxyXG4gICAgcXVhZHJhdGljQ3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1kpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IFF1YWRyYXRpY0N1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZKSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZVBhdGgoKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBDbG9zZVBhdGgoKSk7XHJcbiAgICB9XHJcbiAgICBzaGFkb3coY29sb3IsIGJsdXIgPSAwLCBvZmZzZXRYID0gMCwgb2Zmc2V0WSA9IDAsIG9wYWNpdHkpIHtcclxuICAgICAgICB0aGlzLl9oYXNTaGFkb3dzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IFNoYWRvdyhvcGFjaXR5ID8gY29sb3IudG9DU1Mob3BhY2l0eSkgOiBjb2xvci50b0NTUyh0aGlzLl9maWxsQWxwaGEgfHwgdGhpcy5fc3Ryb2tlQWxwaGEpLCBibHVyLCBvZmZzZXRYLCBvZmZzZXRZKSk7XHJcbiAgICB9XHJcbiAgICBpbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgR3JhcGhpY3NJbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCwgeCwgeSkpO1xyXG4gICAgfVxyXG4gICAgLy8gaHR0cHM6Ly9zdmd3Zy5vcmcvc3ZnMi1kcmFmdC9wYXRocy5odG1sI0RQcm9wZXJ0eVxyXG4gICAgLy8gVE9ETyBiZXR0ZXIgZXJyb3IgY2hlY2tpbmdcclxuICAgIHN2Z1BhdGgocGF0aCkge1xyXG4gICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICBsZXQgeSA9IDA7XHJcbiAgICAgICAgbGV0IGNweCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGNweSA9IG51bGw7XHJcbiAgICAgICAgbGV0IHFjcHggPSBudWxsO1xyXG4gICAgICAgIGxldCBxY3B5ID0gbnVsbDtcclxuICAgICAgICBjb25zdCBTRUdNRU5UU19SRUdFWFAgPSAvKFtNbVp6TGxIaFZ2Q2NTc1FxVHRBYV0pKFteTW1aekxsSGhWdkNjU3NRcVR0QWFdKikvZztcclxuICAgICAgICBjb25zdCBBUkdTX1JFR0VYUCA9IC9bXFx1MDAwOVxcdTAwMjBcXHUwMDBBXFx1MDAwQ1xcdTAwMERdKihbXFwrXFwtXT9bMC05XSpcXC4/WzAtOV0rKD86W2VFXVtcXCtcXC1dP1swLTldKyk/KVtcXHUwMDA5XFx1MDAyMFxcdTAwMEFcXHUwMDBDXFx1MDAwRF0qLD8vZztcclxuICAgICAgICBsZXQgbWF0Y2g7XHJcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IFNFR01FTlRTX1JFR0VYUC5leGVjKHBhdGgpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbWF0Y2hbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3QgPSBtYXRjaFsyXTtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gQVJHU19SRUdFWFAuZXhlYyhyZXN0KSkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChtYXRjaFsxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVzZXQgY29udHJvbCBwb2ludFxyXG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJTXCIgJiYgbmFtZSAhPT0gXCJzXCIgJiYgbmFtZSAhPT0gXCJDXCIgJiYgbmFtZSAhPT0gXCJjXCIpIHtcclxuICAgICAgICAgICAgICAgIGNweCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBjcHkgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGNvbnRyb2wgcG9pbnRcclxuICAgICAgICAgICAgaWYgKG5hbWUgIT09IFwiUVwiICYmIG5hbWUgIT09IFwicVwiICYmIG5hbWUgIT09IFwiVFwiICYmIG5hbWUgIT09IFwidFwiKSB7XHJcbiAgICAgICAgICAgICAgICBxY3B4ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHFjcHkgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9ICthcmdzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArYXJnc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFdmVuQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSArYXJnc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9ICthcmdzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gK2FyZ3NbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja01pbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tNaW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlZcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja01pbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tNaW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkNcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA2KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeTEgPSArYXJnc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCA9ICthcmdzW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gK2FyZ3NbaSArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaSArIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gK2FyZ3NbaSArIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlemllckN1cnZlVG8oeDEsIHkxLCBjcHgsIGNweSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA2KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSArYXJnc1tpXSArIHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkxID0gK2FyZ3NbaSArIDFdICsgeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gK2FyZ3NbaSArIDJdICsgeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gK2FyZ3NbaSArIDNdICsgeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArYXJnc1tpICsgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK2FyZ3NbaSArIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlemllckN1cnZlVG8oeDEsIHkxLCBjcHgsIGNweSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3B4ID09PSBudWxsIHx8IGNweSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSB5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSAyICogeCAtIGNweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeTEgPSAyICogeSAtIGNweTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSA9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9ICthcmdzW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9ICthcmdzW2kgKyAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZXppZXJDdXJ2ZVRvKHgxLCB5MSwgY3B4LCBjcHksIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFdmVuQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNweCA9PT0gbnVsbCB8fCBjcHkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0geTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHgxID0gMiAqIHggLSBjcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkxID0gMiAqIHkgLSBjcHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCA9ICthcmdzW2ldICsgeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gK2FyZ3NbaSArIDFdICsgeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArYXJnc1tpICsgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK2FyZ3NbaSArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlemllckN1cnZlVG8oeDEsIHkxLCBjcHgsIGNweSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlFcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweCA9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B5ID0gK2FyZ3NbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaSArIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gK2FyZ3NbaSArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YWRyYXRpY0N1cnZlVG8ocWNweCwgcWNweSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInFcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweCA9ICthcmdzW2ldICsgeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweSA9ICthcmdzW2kgKyAxXSArIHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK2FyZ3NbaSArIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICthcmdzW2kgKyAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHFjcHgsIHFjcHksIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJUXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFdmVuQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHFjcHggPT09IG51bGwgfHwgcWNweSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweSA9IHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B4ID0gMiAqIHggLSBxY3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B5ID0gMiAqIHkgLSBxY3B5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArYXJnc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyhxY3B4LCBxY3B5LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChxY3B4ID09PSBudWxsIHx8IHFjcHkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFjcHkgPSB5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweCA9IDIgKiB4IC0gcWNweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweSA9IDIgKiB5IC0gcWNweTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSArYXJnc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyhxY3B4LCBxY3B5LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZSA9IChuYW1lID09PSBcImFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRBcmNGbGFncyhhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA3KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN4ID0gK2FyZ3NbaSArIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3kgPSArYXJnc1tpICsgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ggKz0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5ICs9IHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnMgPSBhcmNUb0Jlemllcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBweDogeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB5OiB5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcng6ICthcmdzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnk6ICthcmdzW2kgKyAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhBeGlzUm90YXRpb246ICthcmdzW2kgKyAyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhcmdlQXJjRmxhZzogYXNzZXJ0QmluYXJ5KCthcmdzW2kgKyAzXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VlcEZsYWc6IGFzc2VydEJpbmFyeSgrYXJnc1tpICsgNF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGJzLCAoYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZXppZXJDdXJ2ZVRvKGIueDEsIGIueTEsIGIueDIsIGIueTIsIGIueCwgYi55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSBiLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gYi55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWlwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInpcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0FyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcnVuUGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9vcGVyYXRpb25zLCAob3ApID0+IHtcclxuICAgICAgICAgICAgb3AucGF0aChjb250ZXh0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9yZW5kZXIoc3RhdHVzKSB7XHJcbiAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgIGNvbnN0IGxheWVyRGlydHkgPSBzdGF0dXMubGF5ZXIuZGlydHk7XHJcbiAgICAgICAgY29uc3QgaW50ZXJhY3RpdmUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cyk7XHJcbiAgICAgICAgaWYgKGxheWVyRGlydHkgfHwgaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHN0YXR1cy5sYXllci5jb250ZXh0O1xyXG4gICAgICAgICAgICBjb25zdCBnaG9zdENvbnRleHQgPSB0aGlzLl9yZW5kZXJlci5fZ2hvc3RMYXllci5jb250ZXh0O1xyXG4gICAgICAgICAgICBpZiAobGF5ZXJEaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gdGhpcy5fZ2V0Q29sb3JJZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX29wZXJhdGlvbnMsIChvcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyRGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcC5wYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wLmNvbG9yaXplKGNvbnRleHQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcC5wYXRoR2hvc3QoZ2hvc3RDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBvcC5jb2xvcml6ZUdob3N0KGdob3N0Q29udGV4dCwgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXJEZXRhY2hlZChjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRNYXRyaXgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIC8vIFdlIG11c3QgYXBwbHkgdGhlIG1hc2sgYmVmb3JlIHdlIHRyYW5zZm9ybSB0aGUgZWxlbWVudFxyXG4gICAgICAgICAgICBjb25zdCBtYXNrID0gdGhpcy5tYXNrO1xyXG4gICAgICAgICAgICBpZiAobWFzaykge1xyXG4gICAgICAgICAgICAgICAgbWFzay5fc2V0TWF0cml4KCk7XHJcbiAgICAgICAgICAgICAgICBtYXNrLl90cmFuc2Zvcm0oY29udGV4dCwgMSk7XHJcbiAgICAgICAgICAgICAgICBtYXNrLl9ydW5QYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgY29tcG91bmRBbHBoYSBzb21laG93ID9cclxuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMuY29tcG91bmRBbHBoYSAqIHRoaXMuYWxwaGE7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybShjb250ZXh0LCAxKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbHRlciA9IHRoaXMuZmlsdGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGU7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX29wZXJhdGlvbnMsIChvcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb3AucGF0aChjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIG9wLmNvbG9yaXplKGNvbnRleHQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgJiYgdGhpcy5pc01lYXN1cmVkKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX29wZXJhdGlvbnMsIChvcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb3AuYWRkQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc1RleHQgZXh0ZW5kcyBDYW52YXNEaXNwbGF5T2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCB0ZXh0LCBzdHlsZSkge1xyXG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0eWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc29sdXRpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRWaXNpYmxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGV4dEluZm9cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29yaWdpbmFsU2NhbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xyXG4gICAgfVxyXG4gICAgaW52YWxpZGF0ZUJvdW5kcygpIHtcclxuICAgICAgICBzdXBlci5pbnZhbGlkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5fdGV4dEluZm8gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBfc2hhcmVkKGNvbnRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy5zdHlsZS50ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSB0aGlzLnN0eWxlLnRleHRBbGlnbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZGlyZWN0aW9uID0gdGhpcy5zdHlsZS5kaXJlY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN0eWxlLnRleHRCYXNlbGluZSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHRoaXMuc3R5bGUudGV4dEJhc2VsaW5lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wcmVyZW5kZXIoc3RhdHVzLCBpZ25vcmVHaG9zdCA9IGZhbHNlLCBpZ25vcmVGb250V2VpZ2h0ID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlci5fcmVuZGVyKHN0YXR1cyk7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHN0YXR1cy5sYXllci5jb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IGdob3N0Q29udGV4dCA9IHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgLy8gRm9udCBzdHlsZVxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcclxuICAgICAgICBsZXQgZm9udFN0eWxlID0gdGhpcy5fZ2V0Rm9udFN0eWxlKHVuZGVmaW5lZCwgaWdub3JlRm9udFdlaWdodCk7XHJcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udFN0eWxlO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cykgJiYgIWlnbm9yZUdob3N0KSB7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5mb250ID0gZm9udFN0eWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBPdGhlciBwYXJhbWV0ZXJzXHJcbiAgICAgICAgaWYgKHN0eWxlLmZpbGwpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlLmZpbGwgaW5zdGFuY2VvZiBDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZS5maWxsLnRvQ1NTKHN0eWxlLmZpbGxPcGFjaXR5ICE9IHVuZGVmaW5lZCA/IHN0eWxlLmZpbGxPcGFjaXR5IDogMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlLnNoYWRvd0NvbG9yKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LnNoYWRvd0NvbG9yID0gc3R5bGUuc2hhZG93Q29sb3IudG9DU1Moc3R5bGUuc2hhZG93T3BhY2l0eSB8fCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlLnNoYWRvd0JsdXIpIHtcclxuICAgICAgICAgICAgc3RhdHVzLmxheWVyLmNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLnNoYWRvd0JsdXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHlsZS5zaGFkb3dPZmZzZXRYKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LnNoYWRvd09mZnNldFggPSBzdHlsZS5zaGFkb3dPZmZzZXRYO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3R5bGUuc2hhZG93T2Zmc2V0WSkge1xyXG4gICAgICAgICAgICBzdGF0dXMubGF5ZXIuY29udGV4dC5zaGFkb3dPZmZzZXRZID0gc3R5bGUuc2hhZG93T2Zmc2V0WTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2hhcmVkKGNvbnRleHQpO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cykgJiYgIWlnbm9yZUdob3N0KSB7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZXRDb2xvcklkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoYXJlZChnaG9zdENvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9nZXRGb250U3R5bGUoc3R5bGUyLCBpZ25vcmVGb250V2VpZ2h0ID0gZmFsc2UpIHtcclxuICAgICAgICAvLyBQcm9jZXNzIGRlZmF1bHRzXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xyXG4gICAgICAgIGxldCBmb250U3R5bGUgPSBbXTtcclxuICAgICAgICBpZiAoc3R5bGUyICYmIHN0eWxlMi5mb250VmFyaWFudCkge1xyXG4gICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZTIuZm9udFZhcmlhbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzdHlsZS5mb250VmFyaWFudCkge1xyXG4gICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZS5mb250VmFyaWFudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaWdub3JlRm9udFdlaWdodCkge1xyXG4gICAgICAgICAgICBpZiAoc3R5bGUyICYmIHN0eWxlMi5mb250V2VpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZTIuZm9udFdlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuZm9udFdlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUuZm9udFdlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlMiAmJiBzdHlsZTIuZm9udFN0eWxlKSB7XHJcbiAgICAgICAgICAgIGZvbnRTdHlsZS5wdXNoKHN0eWxlMi5mb250U3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzdHlsZS5mb250U3R5bGUpIHtcclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUuZm9udFN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlMiAmJiBzdHlsZTIuZm9udFNpemUpIHtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHN0eWxlMi5mb250U2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlMi5mb250U2l6ZSA9IHN0eWxlMi5mb250U2l6ZSArIFwicHhcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZTIuZm9udFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzdHlsZS5mb250U2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoc3R5bGUuZm9udFNpemUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvbnRTdHlsZS5wdXNoKHN0eWxlLmZvbnRTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlMiAmJiBzdHlsZTIuZm9udEZhbWlseSkge1xyXG4gICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZTIuZm9udEZhbWlseSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmZvbnRGYW1pbHkpIHtcclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUuZm9udEZhbWlseSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZvbnRTdHlsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goXCJBcmlhbFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvbnRTdHlsZS5qb2luKFwiIFwiKTtcclxuICAgIH1cclxuICAgIF9yZW5kZXIoc3RhdHVzKSB7XHJcbiAgICAgICAgLy8gV2UgbmVlZCBtZWFzdXJlbWVudHMgaW4gb3JkZXIgdG8gcHJvcGVybHkgcG9zaXRpb24gdGV4dCBmb3IgYWxpZ25tZW50XHJcbiAgICAgICAgaWYgKCF0aGlzLl90ZXh0SW5mbykge1xyXG4gICAgICAgICAgICB0aGlzLl9tZWFzdXJlKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRleHRWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aXZlID0gdGhpcy5faXNJbnRlcmFjdGl2ZShzdGF0dXMpO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gc3RhdHVzLmxheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGxheWVyRGlydHkgPSBzdGF0dXMubGF5ZXIuZGlydHk7XHJcbiAgICAgICAgICAgIGNvbnN0IGdob3N0Q29udGV4dCA9IHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBnaG9zdENvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wcmVyZW5kZXIoc3RhdHVzKTtcclxuICAgICAgICAgICAgLy8gY29uc3QgbGluZXMgPSB0aGlzLnRleHQudG9TdHJpbmcoKS5yZXBsYWNlKC9cXHIvZywgXCJcIikuc3BsaXQoL1xcbi8pO1xyXG4gICAgICAgICAgICAvLyBjb25zdCB4ID0gdGhpcy5fbG9jYWxCb3VuZHMgJiYgKHRoaXMuX2xvY2FsQm91bmRzLmxlZnQgPCAwKSA/IE1hdGguYWJzKHRoaXMuX2xvY2FsQm91bmRzLmxlZnQpIDogMDtcclxuICAgICAgICAgICAgLy8gUHJvY2VzcyB0ZXh0IGluZm8gcHJvZHVjZWQgYnkgX21lYXN1cmUoKVxyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90ZXh0SW5mbywgKGxpbmUsIF9pbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2gobGluZS50ZXh0Q2h1bmtzLCAoY2h1bmssIF9pbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBzdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gY2h1bmsuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5mb250ID0gY2h1bmsuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY2h1bmsuZmlsbC50b0NTUygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBkb2VzIG5vdCBhZmZlY3QgZ2hvc3RDb250ZXh0IHNvIHdlIG5vdCBzZXQgaXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyRGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChjaHVuay50ZXh0LCBjaHVuay5vZmZzZXRYLCBsaW5lLm9mZnNldFkgKyBjaHVuay5vZmZzZXRZKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsudGV4dERlY29yYXRpb24gPT0gXCJ1bmRlcmxpbmVcIiB8fCBjaHVuay50ZXh0RGVjb3JhdGlvbiA9PSBcImxpbmUtdGhyb3VnaFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aGlja25lc3MgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvbnRTaXplID0gY2h1bmsuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IGNodW5rLm9mZnNldFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdHlsZS50ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFggLT0gY2h1bmsud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCAtPSBjaHVuay53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXQgPSBUZXh0Rm9ybWF0dGVyLmdldFRleHRTdHlsZShjaHVuay5zdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZvcm1hdC5mb250V2VpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvbGRlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib2xkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjcwMFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI4MDBcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiOTAwXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaWNrbmVzcyA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZm9udFNpemUgLyAyMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnRleHREZWNvcmF0aW9uID09IFwibGluZS10aHJvdWdoXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0aGlja25lc3MgKyBsaW5lLm9mZnNldFkgKyBjaHVuay5vZmZzZXRZIC0gY2h1bmsuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0aGlja25lc3MgKyBvZmZzZXQgKiAxLjUgKyBsaW5lLm9mZnNldFkgKyBjaHVuay5vZmZzZXRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNodW5rLmZpbGwudG9DU1MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnN0eWxlLmZpbGwgJiYgdGhpcy5zdHlsZS5maWxsIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0eWxlLmZpbGwudG9DU1MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHRoaWNrbmVzcyAqIG9mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ob2Zmc2V0WCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKG9mZnNldFggKyBjaHVuay53aWR0aCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUgJiYgdGhpcy5pbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IHRleHQgaW4gZ2hvc3QgY2FudmFzIE9OTFkgaWYgaXQgaXMgc2V0IGFzIGludGVyYWN0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cGxpY2l0bHkuIFRoaXMgd2F5IHdlIGF2b2lkIGhpdCB0ZXN0IGFub21hbGllcyBjYXVzZWQgYnkgYW50aVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGlhc2luZyBvZiB0ZXh0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQuZmlsbFRleHQoY2h1bmsudGV4dCwgY2h1bmsub2Zmc2V0WCwgbGluZS5vZmZzZXRZICsgY2h1bmsub2Zmc2V0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5maWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBkb2VzIG5vdCBhZmZlY3QgZ2hvc3RDb250ZXh0IHNvIHdlIG5vdCBzZXQgaXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgc3R5bGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgJiYgdGhpcy5pc01lYXN1cmVkKSB7XHJcbiAgICAgICAgICAgIC8vaWYgKHRoaXMuX3RleHRWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLl9tZWFzdXJlKHtcclxuICAgICAgICAgICAgICAgIGluYWN0aXZlOiB0aGlzLmluYWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMuZ2V0TGF5ZXIoKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB4LmxlZnQsIHk6IHgudG9wIH0pO1xyXG4gICAgICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogeC5yaWdodCwgeTogeC5ib3R0b20gfSk7XHJcbiAgICAgICAgICAgIC8vfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9pZ25vcmVGb250V2VpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiAvYXBwbGUvaS50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xyXG4gICAgfVxyXG4gICAgX21lYXN1cmUoc3RhdHVzKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHN0YXR1cy5sYXllci5jb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IGdob3N0Q29udGV4dCA9IHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgY29uc3QgcnRsID0gdGhpcy5zdHlsZS5kaXJlY3Rpb24gPT0gXCJydGxcIjtcclxuICAgICAgICAvLyBSZXNldCB0ZXh0IGluZm9cclxuICAgICAgICB0aGlzLl90ZXh0SW5mbyA9IFtdO1xyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBjb25zdCBvdmVyc2l6ZWRCZWhhdmlvciA9IHRoaXMuc3R5bGUub3ZlcnNpemVkQmVoYXZpb3I7XHJcbiAgICAgICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLnN0eWxlLm1heFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHRydW5jYXRlID0gJHR5cGUuaXNOdW1iZXIobWF4V2lkdGgpICYmIG92ZXJzaXplZEJlaGF2aW9yID09IFwidHJ1bmNhdGVcIjtcclxuICAgICAgICBjb25zdCB3cmFwID0gJHR5cGUuaXNOdW1iZXIobWF4V2lkdGgpICYmIChvdmVyc2l6ZWRCZWhhdmlvciA9PSBcIndyYXBcIiB8fCBvdmVyc2l6ZWRCZWhhdmlvciA9PSBcIndyYXAtbm8tYnJlYWtcIik7XHJcbiAgICAgICAgLy8gUHJlLXJlbmRlclxyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5fcHJlcmVuZGVyKHN0YXR1cywgdHJ1ZSwgdGhpcy5faWdub3JlRm9udFdlaWdodCgpKTtcclxuICAgICAgICAvLyBHZXQgZGVmYXVsdCBmb250IG1ldHJpeFxyXG4gICAgICAgIGNvbnN0IHJlZlRleHQgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IFwiO1xyXG4gICAgICAgIC8vIFNwbGl0IHVwIHRleHQgaW50byBsaW5lc1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gdGhpcy50ZXh0LnRvU3RyaW5nKCkucmVwbGFjZSgvXFxyL2csIFwiXCIpLnNwbGl0KC9cXG4vKTtcclxuICAgICAgICBsZXQgc3R5bGVSZXN0b3JlZCA9IHRydWU7XHJcbiAgICAgICAgbGV0IG1pblggPSAwO1xyXG4gICAgICAgIGxldCBtYXhYID0gMDtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGxpbmVzXHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50U3R5bGU7XHJcbiAgICAgICAgJGFycmF5LmVhY2gobGluZXMsIChsaW5lLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgLy8gU3BsaXQgdXAgbGluZSBpbnRvIGZvcm1hdC92YWx1ZSBjaHVua3NcclxuICAgICAgICAgICAgbGV0IGNodW5rcztcclxuICAgICAgICAgICAgaWYgKGxpbmUgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgY2h1bmtzID0gW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ2YWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaHVua3MgPSBUZXh0Rm9ybWF0dGVyLmNodW5rKGxpbmUsIGZhbHNlLCB0aGlzLnN0eWxlLmlnbm9yZUZvcm1hdHRpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlIChjaHVua3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSW5pdCBsaW5lIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgbGV0IGxpbmVJbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IG9mZnNldFksXHJcbiAgICAgICAgICAgICAgICAgICAgYXNjZW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRDaHVua3M6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8gTWVhc3VyZSByZWZlcmVuY2UgdGV4dFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KHJlZlRleHQsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50O1xyXG4gICAgICAgICAgICAgICAgbGluZUluZm8uaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgbGluZUluZm8uYXNjZW50ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudDtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Rm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnREZWNvcmF0aW9uID0gdGhpcy5zdHlsZS50ZXh0RGVjb3JhdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RmlsbDtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgIGxldCBza2lwRnVydGhlclRleHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBmaXJzdFRleHRDaHVuayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGVmdG92ZXJDaHVua3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50VmVydGljYWxBbGlnbjtcclxuICAgICAgICAgICAgICAgIC8vbGV0IG9mZnNldFggPSAwO1xyXG4gICAgICAgICAgICAgICAgLy9sZXQgY2h1bms7XHJcbiAgICAgICAgICAgICAgICAvL3doaWxlKGNodW5rID0gY2h1bmtzLnNoaWZ0KCkpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoQ29udGludWUoY2h1bmtzLCAoY2h1bmssIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0IGNodW5rXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT0gXCJmb3JtYXRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsudGV4dCA9PSBcIlsvXVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlUmVzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUmVzdG9yZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpbGwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmtXaWR0aCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREZWNvcmF0aW9uID0gdGhpcy5zdHlsZS50ZXh0RGVjb3JhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJ0aWNhbEFsaWduID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZvcm1hdCA9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlUmVzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1hdCA9IFRleHRGb3JtYXR0ZXIuZ2V0VGV4dFN0eWxlKGNodW5rLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFN0eWxlID0gdGhpcy5fZ2V0Rm9udFN0eWxlKGZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250U3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGUgPSBmb250U3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rm9ybWF0ID0gY2h1bmsudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQudGV4dERlY29yYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGVjb3JhdGlvbiA9IGZvcm1hdC50ZXh0RGVjb3JhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQuZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaWxsID0gZm9ybWF0LmZpbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0LndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENodW5rV2lkdGggPSAkdHlwZS50b051bWJlcihmb3JtYXQud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC52ZXJ0aWNhbEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlcnRpY2FsQWxpZ24gPSBmb3JtYXQudmVydGljYWxBbGlnbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUmVzdG9yZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1lYXN1cmUgcmVmZXJlbmNlIHRleHQgYWZ0ZXIgY2hhbmdlIG9mIGZvcm1hdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KHJlZlRleHQsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCA+IGxpbmVJbmZvLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ID4gbGluZUluZm8uYXNjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uYXNjZW50ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBUZXh0IGNodW5rXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2h1bmsudHlwZSA9PSBcInZhbHVlXCIgJiYgIXNraXBGdXJ0aGVyVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNZWFzdXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLl9tZWFzdXJlVGV4dChjaHVuay50ZXh0LCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rV2lkdGggPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGZpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJ1bmNhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJyZWFrIHdvcmRzP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJyZWFrV29yZHMgPSBmaXJzdFRleHRDaHVuayB8fCB0aGlzLnN0eWxlLmJyZWFrV29yZHMgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNZWFzdXJlIGVsbGlwc2lzIGFuZCBjaGVjayBpZiBpdCBmaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNpcyA9IHRoaXMuc3R5bGUuZWxsaXBzaXMgfHwgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2lzTWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KGVsbGlwc2lzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2lzV2lkdGggPSBlbGxpcHNpc01ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ICsgZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobGluZUluZm8ud2lkdGggKyBjaHVua1dpZHRoKSA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhjZXNzV2lkdGggPSBtYXhXaWR0aCAtIGxpbmVJbmZvLndpZHRoIC0gZWxsaXBzaXNXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuay50ZXh0ID0gdGhpcy5fdHJ1bmNhdGVUZXh0KGNvbnRleHQsIGNodW5rLnRleHQsIGV4Y2Vzc1dpZHRoLCBicmVha1dvcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuay50ZXh0ICs9IGVsbGlwc2lzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBGdXJ0aGVyVGV4dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAod3JhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZml0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGxpbmVJbmZvLndpZHRoICsgY2h1bmtXaWR0aCkgPiBtYXhXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2Vzc1dpZHRoID0gbWF4V2lkdGggLSBsaW5lSW5mby53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0bXBUZXh0ID0gdGhpcy5fdHJ1bmNhdGVUZXh0KGNvbnRleHQsIGNodW5rLnRleHQsIGV4Y2Vzc1dpZHRoLCBmYWxzZSwgKGZpcnN0VGV4dENodW5rICYmIHRoaXMuc3R5bGUub3ZlcnNpemVkQmVoYXZpb3IgIT0gXCJ3cmFwLW5vLWJyZWFrXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wVGV4dCA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuYWJsZSB0byBmaXQgYSBzaW5nbGUgbGV0dGVyIC0gaGlkZSB0aGUgd2hvbGUgbGFiZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0VmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9za2lwRnVydGhlclRleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWRkIHJlbWFpbmluZyBjaHVua3MgZm9yIHRoZSBuZXh0IGxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0b3ZlckNodW5rcyA9IGNodW5rcy5zbGljZShpbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWRkIHJlbWFpbmluZyB0ZXh0IG9mIGN1cnJlbnQgY2h1bmsgaWYgaXQgd2FzIGZvcmNlZC1jdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWxzLnRyaW0odG1wVGV4dCkgIT0gJHV0aWxzLnRyaW0oY2h1bmsudGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdG92ZXJDaHVua3MudW5zaGlmdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjaHVuay50ZXh0LnN1YnN0cih0bXBUZXh0Lmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0b3ZlckNodW5rcy51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZvcm1hdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGN1cnJlbnRGb3JtYXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50IGNodW5rICh0cnVuY2F0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsudGV4dCA9ICR1dGlscy50cmltKHRtcFRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBGdXJ0aGVyVGV4dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2h1bmsgd2lkdGg/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZWZ0Qm91bmRNb2QgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmlnaHRCb3VuZE1vZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3R5bGUgJiYgY3VycmVudENodW5rV2lkdGggJiYgKGN1cnJlbnRDaHVua1dpZHRoID4gY2h1bmtXaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluY3JlYXNlIGhvcml6b250YWwgYm91bmRpbmcgYm94ZXMgYWNjb3JkaW5nbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kc01vZCA9IGNodW5rV2lkdGggLyBjdXJyZW50Q2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdHlsZS50ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRCb3VuZE1vZCA9IGJvdW5kc01vZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0Qm91bmRNb2QgPSBib3VuZHNNb2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Qm91bmRNb2QgPSBib3VuZHNNb2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Qm91bmRNb2QgPSBib3VuZHNNb2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua1dpZHRoID0gY3VycmVudENodW5rV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtIZWlnaHQgPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVua0hlaWdodCA+IGxpbmVJbmZvLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uaGVpZ2h0ID0gY2h1bmtIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgPiBsaW5lSW5mby5hc2NlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmFzY2VudCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ud2lkdGggKz0gY2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ubGVmdCArPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCAvIGxlZnRCb3VuZE1vZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ucmlnaHQgKz0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0IC8gcmlnaHRCb3VuZE1vZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8udGV4dENodW5rcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjdXJyZW50U3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBjdXJyZW50RmlsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNodW5rLnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2h1bmtXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2h1bmtIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2NlbnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRYOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBjdXJyZW50RGVjb3JhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IGN1cnJlbnRWZXJ0aWNhbEFsaWduXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29mZnNldFggKz0gY2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RUZXh0Q2h1bmsgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRvdmVyQ2h1bmtzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGUubGluZUhlaWdodCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5oZWlnaHQgKj0gdGhpcy5zdHlsZS5saW5lSGVpZ2h0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmFzY2VudCAqPSB0aGlzLnN0eWxlLmxpbmVIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5oZWlnaHQgKj0gdGhpcy5zdHlsZS5saW5lSGVpZ2h0IHx8IDEuMjtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5hc2NlbnQgKj0gdGhpcy5zdHlsZS5saW5lSGVpZ2h0IHx8IDEuMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtaW5YIDwgbGluZUluZm8ubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSBsaW5lSW5mby5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1heFggPCBsaW5lSW5mby5yaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFggPSBsaW5lSW5mby5yaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRJbmZvLnB1c2gobGluZUluZm8pO1xyXG4gICAgICAgICAgICAgICAgLy9saW5lSW5mby5vZmZzZXRZICs9IGxpbmVJbmZvLmFzY2VudDtcclxuICAgICAgICAgICAgICAgIG9mZnNldFkgKz0gbGluZUluZm8uaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgY2h1bmtzIHNvIHRoYXQgaXQgY2FuIHByb2NlZWQgdG8gdGhlIG5leHQgbGluZVxyXG4gICAgICAgICAgICAgICAgY2h1bmtzID0gbGVmdG92ZXJDaHVua3MgfHwgW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIXN0eWxlUmVzdG9yZWQpIHtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkanVzdCBjaHVuayBpbnRlcm5hbCBvZmZzZXRzXHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGV4dEluZm8sIChsaW5lSW5mbywgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q2h1bmtPZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChsaW5lSW5mby50ZXh0Q2h1bmtzLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgICAgICAgIGNodW5rLm9mZnNldFggPSBjdXJyZW50Q2h1bmtPZmZzZXQgKyBjaHVuay5sZWZ0IC0gbGluZUluZm8ubGVmdDtcclxuICAgICAgICAgICAgICAgIGNodW5rLm9mZnNldFkgKz0gbGluZUluZm8uaGVpZ2h0IC0gbGluZUluZm8uaGVpZ2h0ICogKHRoaXMuc3R5bGUuYmFzZWxpbmVSYXRpbyB8fCAwLjE5KTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVua09mZnNldCArPSBjaHVuay53aWR0aDtcclxuICAgICAgICAgICAgICAgIGlmIChjaHVuay52ZXJ0aWNhbEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaHVuay52ZXJ0aWNhbEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsub2Zmc2V0WSAtPSBsaW5lSW5mby5oZWlnaHQgLyAyIC0gY2h1bmsuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ViXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuay5vZmZzZXRZICs9IGNodW5rLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHtcclxuICAgICAgICAgICAgbGVmdDogcnRsID8gLW1heFggOiAtbWluWCxcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICByaWdodDogcnRsID8gbWluWCA6IG1heFgsXHJcbiAgICAgICAgICAgIGJvdHRvbTogb2Zmc2V0WSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZml0P1xyXG4gICAgICAgIGlmIChvdmVyc2l6ZWRCZWhhdmlvciAhPT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLl9maXRSYXRpbyhib3VuZHMpO1xyXG4gICAgICAgICAgICBpZiAocmF0aW8gPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3ZlcnNpemVkQmVoYXZpb3IgPT0gXCJmaXRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih0aGlzLnN0eWxlLm1pblNjYWxlKSAmJiAocmF0aW8gPCB0aGlzLnN0eWxlLm1pblNjYWxlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9vcmlnaW5hbFNjYWxlIHx8IHRoaXMuX29yaWdpbmFsU2NhbGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxTY2FsZSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHJhdGlvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvdmVyc2l6ZWRCZWhhdmlvciA9PSBcImhpZGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdHlsZS50ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gLW1heFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCA9IC1tYXhXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSBtYXhXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IG1heFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy5fb3JpZ2luYWxTY2FsZSB8fCAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsU2NhbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0VmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy5fb3JpZ2luYWxTY2FsZSB8fCAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxTY2FsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcclxuICAgIH1cclxuICAgIF9maXRSYXRpbyhib3VuZHMpIHtcclxuICAgICAgICBjb25zdCBtYXhXID0gdGhpcy5zdHlsZS5tYXhXaWR0aDtcclxuICAgICAgICBjb25zdCBtYXhIID0gdGhpcy5zdHlsZS5tYXhIZWlnaHQ7XHJcbiAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihtYXhXKSAmJiAhJHR5cGUuaXNOdW1iZXIobWF4SCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHcgPSBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdDtcclxuICAgICAgICBjb25zdCBoID0gYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3A7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG1heFcgLyB3IHx8IDEsIG1heEggLyBoIHx8IDEpO1xyXG4gICAgfVxyXG4gICAgX3RydW5jYXRlVGV4dChjb250ZXh0LCB0ZXh0LCBtYXhXaWR0aCwgYnJlYWtXb3JkcyA9IGZhbHNlLCBmYWxsYmFja0JyZWFrV29yZHMgPSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IHdpZHRoO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgaWYgKGJyZWFrV29yZHMpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCB0bXAgPSB0ZXh0LnJlcGxhY2UoL1teLDs6IT9cXFxcXFwvXFxz4oCLXStbLDs6IT9cXFxcXFwvXFxz4oCLXSokL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0bXAgPT0gXCJcIiB8fCB0bXAgPT09IHRleHQpICYmIGZhbGxiYWNrQnJlYWtXb3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrV29yZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG1wID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0bXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KHRleHQsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICB3aWR0aCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xyXG4gICAgICAgIH0gd2hpbGUgKCh3aWR0aCA+IG1heFdpZHRoKSAmJiB0ZXh0ICE9IFwiXCIpO1xyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfVxyXG4gICAgX21lYXN1cmVUZXh0KHRleHQsIGNvbnRleHQpIHtcclxuICAgICAgICBsZXQgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XHJcbiAgICAgICAgbGV0IGZha2VNZXRyaWNzID0ge307XHJcbiAgICAgICAgaWYgKG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBcIi0xMDAwMDAwcHg7XCI7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5mb250RmFtaWx5ID0gdGhpcy5zdHlsZS5mb250RmFtaWx5IHx8IFwiXCI7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5mb250U2l6ZSA9IHRoaXMuc3R5bGUuZm9udFNpemUgKyBcIlwiO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIGNvbnN0IGJib3ggPSBkaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgY29uc3QgaCA9IGJib3guaGVpZ2h0O1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gbWV0cmljcy53aWR0aDtcclxuICAgICAgICAgICAgbGV0IGxlZnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgcmlnaHQgPSB3O1xyXG4gICAgICAgICAgICBmYWtlTWV0cmljcyA9IHtcclxuICAgICAgICAgICAgICAgIGFjdHVhbEJvdW5kaW5nQm94QXNjZW50OiBoLFxyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50OiAwLFxyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hMZWZ0OiBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hSaWdodDogcmlnaHQsXHJcbiAgICAgICAgICAgICAgICBmb250Qm91bmRpbmdCb3hBc2NlbnQ6IGgsXHJcbiAgICAgICAgICAgICAgICBmb250Qm91bmRpbmdCb3hEZXNjZW50OiAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9yZXR1cm4gZmFrZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZha2VNZXRyaWNzID0ge1xyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQsXHJcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LFxyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hMZWZ0OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCxcclxuICAgICAgICAgICAgICAgIGFjdHVhbEJvdW5kaW5nQm94UmlnaHQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCxcclxuICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveEFzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxcclxuICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveERlc2NlbnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IG1ldHJpY3Mud2lkdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdyA9IG1ldHJpY3Mud2lkdGg7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0eWxlLnRleHRBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxyXG4gICAgICAgICAgICAgICAgZmFrZU1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ID0gdztcclxuICAgICAgICAgICAgICAgIGZha2VNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcclxuICAgICAgICAgICAgICAgIGZha2VNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCA9IHcgLyAyO1xyXG4gICAgICAgICAgICAgICAgZmFrZU1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCA9IHcgLyAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBmYWtlTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgZmFrZU1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCA9IHc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWtlTWV0cmljcztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc1RleHRTdHlsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvL3B1YmxpYyB3b3JkV3JhcFdpZHRoOiBudW1iZXIgPSAxMDA7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlsbFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWxsT3BhY2l0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0QWxpZ25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9udEZhbWlseVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250U2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250V2VpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvbnRTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250VmFyaWFudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0RGVjb3JhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkb3dDb2xvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkb3dCbHVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd09mZnNldFhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZG93T2Zmc2V0WVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkb3dPcGFjaXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGxlYWRpbmc/OiBudW1iZXI7XHJcbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZz86IG51bWJlcjtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsaW5lSGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHBlcmNlbnQoMTIwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhc2VsaW5lUmF0aW9cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMC4xOVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHBhZGRpbmc/OiBudW1iZXI7XHJcbiAgICAgICAgLy8gc3Ryb2tlPzogbnVtYmVyO1xyXG4gICAgICAgIC8vIHN0cm9rZVRoaWNrbmVzcz86IG51bWJlcjtcclxuICAgICAgICAvLyB0cmltPzogbnVtYmVyO1xyXG4gICAgICAgIC8vIHdvcmRXcmFwPzogYm9vbGVhbjtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXJlY3Rpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGV4dEJhc2VsaW5lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm92ZXJzaXplZEJlaGF2aW9yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwibm9uZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYnJlYWtXb3Jkc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVsbGlwc2lzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwi4oCmXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhIZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWluU2NhbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWdub3JlRm9ybWF0dGluZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzUmFkaWFsVGV4dCBleHRlbmRzIENhbnZhc1RleHQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0VHlwZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBcImNpcmN1bGFyXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyYWRpdXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRBbmdsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnNpZGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmllbnRhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBcImF1dG9cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImtlcm5pbmdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90ZXh0UmV2ZXJzZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9yZW5kZXIoc3RhdHVzKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnRleHRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjaXJjdWxhclwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyQ2lyY3VsYXIoc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbmRlckNpcmN1bGFyKHN0YXR1cykge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHRWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXJlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGl2ZSA9IHRoaXMuX2lzSW50ZXJhY3RpdmUoc3RhdHVzKTtcclxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHN0YXR1cy5sYXllci5jb250ZXh0O1xyXG4gICAgICAgICAgICBjb25zdCBsYXllckRpcnR5ID0gc3RhdHVzLmxheWVyLmRpcnR5O1xyXG4gICAgICAgICAgICBjb25zdCBnaG9zdENvbnRleHQgPSB0aGlzLl9yZW5kZXJlci5fZ2hvc3RMYXllci5jb250ZXh0O1xyXG4gICAgICAgICAgICAvLyBTYXZlcG9pbnRcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBuZWVkIG1lYXN1cmVtZW50cyBpbiBvcmRlciB0byBwcm9wZXJseSBwb3NpdGlvbiB0ZXh0IGZvciBhbGlnbm1lbnRcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl90ZXh0SW5mbykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVhc3VyZShzdGF0dXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEluaXRcclxuICAgICAgICAgICAgbGV0IHJhZGl1cyA9ICh0aGlzLnJhZGl1cyB8fCAwKTtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSAodGhpcy5zdGFydEFuZ2xlIHx8IDApO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFBbmdsZSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBvcmllbnRhdGlvbiA9IHRoaXMub3JpZW50YXRpb247XHJcbiAgICAgICAgICAgIGxldCBpbndhcmQgPSBvcmllbnRhdGlvbiA9PSBcImF1dG9cIiA/IFwiYXV0b1wiIDogb3JpZW50YXRpb24gPT0gXCJpbndhcmRcIjtcclxuICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gdGhpcy5pbnNpZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsaWduID0gdGhpcy5zdHlsZS50ZXh0QWxpZ24gfHwgXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGtlcm5pbmcgPSB0aGlzLmtlcm5pbmcgfHwgMDtcclxuICAgICAgICAgICAgbGV0IGNsb2Nrd2lzZSA9IGFsaWduID09IFwibGVmdFwiID8gMSA6IC0xO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZXZlcnNlID0gIXRoaXMuX3RleHRSZXZlcnNlZDtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBpbnZlcnQgdGhlIHdob2xlIHN0dWZmXHJcbiAgICAgICAgICAgIGlmIChpbndhcmQgPT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIENhbGMgbWF4IGFuZ2xlIHNvIHdlIGtub3cgd2hldGhlciB3ZSBuZWVkIHRvIGZsaXAgaXRcclxuICAgICAgICAgICAgICAgIGxldCBtYXhBbmdsZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWlkQW5nbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGV4dEluZm8sIChsaW5lLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YUFuZ2xlID0gc3RhcnRBbmdsZSArIChsaW5lLndpZHRoIC8gKHJhZGl1cyAtIGxpbmUuaGVpZ2h0KSkgLyAyICogLWNsb2Nrd2lzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFBbmdsZSA+IG1heEFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEFuZ2xlID0gZGVsdGFBbmdsZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pZEFuZ2xlID0gKG1heEFuZ2xlICsgZGVsdGFBbmdsZSAvIDIpICogJG1hdGguREVHUkVFUztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFsaWduID09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pZEFuZ2xlID0gKG1heEFuZ2xlIC0gZGVsdGFBbmdsZSAvIDIpICogJG1hdGguREVHUkVFUztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pZEFuZ2xlID0gc3RhcnRBbmdsZSAqICRtYXRoLkRFR1JFRVM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtaWRBbmdsZSA9ICRtYXRoLm5vcm1hbGl6ZUFuZ2xlKG1pZEFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIGlud2FyZCA9IChtaWRBbmdsZSA+PSAyNzApIHx8IChtaWRBbmdsZSA8PSA5MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlud2FyZCA9PSB0cnVlICYmIHNob3VsZFJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRJbmZvLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRSZXZlcnNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgKChpbndhcmQgPT0gZmFsc2UgJiYgYWxpZ24gPT0gXCJsZWZ0XCIpIHx8IChpbndhcmQgPT0gdHJ1ZSAmJiBhbGlnbiA9PSBcInJpZ2h0XCIpKSB7XHJcbiAgICAgICAgICAgIC8vIFx0Y2xvY2t3aXNlICo9IC0xO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGV4dCBpbmZvIHByb2R1Y2VkIGJ5IF9tZWFzdXJlKClcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGV4dEluZm8sIChsaW5lLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSBsaW5lLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIC8vIEFkanVzdCByYWRpdXMgKGZvciBgaW5zaWRlID0gZmFsc2VgKVxyXG4gICAgICAgICAgICAgICAgLy8gUmFkaXVzIGFkanVzdG1lbnQgZm9yIGBpbnNpZGUgPSBmYWxzZWAgaXMgYmVsb3cgdGhlIGxpbmUgY2FsY3VsYXRpb25cclxuICAgICAgICAgICAgICAgIGlmICghaW5zaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzICs9IHRleHRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBSZXZlcnNlIGxldHRlcnMgaWYgd2UncmUgcGFpbnRpbmcgdGhlbSBjb3VudGVyLWNsb2Nrd2lzZVxyXG4gICAgICAgICAgICAgICAgaWYgKCgoY2xvY2t3aXNlID09IC0xICYmIGlud2FyZCkgfHwgKGNsb2Nrd2lzZSA9PSAxICYmICFpbndhcmQpKSAmJiBzaG91bGRSZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS50ZXh0Q2h1bmtzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEluaXQgYW5nbGVzXHJcbiAgICAgICAgICAgICAgICBsZXQgbGluZVN0YXJ0QW5nbGUgPSBzdGFydEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgZGVsdGFBbmdsZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgZm9yIGNlbnRlci1hbGlnblxyXG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09IFwiY2VudGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnRBbmdsZSArPSAobGluZS53aWR0aCAvIChyYWRpdXMgLSB0ZXh0SGVpZ2h0KSkgLyAyICogLWNsb2Nrd2lzZTtcclxuICAgICAgICAgICAgICAgICAgICBkZWx0YUFuZ2xlID0gbGluZVN0YXJ0QW5nbGUgLSBzdGFydEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKGlud2FyZCA9PSBcImF1dG9cIikge1xyXG4gICAgICAgICAgICAgICAgLy8gXHRsZXQgbWlkQW5nbGU7XHJcbiAgICAgICAgICAgICAgICAvLyBcdGlmIChhbGlnbiA9PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gXHRcdG1pZEFuZ2xlID0gKGxpbmVTdGFydEFuZ2xlICsgZGVsdGFBbmdsZSAvIDIpICogJG1hdGguREVHUkVFUztcclxuICAgICAgICAgICAgICAgIC8vIFx0fVxyXG4gICAgICAgICAgICAgICAgLy8gXHRlbHNlIGlmICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFx0XHRtaWRBbmdsZSA9IChsaW5lU3RhcnRBbmdsZSAtIGRlbHRhQW5nbGUgLyAyKSAqICRtYXRoLkRFR1JFRVM7XHJcbiAgICAgICAgICAgICAgICAvLyBcdH1cclxuICAgICAgICAgICAgICAgIC8vIFx0aW53YXJkID0gKG1pZEFuZ2xlID49IDI3MCkgfHwgKG1pZEFuZ2xlIDw9IDkwKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIC8vIFJvdGF0ZSBsZXR0ZXJzIGlmIHRoZXkgYXJlIGZhY2luZyBvdXR3YXJkXHJcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnRBbmdsZSArPSAoTWF0aC5QSSAqIChpbndhcmQgPyAwIDogMSkpOyAvLyBSb3RhdGUgMTgwIGlmIG91dHdhcmRcclxuICAgICAgICAgICAgICAgIC8vIFNhdmVwb2ludFxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQXNzdW1lIHN0YXJ0aW5nIGFuZ2xlXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJvdGF0ZShsaW5lU3RhcnRBbmdsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucm90YXRlKGxpbmVTdGFydEFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZVNoaWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGxpbmUudGV4dENodW5rcywgKGNodW5rLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IHRoZSBsZXR0ZXJcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gY2h1bmsudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBjaHVuay53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSb3RhdGUgaGFsZiBhIGxldHRlclxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlU2hpZnQgPSAoY2hhcldpZHRoIC8gMikgLyAocmFkaXVzIC0gdGV4dEhlaWdodCkgKiBjbG9ja3dpc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yb3RhdGUoYW5nbGVTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yb3RhdGUoYW5nbGVTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBzdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gY2h1bmsuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LmZvbnQgPSBjaHVuay5zdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjaHVuay5maWxsLnRvQ1NTKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbG9yIGRvZXMgbm90IGFmZmVjdCBnaG9zdENvbnRleHQgc28gd2Ugbm90IHNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBDZW50ZXIgbGV0dGVyc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGxvcCB0aGUgbGV0dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyRGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChjaGFyLCAwLCAoaW53YXJkID8gMSA6IC0xKSAqICgwIC0gcmFkaXVzICsgdGV4dEhlaWdodCAvIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5maWxsVGV4dChjaGFyLCAwLCAoaW53YXJkID8gMSA6IC0xKSAqICgwIC0gcmFkaXVzICsgdGV4dEhlaWdodCAvIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbG9yIGRvZXMgbm90IGFmZmVjdCBnaG9zdENvbnRleHQgc28gd2Ugbm90IHNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIGhhbGYgYSBsZXR0ZXIgYW5kIGFkZCBzcGFjaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGVTaGlmdCA9IChjaGFyV2lkdGggLyAyICsga2VybmluZykgLyAocmFkaXVzIC0gdGV4dEhlaWdodCkgKiBjbG9ja3dpc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yb3RhdGUoYW5nbGVTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yb3RhdGUoYW5nbGVTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIGFuZ2xlXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgcmFkaXVzIChmb3IgYGluc2lkZSA9IHRydWVgKVxyXG4gICAgICAgICAgICAgICAgaWYgKGluc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1cyAtPSB0ZXh0SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gUmVzdG9yZVxyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX21lYXN1cmUoc3RhdHVzKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnRleHRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjaXJjdWxhclwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lYXN1cmVDaXJjdWxhcihzdGF0dXMpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLl9tZWFzdXJlKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX21lYXN1cmVDaXJjdWxhcihzdGF0dXMpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gc3RhdHVzLmxheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgY29uc3QgZ2hvc3RDb250ZXh0ID0gdGhpcy5fcmVuZGVyZXIuX2dob3N0TGF5ZXIuY29udGV4dDtcclxuICAgICAgICBjb25zdCBydGwgPSB0aGlzLnN0eWxlLmRpcmVjdGlvbiA9PSBcInJ0bFwiO1xyXG4gICAgICAgIGNvbnN0IG92ZXJzaXplZEJlaGF2aW9yID0gdGhpcy5zdHlsZS5vdmVyc2l6ZWRCZWhhdmlvcjtcclxuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuc3R5bGUubWF4V2lkdGg7XHJcbiAgICAgICAgY29uc3QgdHJ1bmNhdGUgPSAkdHlwZS5pc051bWJlcihtYXhXaWR0aCkgJiYgb3ZlcnNpemVkQmVoYXZpb3IgPT0gXCJ0cnVuY2F0ZVwiO1xyXG4gICAgICAgIGNvbnN0IGVsbGlwc2lzID0gdGhpcy5zdHlsZS5lbGxpcHNpcyB8fCBcIlwiO1xyXG4gICAgICAgIGxldCBlbGxpcHNpc01ldHJpY3M7XHJcbiAgICAgICAgLy9jb25zdCB3cmFwID0gJHR5cGUuaXNOdW1iZXIobWF4V2lkdGgpICYmIChvdmVyc2l6ZWRCZWhhdmlvciA9PSBcIndyYXBcIiB8fCBvdmVyc2l6ZWRCZWhhdmlvciA9PSBcIndyYXAtbm8tYnJlYWtcIik7XHJcbiAgICAgICAgLy8gUmVzZXQgdGV4dCBpbmZvXHJcbiAgICAgICAgdGhpcy50ZXh0VmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fdGV4dEluZm8gPSBbXTtcclxuICAgICAgICB0aGlzLl90ZXh0UmV2ZXJzZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBQcmUtcmVuZGVyXHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICB0aGlzLl9wcmVyZW5kZXIoc3RhdHVzLCB0cnVlKTtcclxuICAgICAgICAvLyBTcGxpdCB1cCB0ZXh0IGludG8gbGluZXNcclxuICAgICAgICBjb25zdCBsaW5lcyA9IHRoaXMudGV4dC50b1N0cmluZygpLnJlcGxhY2UoL1xcci9nLCBcIlwiKS5zcGxpdCgvXFxuLyk7XHJcbiAgICAgICAgbGV0IHN0eWxlUmVzdG9yZWQgPSB0cnVlO1xyXG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gMDtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGxpbmVzXHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSAwO1xyXG4gICAgICAgICRhcnJheS5lYWNoKGxpbmVzLCAobGluZSwgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFNwbGl0IHVwIGxpbmUgaW50byBmb3JtYXQvdmFsdWUgY2h1bmtzXHJcbiAgICAgICAgICAgIGxldCBjaHVua3MgPSBUZXh0Rm9ybWF0dGVyLmNodW5rKGxpbmUsIGZhbHNlLCB0aGlzLnN0eWxlLmlnbm9yZUZvcm1hdHRpbmcpO1xyXG4gICAgICAgICAgICAvLyBJbml0IGxpbmUgb2JqZWN0XHJcbiAgICAgICAgICAgIGxldCBsaW5lSW5mbyA9IHtcclxuICAgICAgICAgICAgICAgIG9mZnNldFk6IG9mZnNldFksXHJcbiAgICAgICAgICAgICAgICBhc2NlbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHRleHRDaHVua3M6IFtdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50U3R5bGU7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50RmlsbDtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRDaHVua1dpZHRoO1xyXG4gICAgICAgICAgICAvL3doaWxlKGNodW5rID0gY2h1bmtzLnNoaWZ0KCkpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goY2h1bmtzLCAoY2h1bmssIF9pbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gRm9ybWF0IGNodW5rXHJcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PSBcImZvcm1hdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnRleHQgPT0gXCJbL11cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlUmVzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUmVzdG9yZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaWxsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVua1dpZHRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1hdCA9IFRleHRGb3JtYXR0ZXIuZ2V0VGV4dFN0eWxlKGNodW5rLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb250U3R5bGUgPSB0aGlzLl9nZXRGb250U3R5bGUoZm9ybWF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnRTdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gZm9udFN0eWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0LmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaWxsID0gZm9ybWF0LmZpbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENodW5rV2lkdGggPSAkdHlwZS50b051bWJlcihmb3JtYXQud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUmVzdG9yZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRydW5jYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2lzTWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KGVsbGlwc2lzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUZXh0IGZvcm1hdFxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2h1bmsudHlwZSA9PSBcInZhbHVlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBNZWFzdXJlIGVhY2ggbGV0dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJzID0gY2h1bmsudGV4dC5tYXRjaCgvLi91ZykgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ0bCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFycyA9ICR1dGlscy5zcGxpdFN0cmluZyhjaHVuay50ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVhc3VyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5fbWVhc3VyZVRleHQoY2hhciwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaHVua1dpZHRoID0gbWV0cmljcy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2h1bmsgd2lkdGg/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3R5bGUgJiYgY3VycmVudENodW5rV2lkdGggJiYgKGN1cnJlbnRDaHVua1dpZHRoID4gY2h1bmtXaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rV2lkdGggPSBjdXJyZW50Q2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua0hlaWdodCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rSGVpZ2h0ID4gbGluZUluZm8uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5oZWlnaHQgPSBjaHVua0hlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCA+IGxpbmVJbmZvLmFzY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uYXNjZW50ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdpZHRoICs9IGNodW5rV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBvdmVyc2l6ZWQgYmVoYXZpb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRydW5jYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNZWFzdXJlIGVsbGlwc2lzIGFuZCBjaGVjayBpZiBpdCBmaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsbGlwc2lzTWV0cmljcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2lzTWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KGVsbGlwc2lzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2lzV2lkdGggPSBlbGxpcHNpc01ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ICsgZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RvdGFsV2lkdGggKz0gZWxsaXBzaXNXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodG90YWxXaWR0aCArIGVsbGlwc2lzV2lkdGgpID4gbWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZUluZm8udGV4dENodW5rcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby53aWR0aCArPSBlbGxpcHNpc1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5sZWZ0ICs9IGVsbGlwc2lzTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLnJpZ2h0ICs9IGVsbGlwc2lzTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby50ZXh0Q2h1bmtzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGN1cnJlbnRTdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IGN1cnJlbnRGaWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZWxsaXBzaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZWxsaXBzaXNXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2h1bmtIZWlnaHQgKyBlbGxpcHNpc01ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBlbGxpcHNpc01ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VudDogZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IGNodW5rSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ud2lkdGggKz0gY2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ubGVmdCArPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ucmlnaHQgKz0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby50ZXh0Q2h1bmtzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGN1cnJlbnRTdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IGN1cnJlbnRGaWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY2hhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjaHVua1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjaHVua0hlaWdodCArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNjZW50OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IGNodW5rSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ0bCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRvZG8gc3RpbGwgbmVlZGVkP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9icmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlLmxpbmVIZWlnaHQgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lSW5mby5oZWlnaHQgKj0gdGhpcy5zdHlsZS5saW5lSGVpZ2h0LnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGluZUluZm8uaGVpZ2h0ICo9IHRoaXMuc3R5bGUubGluZUhlaWdodCB8fCAxLjI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdGV4dEluZm8ucHVzaChsaW5lSW5mbyk7XHJcbiAgICAgICAgICAgIC8vbGluZUluZm8ub2Zmc2V0WSArPSBsaW5lSW5mby5hc2NlbnQ7XHJcbiAgICAgICAgICAgIG9mZnNldFkgKz0gbGluZUluZm8uaGVpZ2h0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghc3R5bGVSZXN0b3JlZCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG92ZXJzaXplZEJlaGF2aW9yID09IFwiaGlkZVwiICYmICh0b3RhbFdpZHRoID4gbWF4V2lkdGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRqdXN0IGNodW5rIGludGVybmFsIG9mZnNldHNcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90ZXh0SW5mbywgKGxpbmVJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGxpbmVJbmZvLnRleHRDaHVua3MsIChjaHVuaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2h1bmsub2Zmc2V0WSArPSBNYXRoLnJvdW5kKChsaW5lSW5mby5oZWlnaHQgLSBjaHVuay5oZWlnaHQgKyAobGluZUluZm8uYXNjZW50IC0gY2h1bmsuYXNjZW50KSkgLyAyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc0ltYWdlIGV4dGVuZHMgQ2FudmFzRGlzcGxheU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgaW1hZ2UpIHtcclxuICAgICAgICBzdXBlcihyZW5kZXJlcik7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImltYWdlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhaW50ZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZG93Q29sb3JcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZG93Qmx1clwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkb3dPZmZzZXRYXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd09mZnNldFlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZG93T3BhY2l0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW1hZ2VNYXNrXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLl9kaXNwb3NlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ltYWdlTWFzaykge1xyXG4gICAgICAgICAgICBjbGVhckNhbnZhcyh0aGlzLl9pbWFnZU1hc2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldExvY2FsQm91bmRzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHMpIHtcclxuICAgICAgICAgICAgbGV0IHcgPSAwO1xyXG4gICAgICAgICAgICBsZXQgaCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB3ID0gdGhpcy53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGggPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICByaWdodDogdyxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogaFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRCb3VuZHModGhpcy5fbG9jYWxCb3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxCb3VuZHM7XHJcbiAgICB9XHJcbiAgICBfcmVuZGVyKHN0YXR1cykge1xyXG4gICAgICAgIHN1cGVyLl9yZW5kZXIoc3RhdHVzKTtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWludGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFpbnRlZCA9IGlzVGFpbnRlZCh0aGlzLmltYWdlKTtcclxuICAgICAgICAgICAgICAgIHN0YXR1cy5sYXllci50YWludGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50YWludGVkICYmIHRoaXMuX3JlbmRlcmVyLl9vbWl0VGFpbnRlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMubGF5ZXIuZGlydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd0NvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmxheWVyLmNvbnRleHQuc2hhZG93Q29sb3IgPSB0aGlzLnNoYWRvd0NvbG9yLnRvQ1NTKHRoaXMuc2hhZG93T3BhY2l0eSB8fCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd0JsdXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMubGF5ZXIuY29udGV4dC5zaGFkb3dCbHVyID0gdGhpcy5zaGFkb3dCbHVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93T2Zmc2V0WCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LnNoYWRvd09mZnNldFggPSB0aGlzLnNoYWRvd09mZnNldFg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dPZmZzZXRZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmxheWVyLmNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IHRoaXMuc2hhZG93T2Zmc2V0WTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgcm91bmQgP1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLndpZHRoIHx8IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgfHwgdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzLmxheWVyLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlICYmIHRoaXMuX2lzSW50ZXJhY3RpdmUoc3RhdHVzKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFzayA9IHRoaXMuX2dldE1hc2sodGhpcy5pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlci5fZ2hvc3RMYXllci5jb250ZXh0LmRyYXdJbWFnZShtYXNrLCAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHN1cGVyLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl9pbWFnZU1hc2sgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBfZ2V0TWFzayhpbWFnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbWFnZU1hc2sgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIHJvdW5kID9cclxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLndpZHRoIHx8IGltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgfHwgaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjcmVhdGUgYSBzZWNvbmQgY2FudmFzIGJlY2F1c2UgZGVzdGluYXRpb24taW4gY2xlYXJzIG91dCB0aGUgZW50aXJlIGNhbnZhc1xyXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2V0Q29sb3JJZCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGFpbnRlZChpbWFnZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1pblwiO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlTWFzayA9IGNhbnZhcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlTWFzaztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc1JlbmRlcmVyRXZlbnQge1xyXG4gICAgY29uc3RydWN0b3IoZXZlbnQsIG9yaWdpbmFsUG9pbnQsIHBvaW50LCBiYm94KSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZXZlbnRcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmlnaW5hbFBvaW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsUG9pbnRcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb2ludFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBwb2ludFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJib3hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogYmJveFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNpbXVsYXRlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hdGl2ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCR1dGlscy5zdXBwb3J0cyhcInRvdWNoZXZlbnRzXCIpICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2gpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGV2ZW50LmlkZW50aWZpZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNSZW5kZXJlciBleHRlbmRzIEFycmF5RGlzcG9zZXIge1xyXG4gICAgY29uc3RydWN0b3IocmVzb2x1dGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmlld1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xheWVyRG9tXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXllcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlydHlMYXllcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0TGF5ZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5nZXRMYXllcigwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9naG9zdExheWVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBHaG9zdExheWVyKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGF0dGVybkNhbnZhc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhdHRlcm5Db250ZXh0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3BhdHRlcm5DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlYWxXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlYWxIZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxjdWxhdGVkV2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxjdWxhdGVkSGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNvbHV0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVyYWN0aW9uc0VuYWJsZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9saXN0ZW5lcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbG9ySWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jb2xvck1hcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mb3JjZUludGVyYWN0aXZlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb21pdFRhaW50ZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIHN0b3JlIHRoZSBJZCBhcyB3ZWxsXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hvdmVyaW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnZ2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tb3VzZWRvd25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdFBvaW50ZXJNb3ZlRXZlbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGFwVG9BY3RpdmF0ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhcFRvQWN0aXZhdGVUaW1lb3V0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDMwMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG91Y2hBY3RpdmVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG91Y2hBY3RpdmVUaW1lb3V0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgdGhpcy52aWV3LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICB0aGlzLnZpZXcuYXBwZW5kQ2hpbGQodGhpcy5fbGF5ZXJEb20pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9ldmVudHMsIChfa2V5LCBldmVudHMpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5kaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckNhbnZhcyhsYXllci52aWV3KTtcclxuICAgICAgICAgICAgICAgIGlmIChsYXllci5leHBvcnRhYmxlVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ2FudmFzKGxheWVyLmV4cG9ydGFibGVWaWV3KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNsZWFyQ2FudmFzKHRoaXMuX2dob3N0TGF5ZXIudmlldyk7XHJcbiAgICAgICAgICAgIGNsZWFyQ2FudmFzKHRoaXMuX3BhdHRlcm5DYW52YXMpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2dob3N0TGF5ZXIudmlldywgXCJjbGlja1wiLCAob3JpZ2luYWxFdmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0RXZlbnQob3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2dldEhpdFRhcmdldChldmVudC5vcmlnaW5hbFBvaW50LCBldmVudC5iYm94KTtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1Zyh0YXJnZXQpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIC8vIE1vbml0b3IgZm9yIHBvc3NpYmxlIHBpeGVsIHJhdGlvIGNoYW5nZXMgKHdoZW4gcGFnZSBpcyB6b29tZWQpXHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLm9uWm9vbSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIC8vIFdlIG5lZWQgdGhpcyBpbiBvcmRlciB0b3AgcHJldmVudCBkZWZhdWx0IHRvdWNoIGdlc3R1cmVzIHdoZW4gZHJhZ2dpbmdcclxuICAgICAgICAvLyBkcmFnZ2FibGUgZWxlbWVudHNcclxuICAgICAgICBpZiAoJHV0aWxzLnN1cHBvcnRzKFwidG91Y2hldmVudHNcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnZ2luZy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaENvbnRpbnVlKHRoaXMuX2RyYWdnaW5nLCAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWx1ZS5zaG91bGRDYW5jZWxUb3VjaCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdG91Y2ggZG93biBoYXBwZW5kcywgZGVsYXkgdG91Y2ggb3V0XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdG91Y2hBY3RpdmVUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsYXlUb3VjaERlYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcInRvdWNoc3RhcnRcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogZmFsc2UgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpZXcsIFwidG91Y2hzdGFydFwiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiBmYWxzZSB9KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKHRoaXMudmlldywgXCJ0b3VjaG1vdmVcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdG91Y2ggaXMgbW92aW5nLCBkZWxheSB0b3VjaCBvdXRcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90b3VjaEFjdGl2ZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWxheVRvdWNoRGVhY3RpdmF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiY2xpY2tcIiwgKF9ldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG91Y2hBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy52aWV3LCBcImNsaWNrXCIsIChfZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3VjaEFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsYXlUb3VjaERlYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFByZXZlbnQgc2Nyb2xsaW5nIG9mIHRoZSB3aW5kb3cgd2hlbiBob3ZlcmluZyBvbiBcIndoZWVsYWJsZVwiIG9iamVjdFxyXG4gICAgICAgIGlmICgkdXRpbHMuc3VwcG9ydHMoXCJ3aGVlbGV2ZW50c1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpZXcsIFwid2hlZWxcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJldmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faG92ZXJpbmcuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai53aGVlbGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLypwcm90ZWN0ZWQgX21vdXNlTW92ZVRocm90dGxlcjogVGhyb3R0bGVyID0gbmV3IFRocm90dGxlcigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hHbG9iYWxNb3VzZW1vdmUodGhpcy5fbGFzdFBvaW50ZXJNb3ZlRXZlbnQuZXZlbnQsIHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50Lm5hdGl2ZSk7XHJcbiAgICB9KTtcclxuICAgICovXHJcbiAgICByZXNldEltYWdlQXJyYXkoKSB7XHJcbiAgICAgICAgdGhpcy5fZ2hvc3RMYXllci5pbWFnZUFycmF5ID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgX2RlbGF5VG91Y2hEZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90b3VjaEFjdGl2ZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RvdWNoQWN0aXZlVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRhcFRvQWN0aXZhdGVUaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90b3VjaEFjdGl2ZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b3VjaEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCB0aGlzLnRhcFRvQWN0aXZhdGVUaW1lb3V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgZGVidWdHaG9zdFZpZXcoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZ2hvc3RMYXllci52aWV3LnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBzZXQgZGVidWdHaG9zdFZpZXcodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9naG9zdExheWVyLnZpZXcucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LmFwcGVuZENoaWxkKHRoaXMuX2dob3N0TGF5ZXIudmlldyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9naG9zdExheWVyLnZpZXcucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2hvc3RMYXllci52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZ2hvc3RMYXllci52aWV3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNyZWF0ZUxpbmVhckdyYWRpZW50KHgxLCB5MSwgeDIsIHkyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdExheWVyLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoeDEsIHkxLCB4MiwgeTIpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlUmFkaWFsR3JhZGllbnQoeDEsIHkxLCByYWRpdXMxLCB4MiwgeTIsIHJhZGl1czIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0TGF5ZXIuY29udGV4dC5jcmVhdGVSYWRpYWxHcmFkaWVudCh4MSwgeTEsIHJhZGl1czEsIHgyLCB5MiwgcmFkaXVzMik7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVQYXR0ZXJuKGdyYXBoaWNzLCBiYWNrZ3JvdW5kLCByZXBldGl0aW9uLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgLy8gY29uc3QgcGF0dGVybkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgLy8gY29uc3QgcGF0dGVybkNvbnRleHQgPSBwYXR0ZXJuQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XHJcbiAgICAgICAgLy8gcGF0dGVybkNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIC8vIHBhdHRlcm5DYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIC8vIGlmIChmaWxsKSB7XHJcbiAgICAgICAgLy8gXHRwYXR0ZXJuQ29udGV4dC5maWxsU3R5bGUgPSBmaWxsLnRvQ1NTKCk7XHJcbiAgICAgICAgLy8gXHRwYXR0ZXJuQ29udGV4dC5maWxsUmVjdCgwLCAwLCBwYXR0ZXJuQ2FudmFzLndpZHRoLCBwYXR0ZXJuQ2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGNvbnN0IGxheWVyID0ge1xyXG4gICAgICAgIC8vIFx0dmlldzogcGF0dGVybkNhbnZhcyxcclxuICAgICAgICAvLyBcdGNvbnRleHQ6IHBhdHRlcm5Db250ZXh0LFxyXG4gICAgICAgIC8vIFx0dmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICAvLyBcdG9yZGVyOiAwLFxyXG4gICAgICAgIC8vIFx0d2lkdGg6IHdpZHRoLFxyXG4gICAgICAgIC8vIFx0aGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgICAgLy8gXHRkaXJ0eTogdHJ1ZVxyXG4gICAgICAgIC8vIH07XHJcbiAgICAgICAgLy8gLy8gcGF0dGVybkNvbnRleHQuYXJjKDAsIDAsIDUwLCAwLCAuNSAqIE1hdGguUEkpO1xyXG4gICAgICAgIC8vIC8vIHBhdHRlcm5Db250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgIC8vIGltYWdlLnRhcmdldExheWVyID0gbGF5ZXI7XHJcbiAgICAgICAgLy8gaW1hZ2UucmVuZGVyKGxheWVyKTtcclxuICAgICAgICAvL3RoaXMuX2xheWVyRG9tLmFwcGVuZENoaWxkKHBhdHRlcm5DYW52YXMpO1xyXG4gICAgICAgIHRoaXMuX3BhdHRlcm5DYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLl9wYXR0ZXJuQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLl9wYXR0ZXJuQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgLy8gcGF0dGVybkNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uICsgXCJweFwiO1xyXG4gICAgICAgIC8vIHBhdHRlcm5DYW52YXMuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uICsgXCJweFwiO1xyXG4gICAgICAgIGJhY2tncm91bmQucmVuZGVyRGV0YWNoZWQodGhpcy5fcGF0dGVybkNvbnRleHQpO1xyXG4gICAgICAgIGdyYXBoaWNzLnJlbmRlckRldGFjaGVkKHRoaXMuX3BhdHRlcm5Db250ZXh0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0dGVybkNvbnRleHQuY3JlYXRlUGF0dGVybih0aGlzLl9wYXR0ZXJuQ2FudmFzLCByZXBldGl0aW9uKTtcclxuICAgIH1cclxuICAgIG1ha2VDb250YWluZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNDb250YWluZXIodGhpcyk7XHJcbiAgICB9XHJcbiAgICBtYWtlR3JhcGhpY3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNHcmFwaGljcyh0aGlzKTtcclxuICAgIH1cclxuICAgIG1ha2VUZXh0KHRleHQsIHN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNUZXh0KHRoaXMsIHRleHQsIHN0eWxlKTtcclxuICAgIH1cclxuICAgIG1ha2VUZXh0U3R5bGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNUZXh0U3R5bGUoKTtcclxuICAgIH1cclxuICAgIG1ha2VSYWRpYWxUZXh0KHRleHQsIHN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNSYWRpYWxUZXh0KHRoaXMsIHRleHQsIHN0eWxlKTtcclxuICAgIH1cclxuICAgIG1ha2VQaWN0dXJlKGltYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNJbWFnZSh0aGlzLCBpbWFnZSk7XHJcbiAgICB9XHJcbiAgICByZXNpemVMYXllcihsYXllcikge1xyXG4gICAgICAgIGxheWVyLnJlc2l6ZSh0aGlzLl9jYWxjdWxhdGVkV2lkdGgsIHRoaXMuX2NhbGN1bGF0ZWRIZWlnaHQsIHRoaXMuX2NhbGN1bGF0ZWRXaWR0aCwgdGhpcy5fY2FsY3VsYXRlZEhlaWdodCwgdGhpcy5yZXNvbHV0aW9uKTtcclxuICAgIH1cclxuICAgIHJlc2l6ZUdob3N0KCkge1xyXG4gICAgICAgIHRoaXMuX2dob3N0TGF5ZXIucmVzaXplKHRoaXMuX2NhbGN1bGF0ZWRXaWR0aCwgdGhpcy5fY2FsY3VsYXRlZEhlaWdodCwgdGhpcy5fY2FsY3VsYXRlZFdpZHRoLCB0aGlzLl9jYWxjdWxhdGVkSGVpZ2h0LCB0aGlzLnJlc29sdXRpb24pO1xyXG4gICAgfVxyXG4gICAgcmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgY2FsY3VsYXRlZFdpZHRoLCBjYWxjdWxhdGVkSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5fcmVhbFdpZHRoID0gcmVhbFdpZHRoO1xyXG4gICAgICAgIHRoaXMuX3JlYWxIZWlnaHQgPSByZWFsSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZWRXaWR0aCA9IGNhbGN1bGF0ZWRXaWR0aDtcclxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVkSGVpZ2h0ID0gY2FsY3VsYXRlZEhlaWdodDtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVMYXllcihsYXllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlc2l6ZUdob3N0KCk7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gY2FsY3VsYXRlZFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS5oZWlnaHQgPSBjYWxjdWxhdGVkSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRGV0YWNoZWRMYXllcih3aWxsUmVhZEZyZXF1ZW50bHkgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IHZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB2aWV3LmdldENvbnRleHQoXCIyZFwiLCB7IHdpbGxSZWFkRnJlcXVlbnRseTogd2lsbFJlYWRGcmVxdWVudGx5IH0pO1xyXG4gICAgICAgIGNvbnN0IGxheWVyID0gbmV3IENhbnZhc0xheWVyKHZpZXcsIGNvbnRleHQpO1xyXG4gICAgICAgIHZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgdmlldy5zdHlsZS50b3AgPSBcIjBweFwiO1xyXG4gICAgICAgIHZpZXcuc3R5bGUubGVmdCA9IFwiMHB4XCI7XHJcbiAgICAgICAgcmV0dXJuIGxheWVyO1xyXG4gICAgfVxyXG4gICAgZ2V0TGF5ZXJCeU9yZGVyKG9yZGVyKSB7XHJcbiAgICAgICAgY29uc3QgbGF5ZXJzID0gdGhpcy5sYXllcnM7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gbGF5ZXJzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIub3JkZXIgPT0gb3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldExheWVyKG9yZGVyLCB2aXNpYmxlID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBleGlzdGluZ0xheWVyID0gdGhpcy5nZXRMYXllckJ5T3JkZXIob3JkZXIpO1xyXG4gICAgICAgIGlmIChleGlzdGluZ0xheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0xheWVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuY3JlYXRlRGV0YWNoZWRMYXllcihvcmRlciA9PSA5OSk7XHJcbiAgICAgICAgbGF5ZXIub3JkZXIgPSBvcmRlcjtcclxuICAgICAgICBsYXllci52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICBsYXllci52aWV3LmNsYXNzTmFtZSA9IFwiYW01LWxheWVyLVwiICsgb3JkZXI7XHJcbiAgICAgICAgaWYgKGxheWVyLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVMYXllcihsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxheWVycyA9IHRoaXMubGF5ZXJzO1xyXG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICBsYXllcnMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYS5vcmRlciA+IGIub3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGEub3JkZXIgPCBiLm9yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGxheWVycy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbGF5ZXJJbmRleCA9ICRhcnJheS5pbmRleE9mKGxheWVycywgbGF5ZXIpO1xyXG4gICAgICAgIGxldCBuZXh0O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBsYXllckluZGV4ICsgMTsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXllcnNbaV0udmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9IGxheWVyc1tpXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXllci52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyRG9tLmFwcGVuZENoaWxkKGxheWVyLnZpZXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJEb20uaW5zZXJ0QmVmb3JlKGxheWVyLnZpZXcsIG5leHQudmlldyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxheWVyO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKHJvb3QpIHtcclxuICAgICAgICB0aGlzLl9kaXJ0eUxheWVycy5sZW5ndGggPSAwO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMubGF5ZXJzLCAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZGlydHkgJiYgbGF5ZXIudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5TGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9naG9zdExheWVyLmNsZWFyKCk7XHJcbiAgICAgICAgcm9vdC5yZW5kZXIoe1xyXG4gICAgICAgICAgICBpbmFjdGl2ZTogbnVsbCxcclxuICAgICAgICAgICAgbGF5ZXI6IHRoaXMuZGVmYXVsdExheWVyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2dob3N0TGF5ZXIuY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBSZW1vdmUgdGhpcyBhZnRlciB0aGUgQ2hyb21lIGJ1ZyBpcyBmaXhlZDpcclxuICAgICAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMjc5Mzk0XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5sYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBsYXllci5jb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2RpcnR5TGF5ZXJzLCAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgbGF5ZXIuY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIGxheWVyLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy99LCAxMDApXHJcbiAgICAgICAgaWYgKHRoaXMuX2hvdmVyaW5nLnNpemUgJiYgdGhpcy5fbGFzdFBvaW50ZXJNb3ZlRXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBldmVudHMsIHRhcmdldCwgbmF0aXZlIH0gPSB0aGlzLl9sYXN0UG9pbnRlck1vdmVFdmVudDtcclxuICAgICAgICAgICAgLy90aGlzLl9tb3VzZU1vdmVUaHJvdHRsZXIucnVuKCk7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEdsb2JhbE1vdXNlbW92ZShldmVudCwgdGFyZ2V0LCBuYXRpdmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwYWludElkKG9iaikge1xyXG4gICAgICAgIGNvbnN0IGlkID0gZGlzdHJpYnV0ZUlkKCsrdGhpcy5fY29sb3JJZCk7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBDb2xvci5mcm9tSGV4KGlkKS50b0NTUygpO1xyXG4gICAgICAgIHRoaXMuX2NvbG9yTWFwW2NvbG9yXSA9IG9iajtcclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlT2JqZWN0KG9iaikge1xyXG4gICAgICAgIGlmIChvYmouX2NvbG9ySWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY29sb3JNYXBbb2JqLl9jb2xvcklkXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBwcm90ZWN0ZWQgX2lkZW50aWZ5T2JqZWN0QnlDb2xvcihjb2xvcklkOiBudW1iZXIpOiBDYW52YXNEaXNwbGF5T2JqZWN0IHwgdW5kZWZpbmVkIHtcclxuICAgIC8vIFx0cmV0dXJuIHRoaXMuX2NvbG9yTWFwW2NvbG9ySWRdO1xyXG4gICAgLy8gfVxyXG4gICAgX2FkanVzdEJvdW5kaW5nQm94KGJib3gpIHtcclxuICAgICAgICBjb25zdCBtYXJnaW4gPSB0aGlzLl9naG9zdExheWVyLm1hcmdpbjtcclxuICAgICAgICByZXR1cm4gbmV3IERPTVJlY3QoLW1hcmdpbi5sZWZ0LCAtbWFyZ2luLnRvcCwgYmJveC53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0LCBiYm94LmhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKTtcclxuICAgIH1cclxuICAgIGdldEV2ZW50KG9yaWdpbmFsRXZlbnQsIGFkanVzdFBvaW50ID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IG9yaWdpbmFsRXZlbnQuY2xpZW50WCB8fCAwO1xyXG4gICAgICAgIGNvbnN0IHkgPSBvcmlnaW5hbEV2ZW50LmNsaWVudFkgfHwgMDtcclxuICAgICAgICBjb25zdCB3aWR0aFNjYWxlID0gdGhpcy5fY2FsY3VsYXRlZFdpZHRoIC8gdGhpcy5fcmVhbFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodFNjYWxlID0gdGhpcy5fY2FsY3VsYXRlZEhlaWdodCAvIHRoaXMuX3JlYWxIZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxQb2ludCA9IHtcclxuICAgICAgICAgICAgeDogeCAtIGJib3gubGVmdCxcclxuICAgICAgICAgICAgeTogeSAtIGJib3gudG9wLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7XHJcbiAgICAgICAgICAgIHg6ICh4IC0gKGFkanVzdFBvaW50ID8gYmJveC5sZWZ0IDogMCkpICogd2lkdGhTY2FsZSxcclxuICAgICAgICAgICAgeTogKHkgLSAoYWRqdXN0UG9pbnQgPyBiYm94LnRvcCA6IDApKSAqIGhlaWdodFNjYWxlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNSZW5kZXJlckV2ZW50KG9yaWdpbmFsRXZlbnQsIG9yaWdpbmFsUG9pbnQsIHBvaW50LCB0aGlzLl9hZGp1c3RCb3VuZGluZ0JveChiYm94KSk7XHJcbiAgICB9XHJcbiAgICBfZ2V0SGl0VGFyZ2V0KHBvaW50LCBiYm94LCB0YXJnZXQpIHtcclxuICAgICAgICBpZiAoYmJveC53aWR0aCA9PT0gMCB8fCBiYm94LmhlaWdodCA9PT0gMCB8fCBwb2ludC54IDwgYmJveC5sZWZ0IHx8IHBvaW50LnggPiBiYm94LnJpZ2h0IHx8IHBvaW50LnkgPCBiYm94LnRvcCB8fCBwb2ludC55ID4gYmJveC5ib3R0b20pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGhpcy5fbGF5ZXJEb20uY29udGFpbnModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBpeGVsID0gdGhpcy5fZ2hvc3RMYXllci5nZXRJbWFnZURhdGEocG9pbnQsIGJib3gpO1xyXG4gICAgICAgIGlmIChwaXhlbC5kYXRhWzBdID09PSAwICYmIHBpeGVsLmRhdGFbMV0gPT09IDAgJiYgcGl4ZWwuZGF0YVsyXSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbG9ySWQgPSBDb2xvci5mcm9tUkdCKHBpeGVsLmRhdGFbMF0sIHBpeGVsLmRhdGFbMV0sIHBpeGVsLmRhdGFbMl0pLnRvQ1NTKCk7XHJcbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5fY29sb3JNYXBbY29sb3JJZF07XHJcbiAgICAgICAgcmV0dXJuIGhpdDtcclxuICAgIH1cclxuICAgIGdldE9iamVjdEF0UG9pbnQocG9pbnQpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fZ2hvc3RMYXllci5nZXRJbWFnZUFycmF5KHBvaW50KTtcclxuICAgICAgICBpZiAoZGF0YVswXSA9PT0gMCAmJiBkYXRhWzFdID09PSAwICYmIGRhdGFbMl0gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29sb3JJZCA9IENvbG9yLmZyb21SR0IoZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSkudG9DU1MoKTtcclxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLl9jb2xvck1hcFtjb2xvcklkXTtcclxuICAgICAgICByZXR1cm4gaGl0O1xyXG4gICAgfVxyXG4gICAgX3dpdGhFdmVudHMoa2V5LCBmKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2tleV07XHJcbiAgICAgICAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5kaXNwYXRjaGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBmKGV2ZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMuZGlzcGF0Y2hpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudHMuY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5jbGVhbnVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGFycmF5LmtlZXBJZihldmVudHMuY2FsbGJhY2tzLCAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFjYWxsYmFjay5kaXNwb3NlZDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kaXNwYXRjaEV2ZW50QWxsKGtleSwgZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25zRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3dpdGhFdmVudHMoa2V5LCAoZXZlbnRzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cy5jYWxsYmFja3MsIChjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjay5kaXNwb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGxiYWNrLmNhbGwoY2FsbGJhY2suY29udGV4dCwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9kaXNwYXRjaEV2ZW50KGtleSwgdGFyZ2V0LCBldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbnNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRpc3BhdGNoZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl93aXRoRXZlbnRzKGtleSwgKGV2ZW50cykgPT4ge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChldmVudHMuY2FsbGJhY2tzLCAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2suZGlzcG9zZWQgJiYgY2FsbGJhY2sub2JqZWN0ID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsYmFjay5jYWxsKGNhbGxiYWNrLmNvbnRleHQsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoZWQ7XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hNb3VzZWRvd24ob3JpZ2luYWxFdmVudCwgb3JpZ2luYWxUYXJnZXQpIHtcclxuICAgICAgICBjb25zdCBidXR0b24gPSBvcmlnaW5hbEV2ZW50LmJ1dHRvbjtcclxuICAgICAgICBpZiAoYnV0dG9uICE9IDAgJiYgYnV0dG9uICE9IDIgJiYgYnV0dG9uICE9IDEgJiYgYnV0dG9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gSWdub3JlIG5vbi1wcmltYXJ5IG1vdXNlIGJ1dHRvbnNcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0RXZlbnQob3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fZ2V0SGl0VGFyZ2V0KGV2ZW50Lm9yaWdpbmFsUG9pbnQsIGV2ZW50LmJib3gsIG9yaWdpbmFsVGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZXZlbnQuaWQ7XHJcbiAgICAgICAgICAgIGxldCBkcmFnZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGVhY2hUYXJnZXRzKHRhcmdldCwgKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IHsgaWQ6IGlkLCB2YWx1ZTogb2JqIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZWRvd24ucHVzaChpbmZvKTtcclxuICAgICAgICAgICAgICAgIGlmICghZHJhZ2dlZCAmJiB0aGlzLl9kaXNwYXRjaEV2ZW50KFwicG9pbnRlcmRvd25cIiwgb2JqLCBldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGRpc3BhdGNoIHRoZSBmaXJzdCBlbGVtZW50IHdoaWNoIG1hdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXMgPSB0aGlzLl9kcmFnZ2luZy5zb21lKCh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlID09PSBvYmogJiYgeC5pZCA9PT0gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcucHVzaChpbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2Rpc3BhdGNoR2xvYmFsTW91c2Vtb3ZlKG9yaWdpbmFsRXZlbnQsIG9yaWdpbmFsVGFyZ2V0LCBuYXRpdmUpIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0RXZlbnQob3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fZ2V0SGl0VGFyZ2V0KGV2ZW50Lm9yaWdpbmFsUG9pbnQsIGV2ZW50LmJib3gsIG9yaWdpbmFsVGFyZ2V0KTtcclxuICAgICAgICBldmVudC5uYXRpdmUgPSBuYXRpdmU7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmluZy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghb2JqLmNvbnRhaW5zKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob3ZlcmluZy5kZWxldGUob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmN1cnNvck92ZXJTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdXRpbHMuc2V0U3R5bGUoZG9jdW1lbnQuYm9keSwgXCJjdXJzb3JcIiwgb2JqLl9yZXBsYWNlZEN1cnNvclN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChcInBvaW50ZXJvdXRcIiwgb2JqLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQubmF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoVGFyZ2V0cyh0YXJnZXQsIChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2hvdmVyaW5nLmhhcyhvYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyaW5nLmFkZChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmN1cnNvck92ZXJTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLl9yZXBsYWNlZEN1cnNvclN0eWxlID0gJHV0aWxzLmdldFN0eWxlKGRvY3VtZW50LmJvZHksIFwiY3Vyc29yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHV0aWxzLnNldFN0eWxlKGRvY3VtZW50LmJvZHksIFwiY3Vyc29yXCIsIG9iai5jdXJzb3JPdmVyU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoXCJwb2ludGVyb3ZlclwiLCBvYmosIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL30gZWxzZSBpZiAodGFyZ2V0ID09PSBmYWxzZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faG92ZXJpbmcuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLmN1cnNvck92ZXJTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR1dGlscy5zZXRTdHlsZShkb2N1bWVudC5ib2R5LCBcImN1cnNvclwiLCBvYmouX3JlcGxhY2VkQ3Vyc29yU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChcInBvaW50ZXJvdXRcIiwgb2JqLCBldmVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmluZy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50QWxsKFwiZ2xvYmFscG9pbnRlcm1vdmVcIiwgZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlSG92ZXJpbmcoZ3JhcGhpY3MpIHtcclxuICAgICAgICB0aGlzLl9ob3ZlcmluZy5kZWxldGUoZ3JhcGhpY3MpO1xyXG4gICAgICAgIGlmIChncmFwaGljcy5jdXJzb3JPdmVyU3R5bGUpIHtcclxuICAgICAgICAgICAgJHV0aWxzLnNldFN0eWxlKGRvY3VtZW50LmJvZHksIFwiY3Vyc29yXCIsIGdyYXBoaWNzLl9yZXBsYWNlZEN1cnNvclN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hHbG9iYWxNb3VzZXVwKG9yaWdpbmFsRXZlbnQsIG5hdGl2ZSkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICBldmVudC5uYXRpdmUgPSBuYXRpdmU7XHJcbiAgICAgICAgLy9jb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudEFsbChcImdsb2JhbHBvaW50ZXJ1cFwiLCBldmVudCk7XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hEcmFnTW92ZShvcmlnaW5hbEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RyYWdnaW5nLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0RXZlbnQob3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZXZlbnQuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KFwicG9pbnRlcm1vdmVcIiwgb2JqLnZhbHVlLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kaXNwYXRjaERyYWdFbmQob3JpZ2luYWxFdmVudCwgb3JpZ2luYWxUYXJnZXQpIHtcclxuICAgICAgICBjb25zdCBidXR0b24gPSBvcmlnaW5hbEV2ZW50LmJ1dHRvbjtcclxuICAgICAgICBsZXQgY2xpY2tldmVudDtcclxuICAgICAgICBpZiAoYnV0dG9uID09IDAgfHwgYnV0dG9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY2xpY2tldmVudCA9IFwiY2xpY2tcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYnV0dG9uID09IDIpIHtcclxuICAgICAgICAgICAgY2xpY2tldmVudCA9IFwicmlnaHRjbGlja1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChidXR0b24gPT0gMSkge1xyXG4gICAgICAgICAgICBjbGlja2V2ZW50ID0gXCJtaWRkbGVjbGlja1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWdub3JlIG5vbi1wcmltYXJ5IG1vdXNlIGJ1dHRvbnNcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0RXZlbnQob3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgY29uc3QgaWQgPSBldmVudC5pZDtcclxuICAgICAgICBpZiAodGhpcy5fbW91c2Vkb3duLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCwgZXZlbnQuYmJveCwgb3JpZ2luYWxUYXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZWRvd24uZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5pZCA9PT0gaWQgJiYgb2JqLnZhbHVlLmNvbnRhaW5zKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChjbGlja2V2ZW50LCBvYmoudmFsdWUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9tb3VzZWRvd24ubGVuZ3RoID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2RyYWdnaW5nLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2luZy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChcInBvaW50ZXJ1cFwiLCBvYmoudmFsdWUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2Rpc3BhdGNoRG91YmxlQ2xpY2sob3JpZ2luYWxFdmVudCwgb3JpZ2luYWxUYXJnZXQpIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZ2V0RXZlbnQob3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fZ2V0SGl0VGFyZ2V0KGV2ZW50Lm9yaWdpbmFsUG9pbnQsIGV2ZW50LmJib3gsIG9yaWdpbmFsVGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGVhY2hUYXJnZXRzKHRhcmdldCwgKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BhdGNoRXZlbnQoXCJkYmxjbGlja1wiLCBvYmosIGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hXaGVlbChvcmlnaW5hbEV2ZW50LCBvcmlnaW5hbFRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCwgZXZlbnQuYmJveCwgb3JpZ2luYWxUYXJnZXQpO1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgZWFjaFRhcmdldHModGFyZ2V0LCAob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2hFdmVudChcIndoZWVsXCIsIG9iaiwgZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tYWtlU2hhcmVkRXZlbnQoa2V5LCBmKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpc3RlbmVyc1trZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBmKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyc1trZXldID0gbmV3IENvdW50ZXJEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2tleV0uaW5jcmVtZW50KCk7XHJcbiAgICB9XHJcbiAgICBfb25Qb2ludGVyRXZlbnQobmFtZSwgZikge1xyXG4gICAgICAgIGxldCBuYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgdGltZXIgPSBudWxsO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgICAgICAgICB0aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgIG5hdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpZXcsICR1dGlscy5nZXRSZW5kZXJlckV2ZW50KG5hbWUpLCAoXykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmF0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyLCAwKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG9uUG9pbnRlckV2ZW50KHdpbmRvdywgbmFtZSwgKGV2LCB0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZihldiwgdGFyZ2V0LCBuYXRpdmUpO1xyXG4gICAgICAgICAgICAgICAgbmF0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQgb25seSBhIHNpbmdsZSBET00gZXZlbnQgaXMgYWRkZWQgKGUuZy4gb25seSBhIHNpbmdsZSBtb3VzZW1vdmUgZXZlbnQgbGlzdGVuZXIpXHJcbiAgICBfaW5pdEV2ZW50KGtleSkge1xyXG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJnbG9iYWxwb2ludGVybW92ZVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYWtlU2hhcmVkRXZlbnQoXCJwb2ludGVybW92ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnRzLCB0YXJnZXQsIG5hdGl2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0UG9pbnRlck1vdmVFdmVudCA9IHsgZXZlbnRzLCB0YXJnZXQsIG5hdGl2ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChldmVudHMsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hHbG9iYWxNb3VzZW1vdmUoZXZlbnQsIHRhcmdldCwgbmF0aXZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblBvaW50ZXJFdmVudChcInBvaW50ZXJkb3duXCIsIGxpc3RlbmVyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVybW92ZVwiLCBsaXN0ZW5lciksXHJcbiAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSBcImdsb2JhbHBvaW50ZXJ1cFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21ha2VTaGFyZWRFdmVudChcInBvaW50ZXJ1cFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2V1cCA9IHRoaXMuX29uUG9pbnRlckV2ZW50KFwicG9pbnRlcnVwXCIsIChldmVudHMsIHRhcmdldCwgbmF0aXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEdsb2JhbE1vdXNldXAoZXZlbnQsIG5hdGl2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0UG9pbnRlck1vdmVFdmVudCA9IHsgZXZlbnRzLCB0YXJnZXQsIG5hdGl2ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJjYW5jZWwgPSB0aGlzLl9vblBvaW50ZXJFdmVudChcInBvaW50ZXJjYW5jZWxcIiwgKGV2ZW50cywgdGFyZ2V0LCBuYXRpdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoR2xvYmFsTW91c2V1cChldmVudCwgbmF0aXZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50ID0geyBldmVudHMsIHRhcmdldCwgbmF0aXZlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNldXAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyY2FuY2VsLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjpcclxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0Y2xpY2tcIjpcclxuICAgICAgICAgICAgY2FzZSBcIm1pZGRsZWNsaWNrXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOlxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21ha2VTaGFyZWRFdmVudChcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVyZG93blwiLCAoZXZlbnQsIHRhcmdldCwgbmF0aXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50ID0geyBldmVudCwgdGFyZ2V0LCBuYXRpdmUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hNb3VzZWRvd24oZXZlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJtb3ZlXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVydXBcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYWtlU2hhcmVkRXZlbnQoXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCB0aHJvdHRsZXIgPSBuZXcgVGhyb3R0bGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2Vkb3duID0gdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVyZG93blwiLCAoZXZlbnRzLCB0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoTW91c2Vkb3duKGV2LCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGhhbmRsZSB0aHJvdHRsaW5nIHByb3Blcmx5IGZvciBtdWx0aXRvdWNoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2Vtb3ZlID0gdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVybW92ZVwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aHJvdHRsZXIudGhyb3R0bGUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChldiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaERyYWdNb3ZlKGV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2V1cCA9IHRoaXMuX29uUG9pbnRlckV2ZW50KFwicG9pbnRlcnVwXCIsIChldiwgdGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGV2LCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRHJhZ0VuZChldiwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRlcmNhbmNlbCA9IHRoaXMuX29uUG9pbnRlckV2ZW50KFwicG9pbnRlcmNhbmNlbFwiLCAoZXYsIHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChldiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaERyYWdFbmQoZXYsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWRvd24uZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZW1vdmUuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZXVwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlcmNhbmNlbC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFrZVNoYXJlZEV2ZW50KFwiZGJsY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vblBvaW50ZXJFdmVudChcImRibGNsaWNrXCIsIChldiwgdGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGV2LCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRG91YmxlQ2xpY2soZXYsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aGVlbFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21ha2VTaGFyZWRFdmVudChcIndoZWVsXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy52aWV3LCAkdXRpbHMuZ2V0UmVuZGVyZXJFdmVudChcIndoZWVsXCIpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hXaGVlbChldmVudCwgJHV0aWxzLmdldEV2ZW50VGFyZ2V0KGV2ZW50KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRFdmVudChvYmplY3QsIGtleSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2tleV07XHJcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50c1trZXldID0ge1xyXG4gICAgICAgICAgICAgICAgZGlzcG9zZXI6IHRoaXMuX2luaXRFdmVudChrZXkpLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiBbXSxcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNsZWFudXA6IGZhbHNlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IHsgb2JqZWN0LCBjb250ZXh0LCBjYWxsYmFjaywgZGlzcG9zZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgZXZlbnRzLmNhbGxiYWNrcy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgbGlzdGVuZXIuZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmRpc3BhdGNoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMuY2xlYW51cCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QoZXZlbnRzLmNhbGxiYWNrcywgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5jYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldENhbnZhcyhyb290LCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcclxuICAgICAgICB0aGlzLnJlbmRlcihyb290KTtcclxuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gTWF0aC5mbG9vcih0aGlzLl9jYWxjdWxhdGVkV2lkdGggKiB0aGlzLnJlc29sdXRpb24pO1xyXG4gICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuX2NhbGN1bGF0ZWRIZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gc2NhbGVcclxuICAgICAgICBpZiAob3B0aW9ucy5taW5XaWR0aCAmJiAob3B0aW9ucy5taW5XaWR0aCA+IGNhbnZhc1dpZHRoKSkge1xyXG4gICAgICAgICAgICBsZXQgbWluU2NhbGUgPSBvcHRpb25zLm1pbldpZHRoIC8gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgICAgIGlmIChtaW5TY2FsZSA+IHNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IG1pblNjYWxlICogdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLm1pbkhlaWdodCAmJiAob3B0aW9ucy5taW5IZWlnaHQgPiBjYW52YXNIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGxldCBtaW5TY2FsZSA9IG9wdGlvbnMubWluSGVpZ2h0IC8gY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAobWluU2NhbGUgPiBzY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBtaW5TY2FsZSAqIHRoaXMucmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5tYXhXaWR0aCAmJiAob3B0aW9ucy5tYXhXaWR0aCA8IGNhbnZhc1dpZHRoKSkge1xyXG4gICAgICAgICAgICBsZXQgbWF4U2NhbGUgPSBvcHRpb25zLm1heFdpZHRoIC8gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgICAgIGlmIChtYXhTY2FsZSA8IHNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IG1heFNjYWxlICogdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLm1heEhlaWdodCAmJiAob3B0aW9ucy5tYXhIZWlnaHQgPiBjYW52YXNIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXhTY2FsZSA9IG9wdGlvbnMubWF4SGVpZ2h0IC8gY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAobWF4U2NhbGUgPCBzY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBtYXhTY2FsZSAqIHRoaXMucmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGNvbXBlbnNhdGUgZm9yIHBpeGVsIHJhdGlvXHJcbiAgICAgICAgaWYgKG9wdGlvbnMubWFpbnRhaW5QaXhlbFJhdGlvKSB7XHJcbiAgICAgICAgICAgIHNjYWxlIC89IHRoaXMucmVzb2x1dGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdCBsaXN0IGNhbnZhc2VzIHRvIHJlbW92ZSBmcm9tIERPTSBhZnRlciBleHBvcnRcclxuICAgICAgICBjb25zdCBjYW52YXNlcyA9IFtdO1xyXG4gICAgICAgIC8vIFNldCB1cCBuZXcgY2FudmFzIGZvciBleHBvcnRcclxuICAgICAgICBsZXQgZm9yY2VSZW5kZXIgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGlmIChzY2FsZSAhPSB0aGlzLnJlc29sdXRpb24pIHtcclxuICAgICAgICAgICAgZm9yY2VSZW5kZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCA9IGNhbnZhc1dpZHRoICogc2NhbGUgLyB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgICAgIGNhbnZhc0hlaWdodCA9IGNhbnZhc0hlaWdodCAqIHNjYWxlIC8gdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIC8vIEFkZCB0byBET00gc28gaXQgaW5oZXJpdHMgQ1NTXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSBcIi0xMDAwMHB4XCI7XHJcbiAgICAgICAgdGhpcy52aWV3LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgY2FudmFzZXMucHVzaChjYW52YXMpO1xyXG4gICAgICAgIC8vIENvbnRleHRcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSAwO1xyXG4gICAgICAgIGxldCBuZWVkUmVyZW5kZXIgPSBmYWxzZTtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsYXllciAmJiBsYXllci52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIudGFpbnRlZCB8fCBmb3JjZVJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRSZXJlbmRlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZXhwb3J0YWJsZVZpZXcgPSBsYXllci52aWV3O1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmV4cG9ydGFibGVDb250ZXh0ID0gbGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci52aWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gRE9NIHNvIGl0IGluaGVyaXRzIENTU1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLnZpZXcuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIudmlldy5zdHlsZS50b3AgPSBcIi0xMDAwMHB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmFwcGVuZENoaWxkKGxheWVyLnZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc2VzLnB1c2gobGF5ZXIudmlldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4dHJhWCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4dHJhWSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLm1hcmdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYVggKz0gbGF5ZXIubWFyZ2luLmxlZnQgfHwgMCArIGxheWVyLm1hcmdpbi5yaWdodCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYVkgKz0gbGF5ZXIubWFyZ2luLnRvcCB8fCAwICsgbGF5ZXIubWFyZ2luLmJvdHRvbSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsYXllci52aWV3LndpZHRoID0gY2FudmFzV2lkdGggKyBleHRyYVg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIudmlldy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKyBleHRyYVk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY29udGV4dCA9IGxheWVyLnZpZXcuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5zY2FsZSA9IHNjYWxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKG5lZWRSZXJlbmRlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9vbWl0VGFpbnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHJvb3QpO1xyXG4gICAgICAgICAgICB0aGlzLl9vbWl0VGFpbnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsYXllciAmJiBsYXllci52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMYXllciBpcyBmaW5lLiBKdXN0IHBsb3AgaXQgaW50byBvdXIgdGFyZ2V0IGNhbnZhc1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLm1hcmdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSAtKGxheWVyLm1hcmdpbi5sZWZ0IHx8IDApICogdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAtKGxheWVyLm1hcmdpbi50b3AgfHwgMCkgKiB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShsYXllci52aWV3LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgbGF5ZXIgb3JpZ2luYWwgY2FudmFzXHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZXhwb3J0YWJsZVZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci52aWV3ID0gbGF5ZXIuZXhwb3J0YWJsZVZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZXhwb3J0YWJsZVZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZXhwb3J0YWJsZUNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5jb250ZXh0ID0gbGF5ZXIuZXhwb3J0YWJsZUNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZXhwb3J0YWJsZUNvbnRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPCBsYXllci52aWV3LmNsaWVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBsYXllci52aWV3LmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhlaWdodCA8IGxheWVyLnZpZXcuY2xpZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gbGF5ZXIudmlldy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsYXllci5zY2FsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgJGFycmF5LmVhY2goY2FudmFzZXMsIChjYW52YXMpID0+IHtcclxuICAgICAgICAgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcclxuICAgICAgICAgICAgY2FudmFzLnN0eWxlLnRvcCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgR2hvc3RMYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2aWV3XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRleHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWFyZ2luXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZXNvbHV0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfd2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImltYWdlQXJyYXlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLnZpZXcuZ2V0Q29udGV4dChcIjJkXCIsIHsgYWxwaGE6IGZhbHNlLCB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUubGVmdCA9IFwiMHB4XCI7XHJcbiAgICB9XHJcbiAgICByZXNpemUoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZG9tV2lkdGgsIGRvbUhlaWdodCwgcmVzb2x1dGlvbikge1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSByZXNvbHV0aW9uO1xyXG4gICAgICAgIGNhbnZhc1dpZHRoICs9ICh0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpO1xyXG4gICAgICAgIGNhbnZhc0hlaWdodCArPSAodGhpcy5tYXJnaW4udG9wICsgdGhpcy5tYXJnaW4uYm90dG9tKTtcclxuICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIHRha2UgaW50byBhY2NvdW50IGNhbGN1bGF0ZVNpemVcclxuICAgICAgICBkb21XaWR0aCArPSAodGhpcy5tYXJnaW4ubGVmdCArIHRoaXMubWFyZ2luLnJpZ2h0KTtcclxuICAgICAgICBkb21IZWlnaHQgKz0gKHRoaXMubWFyZ2luLnRvcCArIHRoaXMubWFyZ2luLmJvdHRvbSk7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLmxlZnQgPSAtdGhpcy5tYXJnaW4ubGVmdCArIFwicHhcIjtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUudG9wID0gLXRoaXMubWFyZ2luLnRvcCArIFwicHhcIjtcclxuICAgICAgICB0aGlzLl93aWR0aCA9IE1hdGguZmxvb3IoY2FudmFzV2lkdGggKiByZXNvbHV0aW9uKTtcclxuICAgICAgICB0aGlzLl9oZWlnaHQgPSBNYXRoLmZsb29yKGNhbnZhc0hlaWdodCAqIHJlc29sdXRpb24pO1xyXG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHRoaXMuX3dpZHRoO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IGRvbVdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IGRvbUhlaWdodCArIFwicHhcIjtcclxuICAgIH1cclxuICAgIGdldEltYWdlRGF0YShwb2ludCwgYmJveCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKFxyXG4gICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgcm91bmQgP1xyXG4gICAgICAgIE1hdGgucm91bmQoKChwb2ludC54IC0gYmJveC5sZWZ0KSAvIGJib3gud2lkdGgpICogdGhpcy5fd2lkdGgpLCBNYXRoLnJvdW5kKCgocG9pbnQueSAtIGJib3gudG9wKSAvIGJib3guaGVpZ2h0KSAqIHRoaXMuX2hlaWdodCksIDEsIDEpO1xyXG4gICAgfVxyXG4gICAgZ2V0SW1hZ2VBcnJheShwb2ludCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZUFycmF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VBcnJheSA9IHRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCkuZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuaW1hZ2VBcnJheTtcclxuICAgICAgICBjb25zdCB4ID0gTWF0aC5yb3VuZChwb2ludC54ICogdGhpcy5fcmVzb2x1dGlvbik7XHJcbiAgICAgICAgY29uc3QgeSA9IE1hdGgucm91bmQocG9pbnQueSAqIHRoaXMuX3Jlc29sdXRpb24pO1xyXG4gICAgICAgIGNvbnN0IGkgPSAoeSAqIHRoaXMuX3dpZHRoICsgeCkgKiA0O1xyXG4gICAgICAgIHJldHVybiBbZGF0YVtpXSwgZGF0YVtpICsgMV0sIGRhdGFbaSArIDJdLCBkYXRhW2kgKyAzXV07XHJcbiAgICB9XHJcbiAgICBzZXRNYXJnaW4obGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4ubGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4ucmlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMubWFyZ2luLnRvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4uYm90dG9tID0gMDtcclxuICAgICAgICAkYXJyYXkuZWFjaChsYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIubWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmdpbi5sZWZ0ID0gTWF0aC5tYXgodGhpcy5tYXJnaW4ubGVmdCwgbGF5ZXIubWFyZ2luLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJnaW4ucmlnaHQgPSBNYXRoLm1heCh0aGlzLm1hcmdpbi5yaWdodCwgbGF5ZXIubWFyZ2luLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luLnRvcCA9IE1hdGgubWF4KHRoaXMubWFyZ2luLnRvcCwgbGF5ZXIubWFyZ2luLnRvcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmdpbi5ib3R0b20gPSBNYXRoLm1heCh0aGlzLm1hcmdpbi5ib3R0b20sIGxheWVyLm1hcmdpbi5ib3R0b20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzTGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3IodmlldywgY29udGV4dCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpZXdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29udGV4dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YWludGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXJnaW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3JkZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpc2libGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2FsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhwb3J0YWJsZVZpZXdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhwb3J0YWJsZUNvbnRleHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3dpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICByZXNpemUoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZG9tV2lkdGgsIGRvbUhlaWdodCwgcmVzb2x1dGlvbikge1xyXG4gICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgdGFrZSBpbnRvIGFjY291bnQgY2FsY3VsYXRlU2l6ZSA/XHJcbiAgICAgICAgaWYgKHRoaXMud2lkdGggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgICAgIGRvbVdpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyB0YWtlIGludG8gYWNjb3VudCBjYWxjdWxhdGVTaXplID9cclxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgZG9tSGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1hcmdpbikge1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCArPSAodGhpcy5tYXJnaW4ubGVmdCArIHRoaXMubWFyZ2luLnJpZ2h0KTtcclxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ICs9ICh0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pO1xyXG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIHRha2UgaW50byBhY2NvdW50IGNhbGN1bGF0ZVNpemVcclxuICAgICAgICAgICAgZG9tV2lkdGggKz0gKHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodCk7XHJcbiAgICAgICAgICAgIGRvbUhlaWdodCArPSAodGhpcy5tYXJnaW4udG9wICsgdGhpcy5tYXJnaW4uYm90dG9tKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmxlZnQgPSAtdGhpcy5tYXJnaW4ubGVmdCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLnRvcCA9IC10aGlzLm1hcmdpbi50b3AgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUubGVmdCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS50b3AgPSBcIjBweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl93aWR0aCA9IE1hdGguZmxvb3IoY2FudmFzV2lkdGggKiByZXNvbHV0aW9uKTtcclxuICAgICAgICB0aGlzLl9oZWlnaHQgPSBNYXRoLmZsb29yKGNhbnZhc0hlaWdodCAqIHJlc29sdXRpb24pO1xyXG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHRoaXMuX3dpZHRoO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IGRvbVdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IGRvbUhlaWdodCArIFwicHhcIjtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNSZW5kZXJlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlendMode: () => (/* binding */ BlendMode)\n/* harmony export */ });\n/**\r\n * From https://github.com/pixijs/pixi.js/blob/3dd0ff9a935f0bc13a09aefff9eb2872f02c51b9/packages/canvas/canvas-renderer/src/utils/mapCanvasBlendModesToPixi.ts#L13\r\n */\r\nvar BlendMode;\r\n(function (BlendMode) {\r\n    BlendMode[\"ADD\"] = \"lighter\";\r\n    BlendMode[\"COLOR\"] = \"color\";\r\n    BlendMode[\"COLOR_BURN\"] = \"color-burn\";\r\n    BlendMode[\"COLOR_DODGE\"] = \"color-dodge\";\r\n    BlendMode[\"DARKEN\"] = \"darken\";\r\n    BlendMode[\"DIFFERENCE\"] = \"difference\";\r\n    BlendMode[\"DST_OVER\"] = \"destination-over\";\r\n    BlendMode[\"EXCLUSION\"] = \"exclusion\";\r\n    BlendMode[\"HARD_LIGHT\"] = \"hard-light\";\r\n    BlendMode[\"HUE\"] = \"hue\";\r\n    BlendMode[\"LIGHTEN\"] = \"lighten\";\r\n    BlendMode[\"LUMINOSITY\"] = \"luminosity\";\r\n    BlendMode[\"MULTIPLY\"] = \"multiply\";\r\n    BlendMode[\"NORMAL\"] = \"source-over\";\r\n    BlendMode[\"OVERLAY\"] = \"overlay\";\r\n    BlendMode[\"SATURATION\"] = \"saturation\";\r\n    BlendMode[\"SCREEN\"] = \"screen\";\r\n    BlendMode[\"SOFT_LIGHT\"] = \"soft-light\";\r\n    BlendMode[\"SRC_ATOP\"] = \"source-atop\";\r\n    BlendMode[\"XOR\"] = \"xor\";\r\n})(BlendMode || (BlendMode = {}));\r\n//# sourceMappingURL=Renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9SZW5kZXJlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9SZW5kZXJlci5qcz9jMDQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9ibG9iLzNkZDBmZjlhOTM1ZjBiYzEzYTA5YWVmZmY5ZWIyODcyZjAyYzUxYjkvcGFja2FnZXMvY2FudmFzL2NhbnZhcy1yZW5kZXJlci9zcmMvdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS50cyNMMTNcclxuICovXHJcbmV4cG9ydCB2YXIgQmxlbmRNb2RlO1xyXG4oZnVuY3Rpb24gKEJsZW5kTW9kZSkge1xyXG4gICAgQmxlbmRNb2RlW1wiQUREXCJdID0gXCJsaWdodGVyXCI7XHJcbiAgICBCbGVuZE1vZGVbXCJDT0xPUlwiXSA9IFwiY29sb3JcIjtcclxuICAgIEJsZW5kTW9kZVtcIkNPTE9SX0JVUk5cIl0gPSBcImNvbG9yLWJ1cm5cIjtcclxuICAgIEJsZW5kTW9kZVtcIkNPTE9SX0RPREdFXCJdID0gXCJjb2xvci1kb2RnZVwiO1xyXG4gICAgQmxlbmRNb2RlW1wiREFSS0VOXCJdID0gXCJkYXJrZW5cIjtcclxuICAgIEJsZW5kTW9kZVtcIkRJRkZFUkVOQ0VcIl0gPSBcImRpZmZlcmVuY2VcIjtcclxuICAgIEJsZW5kTW9kZVtcIkRTVF9PVkVSXCJdID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XHJcbiAgICBCbGVuZE1vZGVbXCJFWENMVVNJT05cIl0gPSBcImV4Y2x1c2lvblwiO1xyXG4gICAgQmxlbmRNb2RlW1wiSEFSRF9MSUdIVFwiXSA9IFwiaGFyZC1saWdodFwiO1xyXG4gICAgQmxlbmRNb2RlW1wiSFVFXCJdID0gXCJodWVcIjtcclxuICAgIEJsZW5kTW9kZVtcIkxJR0hURU5cIl0gPSBcImxpZ2h0ZW5cIjtcclxuICAgIEJsZW5kTW9kZVtcIkxVTUlOT1NJVFlcIl0gPSBcImx1bWlub3NpdHlcIjtcclxuICAgIEJsZW5kTW9kZVtcIk1VTFRJUExZXCJdID0gXCJtdWx0aXBseVwiO1xyXG4gICAgQmxlbmRNb2RlW1wiTk9STUFMXCJdID0gXCJzb3VyY2Utb3ZlclwiO1xyXG4gICAgQmxlbmRNb2RlW1wiT1ZFUkxBWVwiXSA9IFwib3ZlcmxheVwiO1xyXG4gICAgQmxlbmRNb2RlW1wiU0FUVVJBVElPTlwiXSA9IFwic2F0dXJhdGlvblwiO1xyXG4gICAgQmxlbmRNb2RlW1wiU0NSRUVOXCJdID0gXCJzY3JlZW5cIjtcclxuICAgIEJsZW5kTW9kZVtcIlNPRlRfTElHSFRcIl0gPSBcInNvZnQtbGlnaHRcIjtcclxuICAgIEJsZW5kTW9kZVtcIlNSQ19BVE9QXCJdID0gXCJzb3VyY2UtYXRvcFwiO1xyXG4gICAgQmxlbmRNb2RlW1wiWE9SXCJdID0gXCJ4b3JcIjtcclxufSkoQmxlbmRNb2RlIHx8IChCbGVuZE1vZGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pattern: () => (/* binding */ Pattern)\n/* harmony export */ });\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\n/**\r\n * Base class for patterns.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nclass Pattern extends _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_backgroundDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_pattern\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        // Applying themes because pattern will not have parent\r\n        super._afterNewApplyThemes();\r\n    }\r\n    get pattern() {\r\n        return this._pattern;\r\n    }\r\n    _draw() { }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"repetition\") || this.isDirty(\"width\") || this.isDirty(\"height\") || this.isDirty(\"rotation\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"colorOpacity\") || this.isDirty(\"fillOpacity\")) {\r\n            this._clear = true;\r\n        }\r\n        this._checkDirtyFill();\r\n    }\r\n    _checkDirtyFill() {\r\n        if (this.isDirty(\"color\") || this.isDirty(\"fill\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const repetition = this.get(\"repetition\", \"\");\r\n            const width = this.get(\"width\", 100);\r\n            const height = this.get(\"height\", 100);\r\n            const fill = this.get(\"fill\");\r\n            const fillOpacity = this.get(\"fillOpacity\", 1);\r\n            const backgroundDisplay = this._backgroundDisplay;\r\n            const display = this._display;\r\n            display.clear();\r\n            backgroundDisplay.clear();\r\n            if (fill && (fillOpacity > 0)) {\r\n                backgroundDisplay.beginFill(fill, fillOpacity);\r\n                backgroundDisplay.drawRect(0, 0, width, height);\r\n                backgroundDisplay.endFill();\r\n            }\r\n            display.angle = this.get(\"rotation\", 0);\r\n            //display.pivot = { x: width / 2, y: height / 2 };\r\n            this._draw();\r\n            this._pattern = this._root._renderer.createPattern(display, backgroundDisplay, repetition, width, height);\r\n        }\r\n        this._clear = false;\r\n    }\r\n}\r\nObject.defineProperty(Pattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Pattern\"\r\n});\r\nObject.defineProperty(Pattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([Pattern.className])\r\n});\r\n//# sourceMappingURL=Pattern.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvcGF0dGVybnMvUGF0dGVybi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTLHlGQUF5RjtBQUNsRztBQUNPLHNCQUFzQixnREFBTTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9wYXR0ZXJucy9QYXR0ZXJuLmpzPzMxYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL3V0aWwvRW50aXR5XCI7XHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBwYXR0ZXJucy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29sb3JzLWdyYWRpZW50cy1hbmQtcGF0dGVybnMvcGF0dGVybnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGF0dGVybiBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwbGF5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3Jvb3QuX3JlbmRlcmVyLm1ha2VHcmFwaGljcygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2JhY2tncm91bmREaXNwbGF5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3Jvb3QuX3JlbmRlcmVyLm1ha2VHcmFwaGljcygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NsZWFyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhdHRlcm5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgLy8gQXBwbHlpbmcgdGhlbWVzIGJlY2F1c2UgcGF0dGVybiB3aWxsIG5vdCBoYXZlIHBhcmVudFxyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ld0FwcGx5VGhlbWVzKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgcGF0dGVybigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0dGVybjtcclxuICAgIH1cclxuICAgIF9kcmF3KCkgeyB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyZXBldGl0aW9uXCIpIHx8IHRoaXMuaXNEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcImhlaWdodFwiKSB8fCB0aGlzLmlzRGlydHkoXCJyb3RhdGlvblwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VXaWR0aFwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VEYXNoYXJyYXlcIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlRGFzaG9mZnNldFwiKSB8fCB0aGlzLmlzRGlydHkoXCJjb2xvck9wYWNpdHlcIikgfHwgdGhpcy5pc0RpcnR5KFwiZmlsbE9wYWNpdHlcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jaGVja0RpcnR5RmlsbCgpO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrRGlydHlGaWxsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjb2xvclwiKSB8fCB0aGlzLmlzRGlydHkoXCJmaWxsXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICBjb25zdCByZXBldGl0aW9uID0gdGhpcy5nZXQoXCJyZXBldGl0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIiwgMTAwKTtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5nZXQoXCJoZWlnaHRcIiwgMTAwKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbCA9IHRoaXMuZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbE9wYWNpdHkgPSB0aGlzLmdldChcImZpbGxPcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kRGlzcGxheSA9IHRoaXMuX2JhY2tncm91bmREaXNwbGF5O1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5fZGlzcGxheTtcclxuICAgICAgICAgICAgZGlzcGxheS5jbGVhcigpO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kRGlzcGxheS5jbGVhcigpO1xyXG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAoZmlsbE9wYWNpdHkgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZERpc3BsYXkuYmVnaW5GaWxsKGZpbGwsIGZpbGxPcGFjaXR5KTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmREaXNwbGF5LmRyYXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZERpc3BsYXkuZW5kRmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkuYW5nbGUgPSB0aGlzLmdldChcInJvdGF0aW9uXCIsIDApO1xyXG4gICAgICAgICAgICAvL2Rpc3BsYXkucGl2b3QgPSB7IHg6IHdpZHRoIC8gMiwgeTogaGVpZ2h0IC8gMiB9O1xyXG4gICAgICAgICAgICB0aGlzLl9kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhdHRlcm4gPSB0aGlzLl9yb290Ll9yZW5kZXJlci5jcmVhdGVQYXR0ZXJuKGRpc3BsYXksIGJhY2tncm91bmREaXNwbGF5LCByZXBldGl0aW9uLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2xlYXIgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybiwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiUGF0dGVyblwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybiwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBFbnRpdHkuY2xhc3NOYW1lcy5jb25jYXQoW1BhdHRlcm4uY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhdHRlcm4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PicturePattern: () => (/* binding */ PicturePattern)\n/* harmony export */ });\n/* harmony import */ var _Pattern__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Pattern */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js\");\n\r\n/**\r\n * Picture pattern.\r\n *\r\n * @since 5.2.15\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nclass PicturePattern extends _Pattern__WEBPACK_IMPORTED_MODULE_0__.Pattern {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        this._clear = true;\r\n        if (this.isDirty(\"src\")) {\r\n            this._load();\r\n        }\r\n        const canvas = this.get(\"canvas\");\r\n        if (canvas) {\r\n            this.set(\"width\", canvas.width);\r\n            this.set(\"height\", canvas.height);\r\n        }\r\n    }\r\n    _draw() {\r\n        super._draw();\r\n        const image = this._image;\r\n        if (image) {\r\n            const patternWidth = this.get(\"width\", 100);\r\n            const patternHeight = this.get(\"height\", 100);\r\n            // Fit\r\n            const fit = this.get(\"fit\", \"image\");\r\n            let width = 0;\r\n            let height = 0;\r\n            if (fit == \"pattern\") {\r\n                width = patternWidth;\r\n                height = patternHeight;\r\n            }\r\n            else {\r\n                width = image.width;\r\n                height = image.height;\r\n                if (fit == \"image\") {\r\n                    this.set(\"width\", width);\r\n                    this.set(\"height\", height);\r\n                }\r\n            }\r\n            // Position\r\n            const centered = this.get(\"centered\", true);\r\n            let x = 0;\r\n            let y = 0;\r\n            if (centered) {\r\n                x = patternWidth / 2 - width / 2;\r\n                y = patternHeight / 2 - height / 2;\r\n            }\r\n            this._display.image(image, width, height, x, y);\r\n        }\r\n        const canvas = this.get(\"canvas\");\r\n        if (canvas) {\r\n            this._display.image(canvas, canvas.width, canvas.height, 0, 0);\r\n        }\r\n    }\r\n    _load() {\r\n        const src = this.get(\"src\");\r\n        if (src) {\r\n            const image = new Image();\r\n            //image.crossOrigin = \"Anonymous\";\r\n            image.src = src;\r\n            image.decode().then(() => {\r\n                this._image = image;\r\n                this._draw();\r\n                if (this.events.isEnabled(\"loaded\")) {\r\n                    this.events.dispatch(\"loaded\", { type: \"loaded\", target: this });\r\n                }\r\n            }).catch((_error) => {\r\n                // TODO: maybe raise error?\r\n            });\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PicturePattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PicturePattern\"\r\n});\r\nObject.defineProperty(PicturePattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Pattern__WEBPACK_IMPORTED_MODULE_0__.Pattern.classNames.concat([PicturePattern.className])\r\n});\r\n//# sourceMappingURL=PicturePattern.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvcGF0dGVybnMvUGljdHVyZVBhdHRlcm4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseUZBQXlGO0FBQ2xHO0FBQ08sNkJBQTZCLDZDQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw4QkFBOEI7QUFDbkY7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkNBQU87QUFDbEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9wYXR0ZXJucy9QaWN0dXJlUGF0dGVybi5qcz8xOTYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhdHRlcm4gfSBmcm9tIFwiLi9QYXR0ZXJuXCI7XHJcbi8qKlxyXG4gKiBQaWN0dXJlIHBhdHRlcm4uXHJcbiAqXHJcbiAqIEBzaW5jZSA1LjIuMTVcclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29sb3JzLWdyYWRpZW50cy1hbmQtcGF0dGVybnMvcGF0dGVybnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGljdHVyZVBhdHRlcm4gZXh0ZW5kcyBQYXR0ZXJuIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ltYWdlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICB0aGlzLl9jbGVhciA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNyY1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ2V0KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoXCJ3aWR0aFwiLCBjYW52YXMud2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldChcImhlaWdodFwiLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZHJhdygpIHtcclxuICAgICAgICBzdXBlci5fZHJhdygpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5faW1hZ2U7XHJcbiAgICAgICAgaWYgKGltYWdlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5XaWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIiwgMTAwKTtcclxuICAgICAgICAgICAgY29uc3QgcGF0dGVybkhlaWdodCA9IHRoaXMuZ2V0KFwiaGVpZ2h0XCIsIDEwMCk7XHJcbiAgICAgICAgICAgIC8vIEZpdFxyXG4gICAgICAgICAgICBjb25zdCBmaXQgPSB0aGlzLmdldChcImZpdFwiLCBcImltYWdlXCIpO1xyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgaWYgKGZpdCA9PSBcInBhdHRlcm5cIikge1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBwYXR0ZXJuV2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBwYXR0ZXJuSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGlmIChmaXQgPT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJ3aWR0aFwiLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQb3NpdGlvblxyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXJlZCA9IHRoaXMuZ2V0KFwiY2VudGVyZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICAgICAgbGV0IHkgPSAwO1xyXG4gICAgICAgICAgICBpZiAoY2VudGVyZWQpIHtcclxuICAgICAgICAgICAgICAgIHggPSBwYXR0ZXJuV2lkdGggLyAyIC0gd2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgeSA9IHBhdHRlcm5IZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmltYWdlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5nZXQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgaWYgKGNhbnZhcykge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmltYWdlKGNhbnZhcywgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCAwLCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbG9hZCgpIHtcclxuICAgICAgICBjb25zdCBzcmMgPSB0aGlzLmdldChcInNyY1wiKTtcclxuICAgICAgICBpZiAoc3JjKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIC8vaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcIkFub255bW91c1wiO1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XHJcbiAgICAgICAgICAgIGltYWdlLmRlY29kZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXcoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJsb2FkZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcImxvYWRlZFwiLCB7IHR5cGU6IFwibG9hZGVkXCIsIHRhcmdldDogdGhpcyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuY2F0Y2goKF9lcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogbWF5YmUgcmFpc2UgZXJyb3I/XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGljdHVyZVBhdHRlcm4sIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlBpY3R1cmVQYXR0ZXJuXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaWN0dXJlUGF0dGVybiwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBQYXR0ZXJuLmNsYXNzTmFtZXMuY29uY2F0KFtQaWN0dXJlUGF0dGVybi5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGljdHVyZVBhdHRlcm4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationState: () => (/* binding */ AnimationState),\n/* harmony export */   AnimationTime: () => (/* binding */ AnimationTime),\n/* harmony export */   colorInterpolate: () => (/* binding */ colorInterpolate),\n/* harmony export */   defaultInterpolate: () => (/* binding */ defaultInterpolate),\n/* harmony export */   getInterpolate: () => (/* binding */ getInterpolate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   percentInterpolate: () => (/* binding */ percentInterpolate),\n/* harmony export */   range: () => (/* binding */ range),\n/* harmony export */   waitForAnimations: () => (/* binding */ waitForAnimations)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _Percent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction waitForAnimations(animations) {\r\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function* () {\r\n        if (animations !== undefined) {\r\n            const promises = [];\r\n            _Object__WEBPACK_IMPORTED_MODULE_1__.each(animations, (_, animation) => {\r\n                promises.push(animation.waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction percentInterpolate(diff, from, to) {\r\n    return new _Percent__WEBPACK_IMPORTED_MODULE_2__.Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction colorInterpolate(diff, from, to) {\r\n    return _Color__WEBPACK_IMPORTED_MODULE_3__.Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof _Percent__WEBPACK_IMPORTED_MODULE_2__.Percent && to instanceof _Percent__WEBPACK_IMPORTED_MODULE_2__.Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof _Color__WEBPACK_IMPORTED_MODULE_3__.Color && to instanceof _Color__WEBPACK_IMPORTED_MODULE_3__.Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\nvar AnimationState;\r\n(function (AnimationState) {\r\n    AnimationState[AnimationState[\"Stopped\"] = 0] = \"Stopped\";\r\n    AnimationState[AnimationState[\"Playing\"] = 1] = \"Playing\";\r\n    AnimationState[AnimationState[\"Paused\"] = 2] = \"Paused\";\r\n})(AnimationState || (AnimationState = {}));\r\n/**\r\n * @ignore\r\n */\r\nclass AnimationTime {\r\n    constructor(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_4__.EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    _stopEvent() {\r\n        const type = \"stopped\";\r\n        if (this.events.isEnabled(type)) {\r\n            this.events.dispatch(type, { type: type, target: this });\r\n        }\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (this._playingDuration !== null) {\r\n            if (this._startingTime === null) {\r\n                this._startingTime = currentTime;\r\n                return AnimationState.Playing;\r\n            }\r\n            else {\r\n                const diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                if (diff >= 1) {\r\n                    this._playingDuration = null;\r\n                    this._startingTime = null;\r\n                    this._from = this._to;\r\n                    this._current = this._to;\r\n                    this._entity.markDirty();\r\n                    this._stopEvent();\r\n                    const type = \"ended\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                    return AnimationState.Stopped;\r\n                }\r\n                else {\r\n                    this._current = range(diff, this._from, this._to);\r\n                    this._entity.markDirty();\r\n                    const type = \"progress\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                    }\r\n                    return AnimationState.Playing;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return AnimationState.Stopped;\r\n        }\r\n    }\r\n    _play() {\r\n        this._from = this._current;\r\n        if (this._playingDuration === null) {\r\n            this._entity._root._addAnimation(this);\r\n            const type = \"started\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        else {\r\n            this._startingTime = null;\r\n        }\r\n        this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n    }\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    set duration(value) {\r\n        if (this._duration !== value) {\r\n            this._duration = value;\r\n            if (value === 0) {\r\n                this.jumpTo(this._to);\r\n            }\r\n            else if (this._current !== this._to) {\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n    get current() {\r\n        if (this.easing) {\r\n            return this.easing(this._current);\r\n        }\r\n        else {\r\n            return this._current;\r\n        }\r\n    }\r\n    stop() {\r\n        this.jumpTo(this._current);\r\n    }\r\n    jumpTo(value) {\r\n        if (this._current !== value) {\r\n            this._entity.markDirty();\r\n        }\r\n        if (this._playingDuration !== null) {\r\n            this._stopEvent();\r\n        }\r\n        this._playingDuration = null;\r\n        this._startingTime = null;\r\n        this._current = value;\r\n        this._from = value;\r\n        this._to = value;\r\n    }\r\n    tweenTo(value) {\r\n        if (this._current === value || this._duration === 0) {\r\n            this.jumpTo(value);\r\n        }\r\n        else {\r\n            if (this._to !== value) {\r\n                this._to = value;\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n}\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n//# sourceMappingURL=Animation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0FuaW1hdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrQztBQUNFO0FBQ0o7QUFDb0I7QUFDaEI7QUFDcEM7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLGdEQUFTO0FBQ3BCO0FBQ0E7QUFDQSxZQUFZLHlDQUFZO0FBQ3hCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSw2Q0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyx5Q0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFPLGtCQUFrQiw2Q0FBTztBQUN4RDtBQUNBO0FBQ0Esd0JBQXdCLHlDQUFLLGtCQUFrQix5Q0FBSztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsMEJBQTBCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDBCQUEwQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDBDQUEwQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMEJBQTBCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQW5pbWF0aW9uLmpzPzg3MmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IFBlcmNlbnQgfSBmcm9tIFwiLi9QZXJjZW50XCI7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4vQ29sb3JcIjtcclxuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcIi4vRXZlbnREaXNwYXRjaGVyXCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvckFuaW1hdGlvbnMoYW5pbWF0aW9ucykge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBpZiAoYW5pbWF0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XHJcbiAgICAgICAgICAgICRvYmplY3QuZWFjaChhbmltYXRpb25zLCAoXywgYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGFuaW1hdGlvbi53YWl0Rm9yU3RvcCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgIGlmIChtaW4gPT09IG1heCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KCh2YWx1ZSAtIG1pbikgKiAoMSAvIChtYXggLSBtaW4pKSwgMCksIDEpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UoZGlmZiwgZnJvbSwgdG8pIHtcclxuICAgIHJldHVybiBmcm9tICsgKGRpZmYgKiAodG8gLSBmcm9tKSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0SW50ZXJwb2xhdGUoZGlmZiwgZnJvbSwgdG8pIHtcclxuICAgIGlmIChkaWZmID49IDEpIHtcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcmNlbnRJbnRlcnBvbGF0ZShkaWZmLCBmcm9tLCB0bykge1xyXG4gICAgcmV0dXJuIG5ldyBQZXJjZW50KHJhbmdlKGRpZmYsIGZyb20ucGVyY2VudCwgdG8ucGVyY2VudCkpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29sb3JJbnRlcnBvbGF0ZShkaWZmLCBmcm9tLCB0bykge1xyXG4gICAgcmV0dXJuIENvbG9yLmludGVycG9sYXRlKGRpZmYsIGZyb20sIHRvKTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVycG9sYXRlKGZyb20sIHRvKSB7XHJcbiAgICBpZiAodHlwZW9mIGZyb20gPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgfVxyXG4gICAgaWYgKGZyb20gaW5zdGFuY2VvZiBQZXJjZW50ICYmIHRvIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgIHJldHVybiBwZXJjZW50SW50ZXJwb2xhdGU7XHJcbiAgICB9XHJcbiAgICBpZiAoZnJvbSBpbnN0YW5jZW9mIENvbG9yICYmIHRvIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICByZXR1cm4gY29sb3JJbnRlcnBvbGF0ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWZhdWx0SW50ZXJwb2xhdGU7XHJcbn1cclxuZXhwb3J0IHZhciBBbmltYXRpb25TdGF0ZTtcclxuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJTdG9wcGVkXCJdID0gMF0gPSBcIlN0b3BwZWRcIjtcclxuICAgIEFuaW1hdGlvblN0YXRlW0FuaW1hdGlvblN0YXRlW1wiUGxheWluZ1wiXSA9IDFdID0gXCJQbGF5aW5nXCI7XHJcbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBhdXNlZFwiXSA9IDJdID0gXCJQYXVzZWRcIjtcclxufSkoQW5pbWF0aW9uU3RhdGUgfHwgKEFuaW1hdGlvblN0YXRlID0ge30pKTtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb25UaW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSwgZHVyYXRpb24pIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kdXJhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGxheWluZ0R1cmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhcnRpbmdUaW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY3VycmVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Zyb21cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBFdmVudERpc3BhdGNoZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVhc2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgIH1cclxuICAgIF9zdG9wRXZlbnQoKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IFwic3RvcHBlZFwiO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3J1bkFuaW1hdGlvbihjdXJyZW50VGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nRHVyYXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXJ0aW5nVGltZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRpbmdUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQW5pbWF0aW9uU3RhdGUuUGxheWluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAoY3VycmVudFRpbWUgLSB0aGlzLl9zdGFydGluZ1RpbWUpIC8gdGhpcy5fcGxheWluZ0R1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsYXlpbmdEdXJhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRpbmdUaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcm9tID0gdGhpcy5fdG87XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX3RvO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5tYXJrRGlydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9wRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gXCJlbmRlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBbmltYXRpb25TdGF0ZS5TdG9wcGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHJhbmdlKGRpZmYsIHRoaXMuX2Zyb20sIHRoaXMuX3RvKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwicHJvZ3Jlc3NcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHsgdHlwZTogdHlwZSwgdGFyZ2V0OiB0aGlzLCBwcm9ncmVzczogZGlmZiB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFuaW1hdGlvblN0YXRlLlBsYXlpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBbmltYXRpb25TdGF0ZS5TdG9wcGVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wbGF5KCkge1xyXG4gICAgICAgIHRoaXMuX2Zyb20gPSB0aGlzLl9jdXJyZW50O1xyXG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nRHVyYXRpb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5Ll9yb290Ll9hZGRBbmltYXRpb24odGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcInN0YXJ0ZWRcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0aW5nVGltZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3BsYXlpbmdEdXJhdGlvbiA9IE1hdGguYWJzKHRoaXMuX3RvIC0gdGhpcy5fZnJvbSkgKiB0aGlzLl9kdXJhdGlvbjtcclxuICAgIH1cclxuICAgIGdldCBkdXJhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XHJcbiAgICB9XHJcbiAgICBzZXQgZHVyYXRpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb24gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wVG8odGhpcy5fdG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnQgIT09IHRoaXMuX3RvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgY3VycmVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lYXNpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFzaW5nKHRoaXMuX2N1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmp1bXBUbyh0aGlzLl9jdXJyZW50KTtcclxuICAgIH1cclxuICAgIGp1bXBUbyh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50ICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHkubWFya0RpcnR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nRHVyYXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RvcEV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3BsYXlpbmdEdXJhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRpbmdUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fZnJvbSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3RvID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICB0d2VlblRvKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgPT09IHZhbHVlIHx8IHRoaXMuX2R1cmF0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFRvKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90byAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLypleHBvcnQgY2xhc3MgQW5pbWF0aW9uVmFsdWUgZXh0ZW5kcyBBbmltYXRpb25UaW1lIHtcclxuICAgIHB1YmxpYyBfbWluOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgX21heDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eTogRW50aXR5LCBkdXJhdGlvbjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihlbnRpdHksIGR1cmF0aW9uKTtcclxuICAgICAgICB0aGlzLl9taW4gPSBtaW47XHJcbiAgICAgICAgdGhpcy5fbWF4ID0gbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgbWluKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IG1pbih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21pbiAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWluID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eS5tYXJrRGlydHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBtYXgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgbWF4KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5fbWF4ICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5Lm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHJhbmdlKHN1cGVyLmN1cnJlbnRUaW1lKCksIHRoaXMuX21pbiwgdGhpcy5fbWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMganVtcFRvVmFsdWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLmp1bXBUb1RpbWUobm9ybWFsaXplKHZhbHVlLCB0aGlzLl9taW4sIHRoaXMuX21heCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0d2VlblRvVmFsdWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLnR3ZWVuVG9UaW1lKG5vcm1hbGl6ZSh2YWx1ZSwgdGhpcy5fbWluLCB0aGlzLl9tYXgpKTtcclxuICAgIH1cclxufVxyXG4qL1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   any: () => (/* binding */ any),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   each: () => (/* binding */ each),\n/* harmony export */   eachContinue: () => (/* binding */ eachContinue),\n/* harmony export */   eachReverse: () => (/* binding */ eachReverse),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   findIndexReverse: () => (/* binding */ findIndexReverse),\n/* harmony export */   findMap: () => (/* binding */ findMap),\n/* harmony export */   findReverse: () => (/* binding */ findReverse),\n/* harmony export */   first: () => (/* binding */ first),\n/* harmony export */   getFirstSortedIndex: () => (/* binding */ getFirstSortedIndex),\n/* harmony export */   getSortedIndex: () => (/* binding */ getSortedIndex),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   indexOf: () => (/* binding */ indexOf),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   insertIndex: () => (/* binding */ insertIndex),\n/* harmony export */   keepIf: () => (/* binding */ keepIf),\n/* harmony export */   last: () => (/* binding */ last),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   move: () => (/* binding */ move),\n/* harmony export */   pushAll: () => (/* binding */ pushAll),\n/* harmony export */   pushOne: () => (/* binding */ pushOne),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeFirst: () => (/* binding */ removeFirst),\n/* harmony export */   removeIndex: () => (/* binding */ removeIndex),\n/* harmony export */   replace: () => (/* binding */ replace),\n/* harmony export */   setIndex: () => (/* binding */ setIndex),\n/* harmony export */   shiftLeft: () => (/* binding */ shiftLeft),\n/* harmony export */   shuffle: () => (/* binding */ shuffle),\n/* harmony export */   slice: () => (/* binding */ slice),\n/* harmony export */   toArray: () => (/* binding */ toArray)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nfunction indexOf(array, value) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nfunction any(array, test) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nfunction map(array, fn) {\r\n    const length = array.length;\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction each(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction eachReverse(array, fn) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction eachContinue(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nfunction shiftLeft(array, index) {\r\n    const length = array.length;\r\n    for (let i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nfunction last(array) {\r\n    const length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nfunction first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nfunction insert(array, element, index) {\r\n    //if (array) {\r\n    index = Math.max(0, Math.min(index, array.length));\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nfunction setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nfunction pushAll(array, input) {\r\n    const length = input.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nfunction remove(array, element) {\r\n    let found = false;\r\n    let index = 0;\r\n    for (;;) {\r\n        index = array.indexOf(element, index);\r\n        if (index === -1) {\r\n            return found;\r\n        }\r\n        else {\r\n            found = true;\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nfunction removeFirst(array, element) {\r\n    let index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nfunction move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    let index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nfunction add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Pushes `element` into `array` if it doesn't already exist.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n */\r\nfunction pushOne(array, element) {\r\n    if (array.indexOf(element) === -1) {\r\n        array.push(element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nfunction replace(array, element, index) {\r\n    // check if exists\r\n    let ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nfunction toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nfunction has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nfunction copy(array) {\r\n    const length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nfunction slice(array, start, end = array.length) {\r\n    const output = new Array(end - start);\r\n    for (let i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nfunction insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nfunction removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nfunction findIndex(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * This is the same as `findIndex` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nfunction findIndexReverse(array, matches) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nfunction find(array, matches) {\r\n    const index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * This is the same as `find` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nfunction findReverse(array, matches) {\r\n    const index = findIndexReverse(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If value\r\n * is not `undefined`, it returns it.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nfunction findMap(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        const value = matches(array[i], i);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    let currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns right-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nfunction getSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns left-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nfunction getFirstSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            end = pivot;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: start\r\n    };\r\n}\r\nfunction keepIf(array, keep) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (!keep(array[i])) {\r\n            array.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0FycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsU0FBUywyQ0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkNBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0FycmF5LmpzPzhkMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBVVElMSVRZIEZVTkNUSU9OU1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBTZWFyY2hlcyBgYXJyYXlgIGZvciBgdmFsdWVgLlxyXG4gKlxyXG4gKiBSZXR1cm5zIC0xIGlmIG5vdCBmb3VuZC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIHZhbHVlICBWYWx1ZSB0byBzZWFyY2hcclxuICogQHJldHVybnMgSW5kZXhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIC8vIFRPRE8gaGFuZGxlIE5hTlxyXG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxscyBgdGVzdGAgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgLlxyXG4gKlxyXG4gKiBJZiBgdGVzdGAgcmV0dXJucyBgdHJ1ZWAgdGhlbiBpdCBpbW1lZGlhdGVseSByZXR1cm5zIGB0cnVlYC5cclxuICpcclxuICogSWYgYHRlc3RgIHJldHVybnMgYGZhbHNlYCBmb3IgYWxsIG9mIHRoZSBlbGVtZW50cyBpbiBgYXJyYXlgIHRoZW4gaXQgcmV0dXJucyBgZmFsc2VgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gdGVzdCAgIEZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBvbiBlYWNoIGVsZW1lbnRcclxuICogQHJldHVybnMgV2hldGhlciBgdGVzdGAgcmV0dXJuZWQgdHJ1ZSBvciBub3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhbnkoYXJyYXksIHRlc3QpIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBpZiAodGVzdChhcnJheVtpXSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxscyBgZm5gIGZ1bmN0aW9uIGZvciBldmVyeSBtZW1iZXIgb2YgYXJyYXkgYW5kIHJldHVybnMgYSBuZXcgYXJyYXkgb3V0XHJcbiAqIG9mIGFsbCBvdXRwdXRzLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIE5ldyBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIGNvbnN0IG91dHB1dCA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIG91dHB1dFtpXSA9IGZuKGFycmF5W2ldLCBpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIGl0ZW1zIGluIGFycmF5IGFuZCBjYWxscyBgZm5gIGZ1bmN0aW9uIGZvciBlYWNoIG9mXHJcbiAqIHRoZW0uXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBmbiAgICAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlYWNoKGFycmF5LCBmbikge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGZuKGFycmF5W2ldLCBpKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogSXRlcmF0ZXMgdGhyb3VnaCBhbGwgaXRlbXMgaW4gYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciBhbmQgY2FsbHMgYGZuYCBmdW5jdGlvbiBmb3IgZWFjaCBvZlxyXG4gKiB0aGVtLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZWFjaFJldmVyc2UoYXJyYXksIGZuKSB7XHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgIC0taTtcclxuICAgICAgICBmbihhcnJheVtpXSwgaSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIGl0ZW1zIGluIGFycmF5IGFuZCBjYWxscyBgZm5gIGZ1bmN0aW9uIGZvciBlYWNoIG9mXHJcbiAqIHRoZW0uXHJcbiAqXHJcbiAqIElmIGBmbmAgY2FsbCBldmFsdWF0ZXMgdG8gYGZhbHNlYCwgZnVydGhlciBpdGVyYXRpb24gaXMgY2FuY2VsbGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZWFjaENvbnRpbnVlKGFycmF5LCBmbikge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGlmICghZm4oYXJyYXlbaV0sIGkpKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2hpZnRzIGFuIGl0ZW0gYXQgYGluZGV4YCB0b3dhcmRzIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBpbmRleCAgVGFyZ2V0IGVsZW1lbnQgaW5kZXhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaGlmdExlZnQoYXJyYXksIGluZGV4KSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGFycmF5W2kgLSBpbmRleF0gPSBhcnJheVtpXTtcclxuICAgIH1cclxuICAgIGFycmF5Lmxlbmd0aCA9IGxlbmd0aCAtIGluZGV4O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBsYXN0IGl0ZW0gb2YgdGhlIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcmV0dXJucyBMYXN0IGl0ZW1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGZpcnN0IGl0ZW0gb2YgdGhlIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcmV0dXJucyBMYXN0IGl0ZW1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdChhcnJheSkge1xyXG4gICAgcmV0dXJuIGFycmF5WzBdO1xyXG59XHJcbi8qKlxyXG4gKiBJbnNlcnRzIGBlbGVtZW50YCBpbnRvIGBhcnJheWAgYXQgYGluZGV4YC5cclxuICpcclxuICogQ2FwcyBgaW5kZXhgIHRvIGJlIGJldHdlZW4gYDBgIGFuZCBgYXJyYXkubGVuZ3RoYFxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIGluc2VydFxyXG4gKiBAcGFyYW0gYXJyYXkgICAgSW5kZXggdG8gaW5zZXJ0IGl0ZW0gYXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQoYXJyYXksIGVsZW1lbnQsIGluZGV4KSB7XHJcbiAgICAvL2lmIChhcnJheSkge1xyXG4gICAgaW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgYXJyYXkubGVuZ3RoKSk7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnQpO1xyXG4gICAgLy99XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYWxsIGNvcGllcyBvZiBgZWxlbWVudGAgZnJvbSBgYXJyYXlgIChpZiB0aGV5IGV4aXN0KSBhbmQgdGhlblxyXG4gKiBpbnNlcnRzIGBlbGVtZW50YCBhdCBgaW5kZXhgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtXHJcbiAqIEBwYXJhbSBhcnJheSAgICBJbmRleCB0byBtb3ZlIGl0ZW0gdG9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbmRleChhcnJheSwgZWxlbWVudCwgaW5kZXgpIHtcclxuICAgIHJlbW92ZShhcnJheSwgZWxlbWVudCk7XHJcbiAgICBpbnNlcnQoYXJyYXksIGVsZW1lbnQsIGluZGV4KTtcclxufVxyXG4vKipcclxuICogUHVzaGVzIGFsbCBvZiB0aGUgZWxlbWVudHMgZnJvbSBgaW5wdXRgIGludG8gYGFycmF5YC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICBPdXRwdXQgYXJyYXlcclxuICogQHBhcmFtIGlucHV0ICBJbnB1dCBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHB1c2hBbGwoYXJyYXksIGlucHV0KSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYXJyYXkucHVzaChpbnB1dFtpXSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYGVsZW1lbnRgIGZyb20gYGFycmF5YC5cclxuICpcclxuICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNvcGllcyBvZiBgZWxlbWVudGAsIHRoZXkgYXJlIGFsbCByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIHJlbW92ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgZWxlbWVudCkge1xyXG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICAgIGluZGV4ID0gYXJyYXkuaW5kZXhPZihlbGVtZW50LCBpbmRleCk7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm91bmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGaXJzdChhcnJheSwgZWxlbWVudCkge1xyXG4gICAgbGV0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihlbGVtZW50KTtcclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBZGRzIGFuIGBlbGVtZW50YCB0byBgYXJyYXlgLlxyXG4gKlxyXG4gKiBJZiBhcnJheSBhbHJlYWR5IGNvbnRhaW5zIGFuZCBpdGVtIGxpa2UgdGhpcywgaXQgaXMgcmVtb3ZlZCBiZWZvcmUgYWRkaW5nXHJcbiAqIGl0IGFnYWluLlxyXG4gKlxyXG4gKiBPcHRpb25hbGx5IGB0b0luZGV4YCBjYW4gYmUgc3BlY2lmaWVkIHRvIGFkZCBlbGVtZW50IGF0IHNwZWNpZmljIGluZGV4LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIGFkZFxyXG4gKiBAcGFyYW0gYXJyYXkgICAgSW5kZXggdG8gbW92ZSBpdGVtIHRvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbW92ZShhcnJheSwgZWxlbWVudCwgdG9JbmRleCkge1xyXG4gICAgLy8gQHRvZG8gdGhpcyBpbXBsZW1lbnRhdGlvbiBtdXN0IGJlIHRoZSBzYW1lIGFzIHRoZSBMaXN0Lm1vdmVWYWx1ZSBtZXRob2RcclxuICAgIC8vIEB0b2RvIGRvbid0IGRvIGFueXRoaW5nIGlmIHRoZSBkZXNpcmVkIGluZGV4IGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IGluZGV4XHJcbiAgICBsZXQgaW5kZXggPSBpbmRleE9mKGFycmF5LCBlbGVtZW50KTtcclxuICAgIC8vIEB0b2RvIHJlbW92ZSBhbGwgb2xkIHZhbHVlcyByYXRoZXIgdGhhbiBvbmx5IHRoZSBmaXJzdCA/XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgcmVtb3ZlSW5kZXgoYXJyYXksIGluZGV4KTtcclxuICAgIH1cclxuICAgIGlmICh0b0luZGV4ID09IG51bGwpIHtcclxuICAgICAgICBhcnJheS5wdXNoKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zZXJ0SW5kZXgoYXJyYXksIHRvSW5kZXgsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBJbnNlcnRzIGBlbGVtZW50YCBpbnRvIGBhcnJheWAgYXQgYGluZGV4YC5cclxuICpcclxuICogSWYgYGluZGV4YCBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgaW5zZXJ0IGBlbGVtZW50YCBhdCB0aGUgZW5kIG9mIGBhcnJheWAuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIGVsZW1lbnQgIEl0ZW0gdG8gYWRkXHJcbiAqIEBwYXJhbSBhcnJheSAgICBJbmRleCB0byBhZGQgaXRlbSBhdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChhcnJheSwgZWxlbWVudCwgaW5kZXgpIHtcclxuICAgIC8vIEFwcGVuZCB0byB0aGUgZW5kIGlmIGluZGV4IGlzIG5vdCBzZXRcclxuICAgIGlmICghJHR5cGUuaXNOdW1iZXIoaW5kZXgpKSB7XHJcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0byB0aGUgYmVnaW5uaW5nIG9mIGFycmF5IGlmIGluZGV4IGlzIDBcclxuICAgIGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgYXJyYXkudW5zaGlmdChlbGVtZW50KTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0byBpbmRpY2F0ZWQgcGxhY2UgaWYgaW5kZXggaXMgc2V0XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBQdXNoZXMgYGVsZW1lbnRgIGludG8gYGFycmF5YCBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIGVsZW1lbnQgIEl0ZW0gdG8gYWRkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcHVzaE9uZShhcnJheSwgZWxlbWVudCkge1xyXG4gICAgaWYgKGFycmF5LmluZGV4T2YoZWxlbWVudCkgPT09IC0xKSB7XHJcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVtb3ZlcyBgZWxlbWVudGAgZnJvbSBgYXJyYXlgIChpZiBpdCBleGlzdHMpIGFuZCB0aGVuIGluc2VydHMgYGVsZW1lbnRgIGF0XHJcbiAqIGBpbmRleGAuXHJcbiAqXHJcbiAqIElmIGBpbmRleGAgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGluc2VydCBgZWxlbWVudGAgYXQgdGhlIGVuZCBvZiBgYXJyYXlgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIHJlbW92ZVxyXG4gKiBAcGFyYW0gYXJyYXkgICAgSW5kZXggdG8gbW92ZSBpdGVtIHRvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShhcnJheSwgZWxlbWVudCwgaW5kZXgpIHtcclxuICAgIC8vIGNoZWNrIGlmIGV4aXN0c1xyXG4gICAgbGV0IGluZCA9IGFycmF5LmluZGV4T2YoZWxlbWVudCk7XHJcbiAgICAvLyByZW1vdmUgaWYgZXhpc3RzXHJcbiAgICBpZiAoaW5kICE9PSAtMSkge1xyXG4gICAgICAgIGFycmF5LnNwbGljZShpbmQsIDEpO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkIHRvIGVuZCBpZiBpbmRleCBpcyBub3Qgc2V0XHJcbiAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGluZGV4KSkge1xyXG4gICAgICAgIGFycmF5LnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICAvLyBhZGQgdG8gaW5kaWNhdGVkIHBsYWNlIGlmIGluZGV4IGlzIHNldFxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAwLCBlbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogV3JhcHMgYGlucHV0YCBpbiBhbiBhcnJheSwgaWYgaXQgaXNuJ3QgYWxyZWFkeSBhbiBhcnJheS5cclxuICpcclxuICogQHBhcmFtIGlucHV0ICBTb3VyY2UgdmFsdWVcclxuICogQHJldHVybiBBbiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkoaW5wdXQpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaW5wdXRdO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgZWxlbWVudGAgZXhpc3RzIGluIGBhcnJheWAuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIGVsZW1lbnQgIEl0ZW0gdG8gc2VhcmNoIGZvclxyXG4gKiBAcmV0dXJucyBJdGVtIGluIGFycmF5P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhcyhhcnJheSwgZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGluZGV4T2YoYXJyYXksIGVsZW1lbnQpICE9PSAtMTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHNoYWxsb3cgY29weSBvZiBgYXJyYXlgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcmV0dXJucyBDb3B5IG9mIHRoZSBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkoYXJyYXkpIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIC8vIEl0J3MgZmFzdGVyIHRvIGNyZWF0ZSB0aGUgYXJyYXkgd2l0aCBhIHByZS1kZWZpbmVkIGxlbmd0aFxyXG4gICAgY29uc3Qgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgLy8gQmVjYXVzZSB0aGUgYXJyYXkgaGFzIGEgcHJlLWRlZmluZWQgbGVuZ3RoLCB3ZSBoYXZlIHRvIGFzc2lnbiByYXRoZXIgdGhhbiBwdXNoXHJcbiAgICAgICAgLy8gVGhpcyBpcyBhbHNvIGZhc3RlciB0aGFuIHB1c2hpbmdcclxuICAgICAgICBvdXRwdXRbaV0gPSBhcnJheVtpXTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBjb3B5IG9mIGBhcnJheWAgd2hpY2ggY29udGFpbnMgYWxsIHRoZSBlbGVtZW50cyBiZXR3ZWVuIGBzdGFydGBcclxuICogYW5kIGBlbmRgLiAoaW5jbHVkaW5nIGBzdGFydGAgYW5kIGV4Y2x1ZGluZyBgZW5kYClcclxuICpcclxuICogSWYgYGVuZGAgaXMgbm90IHByb3ZpZGVkLCBpdCBkZWZhdWx0cyB0byBgYXJyYXkubGVuZ3RoYC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIHN0YXJ0ICBTdGFydCBpbmRleFxyXG4gKiBAcGFyYW0gZW5kICAgIEVuZCBpbmRleFxyXG4gKiBAcmV0dXJucyBQYXJ0IG9mIHRoZSBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kID0gYXJyYXkubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBvdXRwdXQgPSBuZXcgQXJyYXkoZW5kIC0gc3RhcnQpO1xyXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcclxuICAgICAgICBvdXRwdXRbaSAtIHN0YXJ0XSA9IGFycmF5W2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxufVxyXG4vKipcclxuICogSW5zZXJ0cyBhIHZhbHVlIGludG8gYXJyYXkgYXQgc3BlY2lmaWMgaW5kZXguXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBpbmRleCAgSW5kZXhcclxuICogQHBhcmFtIHZhbHVlICBWYWx1ZSB0byBpbnNlcnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRJbmRleChhcnJheSwgaW5kZXgsIHZhbHVlKSB7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogUmVtb3ZlcyBhIHZhbHVlIGZyb20gYXJyYXkgYXQgc3BlY2lmaWMgaW5kZXguXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBpbmRleCAgSW5kZXhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVJbmRleChhcnJheSwgaW5kZXgpIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbn1cclxuLyoqXHJcbiAqIFNlYXJjaGVzIHRoZSBhcnJheSB1c2luZyBjdXN0b20gZnVuY3Rpb24gYW5kIHJldHVybnMgaW5kZXggb2YgdGhlIGl0ZW0gaWZcclxuICogZm91bmQuXHJcbiAqXHJcbiAqIFdpbGwgY2FsbCBgbWF0Y2hlc2AgZnVuY3Rpb24gb24gYWxsIGl0ZW1zIG9mIHRoZSBhcnJheS4gSWYgcmV0dXJuIHZhbHVlXHJcbiAqIGV2YWx1YXRlcyB0byBgdHJ1ZWAsIGluZGV4IGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBPdGhlcndpc2UgcmV0dXJucyAtMS5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMoYXJyYXlbaV0sIGkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG4vKipcclxuICogVGhpcyBpcyB0aGUgc2FtZSBhcyBgZmluZEluZGV4YCBleGNlcHQgaXQgc2VhcmNoZXMgZnJvbSByaWdodCB0byBsZWZ0LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBtYXRjaGVzICBTZWFyY2ggZnVuY3Rpb25cclxuICogQHJldHVybnMgSW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXhSZXZlcnNlKGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgIC0taTtcclxuICAgICAgICBpZiAobWF0Y2hlcyhhcnJheVtpXSwgaSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBTZWFyY2hlcyB0aGUgYXJyYXkgdXNpbmcgY3VzdG9tIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGl0ZW0gaWYgZm91bmQuXHJcbiAqXHJcbiAqIFdpbGwgY2FsbCBgbWF0Y2hlc2AgZnVuY3Rpb24gb24gYWxsIGl0ZW1zIG9mIHRoZSBhcnJheS4gSWYgcmV0dXJuIHZhbHVlXHJcbiAqIGV2YWx1YXRlcyB0byBgdHJ1ZWAsIGluZGV4IGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBPdGhlcndpc2UgcmV0dXJucyBgdW5kZWZpbmVkYC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IGZpbmRJbmRleChhcnJheSwgbWF0Y2hlcyk7XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5W2luZGV4XTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhpcyBpcyB0aGUgc2FtZSBhcyBgZmluZGAgZXhjZXB0IGl0IHNlYXJjaGVzIGZyb20gcmlnaHQgdG8gbGVmdC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kUmV2ZXJzZShhcnJheSwgbWF0Y2hlcykge1xyXG4gICAgY29uc3QgaW5kZXggPSBmaW5kSW5kZXhSZXZlcnNlKGFycmF5LCBtYXRjaGVzKTtcclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gYXJyYXlbaW5kZXhdO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTZWFyY2hlcyB0aGUgYXJyYXkgdXNpbmcgY3VzdG9tIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGl0ZW0gaWYgZm91bmQuXHJcbiAqXHJcbiAqIFdpbGwgY2FsbCBgbWF0Y2hlc2AgZnVuY3Rpb24gb24gYWxsIGl0ZW1zIG9mIHRoZSBhcnJheS4gSWYgdmFsdWVcclxuICogaXMgbm90IGB1bmRlZmluZWRgLCBpdCByZXR1cm5zIGl0LlxyXG4gKlxyXG4gKiBPdGhlcndpc2UgcmV0dXJucyBgdW5kZWZpbmVkYC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWFwKGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaGVzKGFycmF5W2ldLCBpKTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBJdGVyYXRlcyB0aHJvdWdoIGFsbCBpdGVtcyBpbiBhcnJheSBhbmQgY2FsbHMgYGZuYCBmdW5jdGlvbiBmb3IgZWFjaCBvZlxyXG4gKiB0aGVtLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI0NTA5NzYvNDQ5NDc3XHJcbiAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoLCB0ZW1wb3JhcnlWYWx1ZSwgcmFuZG9tSW5kZXg7XHJcbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxyXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxyXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcclxuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcclxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXHJcbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xyXG4gICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XHJcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIE9yZGVycyBhbiBhcnJheSB1c2luZyBzcGVjaWZpYyBgb3JkZXJpbmdgIGZ1bmN0aW9uIGFuZCByZXR1cm5zIHJpZ2h0LW1vc3QgaW5kZXggb2ZcclxuICogdGhlIGB2YWx1ZWAuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIGFycmF5ICAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIG9yZGVyaW5nICBBbiBvcmRlcmluZyBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyBSZXN1bHQgb2YgdGhlIHNlYXJjaFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNvcnRlZEluZGV4KGFycmF5LCBvcmRlcmluZykge1xyXG4gICAgbGV0IHN0YXJ0ID0gMDtcclxuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XHJcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIC8vIFRPRE8gaXMgdGhpcyBmYXN0ZXIvc2xvd2VyIHRoYW4gdXNpbmcgTWF0aC5mbG9vciA/XHJcbiAgICAgICAgY29uc3QgcGl2b3QgPSAoc3RhcnQgKyBlbmQpID4+IDE7XHJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBvcmRlcmluZyhhcnJheVtwaXZvdF0pO1xyXG4gICAgICAgIC8vIGxlc3NcclxuICAgICAgICBpZiAob3JkZXIgPCAwKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gcGl2b3QgKyAxO1xyXG4gICAgICAgICAgICAvLyBlcXVhbFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvcmRlciA9PT0gMCkge1xyXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gcGl2b3QgKyAxO1xyXG4gICAgICAgICAgICAvLyBtb3JlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbmQgPSBwaXZvdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGZvdW5kOiBmb3VuZCxcclxuICAgICAgICBpbmRleDogKGZvdW5kID8gc3RhcnQgLSAxIDogc3RhcnQpXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBPcmRlcnMgYW4gYXJyYXkgdXNpbmcgc3BlY2lmaWMgYG9yZGVyaW5nYCBmdW5jdGlvbiBhbmQgcmV0dXJucyBsZWZ0LW1vc3QgaW5kZXggb2ZcclxuICogdGhlIGB2YWx1ZWAuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIGFycmF5ICAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIG9yZGVyaW5nICBBbiBvcmRlcmluZyBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyBSZXN1bHQgb2YgdGhlIHNlYXJjaFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0U29ydGVkSW5kZXgoYXJyYXksIG9yZGVyaW5nKSB7XHJcbiAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgbGV0IGVuZCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGZhc3Rlci9zbG93ZXIgdGhhbiB1c2luZyBNYXRoLmZsb29yID9cclxuICAgICAgICBjb25zdCBwaXZvdCA9IChzdGFydCArIGVuZCkgPj4gMTtcclxuICAgICAgICBjb25zdCBvcmRlciA9IG9yZGVyaW5nKGFycmF5W3Bpdm90XSk7XHJcbiAgICAgICAgLy8gbGVzc1xyXG4gICAgICAgIGlmIChvcmRlciA8IDApIHtcclxuICAgICAgICAgICAgc3RhcnQgPSBwaXZvdCArIDE7XHJcbiAgICAgICAgICAgIC8vIGVxdWFsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG9yZGVyID09PSAwKSB7XHJcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgZW5kID0gcGl2b3Q7XHJcbiAgICAgICAgICAgIC8vIG1vcmVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVuZCA9IHBpdm90O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZm91bmQ6IGZvdW5kLFxyXG4gICAgICAgIGluZGV4OiBzdGFydFxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24ga2VlcElmKGFycmF5LCBrZWVwKSB7XHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgIC0taTtcclxuICAgICAgICBpZiAoIWtlZXAoYXJyYXlbaV0pKSB7XHJcbiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJyYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Children: () => (/* binding */ Children)\n/* harmony export */ });\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n/**\r\n * A version of [[List]] to hold children of the [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n */\r\nclass Children extends _List__WEBPACK_IMPORTED_MODULE_0__.List {\r\n    constructor(container) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._container = container;\r\n        this._events = this.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(change.oldValues, (x) => {\r\n                    this._onRemoved(x);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._onInserted(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._onRemoved(change.value);\r\n                this._onInserted(change.value, change.newIndex);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _onInserted(child, index) {\r\n        child._setParent(this._container, true);\r\n        const childrenDisplay = this._container._childrenDisplay;\r\n        if (index === undefined) {\r\n            childrenDisplay.addChild(child._display);\r\n        }\r\n        else {\r\n            childrenDisplay.addChildAt(child._display, index);\r\n        }\r\n    }\r\n    _onRemoved(child) {\r\n        this._container._childrenDisplay.removeChild(child._display);\r\n        this._container.markDirtyBounds();\r\n        this._container.markDirty();\r\n    }\r\n    /**\r\n     * Returns `true` if obejct is disposed.\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Permanently dispose this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._events.dispose();\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(this.values, (child) => {\r\n                child.dispose();\r\n            });\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Children.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0NoaWxkcmVuLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QjtBQUNJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkVBQTZFO0FBQ3RGO0FBQ08sdUJBQXVCLHVDQUFJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0NBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQ2hpbGRyZW4uanM/NDk0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaXN0IH0gZnJvbSBcIi4vTGlzdFwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuLyoqXHJcbiAqIEEgdmVyc2lvbiBvZiBbW0xpc3RdXSB0byBob2xkIGNoaWxkcmVuIG9mIHRoZSBbW0NvbnRhaW5lcl1dLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGlsZHJlbiBleHRlbmRzIExpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ldmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHRoaXMuZXZlbnRzLm9uQWxsKChjaGFuZ2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoYW5nZS5vbGRWYWx1ZXMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVkKHgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS5uZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwic2V0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVkKGNoYW5nZS5vbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS5uZXdWYWx1ZSwgY2hhbmdlLmluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJpbnNlcnRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS5uZXdWYWx1ZSwgY2hhbmdlLmluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJyZW1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlbW92ZWQoY2hhbmdlLm9sZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVkKGNoYW5nZS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS52YWx1ZSwgY2hhbmdlLm5ld0luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gSUxpc3RFdmVudCB0eXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfb25JbnNlcnRlZChjaGlsZCwgaW5kZXgpIHtcclxuICAgICAgICBjaGlsZC5fc2V0UGFyZW50KHRoaXMuX2NvbnRhaW5lciwgdHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW5EaXNwbGF5ID0gdGhpcy5fY29udGFpbmVyLl9jaGlsZHJlbkRpc3BsYXk7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5LmFkZENoaWxkKGNoaWxkLl9kaXNwbGF5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS5hZGRDaGlsZEF0KGNoaWxkLl9kaXNwbGF5LCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX29uUmVtb3ZlZChjaGlsZCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5fY2hpbGRyZW5EaXNwbGF5LnJlbW92ZUNoaWxkKGNoaWxkLl9kaXNwbGF5KTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLm1hcmtEaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBvYmVqY3QgaXMgZGlzcG9zZWQuXHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJtYW5lbnRseSBkaXNwb3NlIHRoaXMgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLnZhbHVlcywgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGlsZHJlbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Color: () => (/* binding */ Color),\n/* harmony export */   color: () => (/* binding */ color),\n/* harmony export */   rgba2hex: () => (/* binding */ rgba2hex)\n/* harmony export */ });\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    let matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    let hex = \"\";\r\n    for (let i = 1; i <= 3; i++) {\r\n        let val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nfunction color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nclass Color {\r\n    constructor(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    /**\r\n     * Color numeric value.\r\n     */\r\n    get hex() {\r\n        return this._hex;\r\n    }\r\n    /**\r\n     * Value of color's R channel.\r\n     * @return R value\r\n     */\r\n    get r() {\r\n        return this._hex >>> 16;\r\n    }\r\n    /**\r\n     * Value of color's G channel.\r\n     * @return G value\r\n     */\r\n    get g() {\r\n        return (this._hex >> 8) & 0xFF;\r\n    }\r\n    /**\r\n     * Value of color's B channel.\r\n     * @return B value\r\n     */\r\n    get b() {\r\n        return this._hex & 0xFF;\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    toCSS(alpha = 1) {\r\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    toCSSHex() {\r\n        return \"#\" + _Utils__WEBPACK_IMPORTED_MODULE_0__.padString(this.r.toString(16), 2) + _Utils__WEBPACK_IMPORTED_MODULE_0__.padString(this.g.toString(16), 2) + _Utils__WEBPACK_IMPORTED_MODULE_0__.padString(this.b.toString(16), 2);\r\n    }\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    toHSL(alpha = 1) {\r\n        return _Utils__WEBPACK_IMPORTED_MODULE_0__.rgbToHsl({\r\n            r: this.r,\r\n            g: this.g,\r\n            b: this.b,\r\n            a: alpha\r\n        });\r\n    }\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    static fromHSL(h, s, l) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.hslToRgb({\r\n            h: h,\r\n            s: s,\r\n            l: l\r\n        });\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    toString() {\r\n        return this.toCSSHex();\r\n    }\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    static fromHex(hex) {\r\n        return new Color(hex);\r\n    }\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    static fromRGB(r, g, b) {\r\n        return new Color((b | 0) + (g << 8) + (r << 16));\r\n    }\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    static fromString(s) {\r\n        return new Color(string2hex(s));\r\n    }\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    static fromCSS(s) {\r\n        return new Color(rgba2hex(s));\r\n    }\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    static fromAny(s) {\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isString(s)) {\r\n            if (s[0] == \"#\") {\r\n                return Color.fromString(s);\r\n            }\r\n            else if (s.substr(0, 3) == \"rgb\") {\r\n                return Color.fromCSS(s);\r\n            }\r\n        }\r\n        else if (_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(s)) {\r\n            return Color.fromHex(s);\r\n        }\r\n        else if (s instanceof Color) {\r\n            return Color.fromHex(s.hex);\r\n        }\r\n        throw new Error(\"Unknown color syntax: \" + s);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    static alternative(color, lightAlternative, darkAlternative) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    static interpolate(diff, from, to, mode = \"rgb\") {\r\n        if (mode == \"hsl\") {\r\n            const fromHSL = from.toHSL();\r\n            const toHSL = to.toHSL();\r\n            return Color.fromHSL((0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, fromHSL.h, toHSL.h), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, fromHSL.s, toHSL.s), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, fromHSL.l, toHSL.l));\r\n        }\r\n        else {\r\n            return Color.fromRGB((0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, from.r, to.r), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, from.g, to.g), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, from.b, to.b));\r\n        }\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static lighten(color, percent) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static brighten(color, percent) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Value range is between `0` (fully desaturated), to `1` (full color).\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static saturate(color, percent) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n}\r\n//# sourceMappingURL=Color.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0NvbG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvQztBQUNGO0FBQ0Y7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnRkFBZ0Y7QUFDekY7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkNBQWdCLDJCQUEyQiw2Q0FBZ0IsMkJBQTJCLDZDQUFnQjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNENBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDJDQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvREFBdUIsR0FBRyxvQ0FBb0MsdUJBQXVCLHNFQUFzRSxpQ0FBaUMsbUVBQW1FO0FBQ25SO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGlEQUFLLDRCQUE0QixpREFBSyw0QkFBNEIsaURBQUs7QUFDeEc7QUFDQTtBQUNBLGlDQUFpQyxpREFBSyxzQkFBc0IsaURBQUssc0JBQXNCLGlEQUFLO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQ0FBYyxHQUFHLG9DQUFvQztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQWUsR0FBRyxvQ0FBb0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRDQUFlLEdBQUcsb0NBQW9DO0FBQzFFO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQ29sb3IuanM/MWI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5nZSB9IGZyb20gXCIuL0FuaW1hdGlvblwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpIHtcclxuICAgIC8vc3RyaW5nID0gY3NzQ29sb3JOYW1lc1tzdHJpbmcudG9Mb3dlckNhc2UoKV0gfHwgc3RyaW5nO1xyXG4gICAgaWYgKHN0cmluZ1swXSA9PT0gXCIjXCIpIHtcclxuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0cmluZy5sZW5ndGggPT0gMykge1xyXG4gICAgICAgIHN0cmluZyA9IHN0cmluZ1swXS5yZXBlYXQoMikgKyBzdHJpbmdbMV0ucmVwZWF0KDIpICsgc3RyaW5nWzJdLnJlcGVhdCgyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYmEyaGV4KGNvbG9yKSB7XHJcbiAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoL1sgXS9nLCBcIlwiKTtcclxuICAgIC8vIEluaXRcclxuICAgIGxldCBtYXRjaGVzID0gY29sb3IubWF0Y2goL15yZ2JcXCgoWzAtOV0qKSwoWzAtOV0qKSwoWzAtOV0qKVxcKS9pKTtcclxuICAgIC8vIFRyeSByZ2IoKSBmb3JtYXRcclxuICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgbWF0Y2hlcy5wdXNoKFwiMVwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1hdGNoZXMgPSBjb2xvci5tYXRjaCgvXnJnYmFcXCgoWzAtOV0qKSwoWzAtOV0qKSwoWzAtOV0qKSwoWy4wLTldKilcXCkvaSk7XHJcbiAgICAgICAgaWYgKCFtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAweDAwMDAwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgaGV4ID0gXCJcIjtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDM7IGkrKykge1xyXG4gICAgICAgIGxldCB2YWwgPSBwYXJzZUludChtYXRjaGVzW2ldKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgaWYgKHZhbC5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICB2YWwgPSBcIjBcIiArIHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGV4ICs9IHZhbDtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHJpbmcyaGV4KGhleCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBuZXcgW1tDb2xvcl1dIG9iamVjdCBiYXNlIG9uIGlucHV0LlxyXG4gKlxyXG4gKiBBY2NlcHRzIHBhcmFtZXRlcnMgaW4gQ1NTIGhleCBvciByZ2IvcnRiYSBzdHJpbmdzLCBvciBoZXggbnVtYmVycy5cclxuICpcclxuICogKiBgXCIjZjAwXCJgXHJcbiAqICogYFwiI2ZmMDAwMFwiYFxyXG4gKiAqIGBcInJnYigyNTUsIDAsIDApXCJgXHJcbiAqICogYFwicmdiYSgyNTUsIDAsIDAsIDEpXCJgXHJcbiAqICogYDB4ZmYwMDAwYFxyXG4gKlxyXG4gKiBAcGFyYW0gICBpbnB1dCAgSW5wdXQgY29sb3JcclxuICogQHJldHVybiAgICAgICAgIENvbG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29sb3IoaW5wdXQpIHtcclxuICAgIHJldHVybiBDb2xvci5mcm9tQW55KGlucHV0KTtcclxufVxyXG4vKipcclxuICogV2hlcmV2ZXIgY29sb3IgbmVlZHMgdG8gYmUgc3BlY2lmaWVkIGluIGFtQ2hhcnRzIDUsIGBDb2xvcmAgb2JqZWN0IG5lZWRzIHRvXHJcbiAqIGJlIHVzZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbG9ycy1ncmFkaWVudHMtYW5kLXBhdHRlcm5zL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29sb3Ige1xyXG4gICAgY29uc3RydWN0b3IoaGV4KSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hleFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9oZXggPSBoZXggfCAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xvciBudW1lcmljIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBnZXQgaGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbHVlIG9mIGNvbG9yJ3MgUiBjaGFubmVsLlxyXG4gICAgICogQHJldHVybiBSIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGdldCByKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZXggPj4+IDE2O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZSBvZiBjb2xvcidzIEcgY2hhbm5lbC5cclxuICAgICAqIEByZXR1cm4gRyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBnZXQgZygpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2hleCA+PiA4KSAmIDB4RkY7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbHVlIG9mIGNvbG9yJ3MgQiBjaGFubmVsLlxyXG4gICAgICogQHJldHVybiBCIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGdldCBiKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZXggJiAweEZGO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbG9yIENTUyByZXByZXNlbnRhdGlvbiBpbiBmb3JtIG9mIGByZ2JhKHIsIGcsIGIsIGEpYCBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgYWxwaGEgIE9wYWNpdHlcclxuICAgICAqIEByZXR1cm4gICAgICAgICBDU1Mgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHRvQ1NTKGFscGhhID0gMSkge1xyXG4gICAgICAgIHJldHVybiBcInJnYmEoXCIgKyB0aGlzLnIgKyBcIiwgXCIgKyB0aGlzLmcgKyBcIiwgXCIgKyB0aGlzLmIgKyBcIiwgXCIgKyBhbHBoYSArIFwiKVwiO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbG9yIENTUyByZXByZXNlbnRhdGlvbiBpbiBmb3JtIG9mIGAjcmdiYCBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiAgICAgICAgIENTUyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgdG9DU1NIZXgoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiI1wiICsgJHV0aWxzLnBhZFN0cmluZyh0aGlzLnIudG9TdHJpbmcoMTYpLCAyKSArICR1dGlscy5wYWRTdHJpbmcodGhpcy5nLnRvU3RyaW5nKDE2KSwgMikgKyAkdXRpbHMucGFkU3RyaW5nKHRoaXMuYi50b1N0cmluZygxNiksIDIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbG9yJ3MgSFNMIGluZm8uXHJcbiAgICAgKiBAcGFyYW0gICBhbHBoYSBPcGFjaXR5XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICBIU0wgaW5mb1xyXG4gICAgICovXHJcbiAgICB0b0hTTChhbHBoYSA9IDEpIHtcclxuICAgICAgICByZXR1cm4gJHV0aWxzLnJnYlRvSHNsKHtcclxuICAgICAgICAgICAgcjogdGhpcy5yLFxyXG4gICAgICAgICAgICBnOiB0aGlzLmcsXHJcbiAgICAgICAgICAgIGI6IHRoaXMuYixcclxuICAgICAgICAgICAgYTogYWxwaGFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgSFNMIHZhbHVlcyBpbnRvIGEgbmV3IFtbQ29sb3JdXSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgaCBIIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gICBzIFMgdmFsdWVcclxuICAgICAqIEBwYXJhbSAgIGwgTCB2YWx1ZVxyXG4gICAgICogQHJldHVybiAgICBDb2xvciBvYmplY3RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21IU0woaCwgcywgbCkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5oc2xUb1JnYih7XHJcbiAgICAgICAgICAgIGg6IGgsXHJcbiAgICAgICAgICAgIHM6IHMsXHJcbiAgICAgICAgICAgIGw6IGxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHJnYi5yLCByZ2IuZywgcmdiLmIpO1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9DU1NIZXgoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgaGV4IG51bWJlciBpbnRvIGEgbmV3IFtbQ29sb3JdXSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogYGBgVHlwZVNjcmlwdFxyXG4gICAgICogQ29sb3IuZnJvbUhleCgweGZmMDAwMCkgLy8gcmVkXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21IZXgoMHhmZjAwMDApIC8vIHJlZFxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgaGV4ICBIZXggY29sb3JcclxuICAgICAqIEByZXR1cm4gICAgICAgQ29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21IZXgoaGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihoZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBSR0IgdmFsdWVzIHRvIGEgbmV3IFtbQ29sb3JdXSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgciAgUiB2YWx1ZVxyXG4gICAgICogQHBhcmFtICAgZyAgRyB2YWx1ZVxyXG4gICAgICogQHBhcmFtICAgYiAgQiB2YWx1ZVxyXG4gICAgICogQHJldHVybiAgICAgQ29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21SR0IociwgZywgYikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IoKGIgfCAwKSArIChnIDw8IDgpICsgKHIgPDwgMTYpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgUkdCIHN0cmluZyB0byBhIG5ldyBbW0NvbG9yXV0gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21TdHJpbmcoXCIjZmYwMDAwXCIpIC8vIHJlZFxyXG4gICAgICogYGBgXHJcbiAgICAgKiBgYGBKYXZhU2NyaXB0XHJcbiAgICAgKiBDb2xvci5mcm9tU3RyaW5nKFwiI2ZmMDAwMFwiKSAvLyByZWRcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHMgIFJHQiBzdHJpbmdcclxuICAgICAqIEByZXR1cm4gICAgIENvbG9yXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tU3RyaW5nKHMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbG9yKHN0cmluZzJoZXgocykpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBDU1MgcmdiYSgpIHN5bnRheCB0byBhIG5ldyBbW0NvbG9yXV0gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21DU1MoXCJyZ2JhKDI1NSwgMCwgMCwgMSlcIikgLy8gcmVkXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21DU1MoXCJyZ2JhKDI1NSwgMCwgMCwgMSlcIikgLy8gcmVkXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHMgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7Q29sb3J9ICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21DU1Mocykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IocmdiYTJoZXgocykpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0IHRvIGNvbG9yIGZyb20gdmlydHVhbGx5IGFueXRoaW5nLlxyXG4gICAgICpcclxuICAgICAqIFdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHVuYWJsZSB0byByZXNvbHZlIHRoZSBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBzICBTb3VyY2VcclxuICAgICAqIEByZXR1cm4gICAgIENvbG9yXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tQW55KHMpIHtcclxuICAgICAgICBpZiAoJHR5cGUuaXNTdHJpbmcocykpIHtcclxuICAgICAgICAgICAgaWYgKHNbMF0gPT0gXCIjXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tU3RyaW5nKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHMuc3Vic3RyKDAsIDMpID09IFwicmdiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tQ1NTKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCR0eXBlLmlzTnVtYmVyKHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tSGV4KHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENvbG9yLmZyb21IZXgocy5oZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbG9yIHN5bnRheDogXCIgKyBzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gb2JqZWN0IGJhc2VkIG9uIGVpdGhlciBgbGlnaHRBbHRlcm5hdGl2ZWAgb3JcclxuICAgICAqIGBkYXJrQWx0ZXJuYXRpdmVgIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgaXMgbW9yZSBjb250cmFzdGluZyB3aXRoXHJcbiAgICAgKiB0aGUgYGNvbG9yYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBjb2xvciAgICAgICAgICAgICBSZWZlcmVuY2UgY29sb3JcclxuICAgICAqIEBwYXJhbSAgIGxpZ2h0QWx0ZXJuYXRpdmUgIExpZ2h0IGNvbG9yXHJcbiAgICAgKiBAcGFyYW0gICBkYXJrQWx0ZXJuYXRpdmUgICBEYXJrIGNvbG9yXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgICAgICAgICBBbHRlcm5hdGl2ZSBjb2xvclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWx0ZXJuYXRpdmUoY29sb3IsIGxpZ2h0QWx0ZXJuYXRpdmUsIGRhcmtBbHRlcm5hdGl2ZSkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5hbHRlcm5hdGl2ZUNvbG9yKHsgcjogY29sb3IuciwgZzogY29sb3IuZywgYjogY29sb3IuYiB9LCBsaWdodEFsdGVybmF0aXZlID8geyByOiBsaWdodEFsdGVybmF0aXZlLnIsIGc6IGxpZ2h0QWx0ZXJuYXRpdmUuZywgYjogbGlnaHRBbHRlcm5hdGl2ZS5iIH0gOiB1bmRlZmluZWQsIGRhcmtBbHRlcm5hdGl2ZSA/IHsgcjogZGFya0FsdGVybmF0aXZlLnIsIGc6IGRhcmtBbHRlcm5hdGl2ZS5nLCBiOiBkYXJrQWx0ZXJuYXRpdmUuYiB9IDogdW5kZWZpbmVkKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHJnYi5yLCByZ2IuZywgcmdiLmIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGludGVybWVkaWF0ZSBDb2xvciBiZXR3ZWVuIHR3byByZWZlcmVuY2UgY29sb3JzIGRlcGVuZGluZyBvblxyXG4gICAgICogdGhlIHByb2dyZXNzIChgZGlmZmApIGJldHdlZW4gdGhlIHR3by5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkaWZmICBQcm9ncmVzc1xyXG4gICAgICogQHBhcmFtICAgZnJvbSAgU291cmNlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0gICB0byAgICBUYXJnZXQgY29sb3JcclxuICAgICAqIEBwYXJhbSAgIG1vZGUgIEludGVycG9sYXRpb24gbW9kZVxyXG4gICAgICogQHJldHVybiAgICAgICAgQ29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGludGVycG9sYXRlKGRpZmYsIGZyb20sIHRvLCBtb2RlID0gXCJyZ2JcIikge1xyXG4gICAgICAgIGlmIChtb2RlID09IFwiaHNsXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbUhTTCA9IGZyb20udG9IU0woKTtcclxuICAgICAgICAgICAgY29uc3QgdG9IU0wgPSB0by50b0hTTCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ29sb3IuZnJvbUhTTChyYW5nZShkaWZmLCBmcm9tSFNMLmgsIHRvSFNMLmgpLCByYW5nZShkaWZmLCBmcm9tSFNMLnMsIHRvSFNMLnMpLCByYW5nZShkaWZmLCBmcm9tSFNMLmwsIHRvSFNMLmwpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tUkdCKHJhbmdlKGRpZmYsIGZyb20uciwgdG8uciksIHJhbmdlKGRpZmYsIGZyb20uZywgdG8uZyksIHJhbmdlKGRpZmYsIGZyb20uYiwgdG8uYikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gbGlnaHRlbmVkIGJ5IGBwZXJjZW50YCB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBVc2UgbmVnYXRpdmUgdmFsdWUgdG8gZGFya2VuIHRoZSBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBjb2xvciAgICBTb3VyY2UgY29sb3JcclxuICAgICAqIEBwYXJhbSAgIHBlcmNlbnQgIFBlcmNlbnRcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgIE5ldyBjb2xvclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbGlnaHRlbihjb2xvciwgcGVyY2VudCkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5saWdodGVuKHsgcjogY29sb3IuciwgZzogY29sb3IuZywgYjogY29sb3IuYiB9LCBwZXJjZW50KTtcclxuICAgICAgICByZXR1cm4gQ29sb3IuZnJvbVJHQihyZ2IuciwgcmdiLmcsIHJnYi5iKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gYnJpZ2h0ZW5lZCBieSBgcGVyY2VudGAgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogVXNlIG5lZ2F0aXZlIHZhbHVlIHRvIGRpbSB0aGUgY29sb3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgY29sb3IgICAgU291cmNlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0gICBwZXJjZW50ICBQZXJjZW50XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICBOZXcgY29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGJyaWdodGVuKGNvbG9yLCBwZXJjZW50KSB7XHJcbiAgICAgICAgY29uc3QgcmdiID0gJHV0aWxzLmJyaWdodGVuKHsgcjogY29sb3IuciwgZzogY29sb3IuZywgYjogY29sb3IuYiB9LCBwZXJjZW50KTtcclxuICAgICAgICByZXR1cm4gQ29sb3IuZnJvbVJHQihyZ2IuciwgcmdiLmcsIHJnYi5iKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gc2F0dXJhdGVkIGJ5IGBwZXJjZW50YCB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBWYWx1ZSByYW5nZSBpcyBiZXR3ZWVuIGAwYCAoZnVsbHkgZGVzYXR1cmF0ZWQpLCB0byBgMWAgKGZ1bGwgY29sb3IpLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGNvbG9yICAgIFNvdXJjZSBjb2xvclxyXG4gICAgICogQHBhcmFtICAgcGVyY2VudCAgUGVyY2VudFxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgTmV3IGNvbG9yXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzYXR1cmF0ZShjb2xvciwgcGVyY2VudCkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5zYXR1cmF0ZSh7IHI6IGNvbG9yLnIsIGc6IGNvbG9yLmcsIGI6IGNvbG9yLmIgfSwgcGVyY2VudCk7XHJcbiAgICAgICAgcmV0dXJuIENvbG9yLmZyb21SR0IocmdiLnIsIHJnYi5nLCByZ2IuYik7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorSet: () => (/* binding */ ColorSet)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n\r\n\r\n/**\r\n * An object which holds list of colors and can generate new ones.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\r\n */\r\nclass ColorSet extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    //protected _currentPass: number = 0;\r\n    _afterNew() {\r\n        // Applying themes because color set will not have parent\r\n        super._afterNewApplyThemes();\r\n        this._dirty[\"colors\"] = false;\r\n    }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"colors\")) {\r\n            this.reset();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    generateColors() {\r\n        this.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1);\r\n        const pass = this.getPrivate(\"currentPass\");\r\n        const colors = this.get(\"colors\", [this.get(\"baseColor\", _Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xff0000))]);\r\n        if (!this.getPrivate(\"numColors\")) {\r\n            this.setPrivate(\"numColors\", colors.length);\r\n        }\r\n        //const len = colors.length;\r\n        const len = this.getPrivate(\"numColors\");\r\n        //const start = len - this.getPrivate(\"numColors\")!;\r\n        const start = 0;\r\n        const passOptions = this.get(\"passOptions\");\r\n        const reuse = this.get(\"reuse\");\r\n        for (let i = start; i < len; i++) {\r\n            if (reuse) {\r\n                colors.push(colors[i]);\r\n            }\r\n            else {\r\n                const hsl = colors[i].toHSL();\r\n                let h = hsl.h + (passOptions.hue || 0) * pass;\r\n                while (h > 1)\r\n                    h -= 1;\r\n                let s = hsl.s + (passOptions.saturation || 0) * pass;\r\n                //if (s > 1) s -= Math.floor(s);\r\n                if (s > 1)\r\n                    s = 1;\r\n                if (s < 0)\r\n                    s = 0;\r\n                let l = hsl.l + (passOptions.lightness || 0) * pass;\r\n                //if (l > 1) l -= Math.floor(l);\r\n                while (l > 1)\r\n                    l -= 1;\r\n                colors.push(_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHSL(h, s, l));\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns a [[Color]] at specific index.\r\n     *\r\n     * If there's no color at this index, a new color is generated.\r\n     *\r\n     * @param   index  Index\r\n     * @return         Color\r\n     */\r\n    getIndex(index) {\r\n        const colors = this.get(\"colors\", []);\r\n        const saturation = this.get(\"saturation\");\r\n        if (index >= colors.length) {\r\n            this.generateColors();\r\n            return this.getIndex(index);\r\n        }\r\n        return saturation != null ? _Color__WEBPACK_IMPORTED_MODULE_1__.Color.saturate(colors[index], saturation) : colors[index];\r\n    }\r\n    /**\r\n     * Returns next [[Color]] in the list.\r\n     *\r\n     * If the list is out of colors, new ones are generated dynamically.\r\n     */\r\n    next() {\r\n        let currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        this.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\r\n        return this.getIndex(currentStep);\r\n    }\r\n    /**\r\n     * Resets counter to the start of the list, so the next call for `next()` will\r\n     * return the first color.\r\n     */\r\n    reset() {\r\n        this.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        this.setPrivate(\"currentPass\", 0);\r\n    }\r\n}\r\nObject.defineProperty(ColorSet, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ColorSet\"\r\n});\r\nObject.defineProperty(ColorSet, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([ColorSet.className])\r\n});\r\n//# sourceMappingURL=ColorSet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0NvbG9yU2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrQztBQUNGO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkZBQTJGO0FBQ3BHO0FBQ08sdUJBQXVCLDJDQUFNO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUseUNBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlDQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5Q0FBSztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkNBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQ29sb3JTZXQuanM/YjI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi9Db2xvclwiO1xyXG4vKipcclxuICogQW4gb2JqZWN0IHdoaWNoIGhvbGRzIGxpc3Qgb2YgY29sb3JzIGFuZCBjYW4gZ2VuZXJhdGUgbmV3IG9uZXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbG9ycy1ncmFkaWVudHMtYW5kLXBhdHRlcm5zLyNDb2xvcl9zZXRzfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29sb3JTZXQgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgLy9wcm90ZWN0ZWQgX2N1cnJlbnRQYXNzOiBudW1iZXIgPSAwO1xyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIC8vIEFwcGx5aW5nIHRoZW1lcyBiZWNhdXNlIGNvbG9yIHNldCB3aWxsIG5vdCBoYXZlIHBhcmVudFxyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ld0FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgdGhpcy5fZGlydHlbXCJjb2xvcnNcIl0gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjb2xvcnNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUNvbG9ycygpIHtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjdXJyZW50UGFzc1wiLCB0aGlzLmdldFByaXZhdGUoXCJjdXJyZW50UGFzc1wiLCAwKSArIDEpO1xyXG4gICAgICAgIGNvbnN0IHBhc3MgPSB0aGlzLmdldFByaXZhdGUoXCJjdXJyZW50UGFzc1wiKTtcclxuICAgICAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmdldChcImNvbG9yc1wiLCBbdGhpcy5nZXQoXCJiYXNlQ29sb3JcIiwgQ29sb3IuZnJvbUhleCgweGZmMDAwMCkpXSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldFByaXZhdGUoXCJudW1Db2xvcnNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwibnVtQ29sb3JzXCIsIGNvbG9ycy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnN0IGxlbiA9IGNvbG9ycy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5nZXRQcml2YXRlKFwibnVtQ29sb3JzXCIpO1xyXG4gICAgICAgIC8vY29uc3Qgc3RhcnQgPSBsZW4gLSB0aGlzLmdldFByaXZhdGUoXCJudW1Db2xvcnNcIikhO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gMDtcclxuICAgICAgICBjb25zdCBwYXNzT3B0aW9ucyA9IHRoaXMuZ2V0KFwicGFzc09wdGlvbnNcIik7XHJcbiAgICAgICAgY29uc3QgcmV1c2UgPSB0aGlzLmdldChcInJldXNlXCIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXVzZSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzLnB1c2goY29sb3JzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhzbCA9IGNvbG9yc1tpXS50b0hTTCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGggPSBoc2wuaCArIChwYXNzT3B0aW9ucy5odWUgfHwgMCkgKiBwYXNzO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGggPiAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGggLT0gMTtcclxuICAgICAgICAgICAgICAgIGxldCBzID0gaHNsLnMgKyAocGFzc09wdGlvbnMuc2F0dXJhdGlvbiB8fCAwKSAqIHBhc3M7XHJcbiAgICAgICAgICAgICAgICAvL2lmIChzID4gMSkgcyAtPSBNYXRoLmZsb29yKHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHMgPiAxKVxyXG4gICAgICAgICAgICAgICAgICAgIHMgPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKHMgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGwgPSBoc2wubCArIChwYXNzT3B0aW9ucy5saWdodG5lc3MgfHwgMCkgKiBwYXNzO1xyXG4gICAgICAgICAgICAgICAgLy9pZiAobCA+IDEpIGwgLT0gTWF0aC5mbG9vcihsKTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChsID4gMSlcclxuICAgICAgICAgICAgICAgICAgICBsIC09IDE7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMucHVzaChDb2xvci5mcm9tSFNMKGgsIHMsIGwpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIFtbQ29sb3JdXSBhdCBzcGVjaWZpYyBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGVyZSdzIG5vIGNvbG9yIGF0IHRoaXMgaW5kZXgsIGEgbmV3IGNvbG9yIGlzIGdlbmVyYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBpbmRleCAgSW5kZXhcclxuICAgICAqIEByZXR1cm4gICAgICAgICBDb2xvclxyXG4gICAgICovXHJcbiAgICBnZXRJbmRleChpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuZ2V0KFwiY29sb3JzXCIsIFtdKTtcclxuICAgICAgICBjb25zdCBzYXR1cmF0aW9uID0gdGhpcy5nZXQoXCJzYXR1cmF0aW9uXCIpO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSBjb2xvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVDb2xvcnMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2F0dXJhdGlvbiAhPSBudWxsID8gQ29sb3Iuc2F0dXJhdGUoY29sb3JzW2luZGV4XSwgc2F0dXJhdGlvbikgOiBjb2xvcnNbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG5leHQgW1tDb2xvcl1dIGluIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZSBsaXN0IGlzIG91dCBvZiBjb2xvcnMsIG5ldyBvbmVzIGFyZSBnZW5lcmF0ZWQgZHluYW1pY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIG5leHQoKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTdGVwID0gdGhpcy5nZXRQcml2YXRlKFwiY3VycmVudFN0ZXBcIiwgdGhpcy5nZXQoXCJzdGFydEluZGV4XCIsIDApKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjdXJyZW50U3RlcFwiLCBjdXJyZW50U3RlcCArIHRoaXMuZ2V0KFwic3RlcFwiLCAxKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoY3VycmVudFN0ZXApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldHMgY291bnRlciB0byB0aGUgc3RhcnQgb2YgdGhlIGxpc3QsIHNvIHRoZSBuZXh0IGNhbGwgZm9yIGBuZXh0KClgIHdpbGxcclxuICAgICAqIHJldHVybiB0aGUgZmlyc3QgY29sb3IuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcImN1cnJlbnRTdGVwXCIsIHRoaXMuZ2V0KFwic3RhcnRJbmRleFwiLCAwKSk7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwiY3VycmVudFBhc3NcIiwgMCk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yU2V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJDb2xvclNldFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JTZXQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogRW50aXR5LmNsYXNzTmFtZXMuY29uY2F0KFtDb2xvclNldC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3JTZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonData: () => (/* binding */ JsonData),\n/* harmony export */   ListData: () => (/* binding */ ListData)\n/* harmony export */ });\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nclass ListData extends _List__WEBPACK_IMPORTED_MODULE_0__.List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    incrementRef() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    decrementRef() { }\r\n    _onPush(newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onPush(newValue);\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onInsertIndex(index, newValue);\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n}\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nclass JsonData {\r\n    constructor(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    incrementRef() { }\r\n    decrementRef() { }\r\n}\r\n//# sourceMappingURL=Data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQXVEO0FBQ2hFO0FBQ08sdUJBQXVCLHVDQUFJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQTJFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9EYXRhLmpzPzUzMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGlzdCB9IGZyb20gXCIuL0xpc3RcIjtcclxuLyoqXHJcbiAqIEEgW1tMaXN0XV0gdGhhdCBob2xkcyBjb21wb25lbnRzIGRhdGEuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2RhdGEvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGlzdERhdGEgZXh0ZW5kcyBMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gb3B0aW9uYWwgcHJvY2Vzc29yIGZvciBkYXRhLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZGF0YS8jUHJlX3Byb2Nlc3NpbmdfZGF0YX0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2Nlc3NvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBpbmNyZW1lbnRSZWYoKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkZWNyZW1lbnRSZWYoKSB7IH1cclxuICAgIF9vblB1c2gobmV3VmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzc1JvdyhuZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLl9vblB1c2gobmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uSW5zZXJ0SW5kZXgoaW5kZXgsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3NSb3cobmV3VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fb25JbnNlcnRJbmRleChpbmRleCwgbmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uU2V0SW5kZXgoaW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3Nvcikge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzUm93KG5ld1ZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX29uU2V0SW5kZXgoaW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqIEB0b2RvIHJlbW92ZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEpzb25EYXRhIHtcclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvY2Vzc29yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgaW5jcmVtZW50UmVmKCkgeyB9XHJcbiAgICBkZWNyZW1lbnRSZWYoKSB7IH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DateFormatter: () => (/* binding */ DateFormatter)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _Timezone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Timezone */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Date formatter class.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n * @important\r\n */\r\nclass DateFormatter extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"capitalize\", true);\r\n        this._setDefault(\"dateFormat\", \"yyyy-MM-dd\");\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats a source `Date` object into string format\r\n     * @param   source          inpout date\r\n     * @param   format          Output format\r\n     * @param   ignoreTimezone  Ignore timezone?\r\n     * @return                  Formatted date\r\n     */\r\n    format(source, format, ignoreTimezone = false) {\r\n        // Locale?\r\n        // TODO\r\n        // No format passed in or it's empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            format = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast?\r\n        // TODO: decide if we need to cast\r\n        let date = source;\r\n        // Is it a built-in format or Intl.DateTimeFormat\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isObject(format)) {\r\n            try {\r\n                const locales = this.get(\"intlLocales\");\r\n                if (locales) {\r\n                    return new Intl.DateTimeFormat(locales, format).format(date);\r\n                }\r\n                else {\r\n                    return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format);\r\n        // Should we apply custom time zone?\r\n        const timezone = this._root.timezone;\r\n        if (timezone && !this._root.utc && !ignoreTimezone) {\r\n            date = timezone.convertLocal(date);\r\n        }\r\n        // Check if it's a valid date\r\n        if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(date.getTime())) {\r\n            // TODO translation\r\n            //return this._t(\"Invalid date\");\r\n            return \"Invalid date\";\r\n        }\r\n        // Apply format\r\n        formatted = this.applyFormat(date, info, ignoreTimezone);\r\n        // Capitalize\r\n        if (this.get(\"capitalize\")) {\r\n            formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n        }\r\n        // We're done\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @return Formatted date string\r\n     */\r\n    applyFormat(date, info, ignoreTimezone = false) {\r\n        // Init return value\r\n        let res = info.template;\r\n        // Get values\r\n        let fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, timestamp = date.getTime();\r\n        if (this._root.utc && !ignoreTimezone) {\r\n            fullYear = date.getUTCFullYear();\r\n            month = date.getUTCMonth();\r\n            weekday = date.getUTCDay();\r\n            day = date.getUTCDate();\r\n            hours = date.getUTCHours();\r\n            minutes = date.getUTCMinutes();\r\n            seconds = date.getUTCSeconds();\r\n            milliseconds = date.getUTCMilliseconds();\r\n        }\r\n        else {\r\n            fullYear = date.getFullYear();\r\n            month = date.getMonth();\r\n            weekday = date.getDay();\r\n            day = date.getDate();\r\n            hours = date.getHours();\r\n            minutes = date.getMinutes();\r\n            seconds = date.getSeconds();\r\n            milliseconds = date.getMilliseconds();\r\n        }\r\n        // Go through each part and format/replace it in template\r\n        for (let i = 0, len = info.parts.length; i < len; i++) {\r\n            let value = \"\";\r\n            switch (info.parts[i]) {\r\n                case \"G\":\r\n                    value = this._t(fullYear < 0\r\n                        ? \"_era_bc\"\r\n                        : \"_era_ad\");\r\n                    break;\r\n                case \"yyyy\":\r\n                    value = Math.abs(fullYear).toString();\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"yyy\":\r\n                case \"yy\":\r\n                case \"y\":\r\n                    value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                    let year = _Utils__WEBPACK_IMPORTED_MODULE_2__.getWeekYear(date, this._root.utc);\r\n                    if (info.parts[i] == \"YYYY\") {\r\n                        value = Math.abs(year).toString();\r\n                    }\r\n                    else {\r\n                        value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                    }\r\n                    if (year < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"u\":\r\n                    // @todo\r\n                    break;\r\n                case \"q\":\r\n                    value = \"\" + Math.ceil((date.getMonth() + 1) / 3);\r\n                    break;\r\n                case \"MMMMM\":\r\n                    value = this._t(this._getMonth(month)).substr(0, 1);\r\n                    break;\r\n                case \"MMMM\":\r\n                    value = this._t(this._getMonth(month));\r\n                    break;\r\n                case \"MMM\":\r\n                    value = this._t(this._getShortMonth(month));\r\n                    break;\r\n                case \"MM\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(month + 1, 2, \"0\");\r\n                    break;\r\n                case \"M\":\r\n                    value = (month + 1).toString();\r\n                    break;\r\n                case \"ww\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.getWeek(date, this._root.utc), 2, \"0\");\r\n                    break;\r\n                case \"w\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"W\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getMonthWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"dd\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(day, 2, \"0\");\r\n                    break;\r\n                case \"d\":\r\n                    value = day.toString();\r\n                    break;\r\n                case \"DD\":\r\n                case \"DDD\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.getYearDay(date, this._root.utc).toString(), info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"D\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getYearDay(date, this._root.utc).toString();\r\n                    break;\r\n                case \"F\":\r\n                    // @todo\r\n                    break;\r\n                case \"g\":\r\n                    // @todo\r\n                    break;\r\n                case \"t\":\r\n                    value = this._root.language.translateFunc(\"_dateOrd\").call(this, day);\r\n                    break;\r\n                case \"E\":\r\n                    value = (weekday || 7).toString();\r\n                    break;\r\n                case \"EE\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString((weekday || 7).toString(), 2, \"0\");\r\n                    break;\r\n                case \"EEE\":\r\n                case \"eee\":\r\n                    value = this._t(this._getShortWeekday(weekday));\r\n                    break;\r\n                case \"EEEE\":\r\n                case \"eeee\":\r\n                    value = this._t(this._getWeekday(weekday));\r\n                    break;\r\n                case \"EEEEE\":\r\n                case \"eeeee\":\r\n                    value = this._t(this._getShortWeekday(weekday)).substr(0, 1);\r\n                    break;\r\n                case \"e\":\r\n                case \"ee\":\r\n                    value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();\r\n                    if (info.parts[i] == \"ee\") {\r\n                        value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(value, 2, \"0\");\r\n                    }\r\n                    break;\r\n                case \"a\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"PM\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"AM\");\r\n                    }\r\n                    break;\r\n                case \"aa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P.M.\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A.M.\");\r\n                    }\r\n                    break;\r\n                case \"aaa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A\");\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours).toString();\r\n                    break;\r\n                case \"hh\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours), 2, \"0\");\r\n                    break;\r\n                case \"H\":\r\n                    value = hours.toString();\r\n                    break;\r\n                case \"HH\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(hours, 2, \"0\");\r\n                    break;\r\n                case \"K\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours, 0).toString();\r\n                    break;\r\n                case \"KK\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours, 0), 2, \"0\");\r\n                    break;\r\n                case \"k\":\r\n                    value = (hours + 1).toString();\r\n                    break;\r\n                case \"kk\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(hours + 1, 2, \"0\");\r\n                    break;\r\n                case \"m\":\r\n                    value = minutes.toString();\r\n                    break;\r\n                case \"mm\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(minutes, 2, \"0\");\r\n                    break;\r\n                case \"s\":\r\n                    value = seconds.toString();\r\n                    break;\r\n                case \"ss\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(seconds, 2, \"0\");\r\n                    break;\r\n                case \"S\":\r\n                case \"SS\":\r\n                case \"SSS\":\r\n                    value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                    break;\r\n                case \"x\":\r\n                    value = timestamp.toString();\r\n                    break;\r\n                case \"n\":\r\n                case \"nn\":\r\n                case \"nnn\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(milliseconds, info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"z\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(date, false, false, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined).replace(/[+-]+[0-9]+$/, \"\");\r\n                    break;\r\n                case \"zz\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(date, true, false, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"zzz\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(date, false, true, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined).replace(/[+-]+[0-9]+$/, \"\");\r\n                    break;\r\n                case \"zzzz\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(date, true, true, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"Z\":\r\n                case \"ZZ\":\r\n                    let timezone = this._root.utc ? \"UTC\" : this._root.timezone;\r\n                    if (timezone instanceof _Timezone__WEBPACK_IMPORTED_MODULE_3__.Timezone) {\r\n                        timezone = timezone.name;\r\n                    }\r\n                    const offset = timezone ? _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimezoneOffset(timezone) : date.getTimezoneOffset();\r\n                    let tz = Math.abs(offset) / 60;\r\n                    let tzh = Math.floor(tz);\r\n                    let tzm = tz * 60 - tzh * 60;\r\n                    if (this._root.utc) {\r\n                        tzh = 0;\r\n                        tzm = 0;\r\n                    }\r\n                    if (info.parts[i] == \"Z\") {\r\n                        value = \"GMT\";\r\n                        value += offset > 0 ? \"-\" : \"+\";\r\n                        value += _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzh, 2) + \":\" + _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzm, 2);\r\n                    }\r\n                    else {\r\n                        value = offset > 0 ? \"-\" : \"+\";\r\n                        value += _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzh, 2) + _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzm, 2);\r\n                    }\r\n                    break;\r\n                case \"i\":\r\n                    value = date.toISOString();\r\n                    break;\r\n                case \"I\":\r\n                    value = date.toUTCString();\r\n                    break;\r\n            }\r\n            res = res.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER, value);\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    parseFormat(format) {\r\n        // Check cache\r\n        // TODO: implement caching of the parsed format\r\n        // Init format parse info holder\r\n        let info = {\r\n            \"template\": \"\",\r\n            \"parts\": []\r\n        };\r\n        // Let TextFormatter split into chunks\r\n        let chunks = _TextFormatter__WEBPACK_IMPORTED_MODULE_4__.TextFormatter.chunk(format, true);\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            if (chunk.type === \"value\") {\r\n                // Just \"Date\"?\r\n                if (chunk.text.match(/^date$/i)) {\r\n                    let dateFormat = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n                    if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isString(dateFormat)) {\r\n                        dateFormat = \"yyyy-MM-dd\";\r\n                    }\r\n                    chunk.text = dateFormat;\r\n                }\r\n                // Find all possible parts\r\n                let matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                // Found?\r\n                if (matches) {\r\n                    // Populate template\r\n                    for (let x = 0; x < matches.length; x++) {\r\n                        info.parts.push(matches[x]);\r\n                        chunk.text = chunk.text.replace(matches[x], _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER);\r\n                    }\r\n                }\r\n            }\r\n            // Apply to template\r\n            info.template += chunk.text;\r\n        }\r\n        // Save cache\r\n        // TODO\r\n        return info;\r\n    }\r\n    _months() {\r\n        return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    }\r\n    _getMonth(index) {\r\n        return this._months()[index];\r\n    }\r\n    _shortMonths() {\r\n        return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    }\r\n    _getShortMonth(index) {\r\n        return this._shortMonths()[index];\r\n    }\r\n    _weekdays() {\r\n        return [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    }\r\n    _getWeekday(index) {\r\n        return this._weekdays()[index];\r\n    }\r\n    _shortWeekdays() {\r\n        return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    }\r\n    _getShortWeekday(index) {\r\n        return this._shortWeekdays()[index];\r\n    }\r\n    parse(source, format) {\r\n        // Is it already a Date\r\n        if (source instanceof Date) {\r\n            return source;\r\n        }\r\n        // Is it a numeric timestamp\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(source)) {\r\n            return new Date(source);\r\n        }\r\n        // Are we parsing a timestamp?\r\n        if (format == \"x\") {\r\n            return new Date(parseInt(source));\r\n        }\r\n        // No? Let's check if it's string, and try converting to it if nec\r\n        if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isString(source)) {\r\n            source = source.toString();\r\n        }\r\n        // Init return value\r\n        let res;\r\n        // Init RegEx for parsing\r\n        let reg = \"\";\r\n        // Clean format\r\n        format = _Utils__WEBPACK_IMPORTED_MODULE_2__.cleanFormat(format);\r\n        // Clip format to length of the source string\r\n        format = format.substr(0, source.length);\r\n        // Parse format\r\n        let info = this.parseFormat(format);\r\n        // Init parsed items holder\r\n        let parsedIndexes = {\r\n            \"year\": -1,\r\n            \"year3\": -1,\r\n            \"year2\": -1,\r\n            \"year1\": -1,\r\n            \"month\": -1,\r\n            \"monthShort\": -1,\r\n            \"monthLong\": -1,\r\n            \"weekdayShort\": -1,\r\n            \"weekdayLong\": -1,\r\n            \"day\": -1,\r\n            \"yearDay\": -1,\r\n            \"week\": -1,\r\n            \"hourBase0\": -1,\r\n            \"hour12Base0\": -1,\r\n            \"hourBase1\": -1,\r\n            \"hour12Base1\": -1,\r\n            \"minute\": -1,\r\n            \"second\": -1,\r\n            \"millisecond\": -1,\r\n            \"millisecondDigits\": -1,\r\n            \"am\": -1,\r\n            \"zone\": -1,\r\n            \"timestamp\": -1,\r\n            \"iso\": -1\r\n        };\r\n        // Init values\r\n        let resValues = {\r\n            \"year\": 1970,\r\n            \"month\": 0,\r\n            \"day\": 1,\r\n            \"hour\": 0,\r\n            \"minute\": 0,\r\n            \"second\": 0,\r\n            \"millisecond\": 0,\r\n            \"timestamp\": null,\r\n            \"offset\": 0,\r\n            \"utc\": this._root.utc\r\n        };\r\n        // Index adjuster\r\n        let indexAdjust = 0;\r\n        let index = 0;\r\n        // Iterate through all of the parts\r\n        for (let i = 0; i < info.parts.length; i++) {\r\n            // Set current match index\r\n            index = i + indexAdjust + 1;\r\n            switch (info.parts[i]) {\r\n                case \"yyyy\":\r\n                case \"YYYY\":\r\n                    reg += \"([0-9]{4})\";\r\n                    parsedIndexes.year = index;\r\n                    break;\r\n                case \"yyy\":\r\n                case \"YYY\":\r\n                    reg += \"([0-9]{3})\";\r\n                    parsedIndexes.year3 = index;\r\n                    break;\r\n                case \"yy\":\r\n                case \"YY\":\r\n                    reg += \"([0-9]{2})\";\r\n                    parsedIndexes.year2 = index;\r\n                    break;\r\n                case \"y\":\r\n                case \"Y\":\r\n                    reg += \"([0-9]{1})\";\r\n                    parsedIndexes.year1 = index;\r\n                    break;\r\n                case \"MMMM\":\r\n                    reg += \"(\" + this.getStringList(this._months()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthLong = index;\r\n                    break;\r\n                case \"MMM\":\r\n                    reg += \"(\" + this.getStringList(this._shortMonths()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthShort = index;\r\n                    break;\r\n                case \"MM\":\r\n                case \"M\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.month = index;\r\n                    break;\r\n                case \"ww\":\r\n                case \"w\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.week = index;\r\n                    break;\r\n                case \"dd\":\r\n                case \"d\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.day = index;\r\n                    break;\r\n                case \"DDD\":\r\n                case \"DD\":\r\n                case \"D\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.yearDay = index;\r\n                    break;\r\n                case \"dddd\":\r\n                    reg += \"(\" + this.getStringList(this._weekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayLong = index;\r\n                    break;\r\n                case \"ddd\":\r\n                    reg += \"(\" + this.getStringList(this._shortWeekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayShort = index;\r\n                    break;\r\n                case \"aaa\":\r\n                case \"aa\":\r\n                case \"a\":\r\n                    // TODO: fix (escape regex)\r\n                    reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                    parsedIndexes.am = index;\r\n                    break;\r\n                case \"hh\":\r\n                case \"h\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base1 = index;\r\n                    break;\r\n                case \"HH\":\r\n                case \"H\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase0 = index;\r\n                    break;\r\n                case \"KK\":\r\n                case \"K\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base0 = index;\r\n                    break;\r\n                case \"kk\":\r\n                case \"k\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase1 = index;\r\n                    break;\r\n                case \"mm\":\r\n                case \"m\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.minute = index;\r\n                    break;\r\n                case \"ss\":\r\n                case \"s\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.second = index;\r\n                    break;\r\n                case \"SSS\":\r\n                case \"SS\":\r\n                case \"S\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                    break;\r\n                case \"nnn\":\r\n                case \"nn\":\r\n                case \"n\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    break;\r\n                case \"x\":\r\n                    reg += \"([0-9]{1,})\";\r\n                    parsedIndexes.timestamp = index;\r\n                    break;\r\n                case \"Z\":\r\n                    reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"ZZ\":\r\n                    reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"i\":\r\n                    reg += \"([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\\\.?([0-9]{0,3})([zZ]|[+\\\\-][0-9]{2}:?[0-9]{2}|$)\";\r\n                    parsedIndexes.iso = index;\r\n                    indexAdjust += 7;\r\n                    break;\r\n                case \"G\":\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                case \"MMMMM\":\r\n                case \"W\":\r\n                case \"EEEEE\":\r\n                case \"EEEE\":\r\n                case \"EEE\":\r\n                case \"EE\":\r\n                case \"E\":\r\n                case \"eeeee\":\r\n                case \"eeee\":\r\n                case \"eee\":\r\n                case \"ee\":\r\n                case \"e\":\r\n                case \"zzzz\":\r\n                case \"zzz\":\r\n                case \"zz\":\r\n                case \"z\":\r\n                case \"t\":\r\n                    // Ignore\r\n                    indexAdjust--;\r\n                    break;\r\n            }\r\n            reg += \"[^0-9]*\";\r\n        }\r\n        // Try matching\r\n        let regex = new RegExp(reg);\r\n        let matches = source.match(regex);\r\n        if (matches) {\r\n            // Populate the date object\r\n            // Full year\r\n            if (parsedIndexes.year > -1) {\r\n                resValues.year = parseInt(matches[parsedIndexes.year]);\r\n            }\r\n            // 3-digit year\r\n            if (parsedIndexes.year3 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year3]);\r\n                val += 1000;\r\n                resValues.year = val;\r\n            }\r\n            // 2-digit year\r\n            if (parsedIndexes.year2 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year2]);\r\n                if (val > 50) {\r\n                    val += 1000;\r\n                }\r\n                else {\r\n                    val += 2000;\r\n                }\r\n                resValues.year = val;\r\n            }\r\n            // 1-digit year\r\n            if (parsedIndexes.year1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year1]);\r\n                val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                resValues.year = val;\r\n            }\r\n            // Full month\r\n            if (parsedIndexes.monthLong > -1) {\r\n                resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n            }\r\n            // Short month\r\n            if (parsedIndexes.monthShort > -1) {\r\n                resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n            }\r\n            // Numeric month\r\n            if (parsedIndexes.month > -1) {\r\n                resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n            }\r\n            // Weekday\r\n            // @todo\r\n            // Week\r\n            if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                // We parse weeks ONLY if day is not explicitly set\r\n                // TODO: this needs work\r\n                // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                resValues.month = 0;\r\n                resValues.day = _Utils__WEBPACK_IMPORTED_MODULE_2__.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this._root.utc);\r\n            }\r\n            // Day\r\n            if (parsedIndexes.day > -1) {\r\n                resValues.day = parseInt(matches[parsedIndexes.day]);\r\n            }\r\n            // Year day\r\n            if (parsedIndexes.yearDay > -1) {\r\n                resValues.month = 0;\r\n                resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n            }\r\n            // 24 Hour (0-23)\r\n            if (parsedIndexes.hourBase0 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n            }\r\n            // 24 Hour (1-24)\r\n            if (parsedIndexes.hourBase1 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n            }\r\n            // 12 Hour (0-11)\r\n            if (parsedIndexes.hour12Base0 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                if (val == 11) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // 12 Hour (1-12)\r\n            if (parsedIndexes.hour12Base1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                if (val == 12) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // Minute\r\n            if (parsedIndexes.minute > -1) {\r\n                resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n            }\r\n            // Second\r\n            if (parsedIndexes.second > -1) {\r\n                resValues.second = parseInt(matches[parsedIndexes.second]);\r\n            }\r\n            // Millisecond\r\n            if (parsedIndexes.millisecond > -1) {\r\n                let val = parseInt(matches[parsedIndexes.millisecond]);\r\n                if (parsedIndexes.millisecondDigits == 2) {\r\n                    val *= 10;\r\n                }\r\n                else if (parsedIndexes.millisecondDigits == 1) {\r\n                    val *= 100;\r\n                }\r\n                resValues.millisecond = val;\r\n            }\r\n            // Timestamp\r\n            if (parsedIndexes.timestamp > -1) {\r\n                resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                const ts = new Date(resValues.timestamp);\r\n                resValues.year = ts.getUTCFullYear();\r\n                resValues.month = ts.getUTCMonth();\r\n                resValues.day = ts.getUTCDate();\r\n                resValues.hour = ts.getUTCHours();\r\n                resValues.minute = ts.getUTCMinutes();\r\n                resValues.second = ts.getUTCSeconds();\r\n                resValues.millisecond = ts.getUTCMilliseconds();\r\n            }\r\n            // Adjust time zone\r\n            if (parsedIndexes.zone > -1) {\r\n                resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);\r\n            }\r\n            // ISO\r\n            if (parsedIndexes.iso > -1) {\r\n                resValues.year = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 0]);\r\n                resValues.month = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                resValues.day = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 2]);\r\n                resValues.hour = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 3]);\r\n                resValues.minute = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 4]);\r\n                resValues.second = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 5]);\r\n                resValues.millisecond = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 6]);\r\n                if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                    resValues.utc = true;\r\n                }\r\n                else if (matches[parsedIndexes.iso + 7] != \"\") {\r\n                    resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);\r\n                }\r\n            }\r\n            // Create Date object\r\n            if (resValues.utc) {\r\n                res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n            }\r\n            else {\r\n                res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n            }\r\n        }\r\n        else {\r\n            // Didn't match anything\r\n            // Let's try dropping it into Date constructor and hope for the best\r\n            res = new Date(source);\r\n        }\r\n        return res;\r\n    }\r\n    resolveTimezoneOffset(date, zone) {\r\n        let value = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n        if (value) {\r\n            let match = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n            let dir = match[1];\r\n            let hour = match[2];\r\n            let minute = match[3];\r\n            let offset = parseInt(hour) * 60 + parseInt(minute);\r\n            // Adjust offset\r\n            // Making it negative does not seem to make sense, but it's right\r\n            // because of how JavaScript calculates GMT offsets\r\n            if (dir == \"+\") {\r\n                offset *= -1;\r\n            }\r\n            // Check the difference in offset\r\n            let originalOffset = (date || new Date()).getTimezoneOffset();\r\n            let diff = offset - originalOffset;\r\n            return diff;\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    resolveMonth(value) {\r\n        // Let's try English first\r\n        let month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (!this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._months()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    resolveShortMonth(value) {\r\n        // Let's try English first\r\n        let month = this._shortMonths().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Maybe long month (workaround for May)\r\n        month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (this._root.language && !this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._shortMonths()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    isAm(value) {\r\n        let list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n        return list.indexOf(value.toUpperCase()) > -1;\r\n    }\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    getStringList(list) {\r\n        let res = [];\r\n        for (let i = 0; i < list.length; i++) {\r\n            // translate?\r\n            if (this._root.language) {\r\n                res.push(_Utils__WEBPACK_IMPORTED_MODULE_2__.escapeForRgex(this._t(list[i])));\r\n            }\r\n            else {\r\n                res.push(_Utils__WEBPACK_IMPORTED_MODULE_2__.escapeForRgex(list[i]));\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\n//# sourceMappingURL=DateFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0RhdGVGb3JtYXR0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWtDO0FBQ2M7QUFDVjtBQUNOO0FBQ0U7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4RUFBOEU7QUFDdkY7QUFDQTtBQUNPLDRCQUE0QiwyQ0FBTTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJDQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsRUFBRTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLCtDQUFrQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFnQixDQUFDLDJDQUFjO0FBQzNEO0FBQ0E7QUFDQSw0QkFBNEIsMkNBQWM7QUFDMUM7QUFDQTtBQUNBLDRCQUE0QixnREFBbUI7QUFDL0M7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFnQixDQUFDLDhDQUFpQjtBQUM5RDtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZDQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOENBQWlCO0FBQzdDO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCLENBQUMsOENBQWlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQSw0QkFBNEIsOENBQWlCO0FBQzdDO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCLENBQUMsOENBQWlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBa0I7QUFDOUM7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBa0I7QUFDOUM7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBa0I7QUFDOUM7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsK0NBQVE7QUFDcEQ7QUFDQTtBQUNBLDhDQUE4QyxxREFBd0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkNBQWdCLGlCQUFpQiw2Q0FBZ0I7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDZDQUFnQixXQUFXLDZDQUFnQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOENBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseURBQWE7QUFDbEMsd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQSxvRUFBb0UsOENBQWlCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0NBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxHQUFHO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxFQUFFLE9BQU8sRUFBRTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsRUFBRSxNQUFNLEVBQUU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxZQUFZLElBQUksbUJBQW1CLEVBQUUsUUFBUSxFQUFFO0FBQ2hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0RBQXFCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsMkNBQWM7QUFDL0Msa0NBQWtDLDJDQUFjO0FBQ2hELGdDQUFnQywyQ0FBYztBQUM5QyxpQ0FBaUMsMkNBQWM7QUFDL0MsbUNBQW1DLDJDQUFjO0FBQ2pELG1DQUFtQywyQ0FBYztBQUNqRCx3Q0FBd0MsMkNBQWM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxFQUFFLFVBQVUsRUFBRTtBQUM3RDtBQUNBLG1EQUFtRCxFQUFFLFVBQVUsRUFBRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0EseUJBQXlCLGlEQUFvQjtBQUM3QztBQUNBO0FBQ0EseUJBQXlCLGlEQUFvQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9EYXRlRm9ybWF0dGVyLmpzP2Y1MzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCB7IFRleHRGb3JtYXR0ZXIgfSBmcm9tIFwiLi9UZXh0Rm9ybWF0dGVyXCI7XHJcbmltcG9ydCB7IFRpbWV6b25lIH0gZnJvbSBcIi4vVGltZXpvbmVcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuLyoqXHJcbiAqIERhdGUgZm9ybWF0dGVyIGNsYXNzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZGF0ZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEYXRlRm9ybWF0dGVyIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIF9zZXREZWZhdWx0cygpIHtcclxuICAgICAgICAvLyBEZWZhdWx0c1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJjYXBpdGFsaXplXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJkYXRlRm9ybWF0XCIsIFwieXl5eS1NTS1kZFwiKTtcclxuICAgICAgICBzdXBlci5fc2V0RGVmYXVsdHMoKTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdHMgYSBzb3VyY2UgYERhdGVgIG9iamVjdCBpbnRvIHN0cmluZyBmb3JtYXRcclxuICAgICAqIEBwYXJhbSAgIHNvdXJjZSAgICAgICAgICBpbnBvdXQgZGF0ZVxyXG4gICAgICogQHBhcmFtICAgZm9ybWF0ICAgICAgICAgIE91dHB1dCBmb3JtYXRcclxuICAgICAqIEBwYXJhbSAgIGlnbm9yZVRpbWV6b25lICBJZ25vcmUgdGltZXpvbmU/XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgICAgICAgRm9ybWF0dGVkIGRhdGVcclxuICAgICAqL1xyXG4gICAgZm9ybWF0KHNvdXJjZSwgZm9ybWF0LCBpZ25vcmVUaW1lem9uZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8gTG9jYWxlP1xyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICAvLyBObyBmb3JtYXQgcGFzc2VkIGluIG9yIGl0J3MgZW1wdHlcclxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBmb3JtYXQgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgZm9ybWF0ID0gdGhpcy5nZXQoXCJkYXRlRm9ybWF0XCIsIFwieXl5eS1NTS1kZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdCByZXR1cm4gdmFsdWVcclxuICAgICAgICBsZXQgZm9ybWF0dGVkO1xyXG4gICAgICAgIC8vIENhc3Q/XHJcbiAgICAgICAgLy8gVE9ETzogZGVjaWRlIGlmIHdlIG5lZWQgdG8gY2FzdFxyXG4gICAgICAgIGxldCBkYXRlID0gc291cmNlO1xyXG4gICAgICAgIC8vIElzIGl0IGEgYnVpbHQtaW4gZm9ybWF0IG9yIEludGwuRGF0ZVRpbWVGb3JtYXRcclxuICAgICAgICBpZiAoJHR5cGUuaXNPYmplY3QoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxlcyA9IHRoaXMuZ2V0KFwiaW50bExvY2FsZXNcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGVzLCBmb3JtYXQpLmZvcm1hdChkYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCh1bmRlZmluZWQsIGZvcm1hdCkuZm9ybWF0KGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ2V0IGZvcm1hdCBpbmZvIChpdCB3aWxsIGFsc28gZGVhbCB3aXRoIHBhcnNlciBjYWNoaW5nKVxyXG4gICAgICAgIGxldCBpbmZvID0gdGhpcy5wYXJzZUZvcm1hdChmb3JtYXQpO1xyXG4gICAgICAgIC8vIFNob3VsZCB3ZSBhcHBseSBjdXN0b20gdGltZSB6b25lP1xyXG4gICAgICAgIGNvbnN0IHRpbWV6b25lID0gdGhpcy5fcm9vdC50aW1lem9uZTtcclxuICAgICAgICBpZiAodGltZXpvbmUgJiYgIXRoaXMuX3Jvb3QudXRjICYmICFpZ25vcmVUaW1lem9uZSkge1xyXG4gICAgICAgICAgICBkYXRlID0gdGltZXpvbmUuY29udmVydExvY2FsKGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgdmFsaWQgZGF0ZVxyXG4gICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoZGF0ZS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gdHJhbnNsYXRpb25cclxuICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5fdChcIkludmFsaWQgZGF0ZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBkYXRlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFwcGx5IGZvcm1hdFxyXG4gICAgICAgIGZvcm1hdHRlZCA9IHRoaXMuYXBwbHlGb3JtYXQoZGF0ZSwgaW5mbywgaWdub3JlVGltZXpvbmUpO1xyXG4gICAgICAgIC8vIENhcGl0YWxpemVcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJjYXBpdGFsaXplXCIpKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLnsxfS8sIGZvcm1hdHRlZC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdlJ3JlIGRvbmVcclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBsaWVzIGZvcm1hdCB0byBEYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRlICAgICAgRGF0ZSBvYmplY3RcclxuICAgICAqIEBwYXJhbSBpbmZvICAgICAgUGFyc2VkIGZvcm1hdCBpbmZvcm1hdGlvblxyXG4gICAgICogQHJldHVybiBGb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgYXBwbHlGb3JtYXQoZGF0ZSwgaW5mbywgaWdub3JlVGltZXpvbmUgPSBmYWxzZSkge1xyXG4gICAgICAgIC8vIEluaXQgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgbGV0IHJlcyA9IGluZm8udGVtcGxhdGU7XHJcbiAgICAgICAgLy8gR2V0IHZhbHVlc1xyXG4gICAgICAgIGxldCBmdWxsWWVhciwgbW9udGgsIHdlZWtkYXksIGRheSwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcywgdGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QudXRjICYmICFpZ25vcmVUaW1lem9uZSkge1xyXG4gICAgICAgICAgICBmdWxsWWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcclxuICAgICAgICAgICAgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XHJcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkYXRlLmdldFVUQ0RheSgpO1xyXG4gICAgICAgICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcclxuICAgICAgICAgICAgaG91cnMgPSBkYXRlLmdldFVUQ0hvdXJzKCk7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcclxuICAgICAgICAgICAgc2Vjb25kcyA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xyXG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgPSBkYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZnVsbFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGF0ZS5nZXREYXkoKTtcclxuICAgICAgICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgICAgIHNlY29uZHMgPSBkYXRlLmdldFNlY29uZHMoKTtcclxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gR28gdGhyb3VnaCBlYWNoIHBhcnQgYW5kIGZvcm1hdC9yZXBsYWNlIGl0IGluIHRlbXBsYXRlXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGluZm8ucGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgc3dpdGNoIChpbmZvLnBhcnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiR1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdChmdWxsWWVhciA8IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIl9lcmFfYmNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiX2VyYV9hZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eXl5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLmFicyhmdWxsWWVhcikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnVsbFllYXIgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuX3QoXCJfZXJhX2JjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eXlcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKGZ1bGxZZWFyKS50b1N0cmluZygpLnN1YnN0cigtaW5mby5wYXJ0c1tpXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdWxsWWVhciA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5fdChcIl9lcmFfYmNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZWVlcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJZWVlcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJZWVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllcIjpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeWVhciA9ICR1dGlscy5nZXRXZWVrWWVhcihkYXRlLCB0aGlzLl9yb290LnV0Yyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8ucGFydHNbaV0gPT0gXCJZWVlZXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLmFicyh5ZWFyKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLmFicyh5ZWFyKS50b1N0cmluZygpLnN1YnN0cigtaW5mby5wYXJ0c1tpXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoeWVhciA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5fdChcIl9lcmFfYmNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kb1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInFcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFwiXCIgKyBNYXRoLmNlaWwoKGRhdGUuZ2V0TW9udGgoKSArIDEpIC8gMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NTU1cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QodGhpcy5fZ2V0TW9udGgobW9udGgpKS5zdWJzdHIoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdCh0aGlzLl9nZXRNb250aChtb250aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdCh0aGlzLl9nZXRTaG9ydE1vbnRoKG1vbnRoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcobW9udGggKyAxLCAyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKG1vbnRoICsgMSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ3d1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZygkdXRpbHMuZ2V0V2VlayhkYXRlLCB0aGlzLl9yb290LnV0YyksIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ3XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMuZ2V0V2VlayhkYXRlLCB0aGlzLl9yb290LnV0YykudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJXXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMuZ2V0TW9udGhXZWVrKGRhdGUsIHRoaXMuX3Jvb3QudXRjKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKGRheSwgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRheS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkREXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiREREXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKCR1dGlscy5nZXRZZWFyRGF5KGRhdGUsIHRoaXMuX3Jvb3QudXRjKS50b1N0cmluZygpLCBpbmZvLnBhcnRzW2ldLmxlbmd0aCwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRZZWFyRGF5KGRhdGUsIHRoaXMuX3Jvb3QudXRjKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkZcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kb1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImdcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdG9kb1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3Jvb3QubGFuZ3VhZ2UudHJhbnNsYXRlRnVuYyhcIl9kYXRlT3JkXCIpLmNhbGwodGhpcywgZGF5KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAod2Vla2RheSB8fCA3KS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVFXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKCh3ZWVrZGF5IHx8IDcpLnRvU3RyaW5nKCksIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFRUVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZWVcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QodGhpcy5fZ2V0U2hvcnRXZWVrZGF5KHdlZWtkYXkpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFRUVFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVlZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdCh0aGlzLl9nZXRXZWVrZGF5KHdlZWtkYXkpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFRUVFRVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVlZWVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KHRoaXMuX2dldFNob3J0V2Vla2RheSh3ZWVrZGF5KSkuc3Vic3RyKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKHdlZWtkYXkgLSAodGhpcy5fcm9vdC5sb2NhbGUuZmlyc3REYXlPZldlZWsgfHwgMSkgKyAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLnBhcnRzW2ldID09IFwiZWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcodmFsdWUsIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChob3VycyA+PSAxMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QoXCJQTVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdChcIkFNXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhYVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChob3VycyA+PSAxMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QoXCJQLk0uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KFwiQS5NLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWFhXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID49IDEyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdChcIlBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QoXCJBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMuZ2V0MTJIb3Vycyhob3VycykudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJoaFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZygkdXRpbHMuZ2V0MTJIb3Vycyhob3VycyksIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBob3Vycy50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhIXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKGhvdXJzLCAyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiS1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLmdldDEySG91cnMoaG91cnMsIDApLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiS0tcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcoJHV0aWxzLmdldDEySG91cnMoaG91cnMsIDApLCAyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKGhvdXJzICsgMSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJra1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZyhob3VycyArIDEsIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtaW51dGVzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibW1cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcobWludXRlcywgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHNlY29uZHMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZyhzZWNvbmRzLCAyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNTXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1NTXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKChtaWxsaXNlY29uZHMgLyAxMDAwKSAqIE1hdGgucG93KDEwLCBpbmZvLnBhcnRzW2ldLmxlbmd0aCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGltZXN0YW1wLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5uXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibm5uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKG1pbGxpc2Vjb25kcywgaW5mby5wYXJ0c1tpXS5sZW5ndGgsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ6XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMuZ2V0VGltZVpvbmUoZGF0ZSwgZmFsc2UsIGZhbHNlLCB0aGlzLl9yb290LnV0YywgdGhpcy5fcm9vdC50aW1lem9uZSA/IHRoaXMuX3Jvb3QudGltZXpvbmUubmFtZSA6IHVuZGVmaW5lZCkucmVwbGFjZSgvWystXStbMC05XSskLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwienpcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRUaW1lWm9uZShkYXRlLCB0cnVlLCBmYWxzZSwgdGhpcy5fcm9vdC51dGMsIHRoaXMuX3Jvb3QudGltZXpvbmUgPyB0aGlzLl9yb290LnRpbWV6b25lLm5hbWUgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInp6elwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLmdldFRpbWVab25lKGRhdGUsIGZhbHNlLCB0cnVlLCB0aGlzLl9yb290LnV0YywgdGhpcy5fcm9vdC50aW1lem9uZSA/IHRoaXMuX3Jvb3QudGltZXpvbmUubmFtZSA6IHVuZGVmaW5lZCkucmVwbGFjZSgvWystXStbMC05XSskLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwienp6elwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLmdldFRpbWVab25lKGRhdGUsIHRydWUsIHRydWUsIHRoaXMuX3Jvb3QudXRjLCB0aGlzLl9yb290LnRpbWV6b25lID8gdGhpcy5fcm9vdC50aW1lem9uZS5uYW1lIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWlpcIjpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZXpvbmUgPSB0aGlzLl9yb290LnV0YyA/IFwiVVRDXCIgOiB0aGlzLl9yb290LnRpbWV6b25lO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lem9uZSBpbnN0YW5jZW9mIFRpbWV6b25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lID0gdGltZXpvbmUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGltZXpvbmUgPyAkdXRpbHMuZ2V0VGltZXpvbmVPZmZzZXQodGltZXpvbmUpIDogZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eiA9IE1hdGguYWJzKG9mZnNldCkgLyA2MDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHpoID0gTWF0aC5mbG9vcih0eik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR6bSA9IHR6ICogNjAgLSB0emggKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcm9vdC51dGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHpoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHptID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8ucGFydHNbaV0gPT0gXCJaXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBcIkdNVFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gJHV0aWxzLnBhZFN0cmluZyh0emgsIDIpICsgXCI6XCIgKyAkdXRpbHMucGFkU3RyaW5nKHR6bSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSAkdXRpbHMucGFkU3RyaW5nKHR6aCwgMikgKyAkdXRpbHMucGFkU3RyaW5nKHR6bSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImlcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGUudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJJXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRlLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzID0gcmVzLnJlcGxhY2UoJHR5cGUuUExBQ0VIT0xERVIsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIGZvcm1hdCBpbnRvIHN0cnVjdHVyZWQgaW5mcm9tYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZvcm1hdCBGb3JtYXQgdGVtcGxhdGVcclxuICAgICAqL1xyXG4gICAgcGFyc2VGb3JtYXQoZm9ybWF0KSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGVcclxuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgY2FjaGluZyBvZiB0aGUgcGFyc2VkIGZvcm1hdFxyXG4gICAgICAgIC8vIEluaXQgZm9ybWF0IHBhcnNlIGluZm8gaG9sZGVyXHJcbiAgICAgICAgbGV0IGluZm8gPSB7XHJcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgXCJwYXJ0c1wiOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGV0IFRleHRGb3JtYXR0ZXIgc3BsaXQgaW50byBjaHVua3NcclxuICAgICAgICBsZXQgY2h1bmtzID0gVGV4dEZvcm1hdHRlci5jaHVuayhmb3JtYXQsIHRydWUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjaHVuayA9IGNodW5rc1tpXTtcclxuICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09IFwidmFsdWVcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gSnVzdCBcIkRhdGVcIj9cclxuICAgICAgICAgICAgICAgIGlmIChjaHVuay50ZXh0Lm1hdGNoKC9eZGF0ZSQvaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0ZUZvcm1hdCA9IHRoaXMuZ2V0KFwiZGF0ZUZvcm1hdFwiLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc1N0cmluZyhkYXRlRm9ybWF0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gXCJ5eXl5LU1NLWRkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnRleHQgPSBkYXRlRm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gRmluZCBhbGwgcG9zc2libGUgcGFydHNcclxuICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzID0gY2h1bmsudGV4dC5tYXRjaCgvR3x5eXl5fHl5eXx5eXx5fFlZWVl8WVlZfFlZfFl8dXxxfE1NTU1NfE1NTU18TU1NfE1NfE18d3d8d3xXfGRkfGR8REREfEREfER8RnxnfEVFRUVFfEVFRUV8RUVFfEVFfEV8ZWVlZWV8ZWVlZXxlZWV8ZWV8ZXxhYWF8YWF8YXxoaHxofEhIfEh8S0t8S3xra3xrfG1tfG18c3N8c3xTU1N8U1N8U3xBfHp6enp8enp6fHp6fHp8Wlp8Wnx0fHh8bm5ufG5ufG58aXxJL2cpO1xyXG4gICAgICAgICAgICAgICAgLy8gRm91bmQ/XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBvcHVsYXRlIHRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBtYXRjaGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ucGFydHMucHVzaChtYXRjaGVzW3hdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsudGV4dCA9IGNodW5rLnRleHQucmVwbGFjZShtYXRjaGVzW3hdLCAkdHlwZS5QTEFDRUhPTERFUik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFwcGx5IHRvIHRlbXBsYXRlXHJcbiAgICAgICAgICAgIGluZm8udGVtcGxhdGUgKz0gY2h1bmsudGV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2F2ZSBjYWNoZVxyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICByZXR1cm4gaW5mbztcclxuICAgIH1cclxuICAgIF9tb250aHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xyXG4gICAgfVxyXG4gICAgX2dldE1vbnRoKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRocygpW2luZGV4XTtcclxuICAgIH1cclxuICAgIF9zaG9ydE1vbnRocygpIHtcclxuICAgICAgICByZXR1cm4gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5KHNob3J0KVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgIH1cclxuICAgIF9nZXRTaG9ydE1vbnRoKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3J0TW9udGhzKClbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgX3dlZWtkYXlzKCkge1xyXG4gICAgICAgIHJldHVybiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXTtcclxuICAgIH1cclxuICAgIF9nZXRXZWVrZGF5KGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzKClbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgX3Nob3J0V2Vla2RheXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcclxuICAgIH1cclxuICAgIF9nZXRTaG9ydFdlZWtkYXkoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2hvcnRXZWVrZGF5cygpW2luZGV4XTtcclxuICAgIH1cclxuICAgIHBhcnNlKHNvdXJjZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgLy8gSXMgaXQgYWxyZWFkeSBhIERhdGVcclxuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJcyBpdCBhIG51bWVyaWMgdGltZXN0YW1wXHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHNvdXJjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFyZSB3ZSBwYXJzaW5nIGEgdGltZXN0YW1wP1xyXG4gICAgICAgIGlmIChmb3JtYXQgPT0gXCJ4XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KHNvdXJjZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBObz8gTGV0J3MgY2hlY2sgaWYgaXQncyBzdHJpbmcsIGFuZCB0cnkgY29udmVydGluZyB0byBpdCBpZiBuZWNcclxuICAgICAgICBpZiAoISR0eXBlLmlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICAgICAgc291cmNlID0gc291cmNlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluaXQgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgbGV0IHJlcztcclxuICAgICAgICAvLyBJbml0IFJlZ0V4IGZvciBwYXJzaW5nXHJcbiAgICAgICAgbGV0IHJlZyA9IFwiXCI7XHJcbiAgICAgICAgLy8gQ2xlYW4gZm9ybWF0XHJcbiAgICAgICAgZm9ybWF0ID0gJHV0aWxzLmNsZWFuRm9ybWF0KGZvcm1hdCk7XHJcbiAgICAgICAgLy8gQ2xpcCBmb3JtYXQgdG8gbGVuZ3RoIG9mIHRoZSBzb3VyY2Ugc3RyaW5nXHJcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnN1YnN0cigwLCBzb3VyY2UubGVuZ3RoKTtcclxuICAgICAgICAvLyBQYXJzZSBmb3JtYXRcclxuICAgICAgICBsZXQgaW5mbyA9IHRoaXMucGFyc2VGb3JtYXQoZm9ybWF0KTtcclxuICAgICAgICAvLyBJbml0IHBhcnNlZCBpdGVtcyBob2xkZXJcclxuICAgICAgICBsZXQgcGFyc2VkSW5kZXhlcyA9IHtcclxuICAgICAgICAgICAgXCJ5ZWFyXCI6IC0xLFxyXG4gICAgICAgICAgICBcInllYXIzXCI6IC0xLFxyXG4gICAgICAgICAgICBcInllYXIyXCI6IC0xLFxyXG4gICAgICAgICAgICBcInllYXIxXCI6IC0xLFxyXG4gICAgICAgICAgICBcIm1vbnRoXCI6IC0xLFxyXG4gICAgICAgICAgICBcIm1vbnRoU2hvcnRcIjogLTEsXHJcbiAgICAgICAgICAgIFwibW9udGhMb25nXCI6IC0xLFxyXG4gICAgICAgICAgICBcIndlZWtkYXlTaG9ydFwiOiAtMSxcclxuICAgICAgICAgICAgXCJ3ZWVrZGF5TG9uZ1wiOiAtMSxcclxuICAgICAgICAgICAgXCJkYXlcIjogLTEsXHJcbiAgICAgICAgICAgIFwieWVhckRheVwiOiAtMSxcclxuICAgICAgICAgICAgXCJ3ZWVrXCI6IC0xLFxyXG4gICAgICAgICAgICBcImhvdXJCYXNlMFwiOiAtMSxcclxuICAgICAgICAgICAgXCJob3VyMTJCYXNlMFwiOiAtMSxcclxuICAgICAgICAgICAgXCJob3VyQmFzZTFcIjogLTEsXHJcbiAgICAgICAgICAgIFwiaG91cjEyQmFzZTFcIjogLTEsXHJcbiAgICAgICAgICAgIFwibWludXRlXCI6IC0xLFxyXG4gICAgICAgICAgICBcInNlY29uZFwiOiAtMSxcclxuICAgICAgICAgICAgXCJtaWxsaXNlY29uZFwiOiAtMSxcclxuICAgICAgICAgICAgXCJtaWxsaXNlY29uZERpZ2l0c1wiOiAtMSxcclxuICAgICAgICAgICAgXCJhbVwiOiAtMSxcclxuICAgICAgICAgICAgXCJ6b25lXCI6IC0xLFxyXG4gICAgICAgICAgICBcInRpbWVzdGFtcFwiOiAtMSxcclxuICAgICAgICAgICAgXCJpc29cIjogLTFcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEluaXQgdmFsdWVzXHJcbiAgICAgICAgbGV0IHJlc1ZhbHVlcyA9IHtcclxuICAgICAgICAgICAgXCJ5ZWFyXCI6IDE5NzAsXHJcbiAgICAgICAgICAgIFwibW9udGhcIjogMCxcclxuICAgICAgICAgICAgXCJkYXlcIjogMSxcclxuICAgICAgICAgICAgXCJob3VyXCI6IDAsXHJcbiAgICAgICAgICAgIFwibWludXRlXCI6IDAsXHJcbiAgICAgICAgICAgIFwic2Vjb25kXCI6IDAsXHJcbiAgICAgICAgICAgIFwibWlsbGlzZWNvbmRcIjogMCxcclxuICAgICAgICAgICAgXCJ0aW1lc3RhbXBcIjogbnVsbCxcclxuICAgICAgICAgICAgXCJvZmZzZXRcIjogMCxcclxuICAgICAgICAgICAgXCJ1dGNcIjogdGhpcy5fcm9vdC51dGNcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEluZGV4IGFkanVzdGVyXHJcbiAgICAgICAgbGV0IGluZGV4QWRqdXN0ID0gMDtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIHBhcnRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmZvLnBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCBjdXJyZW50IG1hdGNoIGluZGV4XHJcbiAgICAgICAgICAgIGluZGV4ID0gaSArIGluZGV4QWRqdXN0ICsgMTtcclxuICAgICAgICAgICAgc3dpdGNoIChpbmZvLnBhcnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieXl5eVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZWVlcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoWzAtOV17NH0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy55ZWFyID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieXl5XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlZXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezN9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMueWVhcjMgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezJ9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMueWVhcjIgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnllYXIxID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihcIiArIHRoaXMuZ2V0U3RyaW5nTGlzdCh0aGlzLl9tb250aHMoKSkuam9pbihcInxcIikgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1vbnRoTG9uZyA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihcIiArIHRoaXMuZ2V0U3RyaW5nTGlzdCh0aGlzLl9zaG9ydE1vbnRocygpKS5qb2luKFwifFwiKSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMubW9udGhTaG9ydCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1vbnRoID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwid3dcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ3XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezJ9fFswLTldezF9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMud2VlayA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRkXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLmRheSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRERFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkREXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXszfXxbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnllYXJEYXkgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZGRkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFwiICsgdGhpcy5nZXRTdHJpbmdMaXN0KHRoaXMuX3dlZWtkYXlzKCkpLmpvaW4oXCJ8XCIpICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy53ZWVrZGF5TG9uZyA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRkZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihcIiArIHRoaXMuZ2V0U3RyaW5nTGlzdCh0aGlzLl9zaG9ydFdlZWtkYXlzKCkpLmpvaW4oXCJ8XCIpICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy53ZWVrZGF5U2hvcnQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhYWFcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhYVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBmaXggKGVzY2FwZSByZWdleClcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoXCIgKyB0aGlzLmdldFN0cmluZ0xpc3QoW1wiQU1cIiwgXCJQTVwiLCBcIkFcXC5NXFwuXCIsIFwiUFxcLk1cXC5cIiwgXCJBXCIsIFwiUFwiXSkuam9pbihcInxcIikgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLmFtID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGhcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezJ9fFswLTldezF9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMuaG91cjEyQmFzZTEgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJISFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoWzAtOV17Mn18WzAtOV17MX0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5ob3VyQmFzZTAgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJLS1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIktcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoWzAtOV17Mn18WzAtOV17MX0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5ob3VyMTJCYXNlMCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImtrXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLmhvdXJCYXNlMSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1tXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1pbnV0ZSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNzXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnNlY29uZCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNTU1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNTXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXszfXxbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5taWxsaXNlY29uZERpZ2l0cyA9IGluZm8ucGFydHNbaV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5ublwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5uXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXszfXxbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsxLH0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy50aW1lc3RhbXAgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiR01UKFstK10rWzAtOV17Mn06WzAtOV17Mn0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy56b25lID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWlpcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoW1xcXFwtK10rWzAtOV17Mn1bMC05XXsyfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnpvbmUgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezR9KS0/KFswLTldezJ9KS0/KFswLTldezJ9KVQ/KFswLTldezJ9KTo/KFswLTldezJ9KTo/KFswLTldezJ9KVxcXFwuPyhbMC05XXswLDN9KShbelpdfFsrXFxcXC1dWzAtOV17Mn06P1swLTldezJ9fCQpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5pc28gPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleEFkanVzdCArPSA3O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkdcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJZWVlZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NTU1cIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJXXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVFRUVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFRUVFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVlZWVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZWVlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwienp6elwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInp6elwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInp6XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwielwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBpbmRleEFkanVzdC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlZyArPSBcIlteMC05XSpcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJ5IG1hdGNoaW5nXHJcbiAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWcpO1xyXG4gICAgICAgIGxldCBtYXRjaGVzID0gc291cmNlLm1hdGNoKHJlZ2V4KTtcclxuICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgZGF0ZSBvYmplY3RcclxuICAgICAgICAgICAgLy8gRnVsbCB5ZWFyXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnllYXIgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnllYXIgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMueWVhcl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDMtZGlnaXQgeWVhclxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy55ZWFyMyA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnllYXIzXSk7XHJcbiAgICAgICAgICAgICAgICB2YWwgKz0gMTAwMDtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy55ZWFyID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDItZGlnaXQgeWVhclxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy55ZWFyMiA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnllYXIyXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgKz0gMTAwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCArPSAyMDAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnllYXIgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gMS1kaWdpdCB5ZWFyXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnllYXIxID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMueWVhcjFdKTtcclxuICAgICAgICAgICAgICAgIHZhbCA9IE1hdGguZmxvb3IoKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSkgLyAxMCkgKiAxMCArIHZhbDtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy55ZWFyID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZ1bGwgbW9udGhcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMubW9udGhMb25nID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHRoaXMucmVzb2x2ZU1vbnRoKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5tb250aExvbmddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTaG9ydCBtb250aFxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5tb250aFNob3J0ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHRoaXMucmVzb2x2ZVNob3J0TW9udGgobWF0Y2hlc1twYXJzZWRJbmRleGVzLm1vbnRoU2hvcnRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBOdW1lcmljIG1vbnRoXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLm1vbnRoID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5tb250aF0pIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZWVrZGF5XHJcbiAgICAgICAgICAgIC8vIEB0b2RvXHJcbiAgICAgICAgICAgIC8vIFdlZWtcclxuICAgICAgICAgICAgaWYgKChwYXJzZWRJbmRleGVzLndlZWsgPiAtMSkgJiYgKHBhcnNlZEluZGV4ZXMuZGF5ID09PSAtMSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIHBhcnNlIHdlZWtzIE9OTFkgaWYgZGF5IGlzIG5vdCBleHBsaWNpdGx5IHNldFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBuZWVkcyB3b3JrXHJcbiAgICAgICAgICAgICAgICAvLyAoYnV0IG1heWJlIGxhdGVyIC0gSSBjYW4gaGFyZGx5IGltYWdpbmUgYW55b25lIHBhc3NpbmcgdGhlaXIgZGF0ZXMgaW4gd2Vla3MpXHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubW9udGggPSAwO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmRheSA9ICR1dGlscy5nZXREYXlGcm9tV2VlayhwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMud2Vla10pLCByZXNWYWx1ZXMueWVhciwgMSwgdGhpcy5fcm9vdC51dGMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERheVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5kYXkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmRheSA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5kYXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBZZWFyIGRheVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy55ZWFyRGF5ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IDA7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuZGF5ID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnllYXJEYXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAyNCBIb3VyICgwLTIzKVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5ob3VyQmFzZTAgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmhvdXIgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaG91ckJhc2UwXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gMjQgSG91ciAoMS0yNClcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuaG91ckJhc2UxID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5ob3VyID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLmhvdXJCYXNlMV0pIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAxMiBIb3VyICgwLTExKVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5ob3VyMTJCYXNlMCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLmhvdXIxMkJhc2UwXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID09IDExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocGFyc2VkSW5kZXhlcy5hbSA+IC0xKSAmJiAhdGhpcy5pc0FtKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5hbV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsICs9IDEyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmhvdXIgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gMTIgSG91ciAoMS0xMilcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuaG91cjEyQmFzZTEgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5ob3VyMTJCYXNlMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSAxMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHBhcnNlZEluZGV4ZXMuYW0gPiAtMSkgJiYgIXRoaXMuaXNBbShtYXRjaGVzW3BhcnNlZEluZGV4ZXMuYW1dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCArPSAxMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5ob3VyID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE1pbnV0ZVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5taW51dGUgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm1pbnV0ZSA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5taW51dGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWNvbmRcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuc2Vjb25kID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5zZWNvbmQgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMuc2Vjb25kXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gTWlsbGlzZWNvbmRcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMubWlsbGlzZWNvbmQgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5taWxsaXNlY29uZF0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMubWlsbGlzZWNvbmREaWdpdHMgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZEluZGV4ZXMubWlsbGlzZWNvbmREaWdpdHMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubWlsbGlzZWNvbmQgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVGltZXN0YW1wXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnRpbWVzdGFtcCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMudGltZXN0YW1wID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnRpbWVzdGFtcF0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHMgPSBuZXcgRGF0ZShyZXNWYWx1ZXMudGltZXN0YW1wKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy55ZWFyID0gdHMuZ2V0VVRDRnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHRzLmdldFVUQ01vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuZGF5ID0gdHMuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmhvdXIgPSB0cy5nZXRVVENIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm1pbnV0ZSA9IHRzLmdldFVUQ01pbnV0ZXMoKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5zZWNvbmQgPSB0cy5nZXRVVENTZWNvbmRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubWlsbGlzZWNvbmQgPSB0cy5nZXRVVENNaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBZGp1c3QgdGltZSB6b25lXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnpvbmUgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm9mZnNldCA9IHRoaXMucmVzb2x2ZVRpbWV6b25lT2Zmc2V0KG5ldyBEYXRlKHJlc1ZhbHVlcy55ZWFyLCByZXNWYWx1ZXMubW9udGgsIHJlc1ZhbHVlcy5kYXkpLCBtYXRjaGVzW3BhcnNlZEluZGV4ZXMuem9uZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElTT1xyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5pc28gPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnllYXIgPSAkdHlwZS50b051bWJlcihtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgMF0pO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm1vbnRoID0gJHR5cGUudG9OdW1iZXIobWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDFdKSAtIDE7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuZGF5ID0gJHR5cGUudG9OdW1iZXIobWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDJdKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5ob3VyID0gJHR5cGUudG9OdW1iZXIobWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDNdKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5taW51dGUgPSAkdHlwZS50b051bWJlcihtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgNF0pO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnNlY29uZCA9ICR0eXBlLnRvTnVtYmVyKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5pc28gKyA1XSk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubWlsbGlzZWNvbmQgPSAkdHlwZS50b051bWJlcihtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgNl0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5pc28gKyA3XSA9PSBcIlpcIiB8fCBtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgN10gPT0gXCJ6XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNWYWx1ZXMudXRjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5pc28gKyA3XSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzVmFsdWVzLm9mZnNldCA9IHRoaXMucmVzb2x2ZVRpbWV6b25lT2Zmc2V0KG5ldyBEYXRlKHJlc1ZhbHVlcy55ZWFyLCByZXNWYWx1ZXMubW9udGgsIHJlc1ZhbHVlcy5kYXkpLCBtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgN10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBEYXRlIG9iamVjdFxyXG4gICAgICAgICAgICBpZiAocmVzVmFsdWVzLnV0Yykge1xyXG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IERhdGUoRGF0ZS5VVEMocmVzVmFsdWVzLnllYXIsIHJlc1ZhbHVlcy5tb250aCwgcmVzVmFsdWVzLmRheSwgcmVzVmFsdWVzLmhvdXIsIHJlc1ZhbHVlcy5taW51dGUsIHJlc1ZhbHVlcy5zZWNvbmQsIHJlc1ZhbHVlcy5taWxsaXNlY29uZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzID0gbmV3IERhdGUocmVzVmFsdWVzLnllYXIsIHJlc1ZhbHVlcy5tb250aCwgcmVzVmFsdWVzLmRheSwgcmVzVmFsdWVzLmhvdXIsIHJlc1ZhbHVlcy5taW51dGUgKyByZXNWYWx1ZXMub2Zmc2V0LCByZXNWYWx1ZXMuc2Vjb25kLCByZXNWYWx1ZXMubWlsbGlzZWNvbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEaWRuJ3QgbWF0Y2ggYW55dGhpbmdcclxuICAgICAgICAgICAgLy8gTGV0J3MgdHJ5IGRyb3BwaW5nIGl0IGludG8gRGF0ZSBjb25zdHJ1Y3RvciBhbmQgaG9wZSBmb3IgdGhlIGJlc3RcclxuICAgICAgICAgICAgcmVzID0gbmV3IERhdGUoc291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIHJlc29sdmVUaW1lem9uZU9mZnNldChkYXRlLCB6b25lKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gem9uZS5tYXRjaCgvKFsrXFwtXT8pKFswLTldezJ9KTo/KFswLTldezJ9KS8pO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBsZXQgbWF0Y2ggPSB6b25lLm1hdGNoKC8oWytcXC1dPykoWzAtOV17Mn0pOj8oWzAtOV17Mn0pLyk7XHJcbiAgICAgICAgICAgIGxldCBkaXIgPSBtYXRjaFsxXTtcclxuICAgICAgICAgICAgbGV0IGhvdXIgPSBtYXRjaFsyXTtcclxuICAgICAgICAgICAgbGV0IG1pbnV0ZSA9IG1hdGNoWzNdO1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gcGFyc2VJbnQoaG91cikgKiA2MCArIHBhcnNlSW50KG1pbnV0ZSk7XHJcbiAgICAgICAgICAgIC8vIEFkanVzdCBvZmZzZXRcclxuICAgICAgICAgICAgLy8gTWFraW5nIGl0IG5lZ2F0aXZlIGRvZXMgbm90IHNlZW0gdG8gbWFrZSBzZW5zZSwgYnV0IGl0J3MgcmlnaHRcclxuICAgICAgICAgICAgLy8gYmVjYXVzZSBvZiBob3cgSmF2YVNjcmlwdCBjYWxjdWxhdGVzIEdNVCBvZmZzZXRzXHJcbiAgICAgICAgICAgIGlmIChkaXIgPT0gXCIrXCIpIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldCAqPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgZGlmZmVyZW5jZSBpbiBvZmZzZXRcclxuICAgICAgICAgICAgbGV0IG9yaWdpbmFsT2Zmc2V0ID0gKGRhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICAgICAgbGV0IGRpZmYgPSBvZmZzZXQgLSBvcmlnaW5hbE9mZnNldDtcclxuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvbHZlcyBtb250aCBuYW1lIChpLmUuIFwiRGVjZW1iZXJcIikgaW50byBhIG1vbnRoIG51bWJlciAoMTEpLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgTW9udGggbmFtZVxyXG4gICAgICogQHJldHVybiBNb250aCBudW1iZXJcclxuICAgICAqL1xyXG4gICAgcmVzb2x2ZU1vbnRoKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gTGV0J3MgdHJ5IEVuZ2xpc2ggZmlyc3RcclxuICAgICAgICBsZXQgbW9udGggPSB0aGlzLl9tb250aHMoKS5pbmRleE9mKHZhbHVlKTtcclxuICAgICAgICBpZiAobW9udGggPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9udGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyeSB0aGUgdHJhbnNsYXRpb25cclxuICAgICAgICBpZiAoIXRoaXMuX3Jvb3QubGFuZ3VhZ2UuaXNEZWZhdWx0KCkpIHtcclxuICAgICAgICAgICAgbW9udGggPSB0aGlzLl9yb290Lmxhbmd1YWdlLnRyYW5zbGF0ZUFsbCh0aGlzLl9tb250aHMoKSkuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChtb250aCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc29sdmVzIHNob3J0IG1vbnRoIG5hbWUgKGkuZS4gXCJEZWNcIikgaW50byBhIG1vbnRoIG51bWJlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgIFNob3J0IG1vbnRoIG5hbWVcclxuICAgICAqIEByZXR1cm4gTW9udGggbnVtYmVyXHJcbiAgICAgKi9cclxuICAgIHJlc29sdmVTaG9ydE1vbnRoKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gTGV0J3MgdHJ5IEVuZ2xpc2ggZmlyc3RcclxuICAgICAgICBsZXQgbW9udGggPSB0aGlzLl9zaG9ydE1vbnRocygpLmluZGV4T2YodmFsdWUpO1xyXG4gICAgICAgIGlmIChtb250aCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb250aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWF5YmUgbG9uZyBtb250aCAod29ya2Fyb3VuZCBmb3IgTWF5KVxyXG4gICAgICAgIG1vbnRoID0gdGhpcy5fbW9udGhzKCkuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKG1vbnRoID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcnkgdGhlIHRyYW5zbGF0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QubGFuZ3VhZ2UgJiYgIXRoaXMuX3Jvb3QubGFuZ3VhZ2UuaXNEZWZhdWx0KCkpIHtcclxuICAgICAgICAgICAgbW9udGggPSB0aGlzLl9yb290Lmxhbmd1YWdlLnRyYW5zbGF0ZUFsbCh0aGlzLl9zaG9ydE1vbnRocygpKS5pbmRleE9mKHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKG1vbnRoID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb250aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHBhc3NlZCBpbiBzdHJpbmcgcmVwcmVzZW50cyBBTS9QTSBub3RhdGlvbiBpbiBtYW55IG9mIGl0c1xyXG4gICAgICogdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICBTb3VyY2Ugc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJuIElzIGl0IEFNL1BNP1xyXG4gICAgICovXHJcbiAgICBpc0FtKHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldFN0cmluZ0xpc3QoW1wiQU1cIiwgXCJBLk0uXCIsIFwiQVwiXSk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZih2YWx1ZS50b1VwcGVyQ2FzZSgpKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGVzIGxpc3Qgb2Ygc3RyaW5ncy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdCAgU291cmNlIHN0cmluZ3NcclxuICAgICAqIEByZXR1cm4gVHJhbnNsYXRlZCBzdHJpbmdzXHJcbiAgICAgKi9cclxuICAgIGdldFN0cmluZ0xpc3QobGlzdCkge1xyXG4gICAgICAgIGxldCByZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gdHJhbnNsYXRlP1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcm9vdC5sYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goJHV0aWxzLmVzY2FwZUZvclJnZXgodGhpcy5fdChsaXN0W2ldKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goJHV0aWxzLmVzY2FwZUZvclJnZXgobGlzdFtpXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGF0ZUZvcm1hdHRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrayDisposer: () => (/* binding */ ArrayDisposer),\n/* harmony export */   CounterDisposer: () => (/* binding */ CounterDisposer),\n/* harmony export */   Disposer: () => (/* binding */ Disposer),\n/* harmony export */   DisposerClass: () => (/* binding */ DisposerClass),\n/* harmony export */   MultiDisposer: () => (/* binding */ MultiDisposer),\n/* harmony export */   MutableValueDisposer: () => (/* binding */ MutableValueDisposer)\n/* harmony export */ });\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * A class for creating an IDisposer.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass Disposer {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    constructor(dispose) {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Method that disposes the object.\r\n         */\r\n        Object.defineProperty(this, \"_dispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * This can be extended by other classes to add a `_disposers` property.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass ArrayDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _dispose() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n}\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass MultiDisposer extends DisposerClass {\r\n    constructor(disposers) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposers = disposers;\r\n    }\r\n    _dispose() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n    get disposers() {\r\n        return this._disposers;\r\n    }\r\n}\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nclass MutableValueDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Current disposer.\r\n         */\r\n        Object.defineProperty(this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Current value.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _dispose() {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n            this._disposer = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    get() {\r\n        return this._value;\r\n    }\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    set(value, disposer) {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n        }\r\n        this._disposer = disposer;\r\n        this._value = value;\r\n    }\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    reset() {\r\n        this.set(undefined, undefined);\r\n    }\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nclass CounterDisposer extends Disposer {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        Object.defineProperty(this, \"_counter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    increment() {\r\n        // TODO throw an error if it is disposed\r\n        ++this._counter;\r\n        // TODO make this more efficient\r\n        return new Disposer(() => {\r\n            --this._counter;\r\n            if (this._counter === 0) {\r\n                this.dispose();\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Disposer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0Rpc3Bvc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvRGlzcG9zZXIuanM/M2JhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBJTVBPUlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL0FycmF5XCI7XHJcbi8qKlxyXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGRpc3Bvc2FibGUgb2JqZWN0cy5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSXMgb2JqZWN0IGRpc3Bvc2VkP1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIGRpc3Bvc2VkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gRGlzcG9zZWQ/XHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyB0aGUgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIGNsYXNzIGZvciBjcmVhdGluZyBhbiBJRGlzcG9zZXIuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEaXNwb3NlciB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkaXNwb3NlICBGdW5jdGlvbiB0aGF0IGRpc3Bvc2VzIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihkaXNwb3NlKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSXMgb2JqZWN0IGRpc3Bvc2VkP1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNZXRob2QgdGhhdCBkaXNwb3NlcyB0aGUgb2JqZWN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZSA9IGRpc3Bvc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaXMgZGlzcG9zZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBEaXNwb3NlZD9cclxuICAgICAqL1xyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIHRoZSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNwb3NlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgY2FuIGJlIGV4dGVuZGVkIGJ5IG90aGVyIGNsYXNzZXMgdG8gYWRkIGEgYF9kaXNwb3NlcnNgIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXJyYXlEaXNwb3NlciBleHRlbmRzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9kaXNwb3NlcnMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIHguZGlzcG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2YgcmVsYXRlZCBkaXNwb3NlcnMgdGhhdCBjYW4gYmUgZGlzcG9zZWQgaW4gb25lIGdvLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTXVsdGlEaXNwb3NlciBleHRlbmRzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoZGlzcG9zZXJzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VycyA9IGRpc3Bvc2VycztcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2Rpc3Bvc2VycywgKHgpID0+IHtcclxuICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXQgZGlzcG9zZXJzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlcnM7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgc3BlY2lhbCBraW5kIG9mIERpc3Bvc2VyIHRoYXQgaGFzIGF0dGFjaGVkIHZhbHVlIHNldC5cclxuICpcclxuICogSWYgYSBuZXcgdmFsdWUgaXMgc2V0IHVzaW5nIGBzZXQoKWAgbWV0aG9kLCB0aGUgb2xkIGRpc3Bvc2VyIHZhbHVlIGlzXHJcbiAqIGRpc3Bvc2VkLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEB0b2RvIERlc2NyaXB0aW9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTXV0YWJsZVZhbHVlRGlzcG9zZXIgZXh0ZW5kcyBEaXNwb3NlckNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBkaXNwb3Nlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCB2YWx1ZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdmFsdWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBjdXJyZW50IHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gVmFsdWVcclxuICAgICAqL1xyXG4gICAgZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB2YWx1ZSBhbmQgZGlzcG9zZXMgcHJldmlvdXMgZGlzcG9zZXIgaWYgaXQgd2FzIHNldC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgIE5ldyB2YWx1ZVxyXG4gICAgICogQHBhcmFtIGRpc3Bvc2VyICBEaXNwb3NlclxyXG4gICAgICovXHJcbiAgICBzZXQodmFsdWUsIGRpc3Bvc2VyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IGRpc3Bvc2VyO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgZGlzcG9zZXIgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0KHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvdW50ZXJEaXNwb3NlciBleHRlbmRzIERpc3Bvc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogW19jb3VudGVyIGRlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHRvZG8gRGVzY3JpcHRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY291bnRlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFtpbmNyZW1lbnQgZGVzY3JpcHRpb25dXHJcbiAgICAgKlxyXG4gICAgICogQHRvZG8gRGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgaW5jcmVtZW50KCkge1xyXG4gICAgICAgIC8vIFRPRE8gdGhyb3cgYW4gZXJyb3IgaWYgaXQgaXMgZGlzcG9zZWRcclxuICAgICAgICArK3RoaXMuX2NvdW50ZXI7XHJcbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnRcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgLS10aGlzLl9jb3VudGVyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY291bnRlciA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwb3Nlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   line: () => (/* binding */ line),\n/* harmony export */   moveTo: () => (/* binding */ moveTo),\n/* harmony export */   segmentedLine: () => (/* binding */ segmentedLine),\n/* harmony export */   smoothedLine: () => (/* binding */ smoothedLine),\n/* harmony export */   smoothedSegmentedline: () => (/* binding */ smoothedSegmentedline)\n/* harmony export */ });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/** @ignore */ /** */\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction segmentedLine(display, segments) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    line(display, groups[g]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction line(display, points) {\r\n    for (let p = 0, len = points.length; p < len; p++) {\r\n        const point = points[p];\r\n        display.lineTo(point.x, point.y);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction moveTo(display, point) {\r\n    display.moveTo(point.x, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction clear(display) {\r\n    display.clear();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction smoothedSegmentedline(display, segments, tensionX, tensionY) {\r\n    for (let s = 0, len = segments.length; s < len; s++) {\r\n        const groups = segments[s];\r\n        if (groups.length > 0) {\r\n            let firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                let firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (let g = 0, len = groups.length; g < len; g++) {\r\n                    const points = groups[g];\r\n                    if (points.length > 0) {\r\n                        display.lineTo(points[0].x, points[0].y);\r\n                    }\r\n                    smoothedLine(display, points, tensionX, tensionY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction smoothedLine(display, points, tensionX, tensionY) {\r\n    for (let i = points.length - 1; i > 0; i--) {\r\n        let p0 = points[i];\r\n        let p1 = points[i - 1];\r\n        if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n            points.splice(i - 1, 1);\r\n        }\r\n    }\r\n    if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n        line(display, points);\r\n        return;\r\n    }\r\n    tensionX = 1 - tensionX + 0.00001;\r\n    tensionY = 1 - tensionY + 0.00001;\r\n    let first = points[0];\r\n    let last = points[points.length - 1];\r\n    let closed = false;\r\n    if (_Math__WEBPACK_IMPORTED_MODULE_0__.round(first.x, 3) == _Math__WEBPACK_IMPORTED_MODULE_0__.round(last.x) && _Math__WEBPACK_IMPORTED_MODULE_0__.round(first.y) == _Math__WEBPACK_IMPORTED_MODULE_0__.round(last.y)) {\r\n        closed = true;\r\n    }\r\n    // Can't moveTo here, as it wont be possible to have fill then.\r\n    let path = \"\";\r\n    for (let i = 0, len = points.length - 1; i < len; i++) {\r\n        let p0 = points[i - 1];\r\n        let p1 = points[i];\r\n        let p2 = points[i + 1];\r\n        let p3 = points[i + 2];\r\n        if (i === 0) {\r\n            if (closed) {\r\n                p0 = points[len - 2];\r\n            }\r\n            else {\r\n                p0 = points[0];\r\n            }\r\n        }\r\n        else if (i == len - 1) {\r\n            if (closed) {\r\n                p3 = points[1];\r\n            }\r\n            else {\r\n                p3 = p2;\r\n            }\r\n        }\r\n        let controlPointA = _Math__WEBPACK_IMPORTED_MODULE_0__.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\r\n        let controlPointB = _Math__WEBPACK_IMPORTED_MODULE_0__.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\r\n        display.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Draw.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0RyYXcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ2dDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFNBQVM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFNBQVM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVcsZ0JBQWdCLHdDQUFXLFlBQVksd0NBQVcsYUFBYSx3Q0FBVztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0RBQTJCO0FBQ3ZELDRCQUE0Qix3REFBMkI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0RyYXcuanM/ODYzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGlnbm9yZSAqLyAvKiogKi9cclxuaW1wb3J0ICogYXMgJG1hdGggZnJvbSBcIi4vTWF0aFwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlZ21lbnRlZExpbmUoZGlzcGxheSwgc2VnbWVudHMpIHtcclxuICAgIGZvciAobGV0IHMgPSAwLCBsZW4gPSBzZWdtZW50cy5sZW5ndGg7IHMgPCBsZW47IHMrKykge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHNlZ21lbnRzW3NdO1xyXG4gICAgICAgIGlmIChncm91cHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgZmlyc3RHcm91cCA9IGdyb3Vwc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0R3JvdXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0UG9pbnQgPSBmaXJzdEdyb3VwWzBdO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZyA9IDAsIGxlbiA9IGdyb3Vwcy5sZW5ndGg7IGcgPCBsZW47IGcrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUoZGlzcGxheSwgZ3JvdXBzW2ddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGxpbmUoZGlzcGxheSwgcG9pbnRzKSB7XHJcbiAgICBmb3IgKGxldCBwID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgcCA8IGxlbjsgcCsrKSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbcF07XHJcbiAgICAgICAgZGlzcGxheS5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3ZlVG8oZGlzcGxheSwgcG9pbnQpIHtcclxuICAgIGRpc3BsYXkubW92ZVRvKHBvaW50LngsIHBvaW50LnkpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoZGlzcGxheSkge1xyXG4gICAgZGlzcGxheS5jbGVhcigpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoZWRTZWdtZW50ZWRsaW5lKGRpc3BsYXksIHNlZ21lbnRzLCB0ZW5zaW9uWCwgdGVuc2lvblkpIHtcclxuICAgIGZvciAobGV0IHMgPSAwLCBsZW4gPSBzZWdtZW50cy5sZW5ndGg7IHMgPCBsZW47IHMrKykge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHNlZ21lbnRzW3NdO1xyXG4gICAgICAgIGlmIChncm91cHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgZmlyc3RHcm91cCA9IGdyb3Vwc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0R3JvdXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0UG9pbnQgPSBmaXJzdEdyb3VwWzBdO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZyA9IDAsIGxlbiA9IGdyb3Vwcy5sZW5ndGg7IGcgPCBsZW47IGcrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGdyb3Vwc1tnXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8ocG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc21vb3RoZWRMaW5lKGRpc3BsYXksIHBvaW50cywgdGVuc2lvblgsIHRlbnNpb25ZKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aGVkTGluZShkaXNwbGF5LCBwb2ludHMsIHRlbnNpb25YLCB0ZW5zaW9uWSkge1xyXG4gICAgZm9yIChsZXQgaSA9IHBvaW50cy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgbGV0IHAwID0gcG9pbnRzW2ldO1xyXG4gICAgICAgIGxldCBwMSA9IHBvaW50c1tpIC0gMV07XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHAwLnggLSBwMS54KSA8IDAuMSAmJiBNYXRoLmFicyhwMC55IC0gcDEueSkgPCAwLjEpIHtcclxuICAgICAgICAgICAgcG9pbnRzLnNwbGljZShpIC0gMSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPCAzIHx8ICh0ZW5zaW9uWCA+PSAxICYmIHRlbnNpb25ZID49IDEpKSB7XHJcbiAgICAgICAgbGluZShkaXNwbGF5LCBwb2ludHMpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRlbnNpb25YID0gMSAtIHRlbnNpb25YICsgMC4wMDAwMTtcclxuICAgIHRlbnNpb25ZID0gMSAtIHRlbnNpb25ZICsgMC4wMDAwMTtcclxuICAgIGxldCBmaXJzdCA9IHBvaW50c1swXTtcclxuICAgIGxldCBsYXN0ID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcclxuICAgIGxldCBjbG9zZWQgPSBmYWxzZTtcclxuICAgIGlmICgkbWF0aC5yb3VuZChmaXJzdC54LCAzKSA9PSAkbWF0aC5yb3VuZChsYXN0LngpICYmICRtYXRoLnJvdW5kKGZpcnN0LnkpID09ICRtYXRoLnJvdW5kKGxhc3QueSkpIHtcclxuICAgICAgICBjbG9zZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gQ2FuJ3QgbW92ZVRvIGhlcmUsIGFzIGl0IHdvbnQgYmUgcG9zc2libGUgdG8gaGF2ZSBmaWxsIHRoZW4uXHJcbiAgICBsZXQgcGF0aCA9IFwiXCI7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aCAtIDE7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGxldCBwMCA9IHBvaW50c1tpIC0gMV07XHJcbiAgICAgICAgbGV0IHAxID0gcG9pbnRzW2ldO1xyXG4gICAgICAgIGxldCBwMiA9IHBvaW50c1tpICsgMV07XHJcbiAgICAgICAgbGV0IHAzID0gcG9pbnRzW2kgKyAyXTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAoY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBwMCA9IHBvaW50c1tsZW4gLSAyXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHAwID0gcG9pbnRzWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGkgPT0gbGVuIC0gMSkge1xyXG4gICAgICAgICAgICBpZiAoY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBwMyA9IHBvaW50c1sxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHAzID0gcDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvbnRyb2xQb2ludEEgPSAkbWF0aC5nZXRDdWJpY0NvbnRyb2xQb2ludEEocDAsIHAxLCBwMiwgdGVuc2lvblgsIHRlbnNpb25ZKTtcclxuICAgICAgICBsZXQgY29udHJvbFBvaW50QiA9ICRtYXRoLmdldEN1YmljQ29udHJvbFBvaW50QihwMSwgcDIsIHAzLCB0ZW5zaW9uWCwgdGVuc2lvblkpO1xyXG4gICAgICAgIGRpc3BsYXkuYmV6aWVyQ3VydmVUbyhjb250cm9sUG9pbnRBLngsIGNvbnRyb2xQb2ludEEueSwgY29udHJvbFBvaW50Qi54LCBjb250cm9sUG9pbnRCLnksIHAyLngsIHAyLnkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhdGg7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhdy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DurationFormatter: () => (/* binding */ DurationFormatter)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A class used to format numberic values as time duration.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-durations/} for more info\r\n */\r\nclass DurationFormatter extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        Object.defineProperty(this, \"_unitAliases\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                \"Y\": \"y\",\r\n                \"D\": \"d\",\r\n                \"H\": \"h\",\r\n                \"K\": \"h\",\r\n                \"k\": \"h\",\r\n                \"n\": \"S\"\r\n            }\r\n        });\r\n    }\r\n    _setDefaults() {\r\n        const dmillisecond = \"_duration_millisecond\";\r\n        const dsecond = \"_duration_second\";\r\n        const dminute = \"_duration_minute\";\r\n        const dhour = \"_duration_hour\";\r\n        const dday = \"_duration_day\";\r\n        const dweek = \"_duration_week\";\r\n        const dmonth = \"_duration_month\";\r\n        const dyear = \"_duration_year\";\r\n        const asecond = \"_second\";\r\n        const aminute = \"_minute\";\r\n        const ahour = \"_hour\";\r\n        const aday = \"_day\";\r\n        const aweek = \"_week\";\r\n        const amonth = \"_week\";\r\n        const ayear = \"_year\";\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"baseUnit\", \"second\");\r\n        this._setDefault(\"durationFormats\", {\r\n            \"millisecond\": {\r\n                \"millisecond\": this._t(dmillisecond),\r\n                \"second\": this._t((dmillisecond + asecond)),\r\n                \"minute\": this._t((dmillisecond + aminute)),\r\n                \"hour\": this._t((dmillisecond + ahour)),\r\n                \"day\": this._t((dmillisecond + aday)),\r\n                \"week\": this._t((dmillisecond + aweek)),\r\n                \"month\": this._t((dmillisecond + amonth)),\r\n                \"year\": this._t((dmillisecond + ayear))\r\n            },\r\n            \"second\": {\r\n                \"second\": this._t((dsecond)),\r\n                \"minute\": this._t((dsecond + aminute)),\r\n                \"hour\": this._t((dsecond + ahour)),\r\n                \"day\": this._t((dsecond + aday)),\r\n                \"week\": this._t((dsecond + aweek)),\r\n                \"month\": this._t((dsecond + amonth)),\r\n                \"year\": this._t((dsecond + ayear))\r\n            },\r\n            \"minute\": {\r\n                \"minute\": this._t((dminute)),\r\n                \"hour\": this._t((dminute + ahour)),\r\n                \"day\": this._t((dminute + aday)),\r\n                \"week\": this._t((dminute + aweek)),\r\n                \"month\": this._t((dminute + amonth)),\r\n                \"year\": this._t((dminute + ayear))\r\n            },\r\n            \"hour\": {\r\n                \"hour\": this._t((dhour)),\r\n                \"day\": this._t((dhour + aday)),\r\n                \"week\": this._t((dhour + aweek)),\r\n                \"month\": this._t((dhour + amonth)),\r\n                \"year\": this._t((dhour + ayear))\r\n            },\r\n            \"day\": {\r\n                \"day\": this._t((dday)),\r\n                \"week\": this._t((dday + aweek)),\r\n                \"month\": this._t((dday + amonth)),\r\n                \"year\": this._t((dday + ayear))\r\n            },\r\n            \"week\": {\r\n                \"week\": this._t((dweek)),\r\n                \"month\": this._t((dweek + amonth)),\r\n                \"year\": this._t((dweek + ayear))\r\n            },\r\n            \"month\": {\r\n                \"month\": this._t((dmonth)),\r\n                \"year\": this._t((dmonth + ayear))\r\n            },\r\n            \"year\": {\r\n                \"year\": this._t(dyear)\r\n            }\r\n        });\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, base) {\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // no format passed in or empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            if (this.get(\"durationFormat\") != null) {\r\n                format = this.get(\"durationFormat\");\r\n            }\r\n            else {\r\n                format = this.getFormat(_Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(value), undefined, baseUnit);\r\n            }\r\n        }\r\n        // Clean format\r\n        format = _Utils__WEBPACK_IMPORTED_MODULE_2__.cleanFormat(format);\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format, baseUnit);\r\n        // cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // format and replace the number\r\n        let details;\r\n        if (source > this.get(\"negativeBase\")) {\r\n            details = info.positive;\r\n        }\r\n        else if (source < this.get(\"negativeBase\")) {\r\n            details = info.negative;\r\n        }\r\n        else {\r\n            details = info.zero;\r\n        }\r\n        // Format\r\n        let formatted = this.applyFormat(source, details);\r\n        // Apply color?\r\n        if (details.color !== \"\") {\r\n            formatted = \"[\" + details.color + \"]\" + formatted + \"[/]\";\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    parseFormat(format, base) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // Initialize duration parsing info\r\n        let info = {\r\n            \"positive\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"negative\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"zero\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Check for [] directives\r\n            let dirs = [];\r\n            dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n            if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                partFormat = item.source.substr(dirs[0].length);\r\n                item.color = dirs[1];\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = _TextFormatter__WEBPACK_IMPORTED_MODULE_4__.TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Duration\"?\r\n                    // if (chunk.text.toLowerCase() === \"duration\") {\r\n                    // \tchunk.text = durationFormat;\r\n                    // }\r\n                    // Check for \"a\" (absolute) modifier\r\n                    if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                        item.absolute = true;\r\n                        chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                    }\r\n                    // Find all possible parts\r\n                    let matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (let x = 0; x < matches.length; x++) {\r\n                            // Is it an alias?\r\n                            if (matches[x] == null) {\r\n                                matches[x] = this._unitAliases[matches[x]];\r\n                            }\r\n                            item.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                item.template += chunk.text;\r\n            }\r\n            // Apply style formatting\r\n            //item.template = TextFormatter.format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = !details.absolute && (value < this.get(\"negativeBase\"));\r\n        value = Math.abs(value);\r\n        // Recalculate to milliseconds\r\n        let tstamp = this.toTimeStamp(value, details.baseUnit);\r\n        // Init return value\r\n        let res = details.template;\r\n        // Iterate through duration parts\r\n        for (let i = 0, len = details.parts.length; i < len; i++) {\r\n            // Gather the part\r\n            let part = details.parts[i];\r\n            let unit = this._toTimeUnit(part.substr(0, 1));\r\n            let digits = part.length;\r\n            // Calculate current unit value\r\n            let ints = Math.floor(tstamp / this._getUnitValue(unit));\r\n            res = res.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER, _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(ints, digits, \"0\"));\r\n            // Reduce timestamp\r\n            tstamp -= ints * this._getUnitValue(unit);\r\n        }\r\n        // Reapply negative sign\r\n        if (negative) {\r\n            res = \"-\" + res;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    toTimeStamp(value, baseUnit) {\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _toTimeUnit(code) {\r\n        switch (code) {\r\n            case \"S\":\r\n                return \"millisecond\";\r\n            case \"s\":\r\n                return \"second\";\r\n            case \"m\":\r\n                return \"minute\";\r\n            case \"h\":\r\n                return \"hour\";\r\n            case \"d\":\r\n                return \"day\";\r\n            case \"w\":\r\n                return \"week\";\r\n            case \"M\":\r\n                return \"month\";\r\n            case \"y\":\r\n                return \"year\";\r\n        }\r\n        ;\r\n    }\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    getFormat(value, maxValue, baseUnit) {\r\n        // Is format override set?\r\n        if (this.get(\"durationFormat\") != null) {\r\n            return this.get(\"durationFormat\");\r\n        }\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        if (maxValue != null && value != maxValue) {\r\n            value = Math.abs(value);\r\n            maxValue = Math.abs(maxValue);\r\n            let maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][maxUnit];\r\n        }\r\n        else {\r\n            let unit = this.getValueUnit(value, baseUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][unit];\r\n        }\r\n    }\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    getValueUnit(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        // Convert to milliseconds\r\n        let currentUnit;\r\n        let ms = this.getMilliseconds(value, baseUnit);\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.eachContinue(this._getUnitValues(), (key, val) => {\r\n            if (key == baseUnit || currentUnit) {\r\n                let num = ms / val;\r\n                if (num <= 1) {\r\n                    if (!currentUnit) {\r\n                        currentUnit = key;\r\n                    }\r\n                    return false;\r\n                }\r\n                currentUnit = key;\r\n            }\r\n            return true;\r\n        });\r\n        return currentUnit;\r\n    }\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    getMilliseconds(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _getUnitValue(timeUnit) {\r\n        return this._getUnitValues()[timeUnit];\r\n    }\r\n    _getUnitValues() {\r\n        return {\r\n            \"millisecond\": 1,\r\n            \"second\": 1000,\r\n            \"minute\": 60000,\r\n            \"hour\": 3600000,\r\n            \"day\": 86400000,\r\n            \"week\": 604800000,\r\n            \"month\": 2592000000,\r\n            \"year\": 31536000000,\r\n        };\r\n    }\r\n}\r\n//# sourceMappingURL=DurationFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0R1cmF0aW9uRm9ybWF0dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrQztBQUNjO0FBQ1o7QUFDRjtBQUNGO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0ZBQWtGO0FBQzNGO0FBQ08sZ0NBQWdDLDJDQUFNO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyQ0FBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0NBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0NBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFhO0FBQ3RDLDRCQUE0QixtQkFBbUI7QUFDL0M7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSw4Q0FBaUI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsU0FBUztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOENBQWlCLEVBQUUsNkNBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0R1cmF0aW9uRm9ybWF0dGVyLmpzPzI0ODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCB7IFRleHRGb3JtYXR0ZXIgfSBmcm9tIFwiLi9UZXh0Rm9ybWF0dGVyXCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi9UeXBlXCI7XHJcbi8qKlxyXG4gKiBBIGNsYXNzIHVzZWQgdG8gZm9ybWF0IG51bWJlcmljIHZhbHVlcyBhcyB0aW1lIGR1cmF0aW9uLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZHVyYXRpb25zL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIER1cmF0aW9uRm9ybWF0dGVyIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhbGlhc2VzIGZvciB1bml0cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdW5pdEFsaWFzZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICAgICAgXCJZXCI6IFwieVwiLFxyXG4gICAgICAgICAgICAgICAgXCJEXCI6IFwiZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJIXCI6IFwiaFwiLFxyXG4gICAgICAgICAgICAgICAgXCJLXCI6IFwiaFwiLFxyXG4gICAgICAgICAgICAgICAgXCJrXCI6IFwiaFwiLFxyXG4gICAgICAgICAgICAgICAgXCJuXCI6IFwiU1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9zZXREZWZhdWx0cygpIHtcclxuICAgICAgICBjb25zdCBkbWlsbGlzZWNvbmQgPSBcIl9kdXJhdGlvbl9taWxsaXNlY29uZFwiO1xyXG4gICAgICAgIGNvbnN0IGRzZWNvbmQgPSBcIl9kdXJhdGlvbl9zZWNvbmRcIjtcclxuICAgICAgICBjb25zdCBkbWludXRlID0gXCJfZHVyYXRpb25fbWludXRlXCI7XHJcbiAgICAgICAgY29uc3QgZGhvdXIgPSBcIl9kdXJhdGlvbl9ob3VyXCI7XHJcbiAgICAgICAgY29uc3QgZGRheSA9IFwiX2R1cmF0aW9uX2RheVwiO1xyXG4gICAgICAgIGNvbnN0IGR3ZWVrID0gXCJfZHVyYXRpb25fd2Vla1wiO1xyXG4gICAgICAgIGNvbnN0IGRtb250aCA9IFwiX2R1cmF0aW9uX21vbnRoXCI7XHJcbiAgICAgICAgY29uc3QgZHllYXIgPSBcIl9kdXJhdGlvbl95ZWFyXCI7XHJcbiAgICAgICAgY29uc3QgYXNlY29uZCA9IFwiX3NlY29uZFwiO1xyXG4gICAgICAgIGNvbnN0IGFtaW51dGUgPSBcIl9taW51dGVcIjtcclxuICAgICAgICBjb25zdCBhaG91ciA9IFwiX2hvdXJcIjtcclxuICAgICAgICBjb25zdCBhZGF5ID0gXCJfZGF5XCI7XHJcbiAgICAgICAgY29uc3QgYXdlZWsgPSBcIl93ZWVrXCI7XHJcbiAgICAgICAgY29uc3QgYW1vbnRoID0gXCJfd2Vla1wiO1xyXG4gICAgICAgIGNvbnN0IGF5ZWFyID0gXCJfeWVhclwiO1xyXG4gICAgICAgIC8vIERlZmF1bHRzXHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdChcIm5lZ2F0aXZlQmFzZVwiLCAwKTtcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwiYmFzZVVuaXRcIiwgXCJzZWNvbmRcIik7XHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdChcImR1cmF0aW9uRm9ybWF0c1wiLCB7XHJcbiAgICAgICAgICAgIFwibWlsbGlzZWNvbmRcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJtaWxsaXNlY29uZFwiOiB0aGlzLl90KGRtaWxsaXNlY29uZCksXHJcbiAgICAgICAgICAgICAgICBcInNlY29uZFwiOiB0aGlzLl90KChkbWlsbGlzZWNvbmQgKyBhc2Vjb25kKSksXHJcbiAgICAgICAgICAgICAgICBcIm1pbnV0ZVwiOiB0aGlzLl90KChkbWlsbGlzZWNvbmQgKyBhbWludXRlKSksXHJcbiAgICAgICAgICAgICAgICBcImhvdXJcIjogdGhpcy5fdCgoZG1pbGxpc2Vjb25kICsgYWhvdXIpKSxcclxuICAgICAgICAgICAgICAgIFwiZGF5XCI6IHRoaXMuX3QoKGRtaWxsaXNlY29uZCArIGFkYXkpKSxcclxuICAgICAgICAgICAgICAgIFwid2Vla1wiOiB0aGlzLl90KChkbWlsbGlzZWNvbmQgKyBhd2VlaykpLFxyXG4gICAgICAgICAgICAgICAgXCJtb250aFwiOiB0aGlzLl90KChkbWlsbGlzZWNvbmQgKyBhbW9udGgpKSxcclxuICAgICAgICAgICAgICAgIFwieWVhclwiOiB0aGlzLl90KChkbWlsbGlzZWNvbmQgKyBheWVhcikpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwic2Vjb25kXCI6IHtcclxuICAgICAgICAgICAgICAgIFwic2Vjb25kXCI6IHRoaXMuX3QoKGRzZWNvbmQpKSxcclxuICAgICAgICAgICAgICAgIFwibWludXRlXCI6IHRoaXMuX3QoKGRzZWNvbmQgKyBhbWludXRlKSksXHJcbiAgICAgICAgICAgICAgICBcImhvdXJcIjogdGhpcy5fdCgoZHNlY29uZCArIGFob3VyKSksXHJcbiAgICAgICAgICAgICAgICBcImRheVwiOiB0aGlzLl90KChkc2Vjb25kICsgYWRheSkpLFxyXG4gICAgICAgICAgICAgICAgXCJ3ZWVrXCI6IHRoaXMuX3QoKGRzZWNvbmQgKyBhd2VlaykpLFxyXG4gICAgICAgICAgICAgICAgXCJtb250aFwiOiB0aGlzLl90KChkc2Vjb25kICsgYW1vbnRoKSksXHJcbiAgICAgICAgICAgICAgICBcInllYXJcIjogdGhpcy5fdCgoZHNlY29uZCArIGF5ZWFyKSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtaW51dGVcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJtaW51dGVcIjogdGhpcy5fdCgoZG1pbnV0ZSkpLFxyXG4gICAgICAgICAgICAgICAgXCJob3VyXCI6IHRoaXMuX3QoKGRtaW51dGUgKyBhaG91cikpLFxyXG4gICAgICAgICAgICAgICAgXCJkYXlcIjogdGhpcy5fdCgoZG1pbnV0ZSArIGFkYXkpKSxcclxuICAgICAgICAgICAgICAgIFwid2Vla1wiOiB0aGlzLl90KChkbWludXRlICsgYXdlZWspKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZG1pbnV0ZSArIGFtb250aCkpLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCI6IHRoaXMuX3QoKGRtaW51dGUgKyBheWVhcikpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiaG91clwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImhvdXJcIjogdGhpcy5fdCgoZGhvdXIpKSxcclxuICAgICAgICAgICAgICAgIFwiZGF5XCI6IHRoaXMuX3QoKGRob3VyICsgYWRheSkpLFxyXG4gICAgICAgICAgICAgICAgXCJ3ZWVrXCI6IHRoaXMuX3QoKGRob3VyICsgYXdlZWspKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZGhvdXIgKyBhbW9udGgpKSxcclxuICAgICAgICAgICAgICAgIFwieWVhclwiOiB0aGlzLl90KChkaG91ciArIGF5ZWFyKSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJkYXlcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJkYXlcIjogdGhpcy5fdCgoZGRheSkpLFxyXG4gICAgICAgICAgICAgICAgXCJ3ZWVrXCI6IHRoaXMuX3QoKGRkYXkgKyBhd2VlaykpLFxyXG4gICAgICAgICAgICAgICAgXCJtb250aFwiOiB0aGlzLl90KChkZGF5ICsgYW1vbnRoKSksXHJcbiAgICAgICAgICAgICAgICBcInllYXJcIjogdGhpcy5fdCgoZGRheSArIGF5ZWFyKSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJ3ZWVrXCI6IHtcclxuICAgICAgICAgICAgICAgIFwid2Vla1wiOiB0aGlzLl90KChkd2VlaykpLFxyXG4gICAgICAgICAgICAgICAgXCJtb250aFwiOiB0aGlzLl90KChkd2VlayArIGFtb250aCkpLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCI6IHRoaXMuX3QoKGR3ZWVrICsgYXllYXIpKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm1vbnRoXCI6IHtcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZG1vbnRoKSksXHJcbiAgICAgICAgICAgICAgICBcInllYXJcIjogdGhpcy5fdCgoZG1vbnRoICsgYXllYXIpKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInllYXJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCI6IHRoaXMuX3QoZHllYXIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5fc2V0RGVmYXVsdHMoKTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdHMgdGhlIG51bWJlciBhcyBkdXJhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgZXhhbXBsZSBgMTAwMGAgKGJhc2UgdW5pdCBzZWNvbmRzKSB3b3VsZCBiZSBjb252ZXJ0ZWQgdG8gYDE2OjQwYCBhcyBpblxyXG4gICAgICogMTYgbWludXRlcyBhbmQgNDAgc2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICBWYWx1ZSB0byBmb3JtYXRcclxuICAgICAqIEBwYXJhbSBmb3JtYXQgIEZvcm1hdCB0byBhcHBseVxyXG4gICAgICogQHBhcmFtIGJhc2UgICAgT3ZlcnJpZGUgYmFzZSB1bml0XHJcbiAgICAgKiBAcmV0dXJuIEZvcm1hdHRlZCBudW1iZXJcclxuICAgICAqL1xyXG4gICAgZm9ybWF0KHZhbHVlLCBmb3JtYXQsIGJhc2UpIHtcclxuICAgICAgICAvLyBubyBiYXNlIHVuaXQ/XHJcbiAgICAgICAgbGV0IGJhc2VVbml0ID0gYmFzZSB8fCB0aGlzLmdldChcImJhc2VVbml0XCIpO1xyXG4gICAgICAgIC8vIG5vIGZvcm1hdCBwYXNzZWQgaW4gb3IgZW1wdHlcclxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBmb3JtYXQgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZHVyYXRpb25Gb3JtYXRcIikgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdGhpcy5nZXQoXCJkdXJhdGlvbkZvcm1hdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHRoaXMuZ2V0Rm9ybWF0KCR0eXBlLnRvTnVtYmVyKHZhbHVlKSwgdW5kZWZpbmVkLCBiYXNlVW5pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2xlYW4gZm9ybWF0XHJcbiAgICAgICAgZm9ybWF0ID0gJHV0aWxzLmNsZWFuRm9ybWF0KGZvcm1hdCk7XHJcbiAgICAgICAgLy8gZ2V0IGZvcm1hdCBpbmZvIChpdCB3aWxsIGFsc28gZGVhbCB3aXRoIHBhcnNlciBjYWNoaW5nKVxyXG4gICAgICAgIGxldCBpbmZvID0gdGhpcy5wYXJzZUZvcm1hdChmb3JtYXQsIGJhc2VVbml0KTtcclxuICAgICAgICAvLyBjYXN0IHRvIG51bWJlciBqdXN0IGluIGNhc2VcclxuICAgICAgICAvLyBUT0RPOiBtYXliZSB1c2UgYmV0dGVyIGNhc3RpbmdcclxuICAgICAgICBsZXQgc291cmNlID0gTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICAvLyBmb3JtYXQgYW5kIHJlcGxhY2UgdGhlIG51bWJlclxyXG4gICAgICAgIGxldCBkZXRhaWxzO1xyXG4gICAgICAgIGlmIChzb3VyY2UgPiB0aGlzLmdldChcIm5lZ2F0aXZlQmFzZVwiKSkge1xyXG4gICAgICAgICAgICBkZXRhaWxzID0gaW5mby5wb3NpdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc291cmNlIDwgdGhpcy5nZXQoXCJuZWdhdGl2ZUJhc2VcIikpIHtcclxuICAgICAgICAgICAgZGV0YWlscyA9IGluZm8ubmVnYXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZXRhaWxzID0gaW5mby56ZXJvO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb3JtYXRcclxuICAgICAgICBsZXQgZm9ybWF0dGVkID0gdGhpcy5hcHBseUZvcm1hdChzb3VyY2UsIGRldGFpbHMpO1xyXG4gICAgICAgIC8vIEFwcGx5IGNvbG9yP1xyXG4gICAgICAgIGlmIChkZXRhaWxzLmNvbG9yICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZCA9IFwiW1wiICsgZGV0YWlscy5jb2xvciArIFwiXVwiICsgZm9ybWF0dGVkICsgXCJbL11cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIHN1cHBsaWVkIGZvcm1hdCBpbnRvIHN0cnVjdHVyZWQgb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIGZvcm1hdFxyXG4gICAgICogdGhlIG51bWJlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0ICBGb3JtYXQgc3RyaW5nLCBpLmUuIFwiIywjIyMuMDBcIlxyXG4gICAgICogQHBhcmFtIGJhc2UgICAgT3ZlcnJpZGUgYmFzZSB1bml0XHJcbiAgICAgKiBAcmV0dXJuIFBhcnNlZCBpbmZvcm1hdGlvblxyXG4gICAgICovXHJcbiAgICBwYXJzZUZvcm1hdChmb3JtYXQsIGJhc2UpIHtcclxuICAgICAgICAvLyBDaGVjayBjYWNoZVxyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICAvLyBsZXQgY2FjaGVkID0gdGhpcy5nZXRDYWNoZShmb3JtYXQpO1xyXG4gICAgICAgIC8vIGlmIChjYWNoZWQgIT0gbnVsbCkge1xyXG4gICAgICAgIC8vIFx0cmV0dXJuIGNhY2hlZDtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gbm8gYmFzZSB1bml0P1xyXG4gICAgICAgIGxldCBiYXNlVW5pdCA9IGJhc2UgfHwgdGhpcy5nZXQoXCJiYXNlVW5pdFwiKTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIGR1cmF0aW9uIHBhcnNpbmcgaW5mb1xyXG4gICAgICAgIGxldCBpbmZvID0ge1xyXG4gICAgICAgICAgICBcInBvc2l0aXZlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwicGFydHNcIjogW10sXHJcbiAgICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJiYXNlVW5pdFwiOiBiYXNlVW5pdCxcclxuICAgICAgICAgICAgICAgIFwicGFyc2VkXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgXCJhYnNvbHV0ZVwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm5lZ2F0aXZlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwicGFydHNcIjogW10sXHJcbiAgICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJiYXNlVW5pdFwiOiBiYXNlVW5pdCxcclxuICAgICAgICAgICAgICAgIFwicGFyc2VkXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgXCJhYnNvbHV0ZVwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInplcm9cIjoge1xyXG4gICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJwYXJ0c1wiOiBbXSxcclxuICAgICAgICAgICAgICAgIFwic291cmNlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcImJhc2VVbml0XCI6IGJhc2VVbml0LFxyXG4gICAgICAgICAgICAgICAgXCJwYXJzZWRcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBcImFic29sdXRlXCI6IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEVzY2FwZSBkb3VibGUgdmVydGljYWwgYmFycyAodGhhdCBtZWFuIGRpc3BsYXkgb25lIHZlcnRpY2FsIGJhcilcclxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShcInx8XCIsICR0eXBlLlBMQUNFSE9MREVSMik7XHJcbiAgICAgICAgLy8gU3BsaXQgaXQgdXAgYW5kIGRlYWwgd2l0aCBkaWZmZXJlbnQgZm9ybWF0c1xyXG4gICAgICAgIGxldCBwYXJ0cyA9IGZvcm1hdC5zcGxpdChcInxcIik7XHJcbiAgICAgICAgaW5mby5wb3NpdGl2ZS5zb3VyY2UgPSBwYXJ0c1swXTtcclxuICAgICAgICBpZiAodHlwZW9mIHBhcnRzWzJdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIGluZm8uemVybyA9IGluZm8ucG9zaXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbmZvLnplcm8uc291cmNlID0gcGFydHNbMl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcGFydHNbMV0gPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgaW5mby5uZWdhdGl2ZSA9IGluZm8ucG9zaXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbmZvLm5lZ2F0aXZlLnNvdXJjZSA9IHBhcnRzWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQYXJzZSBlYWNoXHJcbiAgICAgICAgJG9iamVjdC5lYWNoKGluZm8sIChfcGFydCwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBBbHJlYWR5IHBhcnNlZFxyXG4gICAgICAgICAgICBpZiAoaXRlbS5wYXJzZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBjYWNoZWRcclxuICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAvLyBpZiAodHlwZW9mIHRoaXMuZ2V0Q2FjaGUoaXRlbS5zb3VyY2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIC8vIFx0aW5mb1twYXJ0XSA9IHRoaXMuZ2V0Q2FjaGUoaXRlbS5zb3VyY2UpO1xyXG4gICAgICAgICAgICAvLyBcdHJldHVybjtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBCZWdpbiBwYXJzaW5nXHJcbiAgICAgICAgICAgIGxldCBwYXJ0Rm9ybWF0ID0gaXRlbS5zb3VyY2U7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBbXSBkaXJlY3RpdmVzXHJcbiAgICAgICAgICAgIGxldCBkaXJzID0gW107XHJcbiAgICAgICAgICAgIGRpcnMgPSBpdGVtLnNvdXJjZS5tYXRjaCgvXlxcWyhbXlxcXV0qKVxcXS8pO1xyXG4gICAgICAgICAgICBpZiAoZGlycyAmJiBkaXJzLmxlbmd0aCAmJiBkaXJzWzBdICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0Rm9ybWF0ID0gaXRlbS5zb3VyY2Uuc3Vic3RyKGRpcnNbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY29sb3IgPSBkaXJzWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIExldCBUZXh0Rm9ybWF0dGVyIHNwbGl0IGludG8gY2h1bmtzXHJcbiAgICAgICAgICAgIGxldCBjaHVua3MgPSBUZXh0Rm9ybWF0dGVyLmNodW5rKHBhcnRGb3JtYXQsIHRydWUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gY2h1bmtzW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBiYWNrIGRvdWJsZSB2ZXJ0aWNhbCBiYXJcclxuICAgICAgICAgICAgICAgIGNodW5rLnRleHQgPSBjaHVuay50ZXh0LnJlcGxhY2UoJHR5cGUuUExBQ0VIT0xERVIyLCBcInxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gXCJ2YWx1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSnVzdCBcIkR1cmF0aW9uXCI/XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGNodW5rLnRleHQudG9Mb3dlckNhc2UoKSA9PT0gXCJkdXJhdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHRjaHVuay50ZXh0ID0gZHVyYXRpb25Gb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBcImFcIiAoYWJzb2x1dGUpIG1vZGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnRleHQubWF0Y2goL1t5WU1kRHdoSEtrbXNTbl0rYS8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWJzb2x1dGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVuay50ZXh0ID0gY2h1bmsudGV4dC5yZXBsYWNlKC8oW3lZTWREd2hIS2ttc1NuXSspYS8sIFwiJDFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHBvc3NpYmxlIHBhcnRzXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBjaHVuay50ZXh0Lm1hdGNoKC95K3xZK3xNK3xkK3xEK3x3K3xoK3xIK3xLK3xrK3xtK3xzK3xTK3xuKy9nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQb3B1bGF0ZSB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG1hdGNoZXMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElzIGl0IGFuIGFsaWFzP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXNbeF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXNbeF0gPSB0aGlzLl91bml0QWxpYXNlc1ttYXRjaGVzW3hdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucGFydHMucHVzaChtYXRjaGVzW3hdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnRleHQgPSBjaHVuay50ZXh0LnJlcGxhY2UobWF0Y2hlc1t4XSwgJHR5cGUuUExBQ0VIT0xERVIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdG8gdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgIGl0ZW0udGVtcGxhdGUgKz0gY2h1bmsudGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBcHBseSBzdHlsZSBmb3JtYXR0aW5nXHJcbiAgICAgICAgICAgIC8vaXRlbS50ZW1wbGF0ZSA9IFRleHRGb3JtYXR0ZXIuZm9ybWF0KGl0ZW0udGVtcGxhdGUsIHRoaXMub3V0cHV0Rm9ybWF0KTtcclxuICAgICAgICAgICAgLy8gU2F2ZSBjYWNoZVxyXG4gICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIC8vdGhpcy5zZXRDYWNoZShpdGVtLnNvdXJjZSwgaXRlbSk7XHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBhcyBwYXJzZWRcclxuICAgICAgICAgICAgaXRlbS5wYXJzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNhdmUgY2FjaGUgKHRoZSB3aG9sZSB0aGluZylcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy90aGlzLnNldENhY2hlKGZvcm1hdCwgaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGluZm87XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgcGFyc2VkIGZvcm1hdCB0byBhIG51bWVyaWMgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgIFZhbHVlXHJcbiAgICAgKiBAcGFyYW0gZGV0YWlscyAgUGFyc2VkIGZvcm1hdCBhcyByZXR1cm5lZCBieSB7cGFyc2VGb3JtYXR9XHJcbiAgICAgKiBAcmV0dXJuIEZvcm1hdHRlZCBkdXJhdGlvblxyXG4gICAgICovXHJcbiAgICBhcHBseUZvcm1hdCh2YWx1ZSwgZGV0YWlscykge1xyXG4gICAgICAgIC8vIFVzZSBhYnNvbHV0ZSB2YWx1ZXNcclxuICAgICAgICBsZXQgbmVnYXRpdmUgPSAhZGV0YWlscy5hYnNvbHV0ZSAmJiAodmFsdWUgPCB0aGlzLmdldChcIm5lZ2F0aXZlQmFzZVwiKSk7XHJcbiAgICAgICAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgdG8gbWlsbGlzZWNvbmRzXHJcbiAgICAgICAgbGV0IHRzdGFtcCA9IHRoaXMudG9UaW1lU3RhbXAodmFsdWUsIGRldGFpbHMuYmFzZVVuaXQpO1xyXG4gICAgICAgIC8vIEluaXQgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgbGV0IHJlcyA9IGRldGFpbHMudGVtcGxhdGU7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGR1cmF0aW9uIHBhcnRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRldGFpbHMucGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gR2F0aGVyIHRoZSBwYXJ0XHJcbiAgICAgICAgICAgIGxldCBwYXJ0ID0gZGV0YWlscy5wYXJ0c1tpXTtcclxuICAgICAgICAgICAgbGV0IHVuaXQgPSB0aGlzLl90b1RpbWVVbml0KHBhcnQuc3Vic3RyKDAsIDEpKTtcclxuICAgICAgICAgICAgbGV0IGRpZ2l0cyA9IHBhcnQubGVuZ3RoO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY3VycmVudCB1bml0IHZhbHVlXHJcbiAgICAgICAgICAgIGxldCBpbnRzID0gTWF0aC5mbG9vcih0c3RhbXAgLyB0aGlzLl9nZXRVbml0VmFsdWUodW5pdCkpO1xyXG4gICAgICAgICAgICByZXMgPSByZXMucmVwbGFjZSgkdHlwZS5QTEFDRUhPTERFUiwgJHV0aWxzLnBhZFN0cmluZyhpbnRzLCBkaWdpdHMsIFwiMFwiKSk7XHJcbiAgICAgICAgICAgIC8vIFJlZHVjZSB0aW1lc3RhbXBcclxuICAgICAgICAgICAgdHN0YW1wIC09IGludHMgKiB0aGlzLl9nZXRVbml0VmFsdWUodW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlYXBwbHkgbmVnYXRpdmUgc2lnblxyXG4gICAgICAgIGlmIChuZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICByZXMgPSBcIi1cIiArIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgbnVtZXJpYyB2YWx1ZSB0byB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgICAgQSBzb3VyY2UgdmFsdWVcclxuICAgICAqIEBwYXJhbSBiYXNlVW5pdCAgQmFzZSB1bml0IHRoZSBzb3VyY2UgdmFsdWUgaXMgaW46IFwicVwiLCBcInNcIiwgXCJpXCIsIFwiaFwiLCBcImRcIiwgXCJ3XCIsIFwibVwiLCBcInlcIlxyXG4gICAgICogQHJldHVybiBWYWx1ZSByZXByZXNlbnRhdGlvbiBhcyBhIHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqL1xyXG4gICAgdG9UaW1lU3RhbXAodmFsdWUsIGJhc2VVbml0KSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICogdGhpcy5fZ2V0VW5pdFZhbHVlKGJhc2VVbml0KTtcclxuICAgIH1cclxuICAgIF90b1RpbWVVbml0KGNvZGUpIHtcclxuICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlNcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIm1pbGxpc2Vjb25kXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzZWNvbmRcIjtcclxuICAgICAgICAgICAgY2FzZSBcIm1cIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIm1pbnV0ZVwiO1xyXG4gICAgICAgICAgICBjYXNlIFwiaFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaG91clwiO1xyXG4gICAgICAgICAgICBjYXNlIFwiZFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZGF5XCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ3ZWVrXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJNXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtb250aFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwieVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwieWVhclwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYXBwcm9wcmlhdGUgZGVmYXVsdCBmb3JtYXQgZm9yIHRoZSB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiBgbWF4VmFsdWVgIGlzIHNlcGNpZmllZCwgaXQgd2lsbCB1c2UgdGhhdCB2YWx1ZSB0byBkZXRlcm1pbmUgdGhlIHRpbWVcclxuICAgICAqIHVuaXQgZm9yIHRoZSBmb3JtYXQuXHJcbiAgICAgKlxyXG4gICAgICogRm9yIGV4YW1wbGUgaWYgeW91ciBgYmFzZVVuaXRgIGlzIGBcInNlY29uZFwiYCBhbmQgeW91IHBhc3MgaW4gYDEwYCwgeW91XHJcbiAgICAgKiB3aWxsIGdldCBgXCIxMFwiYC5cclxuICAgICAqXHJcbiAgICAgKiBIb3dldmVyLCB5b3UgbWlnaHQgd2FudCBpdCB0byBiZSBmb3JtYXR0ZWQgaW4gdGhlIGNvbnRleHQgb2YgYmlnZ2VyIHNjYWxlLFxyXG4gICAgICogc2F5IDEwIG1pbnV0ZXMgKDYwMCBzZWNvbmRzKS4gSWYgeW91IHBhc3MgaW4gYDYwMGAgYXMgYG1heFZhbHVlYCwgYWxsXHJcbiAgICAgKiB2YWx1ZXMsIGluY2x1ZGluZyBzbWFsbCBvbmVzIHdpbGwgdXNlIGZvcm1hdCB3aXRoIG1pbnV0ZXMsIGUuZy46XHJcbiAgICAgKiBgMDA6MTBgLCBgMDA6NTBgLCBgMTI6IDMwYCwgZXRjLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgICAgVmFsdWUgdG8gZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gbWF4VmFsdWUgIE1heGltdW0gdmFsdWUgdG8gYmUgdXNlZCB0byBkZXRlcm1pbmUgZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gYmFzZVVuaXQgIEJhc2UgdW5pdCBvZiB0aGUgdmFsdWVcclxuICAgICAqIEByZXR1cm4gRm9ybWF0XHJcbiAgICAgKi9cclxuICAgIGdldEZvcm1hdCh2YWx1ZSwgbWF4VmFsdWUsIGJhc2VVbml0KSB7XHJcbiAgICAgICAgLy8gSXMgZm9ybWF0IG92ZXJyaWRlIHNldD9cclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJkdXJhdGlvbkZvcm1hdFwiKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChcImR1cmF0aW9uRm9ybWF0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgYmFzZSB1bml0XHJcbiAgICAgICAgaWYgKCFiYXNlVW5pdCkge1xyXG4gICAgICAgICAgICBiYXNlVW5pdCA9IHRoaXMuZ2V0KFwiYmFzZVVuaXRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtYXhWYWx1ZSAhPSBudWxsICYmIHZhbHVlICE9IG1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgICAgICAgICBtYXhWYWx1ZSA9IE1hdGguYWJzKG1heFZhbHVlKTtcclxuICAgICAgICAgICAgbGV0IG1heFVuaXQgPSB0aGlzLmdldFZhbHVlVW5pdChNYXRoLm1heCh2YWx1ZSwgbWF4VmFsdWUpLCBiYXNlVW5pdCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChcImR1cmF0aW9uRm9ybWF0c1wiKVtiYXNlVW5pdF1bbWF4VW5pdF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdW5pdCA9IHRoaXMuZ2V0VmFsdWVVbml0KHZhbHVlLCBiYXNlVW5pdCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChcImR1cmF0aW9uRm9ybWF0c1wiKVtiYXNlVW5pdF1bdW5pdF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHZhbHVlJ3MgY2xvc2VzdCBkZW5vbWluYXRvciB0aW1lIHVuaXQsIGUuZyAxMDAgc2Vjb25kcyBpc1xyXG4gICAgICogYFwibWludXRlXCJgLCB3aGlsZSA1OSBzZWNvbmRzIHdvdWxkIHN0aWxsIGJlIGBzZWNvbmRgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgICAgU291cmNlIGR1cmF0aW9uIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gYmFzZVVuaXQgIEJhc2UgdW5pdFxyXG4gICAgICogQHJldHVybiBEZW5vbWluYXRvclxyXG4gICAgICovXHJcbiAgICBnZXRWYWx1ZVVuaXQodmFsdWUsIGJhc2VVbml0KSB7XHJcbiAgICAgICAgLy8gR2V0IGJhc2UgdW5pdFxyXG4gICAgICAgIGlmICghYmFzZVVuaXQpIHtcclxuICAgICAgICAgICAgYmFzZVVuaXQgPSB0aGlzLmdldChcImJhc2VVbml0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDb252ZXJ0IHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgICAgIGxldCBjdXJyZW50VW5pdDtcclxuICAgICAgICBsZXQgbXMgPSB0aGlzLmdldE1pbGxpc2Vjb25kcyh2YWx1ZSwgYmFzZVVuaXQpO1xyXG4gICAgICAgICRvYmplY3QuZWFjaENvbnRpbnVlKHRoaXMuX2dldFVuaXRWYWx1ZXMoKSwgKGtleSwgdmFsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT0gYmFzZVVuaXQgfHwgY3VycmVudFVuaXQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBudW0gPSBtcyAvIHZhbDtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFVuaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVuaXQgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRVbml0ID0ga2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjdXJyZW50VW5pdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgdmFsdWUgdG8gbWlsbGlzZWNvbmRzIGFjY29yZGluZyB0byBgYmFzZVVuaXRgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgICAgU291cmNlIGR1cmF0aW9uIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gYmFzZVVuaXQgIEJhc2UgdW5pdFxyXG4gICAgICogQHJldHVybiBWYWx1ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqL1xyXG4gICAgZ2V0TWlsbGlzZWNvbmRzKHZhbHVlLCBiYXNlVW5pdCkge1xyXG4gICAgICAgIC8vIEdldCBiYXNlIHVuaXRcclxuICAgICAgICBpZiAoIWJhc2VVbml0KSB7XHJcbiAgICAgICAgICAgIGJhc2VVbml0ID0gdGhpcy5nZXQoXCJiYXNlVW5pdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICogdGhpcy5fZ2V0VW5pdFZhbHVlKGJhc2VVbml0KTtcclxuICAgIH1cclxuICAgIF9nZXRVbml0VmFsdWUodGltZVVuaXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VW5pdFZhbHVlcygpW3RpbWVVbml0XTtcclxuICAgIH1cclxuICAgIF9nZXRVbml0VmFsdWVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFwibWlsbGlzZWNvbmRcIjogMSxcclxuICAgICAgICAgICAgXCJzZWNvbmRcIjogMTAwMCxcclxuICAgICAgICAgICAgXCJtaW51dGVcIjogNjAwMDAsXHJcbiAgICAgICAgICAgIFwiaG91clwiOiAzNjAwMDAwLFxyXG4gICAgICAgICAgICBcImRheVwiOiA4NjQwMDAwMCxcclxuICAgICAgICAgICAgXCJ3ZWVrXCI6IDYwNDgwMDAwMCxcclxuICAgICAgICAgICAgXCJtb250aFwiOiAyNTkyMDAwMDAwLFxyXG4gICAgICAgICAgICBcInllYXJcIjogMzE1MzYwMDAwMDAsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EdXJhdGlvbkZvcm1hdHRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bounce: () => (/* binding */ bounce),\n/* harmony export */   circle: () => (/* binding */ circle),\n/* harmony export */   cubic: () => (/* binding */ cubic),\n/* harmony export */   elastic: () => (/* binding */ elastic),\n/* harmony export */   exp: () => (/* binding */ exp),\n/* harmony export */   inOut: () => (/* binding */ inOut),\n/* harmony export */   linear: () => (/* binding */ linear),\n/* harmony export */   out: () => (/* binding */ out),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   quad: () => (/* binding */ quad),\n/* harmony export */   sine: () => (/* binding */ sine),\n/* harmony export */   yoyo: () => (/* binding */ yoyo)\n/* harmony export */ });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer in the documentation\r\n *\tand/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *\tcontributors may be used to endorse or promote products derived from this\r\n *\tsoftware without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n */\r\nfunction linear(t) {\r\n    return t;\r\n}\r\nfunction quad(t) {\r\n    return t * t;\r\n}\r\nfunction cubic(t) {\r\n    return t * t * t;\r\n}\r\nfunction pow(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nfunction exp(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nfunction sine(t) {\r\n    return 1 - Math.cos(t * _Math__WEBPACK_IMPORTED_MODULE_0__.HALFPI);\r\n}\r\nfunction circle(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\n/**\r\n * ============================================================================\r\n * TRANSFORMERS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n */\r\nfunction yoyo(ease) {\r\n    return function (t) {\r\n        if (t < 0.5) {\r\n            return ease(t * 2.0);\r\n        }\r\n        else {\r\n            return ease((1.0 - t) * 2.0);\r\n        }\r\n    };\r\n}\r\nfunction out(ease) {\r\n    return function (t) {\r\n        return 1.0 - ease(1.0 - t);\r\n    };\r\n}\r\nfunction inOut(ease) {\r\n    return function (t) {\r\n        if (t <= 0.5) {\r\n            return ease(t * 2.0) / 2.0;\r\n        }\r\n        else {\r\n            return 1.0 - (ease((1.0 - t) * 2.0) / 2.0);\r\n        }\r\n    };\r\n}\r\n/**\r\n * ============================================================================\r\n * BOUNCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\nlet b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\nfunction bounce(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction bounceOut(t) {\r\n    t = t;\r\n    if (t < b1) {\r\n        return b0 * t * t;\r\n    }\r\n    else if (t < b3) {\r\n        return b0 * (t -= b2) * t + b4;\r\n    }\r\n    else if (t < b6) {\r\n        return b0 * (t -= b5) * t + b7;\r\n    }\r\n    else {\r\n        return b0 * (t -= b8) * t + b9;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * ELASTIC\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore\r\n */\r\nlet tau = 2 * Math.PI;\r\n/**\r\n * @ignore\r\n */\r\nlet amplitude = 1;\r\n/**\r\n * @ignore\r\n */\r\nlet period = 0.3 / tau;\r\n/**\r\n * @ignore\r\n */\r\nlet s = Math.asin(1 / amplitude) * period;\r\nfunction elastic(t) {\r\n    let v = t;\r\n    return amplitude * Math.pow(2, 10 * --v) * Math.sin((s - v) / period);\r\n}\r\n//# sourceMappingURL=Ease.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0Vhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrQkFBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCw0QkFBNEIseUNBQVk7QUFDeEM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0Vhc2UuanM/ZTJiYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQSBjb2xsZWN0aW9uIG9mIGVhc2luZyBmdW5jdGlvbnNcclxuICpcclxuICogUGFydHMgb2YgdGhpcyBjb2xsZWN0aW9uIGFyZSB0YWtlbiBmcm9tIEQzLmpzIGxpYnJhcnkgKGh0dHBzOi8vZDNqcy5vcmcvKVxyXG4gKi9cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogSU1QT1JUU1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuL01hdGhcIjtcclxuLyoqXHJcbiAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGZyb20gRDMuanMgbGlicmFyeSAoaHR0cHM6Ly9kM2pzLm9yZy8pXHJcbiAqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQ29weXJpZ2h0IDIwMTcgTWlrZSBCb3N0b2NrXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxyXG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICpcclxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKlx0dGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICpcclxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKlx0dGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxyXG4gKlx0YW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqXHJcbiAqIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICpcdGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXNcclxuICpcdHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxyXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXHJcbiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXHJcbiAqIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkVcclxuICogTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxyXG4gKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxyXG4gKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcclxuICogSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU5cclxuICogQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHQpIHtcclxuICAgIHJldHVybiB0O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFkKHQpIHtcclxuICAgIHJldHVybiB0ICogdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3ViaWModCkge1xyXG4gICAgcmV0dXJuIHQgKiB0ICogdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcG93KHQsIGUpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh0LCBlKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZXhwKHQpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdygyLCAxMCAqIHQgLSAxMCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbmUodCkge1xyXG4gICAgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogJG1hdGguSEFMRlBJKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2lyY2xlKHQpIHtcclxuICAgIHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVFJBTlNGT1JNRVJTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24geW95byhlYXNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICBpZiAodCA8IDAuNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWFzZSh0ICogMi4wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlYXNlKCgxLjAgLSB0KSAqIDIuMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb3V0KGVhc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHJldHVybiAxLjAgLSBlYXNlKDEuMCAtIHQpO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5PdXQoZWFzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKHQgPD0gMC41KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlYXNlKHQgKiAyLjApIC8gMi4wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEuMCAtIChlYXNlKCgxLjAgLSB0KSAqIDIuMCkgLyAyLjApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQk9VTkNFXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxubGV0IGIxID0gNCAvIDExLCBiMiA9IDYgLyAxMSwgYjMgPSA4IC8gMTEsIGI0ID0gMyAvIDQsIGI1ID0gOSAvIDExLCBiNiA9IDEwIC8gMTEsIGI3ID0gMTUgLyAxNiwgYjggPSAyMSAvIDIyLCBiOSA9IDYzIC8gNjQsIGIwID0gMSAvIGIxIC8gYjE7XHJcbmV4cG9ydCBmdW5jdGlvbiBib3VuY2UodCkge1xyXG4gICAgcmV0dXJuIDEgLSBib3VuY2VPdXQoMSAtIHQpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBib3VuY2VPdXQodCkge1xyXG4gICAgdCA9IHQ7XHJcbiAgICBpZiAodCA8IGIxKSB7XHJcbiAgICAgICAgcmV0dXJuIGIwICogdCAqIHQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0IDwgYjMpIHtcclxuICAgICAgICByZXR1cm4gYjAgKiAodCAtPSBiMikgKiB0ICsgYjQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0IDwgYjYpIHtcclxuICAgICAgICByZXR1cm4gYjAgKiAodCAtPSBiNSkgKiB0ICsgYjc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYjAgKiAodCAtPSBiOCkgKiB0ICsgYjk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogRUxBU1RJQ1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5sZXQgdGF1ID0gMiAqIE1hdGguUEk7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5sZXQgYW1wbGl0dWRlID0gMTtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmxldCBwZXJpb2QgPSAwLjMgLyB0YXU7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5sZXQgcyA9IE1hdGguYXNpbigxIC8gYW1wbGl0dWRlKSAqIHBlcmlvZDtcclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWModCkge1xyXG4gICAgbGV0IHYgPSB0O1xyXG4gICAgcmV0dXJuIGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIDEwICogLS12KSAqIE1hdGguc2luKChzIC0gdikgLyBwZXJpb2QpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Adapters: () => (/* binding */ Adapters),\n/* harmony export */   Animation: () => (/* binding */ Animation),\n/* harmony export */   Entity: () => (/* binding */ Entity),\n/* harmony export */   Settings: () => (/* binding */ Settings)\n/* harmony export */ });\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _States__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./States */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js\");\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Registry */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Ease__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Order__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Allows to dynamically modify setting value of its target element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n */\r\nclass Adapters {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add a function (`callback`) that will modify value for setting `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n     */\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        this._entity._markDirtyKey(key);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            if (_Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(callbacks, callback)) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes all adapters for the specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n            if (callbacks.length !== 0) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Enables (previously disabled) adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    enable(key) {\r\n        if (this._disabled[key]) {\r\n            delete this._disabled[key];\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * Disables all adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    disable(key) {\r\n        if (!this._disabled[key]) {\r\n            this._disabled[key] = true;\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fold(key, value) {\r\n        if (!this._disabled[key]) {\r\n            const callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                for (let i = 0, len = callbacks.length; i < len; ++i) {\r\n                    value = callbacks[i](value, this._entity, key);\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\n/**\r\n * Animation object.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/} for more info\r\n */\r\nclass Animation {\r\n    constructor(animation, from, to, duration, easing, loops, startingTime) {\r\n        Object.defineProperty(this, \"_animation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_loops\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_interpolate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_oldTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_time\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_stopped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_playing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_2__.EventDispatcher()\r\n        });\r\n        this._animation = animation;\r\n        this._from = from;\r\n        this._to = to;\r\n        this._duration = duration;\r\n        this._easing = easing;\r\n        this._loops = loops;\r\n        this._interpolate = (0,_Animation__WEBPACK_IMPORTED_MODULE_3__.getInterpolate)(from, to);\r\n        this._oldTime = startingTime;\r\n    }\r\n    get to() {\r\n        return this._to;\r\n    }\r\n    get from() {\r\n        return this._from;\r\n    }\r\n    get playing() {\r\n        return this._playing;\r\n    }\r\n    get stopped() {\r\n        return this._stopped;\r\n    }\r\n    stop() {\r\n        if (!this._stopped) {\r\n            this._stopped = true;\r\n            this._playing = false;\r\n            if (this.events.isEnabled(\"stopped\")) {\r\n                this.events.dispatch(\"stopped\", {\r\n                    type: \"stopped\",\r\n                    target: this,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    pause() {\r\n        this._playing = false;\r\n        this._oldTime = null;\r\n    }\r\n    play() {\r\n        if (!this._stopped && !this._playing) {\r\n            this._playing = true;\r\n            this._animation._startAnimation();\r\n        }\r\n    }\r\n    get percentage() {\r\n        return this._time / this._duration;\r\n    }\r\n    waitForStop() {\r\n        return new Promise((resolve, _reject) => {\r\n            if (this._stopped) {\r\n                resolve();\r\n            }\r\n            else {\r\n                const listener = () => {\r\n                    stopped.dispose();\r\n                    resolve();\r\n                };\r\n                const stopped = this.events.on(\"stopped\", listener);\r\n            }\r\n        });\r\n    }\r\n    _checkEnded() {\r\n        if (this._loops > 1) {\r\n            --this._loops;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _run(currentTime) {\r\n        if (this._oldTime !== null) {\r\n            this._time += currentTime - this._oldTime;\r\n            if (this._time > this._duration) {\r\n                this._time = this._duration;\r\n            }\r\n        }\r\n        this._oldTime = currentTime;\r\n    }\r\n    _reset(currentTime) {\r\n        this._oldTime = currentTime;\r\n        this._time = 0;\r\n    }\r\n    _value(diff) {\r\n        return this._interpolate(this._easing(diff), this._from, this._to);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nlet counter = 0;\r\n/**\r\n * Base class for [[Entity]] objects that support Settings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n */\r\nclass Settings {\r\n    constructor(settings) {\r\n        /**\r\n         * Unique ID.\r\n         */\r\n        Object.defineProperty(this, \"uid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ++counter\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO move this into Entity\r\n        Object.defineProperty(this, \"_userProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._settings = settings;\r\n    }\r\n    _checkDirty() {\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._settings).forEach((key) => {\r\n            this._userProperties[key] = true;\r\n            this._markDirtyKey(key);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetUserSettings() {\r\n        this._userProperties = {};\r\n    }\r\n    _runAnimation(currentTime) {\r\n        let state = _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationState.Stopped;\r\n        if (!this.isDisposed()) {\r\n            let playing = false;\r\n            let paused = false;\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._animatingSettings, (key, animation) => {\r\n                if (animation.stopped) {\r\n                    this._stopAnimation(key);\r\n                }\r\n                else if (animation.playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.set(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            playing = true;\r\n                            animation._reset(currentTime);\r\n                            this._set(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        playing = true;\r\n                        this._set(key, animation._value(diff));\r\n                    }\r\n                }\r\n                else {\r\n                    paused = true;\r\n                }\r\n            });\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._animatingPrivateSettings, (key, animation) => {\r\n                if (animation.stopped) {\r\n                    this._stopAnimationPrivate(key);\r\n                }\r\n                else if (animation.playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.setPrivate(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            playing = true;\r\n                            animation._reset(currentTime);\r\n                            this._setPrivate(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        playing = true;\r\n                        this._setPrivate(key, animation._value(diff));\r\n                    }\r\n                }\r\n                else {\r\n                    paused = true;\r\n                }\r\n            });\r\n            if (playing) {\r\n                state = _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationState.Playing;\r\n            }\r\n            else if (paused) {\r\n                state = _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationState.Paused;\r\n            }\r\n        }\r\n        return state;\r\n    }\r\n    _markDirtyKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    _markDirtyPrivateKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of settings changes\r\n     * or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes a callback for when value of a setting changes.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @since 5.9.2\r\n     */\r\n    off(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events !== undefined && callback !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n        }\r\n        else {\r\n            delete this._settingEvents[key];\r\n        }\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of private settings\r\n     * changes or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes a callback for when value of a private setting changes.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @since 5.9.2\r\n     */\r\n    offPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events !== undefined && callback !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n        }\r\n        else {\r\n            delete this._privateSettingEvents[key];\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getRaw(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the setting exists.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key        Settings key\r\n     * @return  {boolean}  Key exists\r\n     */\r\n    has(key) {\r\n        return key in this._settings;\r\n    }\r\n    get(key, fallback) {\r\n        return this.getRaw(key, fallback);\r\n    }\r\n    _sendKeyEvent(key, value) {\r\n        const events = this._settingEvents[key];\r\n        if (events !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    _sendPrivateKeyEvent(key, value) {\r\n        const events = this._privateSettingEvents[key];\r\n        if (events !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setRaw(key, old, value) {\r\n        this._prevSettings[key] = old;\r\n        this._sendKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _set(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n            this._markDirtyKey(key);\r\n        }\r\n    }\r\n    _stopAnimation(key) {\r\n        const animation = this._animatingSettings[key];\r\n        if (animation) {\r\n            delete this._animatingSettings[key];\r\n            animation.stop();\r\n        }\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._set(key, value);\r\n        this._stopAnimation(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            this._prevSettings[key] = this._settings[key];\r\n            delete this._settings[key];\r\n            this._sendKeyEvent(key, undefined);\r\n            this._markDirtyKey(key);\r\n        }\r\n        this._stopAnimation(key);\r\n    }\r\n    /**\r\n     * Removes all keys;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     */\r\n    removeAll() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(_Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._settings), (key) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    /**\r\n     * Returns a value of a private setting.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/#Private_settings} for more info\r\n     */\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivateRaw(key, old, value) {\r\n        this._prevPrivateSettings[key] = old;\r\n        this._sendPrivateKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivate(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n    }\r\n    _stopAnimationPrivate(key) {\r\n        const animation = this._animatingPrivateSettings[key];\r\n        if (animation) {\r\n            animation.stop();\r\n            delete this._animatingPrivateSettings[key];\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._setPrivate(key, value);\r\n        this._stopAnimationPrivate(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            this._prevPrivateSettings[key] = this._privateSettings[key];\r\n            delete this._privateSettings[key];\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n        this._stopAnimationPrivate(key);\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(settings, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * Animates setting values from current/start values to new ones.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_settings} for more info\r\n     * @param   options  Animation options\r\n     * @return           Animation object\r\n     */\r\n    animate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.get(key) : options.from);\r\n        const easing = (options.easing === undefined ? _Ease__WEBPACK_IMPORTED_MODULE_5__.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.set(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.set(key, to);\r\n            }\r\n            else {\r\n                this.set(key, from);\r\n                const animation = this._animatingSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    animatePrivate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.getPrivate(key) : options.from);\r\n        const easing = (options.easing === undefined ? _Ease__WEBPACK_IMPORTED_MODULE_5__.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.setPrivate(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.setPrivate(key, to);\r\n            }\r\n            else {\r\n                this.setPrivate(key, from);\r\n                const animation = this._animatingPrivateSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    _dispose() { }\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * Base class.\r\n *\r\n * @important\r\n */\r\nclass Entity extends Settings {\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(settings);\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_user_id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        }); // for testing purposes\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _States__WEBPACK_IMPORTED_MODULE_6__.States(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Adapters(this)\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._createEvents()\r\n        });\r\n        Object.defineProperty(this, \"_userPrivateProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPrivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Templates for the themes\r\n        Object.defineProperty(this, \"_templates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Internal templates which can be overridden by the user's templates\r\n        Object.defineProperty(this, \"_internalTemplates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Default themes which can be overridden by the user's themes\r\n        Object.defineProperty(this, \"_defaultThemes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Disposers for all of the templates\r\n        Object.defineProperty(this, \"_templateDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Whether the template setup function should be run\r\n        Object.defineProperty(this, \"_runSetup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposerProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._root = root;\r\n        this._internalTemplates = templates;\r\n        if (settings.id) {\r\n            this._registerId(settings.id);\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root, settings, template) {\r\n        const x = (new this(root, settings, true));\r\n        x._template = template;\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    static _new(root, settings, templates = []) {\r\n        const x = (new this(root, settings, true, templates));\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    _afterNew() {\r\n        this._checkDirty();\r\n        let shouldApply = false;\r\n        const template = this._template;\r\n        if (template) {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        }\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._internalTemplates, (template) => {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        });\r\n        if (shouldApply) {\r\n            this._applyTemplates(false);\r\n        }\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n    }\r\n    // This is the same as _afterNew, except it also applies the themes.\r\n    // This should only be used for classes which don't have a parent (because they extend from Entity and not Sprite).\r\n    _afterNewApplyThemes() {\r\n        this._checkDirty();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._setObjectTemplate(this);\r\n        }\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._internalTemplates, (template) => {\r\n            template._setObjectTemplate(this);\r\n        });\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n        this._applyThemes();\r\n    }\r\n    _createEvents() {\r\n        return new _EventDispatcher__WEBPACK_IMPORTED_MODULE_2__.EventDispatcher();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get classNames() {\r\n        return this.constructor.classNames;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get className() {\r\n        return this.constructor.className;\r\n    }\r\n    _setDefaults() {\r\n    }\r\n    _setDefaultFn(key, f) {\r\n        const value = this.get(key);\r\n        if (value) {\r\n            return value;\r\n        }\r\n        else {\r\n            const value = f();\r\n            this.set(key, value);\r\n            return value;\r\n        }\r\n    }\r\n    _setDefault(key, value) {\r\n        if (!this.has(key)) {\r\n            super.set(key, value);\r\n        }\r\n    }\r\n    _setRawDefault(key, value) {\r\n        if (!this.has(key)) {\r\n            super.setRaw(key, value);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._dirty).forEach((key) => {\r\n            this._dirty[key] = false;\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._dirtyPrivate).forEach((key) => {\r\n            this._dirtyPrivate[key] = false;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isDirty(key) {\r\n        return !!this._dirty[key];\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isPrivateDirty(key) {\r\n        return !!this._dirtyPrivate[key];\r\n    }\r\n    _markDirtyKey(key) {\r\n        this._dirty[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        this._dirtyPrivate[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    /**\r\n     * Checks if element is of certain class (or inherits one).\r\n     *\r\n     * @param   type  Class name to check\r\n     * @return {boolean} Is of class?\r\n     */\r\n    isType(type) {\r\n        return this.classNames.indexOf(type) !== -1;\r\n    }\r\n    _pushPropertyDisposer(key, disposer) {\r\n        let disposers = this._disposerProperties[key];\r\n        if (disposers === undefined) {\r\n            disposers = this._disposerProperties[key] = [];\r\n        }\r\n        disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _disposeProperty(key) {\r\n        const disposers = this._disposerProperties[key];\r\n        if (disposers !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n            delete this._disposerProperties[key];\r\n        }\r\n    }\r\n    /**\r\n     * @todo needs description\r\n     * @param  value  Template\r\n     */\r\n    set template(value) {\r\n        const template = this._template;\r\n        if (template !== value) {\r\n            this._template = value;\r\n            if (template) {\r\n                template._removeObjectTemplate(this);\r\n            }\r\n            if (value) {\r\n                value._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    get template() {\r\n        return this._template;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this._root._addDirtyEntity(this);\r\n    }\r\n    _startAnimation() {\r\n        this._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this._root.animationTime;\r\n    }\r\n    _applyState(_name) { }\r\n    _applyStateAnimated(_name, _duration) { }\r\n    get(key, fallback) {\r\n        const value = this.adapters.fold(key, this._settings[key]);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isUserSetting(key) {\r\n        return this._userProperties[key] || false;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userProperties[key] = true;\r\n        return super.set(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._userProperties[key] = true;\r\n        super.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` only if the value for this key was not set previously using set method, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    _setSoft(key, value) {\r\n        if (!this._userProperties[key]) {\r\n            return super.set(key, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userProperties[key];\r\n        this._removeTemplateProperty(key);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        return super.setPrivate(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        super.setPrivateRaw(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        delete this._userPrivateProperties[key];\r\n        this._removeTemplatePrivateProperty(key);\r\n    }\r\n    _setTemplateProperty(template, key, value) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (template === match) {\r\n                super.set(key, value);\r\n            }\r\n        }\r\n    }\r\n    _setTemplatePrivateProperty(template, key, value) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (template === match) {\r\n                super.setPrivate(key, value);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplateProperty(key) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.set(key, match._settings[key]);\r\n            }\r\n            else {\r\n                super.remove(key);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplatePrivateProperty(key) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.setPrivate(key, match._privateSettings[key]);\r\n            }\r\n            else {\r\n                super.removePrivate(key);\r\n            }\r\n        }\r\n    }\r\n    _walkParents(f) {\r\n        f(this._root._rootContainer);\r\n        f(this);\r\n    }\r\n    // TODO faster version of this method which is specialized to just 1 key\r\n    _applyStateByKey(name) {\r\n        const other = this.states.create(name, {});\r\n        const seen = {};\r\n        this._eachTemplate((template) => {\r\n            const state = template.states.lookup(name);\r\n            if (state) {\r\n                state._apply(other, seen);\r\n            }\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(other._settings, (key) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                other.remove(key);\r\n            }\r\n        });\r\n    }\r\n    _applyTemplate(template, state) {\r\n        this._templateDisposers.push(template._apply(this, state));\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(template._settings, (key, value) => {\r\n            if (!state.settings[key] && !this._userProperties[key]) {\r\n                state.settings[key] = true;\r\n                super.set(key, value);\r\n            }\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(template._privateSettings, (key, value) => {\r\n            if (!state.privateSettings[key] && !this._userPrivateProperties[key]) {\r\n                state.privateSettings[key] = true;\r\n                super.setPrivate(key, value);\r\n            }\r\n        });\r\n        if (this._runSetup && template.setup) {\r\n            this._runSetup = false;\r\n            template.setup(this);\r\n        }\r\n    }\r\n    /**\r\n     * Calls the closure with each template and returns the first template which is true\r\n     */\r\n    _findStaticTemplate(f) {\r\n        if (this._template) {\r\n            if (f(this._template)) {\r\n                return this._template;\r\n            }\r\n        }\r\n    }\r\n    _eachTemplate(f) {\r\n        this._findStaticTemplate((template) => {\r\n            f(template);\r\n            return false;\r\n        });\r\n        // _internalTemplates is sorted with most specific to the right\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(this._internalTemplates, f);\r\n        // _templates is sorted with most specific to the left\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._templates, f);\r\n    }\r\n    _applyTemplates(remove = true) {\r\n        if (remove) {\r\n            this._disposeTemplates();\r\n        }\r\n        const state = {\r\n            settings: {},\r\n            privateSettings: {},\r\n            states: {},\r\n        };\r\n        this._eachTemplate((template) => {\r\n            this._applyTemplate(template, state);\r\n        });\r\n        if (remove) {\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._settings, (key) => {\r\n                if (!this._userProperties[key] && !state.settings[key]) {\r\n                    super.remove(key);\r\n                }\r\n            });\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._privateSettings, (key) => {\r\n                if (!this._userPrivateProperties[key] && !state.privateSettings[key]) {\r\n                    super.removePrivate(key);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _findTemplate(f) {\r\n        const value = this._findStaticTemplate(f);\r\n        if (value === undefined) {\r\n            // _internalTemplates is sorted with most specific to the right\r\n            const value = _Array__WEBPACK_IMPORTED_MODULE_1__.findReverse(this._internalTemplates, f);\r\n            if (value === undefined) {\r\n                // _templates is sorted with most specific to the left\r\n                return _Array__WEBPACK_IMPORTED_MODULE_1__.find(this._templates, f);\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    _findTemplateByKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._settings;\r\n        });\r\n    }\r\n    _findTemplateByPrivateKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._privateSettings;\r\n        });\r\n    }\r\n    _disposeTemplates() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._templateDisposers, (disposer) => {\r\n            disposer.dispose();\r\n        });\r\n        this._templateDisposers.length = 0;\r\n    }\r\n    _removeTemplates() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._templates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._templates.length = 0;\r\n    }\r\n    _applyThemes(force = false) {\r\n        let isConnected = false;\r\n        const defaults = [];\r\n        let themes = [];\r\n        const themeTags = new Set();\r\n        const tags = this.get(\"themeTagsSelf\");\r\n        if (tags) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(tags, (tag) => {\r\n                themeTags.add(tag);\r\n            });\r\n        }\r\n        this._walkParents((entity) => {\r\n            if (entity === this._root._rootContainer) {\r\n                isConnected = true;\r\n            }\r\n            if (entity._defaultThemes.length > 0) {\r\n                defaults.push(entity._defaultThemes);\r\n            }\r\n            const theme = entity.get(\"themes\");\r\n            if (theme) {\r\n                themes.push(theme);\r\n            }\r\n            const tags = entity.get(\"themeTags\");\r\n            if (tags) {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(tags, (tag) => {\r\n                    themeTags.add(tag);\r\n                });\r\n            }\r\n        });\r\n        themes = defaults.concat(themes);\r\n        this._removeTemplates();\r\n        if (isConnected || force) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(this.classNames, (name) => {\r\n                const allRules = [];\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(themes, (themes) => {\r\n                    _Array__WEBPACK_IMPORTED_MODULE_1__.each(themes, (theme) => {\r\n                        const rules = theme._lookupRules(name);\r\n                        if (rules) {\r\n                            _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(rules, (rule) => {\r\n                                const matches = rule.tags.every((tag) => {\r\n                                    return themeTags.has(tag);\r\n                                });\r\n                                if (matches) {\r\n                                    const result = _Array__WEBPACK_IMPORTED_MODULE_1__.getFirstSortedIndex(allRules, (x) => {\r\n                                        const order = _Order__WEBPACK_IMPORTED_MODULE_7__.compare(rule.tags.length, x.tags.length);\r\n                                        if (order === 0) {\r\n                                            return _Order__WEBPACK_IMPORTED_MODULE_7__.compareArray(rule.tags, x.tags, _Order__WEBPACK_IMPORTED_MODULE_7__.compare);\r\n                                        }\r\n                                        else {\r\n                                            return order;\r\n                                        }\r\n                                    });\r\n                                    allRules.splice(result.index, 0, rule);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(allRules, (rule) => {\r\n                    this._templates.push(rule.template);\r\n                    rule.template._setObjectTemplate(this);\r\n                });\r\n            });\r\n        }\r\n        this._applyTemplates();\r\n        if (isConnected || force) {\r\n            // This causes it to only run the setup function the first time that the themes are applied\r\n            this._runSetup = false;\r\n        }\r\n        return isConnected || force;\r\n    }\r\n    _changed() { }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"id\")) {\r\n            const id = this.get(\"id\");\r\n            if (id) {\r\n                this._registerId(id);\r\n            }\r\n            const prevId = this._prevSettings.id;\r\n            if (prevId) {\r\n                delete _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[prevId];\r\n            }\r\n        }\r\n    }\r\n    _registerId(id) {\r\n        if (_Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[id] && _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[id] !== this) {\r\n            throw new Error(\"An entity with id \\\"\" + id + \"\\\" already exists.\");\r\n        }\r\n        _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[id] = this;\r\n    }\r\n    _afterChanged() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._removeObjectTemplate(this);\r\n        }\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._internalTemplates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._removeTemplates();\r\n        this._disposeTemplates();\r\n        this.events.dispose();\r\n        this._disposers.forEach((x) => {\r\n            x.dispose();\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._disposerProperties, (_, disposers) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n        });\r\n        const id = this.get(\"id\");\r\n        if (id) {\r\n            delete _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[id];\r\n        }\r\n    }\r\n    /**\r\n     * Creates and returns a \"disposable\" timeout.\r\n     *\r\n     * @param   fn     Callback\r\n     * @param   delay  Delay in milliseconds\r\n     * @return         Timeout disposer\r\n     */\r\n    setTimeout(fn, delay) {\r\n        const id = setTimeout(() => {\r\n            this.removeDispose(disposer);\r\n            fn();\r\n        }, delay);\r\n        const disposer = new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            clearTimeout(id);\r\n        });\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeDispose(target) {\r\n        if (!this.isDisposed()) {\r\n            let index = _Array__WEBPACK_IMPORTED_MODULE_1__.indexOf(this._disposers, target);\r\n            if (index > -1) {\r\n                this._disposers.splice(index, 1);\r\n            }\r\n        }\r\n        target.dispose();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hasTag(tag) {\r\n        return _Array__WEBPACK_IMPORTED_MODULE_1__.indexOf(this.get(\"themeTags\", []), tag) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addTag(tag) {\r\n        if (!this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            tags.push(tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeTag(tag) {\r\n        if (this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.remove(tags, tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    _t(text, locale, ...rest) {\r\n        return this._root.language.translate(text, locale, ...rest);\r\n    }\r\n    /**\r\n     * An instance of [[Root]] object.\r\n     *\r\n     * @readonly\r\n     * @since 5.0.6\r\n     * @return Root object\r\n     */\r\n    get root() {\r\n        return this._root;\r\n    }\r\n}\r\nObject.defineProperty(Entity, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Entity\"\r\n});\r\nObject.defineProperty(Entity, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: [\"Entity\"]\r\n});\r\n//# sourceMappingURL=Entity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0VudGl0eS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ2M7QUFDUztBQUMzQjtBQUNLO0FBQ0g7QUFDSjtBQUNFO0FBQ0E7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRUFBb0U7QUFDN0U7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsb0VBQW9FO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0IsZ0JBQWdCLCtDQUFrQjtBQUNsQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsU0FBUztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkRBQTZEO0FBQ3RFO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBMkQ7QUFDcEU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5Q0FBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSx5Q0FBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx3QkFBd0Isc0RBQWM7QUFDdEM7QUFDQTtBQUNBLHdCQUF3QixzREFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwrRUFBK0U7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0IsWUFBWSwrQ0FBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwrRUFBK0U7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtFQUErRTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtFQUErRTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUEyRDtBQUN4RTtBQUNBLGlCQUFpQixVQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQTJEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQTJEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUEyRDtBQUN4RTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVyxDQUFDLHlDQUFZO0FBQ2hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0ZBQWdGO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx5Q0FBWTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQseUNBQVk7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyQ0FBTTtBQUM3QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Qsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVCxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQTJEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQTJEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEseUNBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUNBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFFBQVEsK0NBQWtCO0FBQzFCO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsK0JBQStCO0FBQy9CLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLHlDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHlDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0NBQWtCO0FBQzVDO0FBQ0E7QUFDQSx1QkFBdUIsd0NBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdDQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQWtCO0FBQzlCO0FBQ0EsZ0JBQWdCLHdDQUFXO0FBQzNCLG9CQUFvQix3Q0FBVztBQUMvQjtBQUNBO0FBQ0EsNEJBQTRCLCtDQUFrQjtBQUM5QztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsbURBQW1ELHVEQUEwQjtBQUM3RSxzREFBc0QsMkNBQWM7QUFDcEU7QUFDQSxtREFBbUQsZ0RBQW1CLG9CQUFvQiwyQ0FBYztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixnQkFBZ0Isd0NBQVc7QUFDM0I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrQ0FBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQVEscUJBQXFCLCtDQUFRO0FBQ2pEO0FBQ0E7QUFDQSxRQUFRLCtDQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLHlDQUFZO0FBQ3BCLFlBQVksd0NBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNkJBQTZCLCtDQUFRO0FBQ3JDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJDQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBDQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9FbnRpdHkuanM/MjNiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXNwb3NlciB9IGZyb20gXCIuL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBBbmltYXRpb25TdGF0ZSwgZ2V0SW50ZXJwb2xhdGUgfSBmcm9tIFwiLi9BbmltYXRpb25cIjtcclxuaW1wb3J0IHsgU3RhdGVzIH0gZnJvbSBcIi4vU3RhdGVzXCI7XHJcbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSBcIi4uL1JlZ2lzdHJ5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbmltcG9ydCAqIGFzICRlYXNlIGZyb20gXCIuL0Vhc2VcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvcmRlciBmcm9tIFwiLi9PcmRlclwiO1xyXG4vKipcclxuICogQWxsb3dzIHRvIGR5bmFtaWNhbGx5IG1vZGlmeSBzZXR0aW5nIHZhbHVlIG9mIGl0cyB0YXJnZXQgZWxlbWVudC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvYWRhcHRlcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWRhcHRlcnMge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5KSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VudGl0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2FsbGJhY2tzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc2FibGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBmdW5jdGlvbiAoYGNhbGxiYWNrYCkgdGhhdCB3aWxsIG1vZGlmeSB2YWx1ZSBmb3Igc2V0dGluZyBga2V5YC5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy9hZGFwdGVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAqL1xyXG4gICAgYWRkKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLl9lbnRpdHkuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoJGFycmF5LnJlbW92ZUZpcnN0KGNhbGxiYWNrcywgY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGFkYXB0ZXJzIGZvciB0aGUgc3BlY2lmaWMga2V5LlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSA1LjEuMFxyXG4gICAgICovXHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3Nba2V5XTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5fbWFya0RpcnR5S2V5KGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZXMgKHByZXZpb3VzbHkgZGlzYWJsZWQpIGFkYXB0ZXJzIGZvciBzcGVjaWZpYyBrZXkuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDUuMS4wXHJcbiAgICAgKi9cclxuICAgIGVuYWJsZShrZXkpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWRba2V5XSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlzYWJsZWRba2V5XTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5Ll9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGVzIGFsbCBhZGFwdGVycyBmb3Igc3BlY2lmaWMga2V5LlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSA1LjEuMFxyXG4gICAgICovXHJcbiAgICBkaXNhYmxlKGtleSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzYWJsZWRba2V5XSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlZFtrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5Ll9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZm9sZChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNhYmxlZFtrZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrc1tpXSh2YWx1ZSwgdGhpcy5fZW50aXR5LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQW5pbWF0aW9uIG9iamVjdC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvYW5pbWF0aW9ucy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoYW5pbWF0aW9uLCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgbG9vcHMsIHN0YXJ0aW5nVGltZSkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hbmltYXRpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Zyb21cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RvXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kdXJhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZWFzaW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sb29wc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW50ZXJwb2xhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29sZFRpbWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpbWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdG9wcGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BsYXlpbmdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRXZlbnREaXNwYXRjaGVyKClcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBhbmltYXRpb247XHJcbiAgICAgICAgdGhpcy5fZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy5fdG8gPSB0bztcclxuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuX2Vhc2luZyA9IGVhc2luZztcclxuICAgICAgICB0aGlzLl9sb29wcyA9IGxvb3BzO1xyXG4gICAgICAgIHRoaXMuX2ludGVycG9sYXRlID0gZ2V0SW50ZXJwb2xhdGUoZnJvbSwgdG8pO1xyXG4gICAgICAgIHRoaXMuX29sZFRpbWUgPSBzdGFydGluZ1RpbWU7XHJcbiAgICB9XHJcbiAgICBnZXQgdG8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZyb20oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zyb207XHJcbiAgICB9XHJcbiAgICBnZXQgcGxheWluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcclxuICAgIH1cclxuICAgIGdldCBzdG9wcGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9wcGVkO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0b3BwZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZChcInN0b3BwZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKFwic3RvcHBlZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdG9wcGVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fb2xkVGltZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RvcHBlZCAmJiAhdGhpcy5fcGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uLl9zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBwZXJjZW50YWdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lIC8gdGhpcy5fZHVyYXRpb247XHJcbiAgICB9XHJcbiAgICB3YWl0Rm9yU3RvcCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIF9yZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0b3BwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BwZWQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9wcGVkID0gdGhpcy5ldmVudHMub24oXCJzdG9wcGVkXCIsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrRW5kZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xvb3BzID4gMSkge1xyXG4gICAgICAgICAgICAtLXRoaXMuX2xvb3BzO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcnVuKGN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX29sZFRpbWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGltZSArPSBjdXJyZW50VGltZSAtIHRoaXMuX29sZFRpbWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lID4gdGhpcy5fZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0aGlzLl9kdXJhdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vbGRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICB9XHJcbiAgICBfcmVzZXQoY3VycmVudFRpbWUpIHtcclxuICAgICAgICB0aGlzLl9vbGRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgdGhpcy5fdGltZSA9IDA7XHJcbiAgICB9XHJcbiAgICBfdmFsdWUoZGlmZikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcnBvbGF0ZSh0aGlzLl9lYXNpbmcoZGlmZiksIHRoaXMuX2Zyb20sIHRoaXMuX3RvKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxubGV0IGNvdW50ZXIgPSAwO1xyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgW1tFbnRpdHldXSBvYmplY3RzIHRoYXQgc3VwcG9ydCBTZXR0aW5ncy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xyXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmlxdWUgSUQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidWlkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6ICsrY291bnRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJpdmF0ZVNldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldHRpbmdFdmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJpdmF0ZVNldHRpbmdFdmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJldlNldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByZXZQcml2YXRlU2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYW5pbWF0aW5nU2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgaW50byBFbnRpdHlcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXNlclByb3BlcnRpZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrRGlydHkoKSB7XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKHRoaXMuX3NldHRpbmdzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHJlc2V0VXNlclNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9wZXJ0aWVzID0ge307XHJcbiAgICB9XHJcbiAgICBfcnVuQW5pbWF0aW9uKGN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gQW5pbWF0aW9uU3RhdGUuU3RvcHBlZDtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBwbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBwYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJG9iamVjdC5lYWNoKHRoaXMuX2FuaW1hdGluZ1NldHRpbmdzLCAoa2V5LCBhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc3RvcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BBbmltYXRpb24oa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFuaW1hdGlvbi5wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLl9ydW4oY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBhbmltYXRpb24ucGVyY2VudGFnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uX2NoZWNrRW5kZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCBhbmltYXRpb24uX3ZhbHVlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLl9yZXNldChjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXQoa2V5LCBhbmltYXRpb24uX3ZhbHVlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldChrZXksIGFuaW1hdGlvbi5fdmFsdWUoZGlmZikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzLCAoa2V5LCBhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc3RvcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Qcml2YXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhbmltYXRpb24ucGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5fcnVuKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gYW5pbWF0aW9uLnBlcmNlbnRhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLl9jaGVja0VuZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShrZXksIGFuaW1hdGlvbi5fdmFsdWUoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uX3Jlc2V0KGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFByaXZhdGUoa2V5LCBhbmltYXRpb24uX3ZhbHVlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFByaXZhdGUoa2V5LCBhbmltYXRpb24uX3ZhbHVlKGRpZmYpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gQW5pbWF0aW9uU3RhdGUuUGxheWluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gQW5pbWF0aW9uU3RhdGUuUGF1c2VkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxuICAgIF9tYXJrRGlydHlLZXkoX2tleSkge1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICBfbWFya0RpcnR5UHJpdmF0ZUtleShfa2V5KSB7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHNwZWNpZmljIGtleSBvZiBzZXR0aW5ncyBjaGFuZ2VzXHJcbiAgICAgKiBvciBpcyBzZXQuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzLyNTZXR0aW5nc192YWx1ZV9jaGFuZ2V9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBTZXR0aW5ncyBrZXlcclxuICAgICAqIEBwYXJhbSAgIGNhbGxiYWNrICBDYWxsYmFja1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIERpc3Bvc2VyIGZvciBldmVudFxyXG4gICAgICovXHJcbiAgICBvbihrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50cy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2FsbGJhY2sgZm9yIHdoZW4gdmFsdWUgb2YgYSBzZXR0aW5nIGNoYW5nZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzLyNTZXR0aW5nc192YWx1ZV9jaGFuZ2V9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBQcml2YXRlIHNldHRpbmdzIGtleVxyXG4gICAgICogQHBhcmFtICAgY2FsbGJhY2sgIENhbGxiYWNrXHJcbiAgICAgKiBAc2luY2UgNS45LjJcclxuICAgICAqL1xyXG4gICAgb2ZmKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCAmJiBjYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChldmVudHMsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gaW52b2tlIHdoZW4gc3BlY2lmaWMga2V5IG9mIHByaXZhdGUgc2V0dGluZ3NcclxuICAgICAqIGNoYW5nZXMgb3IgaXMgc2V0LlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2V2ZW50cy8jU2V0dGluZ3NfdmFsdWVfY2hhbmdlfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgUHJpdmF0ZSBzZXR0aW5ncyBrZXlcclxuICAgICAqIEBwYXJhbSAgIGNhbGxiYWNrICBDYWxsYmFja1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIERpc3Bvc2VyIGZvciBldmVudFxyXG4gICAgICovXHJcbiAgICBvblByaXZhdGUoa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBldmVudHMgPSB0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBldmVudHMgPSB0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50c1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50cy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByaXZhdGVTZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIGNhbGxiYWNrIGZvciB3aGVuIHZhbHVlIG9mIGEgcHJpdmF0ZSBzZXR0aW5nIGNoYW5nZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzLyNTZXR0aW5nc192YWx1ZV9jaGFuZ2V9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBQcml2YXRlIHNldHRpbmdzIGtleVxyXG4gICAgICogQHBhcmFtICAgY2FsbGJhY2sgIENhbGxiYWNrXHJcbiAgICAgKiBAc2luY2UgNS45LjJcclxuICAgICAqL1xyXG4gICAgb2ZmUHJpdmF0ZShrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuX3ByaXZhdGVTZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkICYmIGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByaXZhdGVTZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldFJhdyhrZXksIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBzZXR0aW5nIGV4aXN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICAgU2V0dGluZ3Mga2V5XHJcbiAgICAgKiBAcmV0dXJuICB7Ym9vbGVhbn0gIEtleSBleGlzdHNcclxuICAgICAqL1xyXG4gICAgaGFzKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkgaW4gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICB9XHJcbiAgICBnZXQoa2V5LCBmYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhdyhrZXksIGZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIF9zZW5kS2V5RXZlbnQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCB0aGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2VuZFByaXZhdGVLZXlFdmVudChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCB0aGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX3NldFJhdyhrZXksIG9sZCwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9wcmV2U2V0dGluZ3Nba2V5XSA9IG9sZDtcclxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgc2V0UmF3KGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRSYXcoa2V5LCBvbGQsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX3NldChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkID0gdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0UmF3KGtleSwgb2xkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zdG9wQW5pbWF0aW9uKGtleSkge1xyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGluZ1NldHRpbmdzW2tleV07XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fYW5pbWF0aW5nU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYSBzZXR0aW5nIGB2YWx1ZWAgZm9yIHRoZSBzcGVjaWZpZWQgYGtleWAsIGFuZCByZXR1cm5zIHRoZSBzYW1lIGB2YWx1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgICBTZXR0aW5nIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldChrZXksIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9zdG9wQW5pbWF0aW9uKGtleSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgc2V0dGluZyB2YWx1ZSBmb3IgdGhlIHNwZWNpZmllZCBga2V5YDtcclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBTZXR0aW5nIGtleVxyXG4gICAgICovXHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmV2U2V0dGluZ3Nba2V5XSA9IHRoaXMuX3NldHRpbmdzW2tleV07XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5LCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RvcEFuaW1hdGlvbihrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXlzO1xyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICovXHJcbiAgICByZW1vdmVBbGwoKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2goJG9iamVjdC5rZXlzKHRoaXMuX3NldHRpbmdzKSwgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZShrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdmFsdWUgb2YgYSBwcml2YXRlIHNldHRpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvI1ByaXZhdGVfc2V0dGluZ3N9IGZvciBtb3JlIGluZm9cclxuICAgICAqL1xyXG4gICAgZ2V0UHJpdmF0ZShrZXksIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIF9zZXRQcml2YXRlUmF3KGtleSwgb2xkLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3ByZXZQcml2YXRlU2V0dGluZ3Nba2V5XSA9IG9sZDtcclxuICAgICAgICB0aGlzLl9zZW5kUHJpdmF0ZUtleUV2ZW50KGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFByaXZhdGVSYXcoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldO1xyXG4gICAgICAgIHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0UHJpdmF0ZVJhdyhrZXksIG9sZCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfc2V0UHJpdmF0ZShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdzW2tleV07XHJcbiAgICAgICAgdGhpcy5fcHJpdmF0ZVNldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRQcml2YXRlUmF3KGtleSwgb2xkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eVByaXZhdGVLZXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc3RvcEFuaW1hdGlvblByaXZhdGUoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5fYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzW2tleV07XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICBhbmltYXRpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFByaXZhdGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldFByaXZhdGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5fc3RvcEFuaW1hdGlvblByaXZhdGUoa2V5KTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlUHJpdmF0ZShrZXkpIHtcclxuICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3ByaXZhdGVTZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmV2UHJpdmF0ZVNldHRpbmdzW2tleV0gPSB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlQcml2YXRlS2V5KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Qcml2YXRlKGtleSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbXVsdGlwbGUgc2V0dGluZ3MgYXQgb25jZS5cclxuICAgICAqXHJcbiAgICAgKiBgc2V0dGluZ3NgIG11c3QgYmUgYW4gb2JqZWN0IHdpdGgga2V5OiB2YWx1ZSBwYWlycy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSBzZXR0aW5ncyBTZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBzZXRBbGwoc2V0dGluZ3MpIHtcclxuICAgICAgICAkb2JqZWN0LmVhY2goc2V0dGluZ3MsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBbmltYXRlcyBzZXR0aW5nIHZhbHVlcyBmcm9tIGN1cnJlbnQvc3RhcnQgdmFsdWVzIHRvIG5ldyBvbmVzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2FuaW1hdGlvbnMvI0FuaW1hdGluZ19zZXR0aW5nc30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgb3B0aW9ucyAgQW5pbWF0aW9uIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgIEFuaW1hdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgYW5pbWF0ZShvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gb3B0aW9ucy5rZXk7XHJcbiAgICAgICAgY29uc3QgdG8gPSBvcHRpb25zLnRvO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIGNvbnN0IGxvb3BzID0gb3B0aW9ucy5sb29wcyB8fCAxO1xyXG4gICAgICAgIGNvbnN0IGZyb20gPSAob3B0aW9ucy5mcm9tID09PSB1bmRlZmluZWQgPyB0aGlzLmdldChrZXkpIDogb3B0aW9ucy5mcm9tKTtcclxuICAgICAgICBjb25zdCBlYXNpbmcgPSAob3B0aW9ucy5lYXNpbmcgPT09IHVuZGVmaW5lZCA/ICRlYXNlLmxpbmVhciA6IG9wdGlvbnMuZWFzaW5nKTtcclxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB0byk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkIHx8IGZyb20gPT09IHRvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHRvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgZnJvbSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLl9hbmltYXRpbmdTZXR0aW5nc1trZXldID0gbmV3IEFuaW1hdGlvbih0aGlzLCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgbG9vcHMsIHRoaXMuX2FuaW1hdGlvblRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKHRoaXMsIGZyb20sIHRvLCBkdXJhdGlvbiwgZWFzaW5nLCBsb29wcywgbnVsbCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcclxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGFuaW1hdGVQcml2YXRlKG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBvcHRpb25zLmtleTtcclxuICAgICAgICBjb25zdCB0byA9IG9wdGlvbnMudG87XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIHx8IDA7XHJcbiAgICAgICAgY29uc3QgbG9vcHMgPSBvcHRpb25zLmxvb3BzIHx8IDE7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IChvcHRpb25zLmZyb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0UHJpdmF0ZShrZXkpIDogb3B0aW9ucy5mcm9tKTtcclxuICAgICAgICBjb25zdCBlYXNpbmcgPSAob3B0aW9ucy5lYXNpbmcgPT09IHVuZGVmaW5lZCA/ICRlYXNlLmxpbmVhciA6IG9wdGlvbnMuZWFzaW5nKTtcclxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKGtleSwgdG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCB8fCBmcm9tID09PSB0bykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKGtleSwgdG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKGtleSwgZnJvbSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLl9hbmltYXRpbmdQcml2YXRlU2V0dGluZ3Nba2V5XSA9IG5ldyBBbmltYXRpb24odGhpcywgZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIGxvb3BzLCB0aGlzLl9hbmltYXRpb25UaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbih0aGlzLCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgbG9vcHMsIG51bGwpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5zdG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBkaXNwb3NlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIERpc3Bvc2VkXHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyB0aGlzIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQmFzZSBjbGFzcy5cclxuICpcclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEVudGl0eSBleHRlbmRzIFNldHRpbmdzIHtcclxuICAgIC8qKlxyXG4gICAgICogSU1QT1JUQU5UISBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyB2aWEgYG5ldyBDbGFzcygpYCBzeW50YXguXHJcbiAgICAgKlxyXG4gICAgICogVXNlIHN0YXRpYyBtZXRob2QgYENsYXNzLm5ldygpYCBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2dldHRpbmctc3RhcnRlZC8jTmV3X2VsZW1lbnRfc3ludGF4fSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHJvb3QsIHNldHRpbmdzLCBpc1JlYWwsIHRlbXBsYXRlcyA9IFtdKSB7XHJcbiAgICAgICAgc3VwZXIoc2V0dGluZ3MpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb290XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91c2VyX2lkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pOyAvLyBmb3IgdGVzdGluZyBwdXJwb3Nlc1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgU3RhdGVzKHRoaXMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWRhcHRlcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IEFkYXB0ZXJzKHRoaXMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2NyZWF0ZUV2ZW50cygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VzZXJQcml2YXRlUHJvcGVydGllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXJ0eVByaXZhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVtcGxhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVGVtcGxhdGVzIGZvciB0aGUgdGhlbWVzXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RlbXBsYXRlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEludGVybmFsIHRlbXBsYXRlcyB3aGljaCBjYW4gYmUgb3ZlcnJpZGRlbiBieSB0aGUgdXNlcidzIHRlbXBsYXRlc1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pbnRlcm5hbFRlbXBsYXRlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEZWZhdWx0IHRoZW1lcyB3aGljaCBjYW4gYmUgb3ZlcnJpZGRlbiBieSB0aGUgdXNlcidzIHRoZW1lc1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kZWZhdWx0VGhlbWVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGlzcG9zZXJzIGZvciBhbGwgb2YgdGhlIHRlbXBsYXRlc1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90ZW1wbGF0ZURpc3Bvc2Vyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBXaGV0aGVyIHRoZSB0ZW1wbGF0ZSBzZXR1cCBmdW5jdGlvbiBzaG91bGQgYmUgcnVuXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3J1blNldHVwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJQcm9wZXJ0aWVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFpc1JlYWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCB1c2UgYG5ldyBDbGFzcygpYCwgaW5zdGVhZCB1c2UgYENsYXNzLm5ldygpYFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcm9vdCA9IHJvb3Q7XHJcbiAgICAgICAgdGhpcy5faW50ZXJuYWxUZW1wbGF0ZXMgPSB0ZW1wbGF0ZXM7XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVySWQoc2V0dGluZ3MuaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2dldHRpbmctc3RhcnRlZC8jTmV3X2VsZW1lbnRfc3ludGF4fSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICByb290ICAgICAgUm9vdCBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gICBzZXR0aW5ncyAgU2V0dGluZ3NcclxuICAgICAqIEBwYXJhbSAgIHRlbXBsYXRlICBUZW1wbGF0ZVxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIEluc3RhbnRpYXRlZCBvYmplY3RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5ldyhyb290LCBzZXR0aW5ncywgdGVtcGxhdGUpIHtcclxuICAgICAgICBjb25zdCB4ID0gKG5ldyB0aGlzKHJvb3QsIHNldHRpbmdzLCB0cnVlKSk7XHJcbiAgICAgICAgeC5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxuICAgICAgICB4Ll9hZnRlck5ldygpO1xyXG4gICAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIF9uZXcocm9vdCwgc2V0dGluZ3MsIHRlbXBsYXRlcyA9IFtdKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IChuZXcgdGhpcyhyb290LCBzZXR0aW5ncywgdHJ1ZSwgdGVtcGxhdGVzKSk7XHJcbiAgICAgICAgeC5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgIH1cclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICB0aGlzLl9jaGVja0RpcnR5KCk7XHJcbiAgICAgICAgbGV0IHNob3VsZEFwcGx5ID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZTtcclxuICAgICAgICBpZiAodGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgc2hvdWxkQXBwbHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5fc2V0T2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2ludGVybmFsVGVtcGxhdGVzLCAodGVtcGxhdGUpID0+IHtcclxuICAgICAgICAgICAgc2hvdWxkQXBwbHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5fc2V0T2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHNob3VsZEFwcGx5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5VGVtcGxhdGVzKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuY3JlYXRlKFwiZGVmYXVsdFwiLCB7fSk7XHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdHMoKTtcclxuICAgIH1cclxuICAgIC8vIFRoaXMgaXMgdGhlIHNhbWUgYXMgX2FmdGVyTmV3LCBleGNlcHQgaXQgYWxzbyBhcHBsaWVzIHRoZSB0aGVtZXMuXHJcbiAgICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNsYXNzZXMgd2hpY2ggZG9uJ3QgaGF2ZSBhIHBhcmVudCAoYmVjYXVzZSB0aGV5IGV4dGVuZCBmcm9tIEVudGl0eSBhbmQgbm90IFNwcml0ZSkuXHJcbiAgICBfYWZ0ZXJOZXdBcHBseVRoZW1lcygpIHtcclxuICAgICAgICB0aGlzLl9jaGVja0RpcnR5KCk7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZTtcclxuICAgICAgICBpZiAodGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgdGVtcGxhdGUuX3NldE9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9pbnRlcm5hbFRlbXBsYXRlcywgKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlLl9zZXRPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN0YXRlcy5jcmVhdGUoXCJkZWZhdWx0XCIsIHt9KTtcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0cygpO1xyXG4gICAgICAgIHRoaXMuX2FwcGx5VGhlbWVzKCk7XHJcbiAgICB9XHJcbiAgICBfY3JlYXRlRXZlbnRzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRXZlbnREaXNwYXRjaGVyKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0IGNsYXNzTmFtZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBnZXQgY2xhc3NOYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZTtcclxuICAgIH1cclxuICAgIF9zZXREZWZhdWx0cygpIHtcclxuICAgIH1cclxuICAgIF9zZXREZWZhdWx0Rm4oa2V5LCBmKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGYoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0RGVmYXVsdChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0UmF3RGVmYXVsdChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnNldFJhdyhrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2xlYXJEaXJ0eSgpIHtcclxuICAgICAgICAkb2JqZWN0LmtleXModGhpcy5fZGlydHkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVtrZXldID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKHRoaXMuX2RpcnR5UHJpdmF0ZSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5UHJpdmF0ZVtrZXldID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgaXNEaXJ0eShrZXkpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9kaXJ0eVtrZXldO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGlzUHJpdmF0ZURpcnR5KGtleSkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RpcnR5UHJpdmF0ZVtrZXldO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eUtleShrZXkpIHtcclxuICAgICAgICB0aGlzLl9kaXJ0eVtrZXldID0gdHJ1ZTtcclxuICAgICAgICBzdXBlci5fbWFya0RpcnR5S2V5KGtleSk7XHJcbiAgICB9XHJcbiAgICBfbWFya0RpcnR5UHJpdmF0ZUtleShrZXkpIHtcclxuICAgICAgICB0aGlzLl9kaXJ0eVByaXZhdGVba2V5XSA9IHRydWU7XHJcbiAgICAgICAgc3VwZXIuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgZWxlbWVudCBpcyBvZiBjZXJ0YWluIGNsYXNzIChvciBpbmhlcml0cyBvbmUpLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHR5cGUgIENsYXNzIG5hbWUgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIG9mIGNsYXNzP1xyXG4gICAgICovXHJcbiAgICBpc1R5cGUodHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsYXNzTmFtZXMuaW5kZXhPZih0eXBlKSAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICBfcHVzaFByb3BlcnR5RGlzcG9zZXIoa2V5LCBkaXNwb3Nlcikge1xyXG4gICAgICAgIGxldCBkaXNwb3NlcnMgPSB0aGlzLl9kaXNwb3NlclByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICBpZiAoZGlzcG9zZXJzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZGlzcG9zZXJzID0gdGhpcy5fZGlzcG9zZXJQcm9wZXJ0aWVzW2tleV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlzcG9zZXJzLnB1c2goZGlzcG9zZXIpO1xyXG4gICAgICAgIHJldHVybiBkaXNwb3NlcjtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlUHJvcGVydHkoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgZGlzcG9zZXJzID0gdGhpcy5fZGlzcG9zZXJQcm9wZXJ0aWVzW2tleV07XHJcbiAgICAgICAgaWYgKGRpc3Bvc2VycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGRpc3Bvc2VycywgKGRpc3Bvc2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlzcG9zZXJQcm9wZXJ0aWVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAdG9kbyBuZWVkcyBkZXNjcmlwdGlvblxyXG4gICAgICogQHBhcmFtICB2YWx1ZSAgVGVtcGxhdGVcclxuICAgICAqL1xyXG4gICAgc2V0IHRlbXBsYXRlKHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZTtcclxuICAgICAgICBpZiAodGVtcGxhdGUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUuX3JlbW92ZU9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuX3NldE9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5VGVtcGxhdGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHRlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHkoKSB7XHJcbiAgICAgICAgdGhpcy5fcm9vdC5fYWRkRGlydHlFbnRpdHkodGhpcyk7XHJcbiAgICB9XHJcbiAgICBfc3RhcnRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fcm9vdC5fYWRkQW5pbWF0aW9uKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX2FuaW1hdGlvblRpbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuYW5pbWF0aW9uVGltZTtcclxuICAgIH1cclxuICAgIF9hcHBseVN0YXRlKF9uYW1lKSB7IH1cclxuICAgIF9hcHBseVN0YXRlQW5pbWF0ZWQoX25hbWUsIF9kdXJhdGlvbikgeyB9XHJcbiAgICBnZXQoa2V5LCBmYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5hZGFwdGVycy5mb2xkKGtleSwgdGhpcy5fc2V0dGluZ3Nba2V5XSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBpc1VzZXJTZXR0aW5nKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyUHJvcGVydGllc1trZXldIHx8IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgc2V0dGluZyBgdmFsdWVgIGZvciB0aGUgc3BlY2lmaWVkIGBrZXlgLCBhbmQgcmV0dXJucyB0aGUgc2FtZSBgdmFsdWVgLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAga2V5ICAgICAgIFNldHRpbmcga2V5XHJcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFNldHRpbmcgdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl91c2VyUHJvcGVydGllc1trZXldID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFJhdyhrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgc3VwZXIuc2V0UmF3KGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgc2V0dGluZyBgdmFsdWVgIGZvciB0aGUgc3BlY2lmaWVkIGBrZXlgIG9ubHkgaWYgdGhlIHZhbHVlIGZvciB0aGlzIGtleSB3YXMgbm90IHNldCBwcmV2aW91c2x5IHVzaW5nIHNldCBtZXRob2QsIGFuZCByZXR1cm5zIHRoZSBzYW1lIGB2YWx1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgICBTZXR0aW5nIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBfc2V0U29mdChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJvcGVydGllc1trZXldKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIHNldHRpbmcgdmFsdWUgZm9yIHRoZSBzcGVjaWZpZWQgYGtleWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl91c2VyUHJvcGVydGllc1trZXldO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZVRlbXBsYXRlUHJvcGVydHkoa2V5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBzZXRQcml2YXRlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl91c2VyUHJpdmF0ZVByb3BlcnRpZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldFByaXZhdGUoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgc2V0UHJpdmF0ZVJhdyhrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlclByaXZhdGVQcm9wZXJ0aWVzW2tleV0gPSB0cnVlO1xyXG4gICAgICAgIHN1cGVyLnNldFByaXZhdGVSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlUHJpdmF0ZShrZXkpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fdXNlclByaXZhdGVQcm9wZXJ0aWVzW2tleV07XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlVGVtcGxhdGVQcml2YXRlUHJvcGVydHkoa2V5KTtcclxuICAgIH1cclxuICAgIF9zZXRUZW1wbGF0ZVByb3BlcnR5KHRlbXBsYXRlLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJvcGVydGllc1trZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5fZmluZFRlbXBsYXRlQnlLZXkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlID09PSBtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldFRlbXBsYXRlUHJpdmF0ZVByb3BlcnR5KHRlbXBsYXRlLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJpdmF0ZVByb3BlcnRpZXNba2V5XSkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuX2ZpbmRUZW1wbGF0ZUJ5UHJpdmF0ZUtleShrZXkpO1xyXG4gICAgICAgICAgICBpZiAodGVtcGxhdGUgPT09IG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5zZXRQcml2YXRlKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbW92ZVRlbXBsYXRlUHJvcGVydHkoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJvcGVydGllc1trZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5fZmluZFRlbXBsYXRlQnlLZXkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGRvbid0IHN0b3AgdGhlIGFuaW1hdGlvbiBpZiB0aGUgcHJvcGVydHkgZGlkbid0IGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgc3VwZXIuc2V0KGtleSwgbWF0Y2guX3NldHRpbmdzW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3VwZXIucmVtb3ZlKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlVGVtcGxhdGVQcml2YXRlUHJvcGVydHkoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJpdmF0ZVByb3BlcnRpZXNba2V5XSkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuX2ZpbmRUZW1wbGF0ZUJ5UHJpdmF0ZUtleShrZXkpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gZG9uJ3Qgc3RvcCB0aGUgYW5pbWF0aW9uIGlmIHRoZSBwcm9wZXJ0eSBkaWRuJ3QgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBzdXBlci5zZXRQcml2YXRlKGtleSwgbWF0Y2guX3ByaXZhdGVTZXR0aW5nc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyLnJlbW92ZVByaXZhdGUoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF93YWxrUGFyZW50cyhmKSB7XHJcbiAgICAgICAgZih0aGlzLl9yb290Ll9yb290Q29udGFpbmVyKTtcclxuICAgICAgICBmKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBmYXN0ZXIgdmVyc2lvbiBvZiB0aGlzIG1ldGhvZCB3aGljaCBpcyBzcGVjaWFsaXplZCB0byBqdXN0IDEga2V5XHJcbiAgICBfYXBwbHlTdGF0ZUJ5S2V5KG5hbWUpIHtcclxuICAgICAgICBjb25zdCBvdGhlciA9IHRoaXMuc3RhdGVzLmNyZWF0ZShuYW1lLCB7fSk7XHJcbiAgICAgICAgY29uc3Qgc2VlbiA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2VhY2hUZW1wbGF0ZSgodGVtcGxhdGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0ZW1wbGF0ZS5zdGF0ZXMubG9va3VwKG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLl9hcHBseShvdGhlciwgc2Vlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkb2JqZWN0LmVhY2gob3RoZXIuX3NldHRpbmdzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc2VlbltrZXldICYmICFvdGhlci5fdXNlclNldHRpbmdzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIG90aGVyLnJlbW92ZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYXBwbHlUZW1wbGF0ZSh0ZW1wbGF0ZSwgc3RhdGUpIHtcclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZURpc3Bvc2Vycy5wdXNoKHRlbXBsYXRlLl9hcHBseSh0aGlzLCBzdGF0ZSkpO1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0ZW1wbGF0ZS5fc2V0dGluZ3MsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuc2V0dGluZ3Nba2V5XSAmJiAhdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuc2V0dGluZ3Nba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGVtcGxhdGUuX3ByaXZhdGVTZXR0aW5ncywgKGtleSwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5wcml2YXRlU2V0dGluZ3Nba2V5XSAmJiAhdGhpcy5fdXNlclByaXZhdGVQcm9wZXJ0aWVzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnByaXZhdGVTZXR0aW5nc1trZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN1cGVyLnNldFByaXZhdGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5fcnVuU2V0dXAgJiYgdGVtcGxhdGUuc2V0dXApIHtcclxuICAgICAgICAgICAgdGhpcy5fcnVuU2V0dXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGVtcGxhdGUuc2V0dXAodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxscyB0aGUgY2xvc3VyZSB3aXRoIGVhY2ggdGVtcGxhdGUgYW5kIHJldHVybnMgdGhlIGZpcnN0IHRlbXBsYXRlIHdoaWNoIGlzIHRydWVcclxuICAgICAqL1xyXG4gICAgX2ZpbmRTdGF0aWNUZW1wbGF0ZShmKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChmKHRoaXMuX3RlbXBsYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2VhY2hUZW1wbGF0ZShmKSB7XHJcbiAgICAgICAgdGhpcy5fZmluZFN0YXRpY1RlbXBsYXRlKCh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBmKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIF9pbnRlcm5hbFRlbXBsYXRlcyBpcyBzb3J0ZWQgd2l0aCBtb3N0IHNwZWNpZmljIHRvIHRoZSByaWdodFxyXG4gICAgICAgICRhcnJheS5lYWNoUmV2ZXJzZSh0aGlzLl9pbnRlcm5hbFRlbXBsYXRlcywgZik7XHJcbiAgICAgICAgLy8gX3RlbXBsYXRlcyBpcyBzb3J0ZWQgd2l0aCBtb3N0IHNwZWNpZmljIHRvIHRoZSBsZWZ0XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGVtcGxhdGVzLCBmKTtcclxuICAgIH1cclxuICAgIF9hcHBseVRlbXBsYXRlcyhyZW1vdmUgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHJlbW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlVGVtcGxhdGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgICAgICAgICBzZXR0aW5nczoge30sXHJcbiAgICAgICAgICAgIHByaXZhdGVTZXR0aW5nczoge30sXHJcbiAgICAgICAgICAgIHN0YXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9lYWNoVGVtcGxhdGUoKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5VGVtcGxhdGUodGVtcGxhdGUsIHN0YXRlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9zZXR0aW5ncywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJvcGVydGllc1trZXldICYmICFzdGF0ZS5zZXR0aW5nc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIucmVtb3ZlKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fcHJpdmF0ZVNldHRpbmdzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3VzZXJQcml2YXRlUHJvcGVydGllc1trZXldICYmICFzdGF0ZS5wcml2YXRlU2V0dGluZ3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLnJlbW92ZVByaXZhdGUoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ZpbmRUZW1wbGF0ZShmKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9maW5kU3RhdGljVGVtcGxhdGUoZik7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gX2ludGVybmFsVGVtcGxhdGVzIGlzIHNvcnRlZCB3aXRoIG1vc3Qgc3BlY2lmaWMgdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gJGFycmF5LmZpbmRSZXZlcnNlKHRoaXMuX2ludGVybmFsVGVtcGxhdGVzLCBmKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIF90ZW1wbGF0ZXMgaXMgc29ydGVkIHdpdGggbW9zdCBzcGVjaWZpYyB0byB0aGUgbGVmdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRhcnJheS5maW5kKHRoaXMuX3RlbXBsYXRlcywgZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZmluZFRlbXBsYXRlQnlLZXkoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmRUZW1wbGF0ZSgodGVtcGxhdGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGtleSBpbiB0ZW1wbGF0ZS5fc2V0dGluZ3M7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZmluZFRlbXBsYXRlQnlQcml2YXRlS2V5KGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maW5kVGVtcGxhdGUoKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXkgaW4gdGVtcGxhdGUuX3ByaXZhdGVTZXR0aW5ncztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlVGVtcGxhdGVzKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RlbXBsYXRlRGlzcG9zZXJzLCAoZGlzcG9zZXIpID0+IHtcclxuICAgICAgICAgICAgZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlRGlzcG9zZXJzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlVGVtcGxhdGVzKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RlbXBsYXRlcywgKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlLl9yZW1vdmVPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZXMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuICAgIF9hcHBseVRoZW1lcyhmb3JjZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBbXTtcclxuICAgICAgICBsZXQgdGhlbWVzID0gW107XHJcbiAgICAgICAgY29uc3QgdGhlbWVUYWdzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGNvbnN0IHRhZ3MgPSB0aGlzLmdldChcInRoZW1lVGFnc1NlbGZcIik7XHJcbiAgICAgICAgaWYgKHRhZ3MpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGFncywgKHRhZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzLmFkZCh0YWcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fd2Fsa1BhcmVudHMoKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZW50aXR5ID09PSB0aGlzLl9yb290Ll9yb290Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVudGl0eS5fZGVmYXVsdFRoZW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0cy5wdXNoKGVudGl0eS5fZGVmYXVsdFRoZW1lcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhlbWUgPSBlbnRpdHkuZ2V0KFwidGhlbWVzXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhlbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lcy5wdXNoKHRoZW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0YWdzID0gZW50aXR5LmdldChcInRoZW1lVGFnc1wiKTtcclxuICAgICAgICAgICAgaWYgKHRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRhZ3MsICh0YWcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVtZVRhZ3MuYWRkKHRhZyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoZW1lcyA9IGRlZmF1bHRzLmNvbmNhdCh0aGVtZXMpO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZVRlbXBsYXRlcygpO1xyXG4gICAgICAgIGlmIChpc0Nvbm5lY3RlZCB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaFJldmVyc2UodGhpcy5jbGFzc05hbWVzLCAobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWxsUnVsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoZW1lcywgKHRoZW1lcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoZW1lcywgKHRoZW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGVzID0gdGhlbWUuX2xvb2t1cFJ1bGVzKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoUmV2ZXJzZShydWxlcywgKHJ1bGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gcnVsZS50YWdzLmV2ZXJ5KCh0YWcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoZW1lVGFncy5oYXModGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAkYXJyYXkuZ2V0Rmlyc3RTb3J0ZWRJbmRleChhbGxSdWxlcywgKHgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gJG9yZGVyLmNvbXBhcmUocnVsZS50YWdzLmxlbmd0aCwgeC50YWdzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJG9yZGVyLmNvbXBhcmVBcnJheShydWxlLnRhZ3MsIHgudGFncywgJG9yZGVyLmNvbXBhcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsUnVsZXMuc3BsaWNlKHJlc3VsdC5pbmRleCwgMCwgcnVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goYWxsUnVsZXMsIChydWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVzLnB1c2gocnVsZS50ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50ZW1wbGF0ZS5fc2V0T2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2FwcGx5VGVtcGxhdGVzKCk7XHJcbiAgICAgICAgaWYgKGlzQ29ubmVjdGVkIHx8IGZvcmNlKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgY2F1c2VzIGl0IHRvIG9ubHkgcnVuIHRoZSBzZXR1cCBmdW5jdGlvbiB0aGUgZmlyc3QgdGltZSB0aGF0IHRoZSB0aGVtZXMgYXJlIGFwcGxpZWRcclxuICAgICAgICAgICAgdGhpcy5fcnVuU2V0dXAgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzQ29ubmVjdGVkIHx8IGZvcmNlO1xyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7IH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJpZFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0KFwiaWRcIik7XHJcbiAgICAgICAgICAgIGlmIChpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJJZChpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJldklkID0gdGhpcy5fcHJldlNldHRpbmdzLmlkO1xyXG4gICAgICAgICAgICBpZiAocHJldklkKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnaXN0cnkuZW50aXRpZXNCeUlkW3ByZXZJZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVnaXN0ZXJJZChpZCkge1xyXG4gICAgICAgIGlmIChyZWdpc3RyeS5lbnRpdGllc0J5SWRbaWRdICYmIHJlZ2lzdHJ5LmVudGl0aWVzQnlJZFtpZF0gIT09IHRoaXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gZW50aXR5IHdpdGggaWQgXFxcIlwiICsgaWQgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWdpc3RyeS5lbnRpdGllc0J5SWRbaWRdID0gdGhpcztcclxuICAgIH1cclxuICAgIF9hZnRlckNoYW5nZWQoKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBhZGREaXNwb3NlcihkaXNwb3Nlcikge1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGRpc3Bvc2VyKTtcclxuICAgICAgICByZXR1cm4gZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlLl9yZW1vdmVPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5faW50ZXJuYWxUZW1wbGF0ZXMsICh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5fcmVtb3ZlT2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlVGVtcGxhdGVzKCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZVRlbXBsYXRlcygpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMuZm9yRWFjaCgoeCkgPT4ge1xyXG4gICAgICAgICAgICB4LmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fZGlzcG9zZXJQcm9wZXJ0aWVzLCAoXywgZGlzcG9zZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGRpc3Bvc2VycywgKGRpc3Bvc2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXQoXCJpZFwiKTtcclxuICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHJlZ2lzdHJ5LmVudGl0aWVzQnlJZFtpZF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgXCJkaXNwb3NhYmxlXCIgdGltZW91dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBmbiAgICAgQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSAgIGRlbGF5ICBEZWxheSBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICBUaW1lb3V0IGRpc3Bvc2VyXHJcbiAgICAgKi9cclxuICAgIHNldFRpbWVvdXQoZm4sIGRlbGF5KSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVEaXNwb3NlKGRpc3Bvc2VyKTtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgY29uc3QgZGlzcG9zZXIgPSBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGRpc3Bvc2VyKTtcclxuICAgICAgICByZXR1cm4gZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlRGlzcG9zZSh0YXJnZXQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9ICRhcnJheS5pbmRleE9mKHRoaXMuX2Rpc3Bvc2VycywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldC5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgaGFzVGFnKHRhZykge1xyXG4gICAgICAgIHJldHVybiAkYXJyYXkuaW5kZXhPZih0aGlzLmdldChcInRoZW1lVGFnc1wiLCBbXSksIHRhZykgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGFkZFRhZyh0YWcpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzVGFnKHRhZykpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFncyA9IHRoaXMuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKTtcclxuICAgICAgICAgICAgdGFncy5wdXNoKHRhZyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KFwidGhlbWVUYWdzXCIsIHRhZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVUYWcodGFnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzVGFnKHRhZykpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFncyA9IHRoaXMuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKTtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZSh0YWdzLCB0YWcpO1xyXG4gICAgICAgICAgICB0aGlzLnNldChcInRoZW1lVGFnc1wiLCB0YWdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdCh0ZXh0LCBsb2NhbGUsIC4uLnJlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGUodGV4dCwgbG9jYWxlLCAuLi5yZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgW1tSb290XV0gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQHNpbmNlIDUuMC42XHJcbiAgICAgKiBAcmV0dXJuIFJvb3Qgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGdldCByb290KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yb290O1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnRpdHksIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkVudGl0eVwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRW50aXR5LCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFtcIkVudGl0eVwiXVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW50aXR5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventDispatcher: () => (/* binding */ EventDispatcher),\n/* harmony export */   TargetedEventDispatcher: () => (/* binding */ TargetedEventDispatcher)\n/* harmony export */ });\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n\r\n\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nclass EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            const a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                _Array__WEBPACK_IMPORTED_MODULE_0__.each(a, (x) => {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    hasListeners() {\r\n        return this._listeners.length !== 0;\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    hasListenersByType(type) {\r\n        return _Array__WEBPACK_IMPORTED_MODULE_0__.any(this._listeners, (x) => (x.type === null || x.type === type) && !x.killed);\r\n    }\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    enable() {\r\n        this._enabled = true;\r\n    }\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    disable() {\r\n        this._enabled = false;\r\n    }\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    enableType(type) {\r\n        delete this._disabled[type];\r\n    }\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    disableType(type, amount = Infinity) {\r\n        this._disabled[type] = amount;\r\n    }\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    _removeListener(listener) {\r\n        if (this._iterating === 0) {\r\n            const index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    }\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    _removeExistingListener(once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    isEnabled(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n    }\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    removeType(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.type === type) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    has(type, callback, context) {\r\n        const index = _Array__WEBPACK_IMPORTED_MODULE_0__.findIndex(this._listeners, (info) => {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    }\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    _shouldDispatch(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        const count = this._disabled[type];\r\n        if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    _eachListener(fn) {\r\n        ++this._iterating;\r\n        try {\r\n            _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._killed, (killed) => {\r\n                    this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    dispatch(type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener((listener) => {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    listener.dispatch(type, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        const info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new _Disposer__WEBPACK_IMPORTED_MODULE_2__.Disposer(() => {\r\n                info.killed = true;\r\n                this._removeListener(info);\r\n            })\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    onAll(callback, context, shouldClone = true) {\r\n        return this._on(false, null, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    on(type, callback, context, shouldClone = true) {\r\n        return this._on(false, type, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    once(type, callback, context, shouldClone = true) {\r\n        const x = this._on(true, type, callback, context, shouldClone, (_type, event) => {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    }\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    off(type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(source._listeners, (x) => {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer(disposers);\r\n    }\r\n}\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nclass TargetedEventDispatcher extends EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    constructor(target) {\r\n        super();\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(source._listeners, (x) => {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer(disposers);\r\n    }\r\n}\r\n//# sourceMappingURL=EventDispatcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0V2ZW50RGlzcGF0Y2hlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3FEO0FBQ25CO0FBQ0Y7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5REFBeUQ7QUFDbEU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVDQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2Q0FBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJDQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0NBQVE7QUFDbEM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUJBQW1CLG9EQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQkFBbUIsb0RBQWE7QUFDaEM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvRXZlbnREaXNwYXRjaGVyLmpzPzA4ODgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEV2ZW50IERpc3BhdGNoZXIgbW9kdWxlIGlzIHVzZWQgZm9yIHJlZ2lzdGVyaW5nIGxpc3RlbmVycyBhbmQgZGlzcGF0Y2hpbmdcclxuICogZXZlbnRzIGFjcm9zcyBhbUNoYXJ0cyBzeXN0ZW0uXHJcbiAqL1xyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBJTVBPUlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuaW1wb3J0IHsgRGlzcG9zZXIsIE11bHRpRGlzcG9zZXIgfSBmcm9tIFwiLi9EaXNwb3NlclwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogVW5pdmVyc2FsIEV2ZW50IERpc3BhdGNoZXIuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2V2ZW50cy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGlzdGVuZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9raWxsZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc2FibGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pdGVyYXRpbmdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VuYWJsZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2tpbGxlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0ge307XHJcbiAgICAgICAgdGhpcy5faXRlcmF0aW5nID0gMDtcclxuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGlmIHRoaXMgb2JqZWN0IGhhcyBiZWVuIGFscmVhZHkgZGlzcG9zZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBEaXNwb3NlZD9cclxuICAgICAqL1xyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2UgKGRlc3Ryb3kpIHRoaXMgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpbmcgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChhLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHguZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9raWxsZWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXRlcmF0aW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcGFydGljdWxhciBldmVudCBkaXNwYXRjaGVyIGhhcyBhbnkgbGlzdGVuZXJzIHNldC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIEhhcyBsaXN0ZW5lcnM/XHJcbiAgICAgKi9cclxuICAgIGhhc0xpc3RlbmVycygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzLmxlbmd0aCAhPT0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcGFydGljdWxhciBldmVudCBkaXNwYXRjaGVyIGhhcyBhbnkgcGFydGljdWxhciBsaXN0ZW5lcnMgc2V0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSGFzIHBhcnRpY3VsYXIgZXZlbnQgbGlzdGVuZXJzP1xyXG4gICAgICovXHJcbiAgICBoYXNMaXN0ZW5lcnNCeVR5cGUodHlwZSkge1xyXG4gICAgICAgIHJldHVybiAkYXJyYXkuYW55KHRoaXMuX2xpc3RlbmVycywgKHgpID0+ICh4LnR5cGUgPT09IG51bGwgfHwgeC50eXBlID09PSB0eXBlKSAmJiAheC5raWxsZWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgZGlzcGF0Y2hpbmcgb2YgZXZlbnRzIGlmIHRoZXkgd2VyZSBwcmV2aW91c2x5IGRpc2FibGVkIGJ5XHJcbiAgICAgKiBgZGlzYWJsZSgpYC5cclxuICAgICAqL1xyXG4gICAgZW5hYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIGRpc3BhdGNoaW5nIG9mIGV2ZW50cyB1bnRpbCByZS1lbmFibGVkIGJ5IGBlbmFibGUoKWAuXHJcbiAgICAgKi9cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgZGlzcGF0Y2hpbmcgcGFydGljdWxhciBldmVudCwgaWYgaXQgd2FzIGRpc2FibGVkIGJlZm9yZSBieVxyXG4gICAgICogYGRpc2FibGVUeXBlKClgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlIEV2ZW50IHR5cGVcclxuICAgICAqL1xyXG4gICAgZW5hYmxlVHlwZSh0eXBlKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2Rpc2FibGVkW3R5cGVdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIGRpc3BhdGNoaW5nIG9mIGV2ZW50cyBmb3IgYSBjZXJ0YWluIGV2ZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogT3B0aW9uYWxseSwgY2FuIHNldCBob3cgbWFueSBkaXNwYXRjaGVzIHRvIHNraXAgYmVmb3JlIGF1dG9tYXRpY2FsbHlcclxuICAgICAqIHJlLWVuYWJsaW5nIHRoZSBkaXNwYXRjaGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgICBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gYW1vdW50ICBOdW1iZXIgb2YgZXZlbnQgZGlzcGF0Y2hlcyB0byBza2lwXHJcbiAgICAgKi9cclxuICAgIGRpc2FibGVUeXBlKHR5cGUsIGFtb3VudCA9IEluZmluaXR5KSB7XHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRbdHlwZV0gPSBhbW91bnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXIgZnJvbSBkaXNwYXRjaGVyLlxyXG4gICAgICpcclxuICAgICAqIFdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHN1Y2ggbGlzdGVuZXIgZG9lcyBub3QgZXhpc3RzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBMaXN0ZW5lciB0byByZW1vdmVcclxuICAgICAqL1xyXG4gICAgX3JlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZXJhdGluZyA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZTogY291bGQgbm90IHJlbW92ZSBsaXN0ZW5lclwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2tpbGxlZC5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgZXhpc3RpbmcgbGlzdGVuZXIgYnkgY2VydGFpbiBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvbmNlICAgICAgICAgTGlzdGVuZXIncyBvbmNlIHNldHRpbmdcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqL1xyXG4gICAgX3JlbW92ZUV4aXN0aW5nTGlzdGVuZXIob25jZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnREaXNwYXRjaGVyIGlzIGRpc3Bvc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lYWNoTGlzdGVuZXIoKGluZm8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZm8ub25jZSA9PT0gb25jZSAmJiAvLyBUT0RPIGlzIHRoaXMgY29ycmVjdCA/XHJcbiAgICAgICAgICAgICAgICBpbmZvLnR5cGUgPT09IHR5cGUgJiZcclxuICAgICAgICAgICAgICAgIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8IGluZm8uY2FsbGJhY2sgPT09IGNhbGxiYWNrKSAmJlxyXG4gICAgICAgICAgICAgICAgaW5mby5jb250ZXh0ID09PSBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvLmRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgZGlzcGF0Y2hpbmcgZm9yIHBhcnRpY3VsYXIgZXZlbnQgdHlwZSBpcyBlbmFibGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICBFdmVudCB0eXBlXHJcbiAgICAgKiBAcmV0dXJuIEVuYWJsZWQ/XHJcbiAgICAgKi9cclxuICAgIGlzRW5hYmxlZCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGNoZWNrIGNvcnJlY3QgP1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkICYmIHRoaXMuX2xpc3RlbmVycy5sZW5ndGggPiAwICYmIHRoaXMuaGFzTGlzdGVuZXJzQnlUeXBlKHR5cGUpICYmIHRoaXMuX2Rpc2FibGVkW3R5cGVdID09PSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBvZiBhIHBhcnRpY3VsYXIgZXZlbnQgdHlwZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICBMaXN0ZW5lcidzIHR5cGVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlVHlwZSh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZWFjaExpc3RlbmVyKChpbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmZvLnR5cGUgPT09IHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGluZm8uZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGVyZSdzIGFscmVhZHkgYSBsaXN0ZW5lciB3aXRoIHNwZWNpZmljIHBhcmFtZXRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGUgICAgICBMaXN0ZW5lcidzIHR5cGVcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAqIEBwYXJhbSBjb250ZXh0ICAgQ2FsbGJhY2sgY29udGV4dFxyXG4gICAgICogQHJldHVybiBIYXMgbGlzdGVuZXI/XHJcbiAgICAgKi9cclxuICAgIGhhcyh0eXBlLCBjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gJGFycmF5LmZpbmRJbmRleCh0aGlzLl9saXN0ZW5lcnMsIChpbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmZvLm9uY2UgIT09IHRydWUgJiYgLy8gSWdub3JpbmcgXCJvbmNlXCIgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgICAgICBpbmZvLnR5cGUgPT09IHR5cGUgJiZcclxuICAgICAgICAgICAgICAgIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8IGluZm8uY2FsbGJhY2sgPT09IGNhbGxiYWNrKSAmJlxyXG4gICAgICAgICAgICAgICAgaW5mby5jb250ZXh0ID09PSBjb250ZXh0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbmRleCAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIGV2ZW50IG9mIHRoZSBwYXJ0aWN1bGFyIHR5cGUgc2hvdWxkIGJlIGRpc3BhdGNoZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGUgIEV2ZW50IHR5cGVcclxuICAgICAqIEByZXR1cm4gRGlzcGF0Y2g/XHJcbiAgICAgKi9cclxuICAgIF9zaG91bGREaXNwYXRjaCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9kaXNhYmxlZFt0eXBlXTtcclxuICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGNvdW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlzYWJsZWRbdHlwZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAtLXRoaXMuX2Rpc2FibGVkW3R5cGVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFtfZWFjaExpc3RlbmVyIGRlc2NyaXB0aW9uXVxyXG4gICAgICpcclxuICAgICAqIEFsbCBvZiB0aGlzIGV4dHJhIGNvZGUgaXMgbmVlZGVkIHdoZW4gYSBsaXN0ZW5lciBpcyByZW1vdmVkIHdoaWxlIGl0ZXJhdGluZ1xyXG4gICAgICpcclxuICAgICAqIEB0b2RvIERlc2NyaXB0aW9uXHJcbiAgICAgKiBAcGFyYW0gZm4gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBfZWFjaExpc3RlbmVyKGZuKSB7XHJcbiAgICAgICAgKyt0aGlzLl9pdGVyYXRpbmc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fbGlzdGVuZXJzLCBmbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAtLXRoaXMuX2l0ZXJhdGluZztcclxuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBiZSBpbnNpZGUgb3Igb3V0c2lkZSB0aGUgZmluYWxseSA/XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pdGVyYXRpbmcgPT09IDAgJiYgdGhpcy5fa2lsbGVkLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGtpbGxlZCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2tpbGxlZCwgKGtpbGxlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyKGtpbGxlZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2tpbGxlZC5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGltbWVkaWF0ZWx5IHdpdGhvdXQgd2FpdGluZyBmb3IgbmV4dCBjeWNsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgIEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSBldmVudCAgRXZlbnQgb2JqZWN0XHJcbiAgICAgKiBAdG9kbyBhdXRvbWF0aWNhbGx5IGFkZCBpbiB0eXBlIGFuZCB0YXJnZXQgcHJvcGVydGllcyBpZiB0aGV5IGFyZSBtaXNzaW5nXHJcbiAgICAgKi9cclxuICAgIGRpc3BhdGNoKHR5cGUsIGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZERpc3BhdGNoKHR5cGUpKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgaXQncyBmYXN0ZXIgdG8gdXNlIGFuIG9iamVjdCBvZiBsaXN0ZW5lcnMgcmF0aGVyIHRoYW4gYSBzaW5nbGUgYmlnIGFycmF5XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaWYgdGhlIGZ1bmN0aW9uIHRocm93cywgbWF5YmUgaXQgc2hvdWxkIGtlZXAgZ29pbmcgP1xyXG4gICAgICAgICAgICB0aGlzLl9lYWNoTGlzdGVuZXIoKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyLmtpbGxlZCAmJiAobGlzdGVuZXIudHlwZSA9PT0gbnVsbCB8fCBsaXN0ZW5lci50eXBlID09PSB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmRpc3BhdGNoKHR5cGUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaGVsdmVzIHRoZSBldmVudCB0byBiZSBkaXNwYXRjaGVkIHdpdGhpbiBuZXh0IHVwZGF0ZSBjeWNsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgIEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSBldmVudCAgRXZlbnQgb2JqZWN0XHJcbiAgICAgKiBAdG9kbyBhdXRvbWF0aWNhbGx5IGFkZCBpbiB0eXBlIGFuZCB0YXJnZXQgcHJvcGVydGllcyBpZiB0aGV5IGFyZSBtaXNzaW5nXHJcbiAgICAgKi9cclxuICAgIC8qcHVibGljIGRpc3BhdGNoTGF0ZXI8S2V5IGV4dGVuZHMga2V5b2YgVD4odHlwZTogS2V5LCBldmVudDogVFtLZXldKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZERpc3BhdGNoKHR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VhY2hMaXN0ZW5lcigobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgaXQncyBmYXN0ZXIgdG8gdXNlIGFuIG9iamVjdCBvZiBsaXN0ZW5lcnMgcmF0aGVyIHRoYW4gYSBzaW5nbGUgYmlnIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyLmtpbGxlZCAmJiAobGlzdGVuZXIudHlwZSA9PT0gbnVsbCB8fCBsaXN0ZW5lci50eXBlID09PSB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaWYgdGhlIGZ1bmN0aW9uIHRocm93cywgbWF5YmUgaXQgc2hvdWxkIGtlZXAgZ29pbmcgP1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gZGlzcGF0Y2ggZHVyaW5nIHRoZSB1cGRhdGUgY3ljbGUsIHJhdGhlciB0aGFuIHVzaW5nIHdoZW5JZGxlXHJcbiAgICAgICAgICAgICAgICAgICAgJGFzeW5jLndoZW5JZGxlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmRpc3BhdGNoKHR5cGUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9Ki9cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcywgY2F0YWxvZ3MgYW5kIHJldHVybnMgYW4gW1tFdmVudExpc3RlbmVyXV0uXHJcbiAgICAgKlxyXG4gICAgICogRXZlbnQgbGlzdGVuZXIgY2FuIGJlIGRpc3Bvc2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvbmNlICAgICAgICAgTGlzdGVuZXIncyBvbmNlIHNldHRpbmdcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBzaG91bGRDbG9uZSAgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIGJlIGNvcGllZCB3aGVuIHRoZSBFdmVudERpc3BhdGNoZXIgaXMgY29waWVkXHJcbiAgICAgKiBAcGFyYW0gZGlzcGF0Y2hcclxuICAgICAqIEByZXR1cm5zIEFuIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKi9cclxuICAgIF9vbihvbmNlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCwgc2hvdWxkQ2xvbmUsIGRpc3BhdGNoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXhpc3RpbmdMaXN0ZW5lcihvbmNlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCk7XHJcbiAgICAgICAgY29uc3QgaW5mbyA9IHtcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxyXG4gICAgICAgICAgICBzaG91bGRDbG9uZTogc2hvdWxkQ2xvbmUsXHJcbiAgICAgICAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcclxuICAgICAgICAgICAga2lsbGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgb25jZTogb25jZSxcclxuICAgICAgICAgICAgZGlzcG9zZXI6IG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbmZvLmtpbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcihpbmZvKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGluZm8pO1xyXG4gICAgICAgIHJldHVybiBpbmZvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGJlIGludm9rZWQgb24gKiphbnkqKiBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBzaG91bGRDbG9uZSAgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIGJlIGNvcGllZCB3aGVuIHRoZSBFdmVudERpc3BhdGNoZXIgaXMgY29waWVkXHJcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgZXZlbnQgbGlzdGVuZXJcclxuICAgICAqL1xyXG4gICAgb25BbGwoY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lID0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbihmYWxzZSwgbnVsbCwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lLCAoX3R5cGUsIGV2ZW50KSA9PiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIGV2ZW50KSkuZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgaW52b2tlZCBvbiBhIHNwZWNpZmljIGV2ZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogYGBgVHlwZVNjcmlwdFxyXG4gICAgICogYnV0dG9uLmV2ZW50cy5vbmNlKFwiY2xpY2tcIiwgKGV2KSA9PiB7XHJcbiAgICAgKiAgIGNvbnNvbGUubG9nKFwiQnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgKiB9LCB0aGlzKTtcclxuICAgICAqIGBgYFxyXG4gICAgICogYGBgSmF2YVNjcmlwdFxyXG4gICAgICogYnV0dG9uLmV2ZW50cy5vbmNlKFwiY2xpY2tcIiwgKGV2KSA9PiB7XHJcbiAgICAgKiAgIGNvbnNvbGUubG9nKFwiQnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgKiB9LCB0aGlzKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSBhYm92ZSB3aWxsIGludm9rZSBvdXIgY3VzdG9tIGV2ZW50IGhhbmRsZXIgd2hlbmV2ZXIgc2VyaWVzIHdlIHB1dFxyXG4gICAgICogZXZlbnQgb24gaXMgaGlkZGVuLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBzaG91bGRDbG9uZSAgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIGJlIGNvcGllZCB3aGVuIHRoZSBFdmVudERpc3BhdGNoZXIgaXMgY29waWVkXHJcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgZXZlbnQgbGlzdGVuZXJcclxuICAgICAqL1xyXG4gICAgb24odHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lID0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbihmYWxzZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lLCAoX3R5cGUsIGV2ZW50KSA9PiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIGV2ZW50KSkuZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgaW52b2tlZCBvbiBhIHNwZWNpZmljIGV2ZW50IHR5cGUgb25jZS5cclxuICAgICAqXHJcbiAgICAgKiBPbmNlIHRoZSBldmVudCBsaXN0ZW5lciBpcyBpbnZva2VkLCBpdCBpcyBhdXRvbWF0aWNhbGx5IGRpc3Bvc2VkLlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIGJ1dHRvbi5ldmVudHMub25jZShcImNsaWNrXCIsIChldikgPT4ge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIkJ1dHRvbiBjbGlja2VkXCIpO1xyXG4gICAgICogfSwgdGhpcyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIGJ1dHRvbi5ldmVudHMub25jZShcImNsaWNrXCIsIChldikgPT4ge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIkJ1dHRvbiBjbGlja2VkXCIpO1xyXG4gICAgICogfSwgdGhpcyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGUgYWJvdmUgd2lsbCBpbnZva2Ugb3VyIGN1c3RvbSBldmVudCBoYW5kbGVyIHRoZSBmaXJzdCB0aW1lIHNlcmllcyB3ZVxyXG4gICAgICogcHV0IGV2ZW50IG9uIGlzIGhpZGRlbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgICAgICAgIExpc3RlbmVyJ3MgdHlwZVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrICAgICBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIGNvbnRleHQgICAgICBDYWxsYmFjayBjb250ZXh0XHJcbiAgICAgKiBAcGFyYW0gc2hvdWxkQ2xvbmUgIFdoZXRoZXIgdGhlIGxpc3RlbmVyIHNob3VsZCBiZSBjb3BpZWQgd2hlbiB0aGUgRXZlbnREaXNwYXRjaGVyIGlzIGNvcGllZFxyXG4gICAgICogQHJldHVybnMgQSBkaXNwb3NhYmxlIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKi9cclxuICAgIG9uY2UodHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLl9vbih0cnVlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCwgc2hvdWxkQ2xvbmUsIChfdHlwZSwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgeC5kaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdGhpcyBzaG91bGQgcmV0dXJuIGEgZGlmZmVyZW50IERpc3Bvc2VyID9cclxuICAgICAgICByZXR1cm4geC5kaXNwb3NlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXIgd2l0aCBzcGVjaWZpYyBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqL1xyXG4gICAgb2ZmKHR5cGUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXhpc3RpbmdMaXN0ZW5lcihmYWxzZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3BpZXMgYWxsIGRpc3BhdGNoZXIgcGFyYW1ldGVycywgaW5jbHVkaW5nIGxpc3RlbmVycywgZnJvbSBhbm90aGVyIGV2ZW50XHJcbiAgICAgKiBkaXNwYXRjaGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzb3VyY2UgU291cmNlIGV2ZW50IGRpc3BhdGNoZXJcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgY29weUZyb20oc291cmNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29weUZyb20gdGhlIHNhbWUgVGFyZ2V0ZWRFdmVudERpc3BhdGNoZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpc3Bvc2VycyA9IFtdO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHNvdXJjZS5fbGlzdGVuZXJzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGlzIHRoaXMgY29ycmVjdCA/XHJcbiAgICAgICAgICAgIGlmICgheC5raWxsZWQgJiYgeC5zaG91bGRDbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHgudHlwZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2Vycy5wdXNoKHRoaXMub25BbGwoeC5jYWxsYmFjaywgeC5jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh4Lm9uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLm9uY2UoeC50eXBlLCB4LmNhbGxiYWNrLCB4LmNvbnRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2Vycy5wdXNoKHRoaXMub24oeC50eXBlLCB4LmNhbGxiYWNrLCB4LmNvbnRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlEaXNwb3NlcihkaXNwb3NlcnMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIHZlcnNpb24gb2YgdGhlIFtbRXZlbnREaXNwYXRjaGVyXV0gdGhhdCBkaXNwYXRjaGVzIGV2ZW50cyBmb3IgYSBzcGVjaWZpY1xyXG4gKiB0YXJnZXQgb2JqZWN0LlxyXG4gKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGFyZ2V0ZWRFdmVudERpc3BhdGNoZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgRXZlbnQgZGlzcGF0Y2hlciB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGFyZ2V0KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHRhcmdldCBvYmplY3Qgd2hpY2ggaXMgb3JpZ2luYXRpbmcgZXZlbnRzIHVzaW5nIHRoaXMgZGlzcGF0Y2hlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YXJnZXRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvcGllcyBhbGwgZGlzcGF0Y2hlciBwYXJhbWV0ZXJzLCBpbmNsdWRpbmcgbGlzdGVuZXJzLCBmcm9tIGFub3RoZXIgZXZlbnRcclxuICAgICAqIGRpc3BhdGNoZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNvdXJjZSBTb3VyY2UgZXZlbnQgZGlzcGF0Y2hlclxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBjb3B5RnJvbShzb3VyY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnREaXNwYXRjaGVyIGlzIGRpc3Bvc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc291cmNlID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb3B5RnJvbSB0aGUgc2FtZSBUYXJnZXRlZEV2ZW50RGlzcGF0Y2hlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGlzcG9zZXJzID0gW107XHJcbiAgICAgICAgJGFycmF5LmVhY2goc291cmNlLl9saXN0ZW5lcnMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gdmVyeSBoYWNreVxyXG4gICAgICAgICAgICBpZiAoeC5jb250ZXh0ID09PSBzb3VyY2UudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGNvcnJlY3QgP1xyXG4gICAgICAgICAgICBpZiAoIXgua2lsbGVkICYmIHguc2hvdWxkQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4LnR5cGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLm9uQWxsKHguY2FsbGJhY2ssIHguY29udGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeC5vbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZXJzLnB1c2godGhpcy5vbmNlKHgudHlwZSwgeC5jYWxsYmFjaywgeC5jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLm9uKHgudHlwZSwgeC5jYWxsYmFjaywgeC5jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IE11bHRpRGlzcG9zZXIoZGlzcG9zZXJzKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudERpc3BhdGNoZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InterfaceColors: () => (/* binding */ InterfaceColors)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\n/**\r\n * Presets for common UI elements.\r\n */\r\nclass InterfaceColors extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n}\r\nObject.defineProperty(InterfaceColors, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"InterfaceColors\"\r\n});\r\nObject.defineProperty(InterfaceColors, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([InterfaceColors.className])\r\n});\r\n//# sourceMappingURL=InterfaceColors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0ludGVyZmFjZUNvbG9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsMkNBQU07QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9JbnRlcmZhY2VDb2xvcnMuanM/MDUzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuLyoqXHJcbiAqIFByZXNldHMgZm9yIGNvbW1vbiBVSSBlbGVtZW50cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnRlcmZhY2VDb2xvcnMgZXh0ZW5kcyBFbnRpdHkge1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmZhY2VDb2xvcnMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkludGVyZmFjZUNvbG9yc1wiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJmYWNlQ29sb3JzLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEVudGl0eS5jbGFzc05hbWVzLmNvbmNhdChbSW50ZXJmYWNlQ29sb3JzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmZhY2VDb2xvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Language: () => (/* binding */ Language)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _locales_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../locales/en */ \"(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js\");\n\r\n\r\n\r\n\r\n;\r\n/**\r\n * Add localization functionality.\r\n */\r\nclass Language extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    _setDefaults() {\r\n        this.setPrivate(\"defaultLocale\", _locales_en__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n        super._setDefaults();\r\n    }\r\n    /**\r\n     * Returns a prompt translation.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translate(prompt, locale, ...rest) {\r\n        // Get langauge\r\n        if (!locale) {\r\n            locale = this._root.locale || this.getPrivate(\"defaultLocale\");\r\n        }\r\n        // Init translation\r\n        let translation = prompt;\r\n        let value = locale[prompt];\r\n        // Try to look for the translation\r\n        if (value === null) {\r\n            translation = \"\";\r\n        }\r\n        else if (value != null) {\r\n            // It might be an empty string\r\n            if (value) {\r\n                translation = value;\r\n            }\r\n        }\r\n        else if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            // Try to look in default language\r\n            return this.translate(prompt, this.getPrivate(\"defaultLocale\"), ...rest);\r\n        }\r\n        // Replace %1, %2, etc params\r\n        if (rest.length) {\r\n            for (let len = rest.length, i = 0; i < len; ++i) {\r\n                translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n            }\r\n        }\r\n        // Return the translation\r\n        return translation;\r\n    }\r\n    /**\r\n     * Returns a prompt translation, including custom prompts.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translateAny(prompt, locale, ...rest) {\r\n        return this.translate(prompt, locale, ...rest);\r\n    }\r\n    /**\r\n     * Add a custom prompt to locale.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  prompt       Source prompt\r\n     * @param  translation  Tanslation\r\n     * @param  locale       Target locale\r\n     */\r\n    setTranslationAny(prompt, translation, locale) {\r\n        const localeTarget = locale || this._root.locale;\r\n        localeTarget[prompt] = translation;\r\n    }\r\n    /**\r\n     * Add a batch of custom prompts.\r\n     *\r\n     * @since 5.3.3\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  translations  Translations\r\n     * @param  locale        Target locale\r\n     */\r\n    setTranslationsAny(translations, locale) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_2__.each(translations, (key, val) => {\r\n            this.setTranslationAny(key, val, locale);\r\n        });\r\n    }\r\n    translateEmpty(prompt, locale, ...rest) {\r\n        let translation = this.translate(prompt, locale, ...rest);\r\n        return translation == prompt ? \"\" : translation;\r\n    }\r\n    translateFunc(prompt, locale) {\r\n        if (this._root.locale[prompt]) {\r\n            return this._root.locale[prompt];\r\n        }\r\n        // Try to look in default language\r\n        if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            return this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\r\n        }\r\n        // Fail - return empty function\r\n        return () => {\r\n            return \"\";\r\n        };\r\n    }\r\n    /**\r\n     * Translates a btach of prompts.\r\n     *\r\n     * @param  list    Array of prompts to translate\r\n     * @param  locale  Target locale\r\n     * @return         Array of translations\r\n     */\r\n    translateAll(list, locale) {\r\n        // Translate all items in the list\r\n        if (!this.isDefault()) {\r\n            return _Array__WEBPACK_IMPORTED_MODULE_3__.map(list, (x) => this.translate(x, locale));\r\n        }\r\n        else {\r\n            return list;\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    isDefault() {\r\n        return this.getPrivate(\"defaultLocale\") === this._root.locale;\r\n    }\r\n}\r\n//# sourceMappingURL=Language.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0xhbmd1YWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtDO0FBQ0E7QUFDRTtBQUNDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLDJDQUFNO0FBQ3BDO0FBQ0EseUNBQXlDLG1EQUFFO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVDQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvTGFuZ3VhZ2UuanM/NzkwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbmltcG9ydCBlbiBmcm9tIFwiLi4vLi4vLi4vbG9jYWxlcy9lblwiO1xyXG47XHJcbi8qKlxyXG4gKiBBZGQgbG9jYWxpemF0aW9uIGZ1bmN0aW9uYWxpdHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGFuZ3VhZ2UgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgX3NldERlZmF1bHRzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcImRlZmF1bHRMb2NhbGVcIiwgZW4pO1xyXG4gICAgICAgIHN1cGVyLl9zZXREZWZhdWx0cygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgcHJvbXB0IHRyYW5zbGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHByb21wdCAgIFByb21wdCB0byB0cmFuc2xhdGVcclxuICAgICAqIEBwYXJhbSAgIGxvY2FsZSAgIFRhcmdldCBsb2NhbGVcclxuICAgICAqIEBwYXJhbSAgIC4uLnJlc3QgIFBhcmFtZXRlcnNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgIFRyYW5zbGF0aW9uXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZShwcm9tcHQsIGxvY2FsZSwgLi4ucmVzdCkge1xyXG4gICAgICAgIC8vIEdldCBsYW5nYXVnZVxyXG4gICAgICAgIGlmICghbG9jYWxlKSB7XHJcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuX3Jvb3QubG9jYWxlIHx8IHRoaXMuZ2V0UHJpdmF0ZShcImRlZmF1bHRMb2NhbGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluaXQgdHJhbnNsYXRpb25cclxuICAgICAgICBsZXQgdHJhbnNsYXRpb24gPSBwcm9tcHQ7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gbG9jYWxlW3Byb21wdF07XHJcbiAgICAgICAgLy8gVHJ5IHRvIGxvb2sgZm9yIHRoZSB0cmFuc2xhdGlvblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0cmFuc2xhdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gSXQgbWlnaHQgYmUgYW4gZW1wdHkgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsb2NhbGUgIT09IHRoaXMuZ2V0UHJpdmF0ZShcImRlZmF1bHRMb2NhbGVcIikpIHtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGxvb2sgaW4gZGVmYXVsdCBsYW5ndWFnZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUocHJvbXB0LCB0aGlzLmdldFByaXZhdGUoXCJkZWZhdWx0TG9jYWxlXCIpLCAuLi5yZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVwbGFjZSAlMSwgJTIsIGV0YyBwYXJhbXNcclxuICAgICAgICBpZiAocmVzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbGVuID0gcmVzdC5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb24uc3BsaXQoXCIlXCIgKyAoaSArIDEpKS5qb2luKHJlc3RbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgdHJhbnNsYXRpb25cclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBwcm9tcHQgdHJhbnNsYXRpb24sIGluY2x1ZGluZyBjdXN0b20gcHJvbXB0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBwcm9tcHQgICBQcm9tcHQgdG8gdHJhbnNsYXRlXHJcbiAgICAgKiBAcGFyYW0gICBsb2NhbGUgICBUYXJnZXQgbG9jYWxlXHJcbiAgICAgKiBAcGFyYW0gICAuLi5yZXN0ICBQYXJhbWV0ZXJzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICBUcmFuc2xhdGlvblxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGVBbnkocHJvbXB0LCBsb2NhbGUsIC4uLnJlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUocHJvbXB0LCBsb2NhbGUsIC4uLnJlc3QpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBjdXN0b20gcHJvbXB0IHRvIGxvY2FsZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9sb2NhbGVzL2NyZWF0aW5nLXRyYW5zbGF0aW9ucy8jRXh0ZW5kaW5nX2xvY2FsZV93aXRoX2N1c3RvbV9wcm9tcHRzfVxyXG4gICAgICogQHBhcmFtICBwcm9tcHQgICAgICAgU291cmNlIHByb21wdFxyXG4gICAgICogQHBhcmFtICB0cmFuc2xhdGlvbiAgVGFuc2xhdGlvblxyXG4gICAgICogQHBhcmFtICBsb2NhbGUgICAgICAgVGFyZ2V0IGxvY2FsZVxyXG4gICAgICovXHJcbiAgICBzZXRUcmFuc2xhdGlvbkFueShwcm9tcHQsIHRyYW5zbGF0aW9uLCBsb2NhbGUpIHtcclxuICAgICAgICBjb25zdCBsb2NhbGVUYXJnZXQgPSBsb2NhbGUgfHwgdGhpcy5fcm9vdC5sb2NhbGU7XHJcbiAgICAgICAgbG9jYWxlVGFyZ2V0W3Byb21wdF0gPSB0cmFuc2xhdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgYmF0Y2ggb2YgY3VzdG9tIHByb21wdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDUuMy4zXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9sb2NhbGVzL2NyZWF0aW5nLXRyYW5zbGF0aW9ucy8jRXh0ZW5kaW5nX2xvY2FsZV93aXRoX2N1c3RvbV9wcm9tcHRzfVxyXG4gICAgICogQHBhcmFtICB0cmFuc2xhdGlvbnMgIFRyYW5zbGF0aW9uc1xyXG4gICAgICogQHBhcmFtICBsb2NhbGUgICAgICAgIFRhcmdldCBsb2NhbGVcclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNsYXRpb25zQW55KHRyYW5zbGF0aW9ucywgbG9jYWxlKSB7XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKHRyYW5zbGF0aW9ucywgKGtleSwgdmFsKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNsYXRpb25Bbnkoa2V5LCB2YWwsIGxvY2FsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0cmFuc2xhdGVFbXB0eShwcm9tcHQsIGxvY2FsZSwgLi4ucmVzdCkge1xyXG4gICAgICAgIGxldCB0cmFuc2xhdGlvbiA9IHRoaXMudHJhbnNsYXRlKHByb21wdCwgbG9jYWxlLCAuLi5yZXN0KTtcclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb24gPT0gcHJvbXB0ID8gXCJcIiA6IHRyYW5zbGF0aW9uO1xyXG4gICAgfVxyXG4gICAgdHJhbnNsYXRlRnVuYyhwcm9tcHQsIGxvY2FsZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9yb290LmxvY2FsZVtwcm9tcHRdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb290LmxvY2FsZVtwcm9tcHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcnkgdG8gbG9vayBpbiBkZWZhdWx0IGxhbmd1YWdlXHJcbiAgICAgICAgaWYgKGxvY2FsZSAhPT0gdGhpcy5nZXRQcml2YXRlKFwiZGVmYXVsdExvY2FsZVwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVGdW5jKHByb21wdCwgdGhpcy5nZXRQcml2YXRlKFwiZGVmYXVsdExvY2FsZVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZhaWwgLSByZXR1cm4gZW1wdHkgZnVuY3Rpb25cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGVzIGEgYnRhY2ggb2YgcHJvbXB0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIGxpc3QgICAgQXJyYXkgb2YgcHJvbXB0cyB0byB0cmFuc2xhdGVcclxuICAgICAqIEBwYXJhbSAgbG9jYWxlICBUYXJnZXQgbG9jYWxlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgQXJyYXkgb2YgdHJhbnNsYXRpb25zXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZUFsbChsaXN0LCBsb2NhbGUpIHtcclxuICAgICAgICAvLyBUcmFuc2xhdGUgYWxsIGl0ZW1zIGluIHRoZSBsaXN0XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRGVmYXVsdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkYXJyYXkubWFwKGxpc3QsICh4KSA9PiB0aGlzLnRyYW5zbGF0ZSh4LCBsb2NhbGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBsb2NhbGUgaXMgYSBkZWZhdWx0IGxvY2FsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIGB0cnVlYCBpZiBsb2NhbGUgaXMgZGVmYXVsdDsgYGZhbHNlYCBpZiBpdCBpcyBub3QuXHJcbiAgICAgKi9cclxuICAgIGlzRGVmYXVsdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcml2YXRlKFwiZGVmYXVsdExvY2FsZVwiKSA9PT0gdGhpcy5fcm9vdC5sb2NhbGU7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFuZ3VhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/List.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   List: () => (/* binding */ List),\n/* harmony export */   ListAutoDispose: () => (/* binding */ ListAutoDispose),\n/* harmony export */   ListTemplate: () => (/* binding */ ListTemplate)\n/* harmony export */ });\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n * @ignore\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nclass List {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    constructor(initial = []) {\r\n        /**\r\n         * List values.\r\n         */\r\n        Object.defineProperty(this, \"_values\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher()\r\n        });\r\n        this._values = initial;\r\n    }\r\n    /**\r\n     * An array of values in the list.\r\n     *\r\n     * Do not use this property to add values. Rather use dedicated methods, like\r\n     * `push()`, `removeIndex()`, etc.\r\n     *\r\n     * @readonly\r\n     * @return List values\r\n     */\r\n    get values() {\r\n        return this._values;\r\n    }\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    contains(value) {\r\n        return this._values.indexOf(value) !== -1;\r\n    }\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    removeValue(value) {\r\n        let i = 0;\r\n        let length = this._values.length;\r\n        while (i < length) {\r\n            // TODO handle NaN\r\n            if (this._values[i] === value) {\r\n                this.removeIndex(i);\r\n                --length;\r\n            }\r\n            else {\r\n                ++i;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    indexOf(value) {\r\n        return _Array__WEBPACK_IMPORTED_MODULE_1__.indexOf(this._values, value);\r\n    }\r\n    /**\r\n     * Number of items in list.\r\n     *\r\n     * @readonly\r\n     * @return Number of items\r\n     */\r\n    get length() {\r\n        return this._values.length;\r\n    }\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    hasIndex(index) {\r\n        return index >= 0 && index < this._values.length;\r\n    }\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    getIndex(index) {\r\n        return this._values[index];\r\n    }\r\n    _onPush(newValue) {\r\n        if (this.events.isEnabled(\"push\")) {\r\n            this.events.dispatch(\"push\", {\r\n                type: \"push\",\r\n                target: this,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatch(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.events.isEnabled(\"setIndex\")) {\r\n            this.events.dispatch(\"setIndex\", {\r\n                type: \"setIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.events.isEnabled(\"removeIndex\")) {\r\n            this.events.dispatch(\"removeIndex\", {\r\n                type: \"removeIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue\r\n            });\r\n        }\r\n    }\r\n    _onMoveIndex(oldIndex, newIndex, value) {\r\n        if (this.events.isEnabled(\"moveIndex\")) {\r\n            this.events.dispatch(\"moveIndex\", {\r\n                type: \"moveIndex\",\r\n                target: this,\r\n                oldIndex,\r\n                newIndex,\r\n                value,\r\n            });\r\n        }\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.events.isEnabled(\"clear\")) {\r\n            this.events.dispatch(\"clear\", {\r\n                type: \"clear\",\r\n                target: this,\r\n                oldValues\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    setIndex(index, value) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        // Do nothing if the old value and the new value are the same\r\n        if (oldValue !== value) {\r\n            this._values[index] = value;\r\n            this._onSetIndex(index, oldValue, value);\r\n        }\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    insertIndex(index, value) {\r\n        checkBounds(index, this._values.length + 1);\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.insertIndex(this._values, index, value);\r\n        this._onInsertIndex(index, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    swap(a, b) {\r\n        const len = this._values.length;\r\n        checkBounds(a, len);\r\n        checkBounds(b, len);\r\n        if (a !== b) {\r\n            const value_a = this._values[a];\r\n            const value_b = this._values[b];\r\n            this._values[a] = value_b;\r\n            this._onSetIndex(a, value_a, value_b);\r\n            this._values[b] = value_a;\r\n            this._onSetIndex(b, value_b, value_a);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    removeIndex(index) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.removeIndex(this._values, index);\r\n        this._onRemoveIndex(index, oldValue);\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    moveValue(value, toIndex) {\r\n        // TODO don't do anything if the desired index is the same as the current index\r\n        let index = this.indexOf(value);\r\n        // TODO remove all old values rather than only the first ?\r\n        if (index !== -1) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeIndex(this._values, index);\r\n            if (toIndex == null) {\r\n                const toIndex = this._values.length;\r\n                this._values.push(value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n            else {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.insertIndex(this._values, toIndex, value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n        }\r\n        else if (toIndex == null) {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        }\r\n        else {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.insertIndex(this._values, toIndex, value);\r\n            this._onInsertIndex(toIndex, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    push(value) {\r\n        this._values.push(value);\r\n        this._onPush(value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    unshift(value) {\r\n        this.insertIndex(0, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    pushAll(values) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(values, (value) => {\r\n            this.push(value);\r\n        });\r\n    }\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    copyFrom(source) {\r\n        this.pushAll(source._values);\r\n    }\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    pop() {\r\n        let index = this._values.length - 1;\r\n        return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n    }\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    shift() {\r\n        return this._values.length ? this.removeIndex(0) : undefined;\r\n    }\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    setAll(newArray) {\r\n        const old = this._values;\r\n        this._values = [];\r\n        this._onClear(old);\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(newArray, (value) => {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        });\r\n    }\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    clear() {\r\n        this.setAll([]);\r\n    }\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    *[Symbol.iterator]() {\r\n        const length = this._values.length;\r\n        for (let i = 0; i < length; ++i) {\r\n            yield this._values[i];\r\n        }\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    each(f) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._values, f);\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list, from right to left.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    eachReverse(f) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(this._values, f);\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] where the elements are disposed automatically when\r\n * removed from the list, unless `autoDispose` is set to `false`.\r\n */\r\nclass ListAutoDispose extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Automatically disposes elements that are removed from the list.\r\n         *\r\n         * @default true\r\n         */\r\n        Object.defineProperty(this, \"autoDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onRemoveIndex(index, oldValue);\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.autoDispose) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(oldValues, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n        super._onClear(oldValues);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            if (this.autoDispose) {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._values, (x) => {\r\n                    x.dispose();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] that is able to create new elements as well as\r\n * apply additional settings to newly created items.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/list-templates/} for more info\r\n */\r\nclass ListTemplate extends ListAutoDispose {\r\n    constructor(template, make) {\r\n        super();\r\n        Object.defineProperty(this, \"template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"make\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.template = template;\r\n        this.make = make;\r\n    }\r\n}\r\n//# sourceMappingURL=List.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0xpc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0Q7QUFDbEI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFlO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQWtCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQ0FBa0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQ0FBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQ0FBa0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdDQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBFQUEwRTtBQUNuRjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvTGlzdC5qcz9lMWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuLyoqXHJcbiAqIENoZWNrcyBpZiBzcGVjaWZpYyBpbmRleCBmaXRzIGludG8gbGVuZ3RoLlxyXG4gKlxyXG4gKiBAcGFyYW0gaW5kZXggIEluZGV4XHJcbiAqIEBwYXJhbSBsZW4gICAgTGVuZ3RoXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrQm91bmRzKGluZGV4LCBsZW4pIHtcclxuICAgIGlmICghKGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW4pKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggb3V0IG9mIGJvdW5kczogXCIgKyBpbmRleCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgTGlzdCBjbGFzcyBpcyB1c2VkIHRvIGhvbGQgYSBudW1iZXIgb2YgaW5kZXhlZCBpdGVtcyBvZiB0aGUgc2FtZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpc3Qge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbml0aWFsICBJbml0YWwgbGlzdCBvZiB2YWx1ZXMgdG8gYWRkIHRvIGxpc3RcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbCA9IFtdKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCB2YWx1ZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZhbHVlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJldmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IEV2ZW50RGlzcGF0Y2hlcigpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzID0gaW5pdGlhbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQW4gYXJyYXkgb2YgdmFsdWVzIGluIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIERvIG5vdCB1c2UgdGhpcyBwcm9wZXJ0eSB0byBhZGQgdmFsdWVzLiBSYXRoZXIgdXNlIGRlZGljYXRlZCBtZXRob2RzLCBsaWtlXHJcbiAgICAgKiBgcHVzaCgpYCwgYHJlbW92ZUluZGV4KClgLCBldGMuXHJcbiAgICAgKlxyXG4gICAgICogQHJlYWRvbmx5XHJcbiAgICAgKiBAcmV0dXJuIExpc3QgdmFsdWVzXHJcbiAgICAgKi9cclxuICAgIGdldCB2YWx1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGxpc3QgY29udGFpbnMgc3BlY2lmaWMgaXRlbSByZWZlcmVuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEl0ZW0gdG8gc2VhcmNoIGZvclxyXG4gICAgICogQHJldHVybiBgdHJ1ZWAgaWYgZm91bmQsIGBmYWxzZWAgaWYgbm90IGZvdW5kXHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5zKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgc3BlY2lmaWMgaXRlbSBmcm9tIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpdGVtIEFuIGl0ZW0gdG8gcmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLl92YWx1ZXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIE5hTlxyXG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWVzW2ldID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVJbmRleChpKTtcclxuICAgICAgICAgICAgICAgIC0tbGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWFyY2hlcyB0aGUgbGlzdCBmb3Igc3BlY2lmaWMgaXRlbSBhbmQgcmV0dXJucyBpdHMgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEFuIGl0ZW0gdG8gc2VhcmNoIGZvclxyXG4gICAgICogQHJldHVybiBJbmRleCBvciAtMSBpZiBub3QgZm91bmRcclxuICAgICAqL1xyXG4gICAgaW5kZXhPZih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAkYXJyYXkuaW5kZXhPZih0aGlzLl92YWx1ZXMsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTnVtYmVyIG9mIGl0ZW1zIGluIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJlYWRvbmx5XHJcbiAgICAgKiBAcmV0dXJuIE51bWJlciBvZiBpdGVtc1xyXG4gICAgICovXHJcbiAgICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlcmUncyBhIHZhbHVlIGF0IHNwZWNpZmljIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCAgSW5kZXhcclxuICAgICAqIEByZXR1cm4gVmFsdWUgZXhpc3RzP1xyXG4gICAgICovXHJcbiAgICBoYXNJbmRleChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fdmFsdWVzLmxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBpdGVtIGF0IHNwZWNpZmllZCBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggIEluZGV4XHJcbiAgICAgKiBAcmV0dXJuIExpc3QgaXRlbVxyXG4gICAgICovXHJcbiAgICBnZXRJbmRleChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgX29uUHVzaChuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJwdXNoXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKFwicHVzaFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInB1c2hcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9vbkluc2VydEluZGV4KGluZGV4LCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJpbnNlcnRJbmRleFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcImluc2VydEluZGV4XCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5zZXJ0SW5kZXhcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX29uU2V0SW5kZXgoaW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJzZXRJbmRleFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcInNldEluZGV4XCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0SW5kZXhcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfb25SZW1vdmVJbmRleChpbmRleCwgb2xkVmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwicmVtb3ZlSW5kZXhcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJyZW1vdmVJbmRleFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlbW92ZUluZGV4XCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9vbk1vdmVJbmRleChvbGRJbmRleCwgbmV3SW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZChcIm1vdmVJbmRleFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcIm1vdmVJbmRleFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1vdmVJbmRleFwiLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb2xkSW5kZXgsXHJcbiAgICAgICAgICAgICAgICBuZXdJbmRleCxcclxuICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfb25DbGVhcihvbGRWYWx1ZXMpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwiY2xlYXJcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJjbGVhclwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNsZWFyXCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHZhbHVlIGF0IHNwZWNpZmljIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZXJlJ3MgYWxyZWFkeSBhIHZhbHVlIGF0IHRoZSBpbmRleCwgaXQgaXMgb3ZlcndyaXR0ZW4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4ICBJbmRleFxyXG4gICAgICogQHBhcmFtIHZhbHVlICBOZXcgdmFsdWVcclxuICAgICAqIEByZXR1cm4gTmV3IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldEluZGV4KGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGNoZWNrQm91bmRzKGluZGV4LCB0aGlzLl92YWx1ZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuX3ZhbHVlc1tpbmRleF07XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGUgb2xkIHZhbHVlIGFuZCB0aGUgbmV3IHZhbHVlIGFyZSB0aGUgc2FtZVxyXG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9vblNldEluZGV4KGluZGV4LCBvbGRWYWx1ZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2xkVmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGUgbGlzdCBhdCBhIHNwZWNpZmljIGluZGV4LCB3aGljaCBwdXNoZXMgYWxsIHRoZSBvdGhlclxyXG4gICAgICogaXRlbXMgZnVydGhlciBkb3duIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleFxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEFuIGl0ZW0gdG8gYWRkXHJcbiAgICAgKi9cclxuICAgIGluc2VydEluZGV4KGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGNoZWNrQm91bmRzKGluZGV4LCB0aGlzLl92YWx1ZXMubGVuZ3RoICsgMSk7XHJcbiAgICAgICAgJGFycmF5Lmluc2VydEluZGV4KHRoaXMuX3ZhbHVlcywgaW5kZXgsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9vbkluc2VydEluZGV4KGluZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwcyBpbmRleGVzIG9mIHR3byBpdGVtcyBpbiB0aGUgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSAgSXRlbSAxXHJcbiAgICAgKiBAcGFyYW0gYiAgSXRlbSAyXHJcbiAgICAgKi9cclxuICAgIHN3YXAoYSwgYikge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuX3ZhbHVlcy5sZW5ndGg7XHJcbiAgICAgICAgY2hlY2tCb3VuZHMoYSwgbGVuKTtcclxuICAgICAgICBjaGVja0JvdW5kcyhiLCBsZW4pO1xyXG4gICAgICAgIGlmIChhICE9PSBiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlX2EgPSB0aGlzLl92YWx1ZXNbYV07XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlX2IgPSB0aGlzLl92YWx1ZXNbYl07XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1thXSA9IHZhbHVlX2I7XHJcbiAgICAgICAgICAgIHRoaXMuX29uU2V0SW5kZXgoYSwgdmFsdWVfYSwgdmFsdWVfYik7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tiXSA9IHZhbHVlX2E7XHJcbiAgICAgICAgICAgIHRoaXMuX29uU2V0SW5kZXgoYiwgdmFsdWVfYiwgdmFsdWVfYSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgdmFsdWUgYXQgc3BlY2lmaWMgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4ICBJbmRleCBvZiB2YWx1ZSB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm4gUmVtb3ZlZCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVJbmRleChpbmRleCkge1xyXG4gICAgICAgIGNoZWNrQm91bmRzKGluZGV4LCB0aGlzLl92YWx1ZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuX3ZhbHVlc1tpbmRleF07XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZUluZGV4KHRoaXMuX3ZhbHVlcywgaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuX29uUmVtb3ZlSW5kZXgoaW5kZXgsIG9sZFZhbHVlKTtcclxuICAgICAgICByZXR1cm4gb2xkVmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1vdmVzIGFuIGl0ZW0gdG8gYSBzcGVjaWZpYyBpbmRleCB3aXRoaW4gdGhlIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogSWYgdGhlIGluZGV4IGlzIG5vdCBzcGVjaWZpZWQgaXQgd2lsbCBtb3ZlIHRoZSBpdGVtIHRvIHRoZSBlbmQgb2YgdGhlXHJcbiAgICAgKiBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgSXRlbSB0byBtb3ZlXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggIEluZGV4IHRvIHBsYWNlIGl0ZW0gYXRcclxuICAgICAqL1xyXG4gICAgbW92ZVZhbHVlKHZhbHVlLCB0b0luZGV4KSB7XHJcbiAgICAgICAgLy8gVE9ETyBkb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgZGVzaXJlZCBpbmRleCBpcyB0aGUgc2FtZSBhcyB0aGUgY3VycmVudCBpbmRleFxyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgLy8gVE9ETyByZW1vdmUgYWxsIG9sZCB2YWx1ZXMgcmF0aGVyIHRoYW4gb25seSB0aGUgZmlyc3QgP1xyXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUluZGV4KHRoaXMuX3ZhbHVlcywgaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAodG9JbmRleCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b0luZGV4ID0gdGhpcy5fdmFsdWVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uTW92ZUluZGV4KGluZGV4LCB0b0luZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuaW5zZXJ0SW5kZXgodGhpcy5fdmFsdWVzLCB0b0luZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbk1vdmVJbmRleChpbmRleCwgdG9JbmRleCwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvSW5kZXggPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkYXJyYXkuaW5zZXJ0SW5kZXgodGhpcy5fdmFsdWVzLCB0b0luZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uSW5zZXJ0SW5kZXgodG9JbmRleCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpdGVtICBBbiBpdGVtIHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBwdXNoKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgIHRoaXMuX29uUHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGFuIGl0ZW0gYXMgYSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpdGVtICBBbiBpdGVtIHRvIGFkZFxyXG4gICAgICovXHJcbiAgICB1bnNoaWZ0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5pbnNlcnRJbmRleCgwLCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIG11bHRpcGxlIGl0ZW1zIHRvIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpdGVtcyAgQW4gQXJyYXkgb2YgaXRlbXMgdG8gYWRkXHJcbiAgICAgKi9cclxuICAgIHB1c2hBbGwodmFsdWVzKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2godmFsdWVzLCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29waWVzIGFuZCBhZGRzIGl0ZW1zIGZyb20gYWJvdGhlciBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzb3VyY2UgIEEgbGlzdCB0b3AgY29weSBpdGVtcyBmcm9tXHJcbiAgICAgKi9cclxuICAgIGNvcHlGcm9tKHNvdXJjZSkge1xyXG4gICAgICAgIHRoaXMucHVzaEFsbChzb3VyY2UuX3ZhbHVlcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGxhc3QgaXRlbSBmcm9tIHRoZSBsaXN0LCBhbmQgcmVtb3ZlcyBpdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIEl0ZW1cclxuICAgICAqL1xyXG4gICAgcG9wKCkge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX3ZhbHVlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiB0aGlzLnJlbW92ZUluZGV4KHRoaXMuX3ZhbHVlcy5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgaXRlbSBmcm9tIHRoZSBsaXN0LCBhbmQgcmVtb3ZlcyBpdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIEl0ZW1cclxuICAgICAqL1xyXG4gICAgc2hpZnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGggPyB0aGlzLnJlbW92ZUluZGV4KDApIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIG11bHRpcGxlIGl0ZW1zIHRvIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEFsbCBjdXJyZW50IGl0ZW1zIGFyZSByZW1vdmVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZXdBcnJheSAgTmV3IGl0ZW1zXHJcbiAgICAgKi9cclxuICAgIHNldEFsbChuZXdBcnJheSkge1xyXG4gICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX3ZhbHVlcztcclxuICAgICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9vbkNsZWFyKG9sZCk7XHJcbiAgICAgICAgJGFycmF5LmVhY2gobmV3QXJyYXksICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGl0ZW1zIGZyb20gdGhlIGxpc3QuXHJcbiAgICAgKi9cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuc2V0QWxsKFtdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBFUzYgaXRlcmF0b3IgZm9yIHRoZSBsaXN0LlxyXG4gICAgICovXHJcbiAgICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5fdmFsdWVzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuX3ZhbHVlc1tpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxzIGBmYCBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIGBmYCBzaG91bGQgaGF2ZSBhdCBsZWFzdCBvbmUgcGFyYW1ldGVyIGRlZmluZWQgd2hpY2ggd2lsbCBnZXQgYSBjdXJyZW50XHJcbiAgICAgKiBpdGVtLCB3aXRoIG9wdGlvbmFsIHNlY29uZCBhcmd1bWVudCAtIGluZGV4LlxyXG4gICAgICovXHJcbiAgICBlYWNoKGYpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZXMsIGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxscyBgZmAgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgbGlzdCwgZnJvbSByaWdodCB0byBsZWZ0LlxyXG4gICAgICpcclxuICAgICAqIGBmYCBzaG91bGQgaGF2ZSBhdCBsZWFzdCBvbmUgcGFyYW1ldGVyIGRlZmluZWQgd2hpY2ggd2lsbCBnZXQgYSBjdXJyZW50XHJcbiAgICAgKiBpdGVtLCB3aXRoIG9wdGlvbmFsIHNlY29uZCBhcmd1bWVudCAtIGluZGV4LlxyXG4gICAgICovXHJcbiAgICBlYWNoUmV2ZXJzZShmKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2hSZXZlcnNlKHRoaXMuX3ZhbHVlcywgZik7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgdmVyc2lvbiBvZiBhIFtbTGlzdF1dIHdoZXJlIHRoZSBlbGVtZW50cyBhcmUgZGlzcG9zZWQgYXV0b21hdGljYWxseSB3aGVuXHJcbiAqIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCwgdW5sZXNzIGBhdXRvRGlzcG9zZWAgaXMgc2V0IHRvIGBmYWxzZWAuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGlzdEF1dG9EaXNwb3NlIGV4dGVuZHMgTGlzdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEF1dG9tYXRpY2FsbHkgZGlzcG9zZXMgZWxlbWVudHMgdGhhdCBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF1dG9EaXNwb3NlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9vblNldEluZGV4KGluZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5hdXRvRGlzcG9zZSkge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLl9vblNldEluZGV4KGluZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uUmVtb3ZlSW5kZXgoaW5kZXgsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Rpc3Bvc2UpIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fb25SZW1vdmVJbmRleChpbmRleCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uQ2xlYXIob2xkVmFsdWVzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Rpc3Bvc2UpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2gob2xkVmFsdWVzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fb25DbGVhcihvbGRWYWx1ZXMpO1xyXG4gICAgfVxyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvRGlzcG9zZSkge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdmFsdWVzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHguZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgdmVyc2lvbiBvZiBhIFtbTGlzdF1dIHRoYXQgaXMgYWJsZSB0byBjcmVhdGUgbmV3IGVsZW1lbnRzIGFzIHdlbGwgYXNcclxuICogYXBwbHkgYWRkaXRpb25hbCBzZXR0aW5ncyB0byBuZXdseSBjcmVhdGVkIGl0ZW1zLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy9saXN0LXRlbXBsYXRlcy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMaXN0VGVtcGxhdGUgZXh0ZW5kcyBMaXN0QXV0b0Rpc3Bvc2Uge1xyXG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIG1ha2UpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRlbXBsYXRlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1ha2VcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMubWFrZSA9IG1ha2U7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGlzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEGREES: () => (/* binding */ DEGREES),\n/* harmony export */   HALFPI: () => (/* binding */ HALFPI),\n/* harmony export */   PI: () => (/* binding */ PI),\n/* harmony export */   RADIANS: () => (/* binding */ RADIANS),\n/* harmony export */   boundsOverlap: () => (/* binding */ boundsOverlap),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   circlesOverlap: () => (/* binding */ circlesOverlap),\n/* harmony export */   closest: () => (/* binding */ closest),\n/* harmony export */   cos: () => (/* binding */ cos),\n/* harmony export */   fitAngleToRange: () => (/* binding */ fitAngleToRange),\n/* harmony export */   fitToRange: () => (/* binding */ fitToRange),\n/* harmony export */   getAngle: () => (/* binding */ getAngle),\n/* harmony export */   getArcBounds: () => (/* binding */ getArcBounds),\n/* harmony export */   getArcPoint: () => (/* binding */ getArcPoint),\n/* harmony export */   getCubicControlPointA: () => (/* binding */ getCubicControlPointA),\n/* harmony export */   getCubicControlPointB: () => (/* binding */ getCubicControlPointB),\n/* harmony export */   getPointOnLine: () => (/* binding */ getPointOnLine),\n/* harmony export */   getPointOnQuadraticCurve: () => (/* binding */ getPointOnQuadraticCurve),\n/* harmony export */   inBounds: () => (/* binding */ inBounds),\n/* harmony export */   mergeBounds: () => (/* binding */ mergeBounds),\n/* harmony export */   normalizeAngle: () => (/* binding */ normalizeAngle),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   sin: () => (/* binding */ sin),\n/* harmony export */   spiralPoints: () => (/* binding */ spiralPoints),\n/* harmony export */   tan: () => (/* binding */ tan)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nconst PI = Math.PI;\r\nconst HALFPI = PI / 2;\r\nconst RADIANS = PI / 180;\r\nconst DEGREES = 180 / PI;\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nfunction round(value, precision, floor) {\r\n    if (!(0,_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber)(precision) || precision <= 0) {\r\n        let rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nfunction ceil(value, precision) {\r\n    if (!(0,_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber)(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nfunction getCubicControlPointA(p0, p1, p2, tensionX, tensionY) {\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nfunction getCubicControlPointB(p1, p2, p3, tensionX, tensionY) {\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\nfunction fitToRange(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n/**\r\n * Returns sine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nfunction sin(angle) {\r\n    return Math.sin(RADIANS * angle);\r\n}\r\n/**\r\n * Returns tan of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nfunction tan(angle) {\r\n    return Math.tan(RADIANS * angle);\r\n}\r\n/**\r\n * Returns cosine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nfunction cos(angle) {\r\n    return Math.cos(RADIANS * angle);\r\n}\r\n// 0 to 360\r\nfunction normalizeAngle(value) {\r\n    value = value % 360;\r\n    if (value < 0) {\r\n        value += 360;\r\n    }\r\n    return value;\r\n}\r\n// TODO this doesn't work properly for skewing, and it's probably broken for rotation too\r\nfunction getArcBounds(cx, cy, startAngle, endAngle, radius) {\r\n    let minX = Number.MAX_VALUE;\r\n    let minY = Number.MAX_VALUE;\r\n    let maxX = -Number.MAX_VALUE;\r\n    let maxY = -Number.MAX_VALUE;\r\n    let bpoints = [];\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    let fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    let toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (let angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (let i = 0; i < bpoints.length; i++) {\r\n        let pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ left: cx + minX, top: cy + minY, right: cx + maxX, bottom: cy + maxY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nfunction getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\nfunction mergeBounds(bounds) {\r\n    const len = bounds.length;\r\n    if (len > 0) {\r\n        let bound = bounds[0];\r\n        let left = bound.left;\r\n        let top = bound.top;\r\n        let right = bound.right;\r\n        let bottom = bound.bottom;\r\n        if (len > 1) {\r\n            for (let i = 1; i < len; i++) {\r\n                bound = bounds[i];\r\n                left = Math.min(bound.left, left);\r\n                right = Math.max(bound.right, right);\r\n                top = Math.min(bound.top, top);\r\n                bottom = Math.max(bound.bottom, bottom);\r\n            }\r\n        }\r\n        return { left, right, top, bottom };\r\n    }\r\n    return { left: 0, right: 0, top: 0, bottom: 0 };\r\n}\r\nfunction fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        let temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    let count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    let maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    let maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nfunction inBounds(point, bounds) {\r\n    if (point.x >= bounds.left && point.y >= bounds.top && point.x <= bounds.right && point.y <= bounds.bottom) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    let diffX = point2.x - point1.x;\r\n    let diffY = point2.y - point1.y;\r\n    let angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nfunction getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    let x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    let y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\nfunction getPointOnLine(pointA, pointB, position) {\r\n    return { x: pointA.x + (pointB.x - pointA.x) * position, y: pointA.y + (pointB.y - pointA.y) * position };\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nfunction closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\n/**\r\n * Returns true if bounds overlap\r\n * @param bounds1 IBounds\r\n * @param bounds2 IBounds\r\n * @returns boolean\r\n */\r\nfunction boundsOverlap(bounds1, bounds2) {\r\n    const horizontalOverlap = bounds1.left < bounds2.right && bounds1.right > bounds2.left;\r\n    const verticalOverlap = bounds1.top < bounds2.bottom && bounds1.bottom > bounds2.top;\r\n    return horizontalOverlap && verticalOverlap;\r\n}\r\n/**\r\n * Generates points of a spiral\r\n * @param cx\r\n * @param cy\r\n * @param radius\r\n * @param radiusY\r\n * @param innerRadius\r\n * @param step\r\n * @param radiusStep\r\n * @param startAngle\r\n * @param endAngle\r\n * @returns IPoint[]\r\n */\r\nfunction spiralPoints(cx, cy, radius, radiusY, innerRadius, step, radiusStep, startAngle, endAngle) {\r\n    let r = innerRadius + 0.01;\r\n    let angle = startAngle * RADIANS;\r\n    let points = [];\r\n    while (r < radius + radiusStep) {\r\n        let stepSize = step;\r\n        if (stepSize / 2 > r) {\r\n            stepSize = 2 * r;\r\n        }\r\n        angle += 2 * Math.asin(stepSize / 2 / r);\r\n        if (angle * DEGREES > endAngle + ((radius - innerRadius) / radiusStep) * 360) {\r\n            break;\r\n        }\r\n        let degrees = angle * DEGREES;\r\n        let point = { x: cx + r * Math.cos(angle), y: cy + r * radiusY / radius * Math.sin(angle) };\r\n        points.push(point);\r\n        r = innerRadius + degrees / 360 * radiusStep;\r\n    }\r\n    points.shift();\r\n    return points;\r\n}\r\n/**\r\n * Returns true if circles overlap\r\n * @param circle1\r\n * @param circle2\r\n * @returns boolean\r\n */\r\nfunction circlesOverlap(circle1, circle2) {\r\n    return Math.hypot(circle1.x - circle2.x, circle1.y - circle2.y) <= circle1.radius + circle2.radius;\r\n}\r\n//# sourceMappingURL=Math.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxTQUFTLCtDQUFRO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFNBQVMsK0NBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtCQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0VBQXNFO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxjQUFjLDRDQUE0QztBQUMxRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9NYXRoLmpzP2NkZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tIFwiLi9UeXBlXCI7XHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIENPTlNUQU5UU1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBjb25zdCBQSSA9IE1hdGguUEk7XHJcbmV4cG9ydCBjb25zdCBIQUxGUEkgPSBQSSAvIDI7XHJcbmV4cG9ydCBjb25zdCBSQURJQU5TID0gUEkgLyAxODA7XHJcbmV4cG9ydCBjb25zdCBERUdSRUVTID0gMTgwIC8gUEk7XHJcbi8qKlxyXG4gKiBSb3VuZHMgdGhlIG51bWVyaWMgdmFsdWUgdG8gd2hvbGUgbnVtYmVyIG9yIHNwZWNpZmljIHByZWNpc2lvbiBvZiBzZXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgICAgIFZhbHVlXHJcbiAqIEBwYXJhbSBwcmVjaXNpb24gIFByZWNpc2lvbiAobnVtYmVyIG9mIGRlY2ltYWwgcG9pbnRzKVxyXG4gKiBAcGFyYW0gZmxvb3IgIEluIGNhc2UgdmFsdWUgZW5kcyB3aXRoIDAuNSBhbmQgcHJlY2lzaW9uIGlzIDAsIHdlIG1pZ2h0IG5lZWQgdG8gZmxvb3IgdGhlIHZhbHVlIGluc3RlYWQgb2YgY2VpbGluZyBpdC5cclxuICogQHJldHVybiBSb3VuZGVkIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcm91bmQodmFsdWUsIHByZWNpc2lvbiwgZmxvb3IpIHtcclxuICAgIGlmICghaXNOdW1iZXIocHJlY2lzaW9uKSB8fCBwcmVjaXNpb24gPD0gMCkge1xyXG4gICAgICAgIGxldCByb3VuZGVkID0gTWF0aC5yb3VuZCh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKGZsb29yKSB7XHJcbiAgICAgICAgICAgIGlmIChyb3VuZGVkIC0gdmFsdWUgPT0gMC41KSB7XHJcbiAgICAgICAgICAgICAgICByb3VuZGVkLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvdW5kZWQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgZCA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogZCkgLyBkO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDZWlscyB0aGUgbnVtZXJpYyB2YWx1ZSB0byB3aG9sZSBudW1iZXIgb3Igc3BlY2lmaWMgcHJlY2lzaW9uIG9mIHNldC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICAgICAgVmFsdWVcclxuICogQHBhcmFtIHByZWNpc2lvbiAgUHJlY2lzaW9uIChudW1iZXIgb2YgZGVjaW1hbCBwb2ludHMpXHJcbiAqIEByZXR1cm4gUm91bmRlZCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwodmFsdWUsIHByZWNpc2lvbikge1xyXG4gICAgaWYgKCFpc051bWJlcihwcmVjaXNpb24pIHx8IHByZWNpc2lvbiA8PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgZCA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwodmFsdWUgKiBkKSAvIGQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFtnZXRDdWJpY0NvbnRyb2xQb2ludEEgZGVzY3JpcHRpb25dXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHRvZG8gRGVzY3JpcHRpb25cclxuICogQHBhcmFtIHAwICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSBwMSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gcDIgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHAzICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSB0ZW5zaW9uWCAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gdGVuc2lvblkgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3ViaWNDb250cm9sUG9pbnRBKHAwLCBwMSwgcDIsIHRlbnNpb25YLCB0ZW5zaW9uWSkge1xyXG4gICAgcmV0dXJuIHsgeDogKCgtcDAueCArIHAxLnggLyB0ZW5zaW9uWCArIHAyLngpICogdGVuc2lvblgpLCB5OiAoKC1wMC55ICsgcDEueSAvIHRlbnNpb25ZICsgcDIueSkgKiB0ZW5zaW9uWSkgfTtcclxufVxyXG4vKipcclxuICogW2dldEN1YmljQ29udHJvbFBvaW50QiBkZXNjcmlwdGlvbl1cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKiBAcGFyYW0gcDAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHAxICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSBwMiAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gcDMgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHRlbnNpb25YICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSB0ZW5zaW9uWSAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdWJpY0NvbnRyb2xQb2ludEIocDEsIHAyLCBwMywgdGVuc2lvblgsIHRlbnNpb25ZKSB7XHJcbiAgICByZXR1cm4geyB4OiAoKHAxLnggKyBwMi54IC8gdGVuc2lvblggLSBwMy54KSAqIHRlbnNpb25YKSwgeTogKChwMS55ICsgcDIueSAvIHRlbnNpb25ZIC0gcDMueSkgKiB0ZW5zaW9uWSkgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZml0VG9SYW5nZSh2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBzaW5lIG9mIGFuIGFuZ2xlIHNwZWNpZmllZCBpbiBkZWdyZWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIFZhbHVlXHJcbiAqIEByZXR1cm4gU2luZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbihhbmdsZSkge1xyXG4gICAgcmV0dXJuIE1hdGguc2luKFJBRElBTlMgKiBhbmdsZSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGFuIG9mIGFuIGFuZ2xlIHNwZWNpZmllZCBpbiBkZWdyZWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIFZhbHVlXHJcbiAqIEByZXR1cm4gU2luZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRhbihhbmdsZSkge1xyXG4gICAgcmV0dXJuIE1hdGgudGFuKFJBRElBTlMgKiBhbmdsZSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgY29zaW5lIG9mIGFuIGFuZ2xlIHNwZWNpZmllZCBpbiBkZWdyZWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIFZhbHVlXHJcbiAqIEByZXR1cm4gQ29zaW5lXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29zKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gTWF0aC5jb3MoUkFESUFOUyAqIGFuZ2xlKTtcclxufVxyXG4vLyAwIHRvIDM2MFxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplQW5nbGUodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdmFsdWUgJSAzNjA7XHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgICAgdmFsdWUgKz0gMzYwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbi8vIFRPRE8gdGhpcyBkb2Vzbid0IHdvcmsgcHJvcGVybHkgZm9yIHNrZXdpbmcsIGFuZCBpdCdzIHByb2JhYmx5IGJyb2tlbiBmb3Igcm90YXRpb24gdG9vXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmNCb3VuZHMoY3gsIGN5LCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgcmFkaXVzKSB7XHJcbiAgICBsZXQgbWluWCA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICBsZXQgbWluWSA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICBsZXQgbWF4WCA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgbGV0IG1heFkgPSAtTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIGxldCBicG9pbnRzID0gW107XHJcbiAgICBicG9pbnRzLnB1c2goZ2V0QXJjUG9pbnQocmFkaXVzLCBzdGFydEFuZ2xlKSk7XHJcbiAgICBicG9pbnRzLnB1c2goZ2V0QXJjUG9pbnQocmFkaXVzLCBlbmRBbmdsZSkpO1xyXG4gICAgbGV0IGZyb21BbmdsZSA9IE1hdGgubWluKE1hdGguZmxvb3Ioc3RhcnRBbmdsZSAvIDkwKSAqIDkwLCBNYXRoLmZsb29yKGVuZEFuZ2xlIC8gOTApICogOTApO1xyXG4gICAgbGV0IHRvQW5nbGUgPSBNYXRoLm1heChNYXRoLmNlaWwoc3RhcnRBbmdsZSAvIDkwKSAqIDkwLCBNYXRoLmNlaWwoZW5kQW5nbGUgLyA5MCkgKiA5MCk7XHJcbiAgICBmb3IgKGxldCBhbmdsZSA9IGZyb21BbmdsZTsgYW5nbGUgPD0gdG9BbmdsZTsgYW5nbGUgKz0gOTApIHtcclxuICAgICAgICBpZiAoYW5nbGUgPj0gc3RhcnRBbmdsZSAmJiBhbmdsZSA8PSBlbmRBbmdsZSkge1xyXG4gICAgICAgICAgICBicG9pbnRzLnB1c2goZ2V0QXJjUG9pbnQocmFkaXVzLCBhbmdsZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBwdCA9IGJwb2ludHNbaV07XHJcbiAgICAgICAgaWYgKHB0LnggPCBtaW5YKSB7XHJcbiAgICAgICAgICAgIG1pblggPSBwdC54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHQueSA8IG1pblkpIHtcclxuICAgICAgICAgICAgbWluWSA9IHB0Lnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwdC54ID4gbWF4WCkge1xyXG4gICAgICAgICAgICBtYXhYID0gcHQueDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHB0LnkgPiBtYXhZKSB7XHJcbiAgICAgICAgICAgIG1heFkgPSBwdC55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoeyBsZWZ0OiBjeCArIG1pblgsIHRvcDogY3kgKyBtaW5ZLCByaWdodDogY3ggKyBtYXhYLCBib3R0b206IGN5ICsgbWF4WSB9KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBwb2ludCBvbiBhcmNcclxuICpcclxuICogQHBhcmFtIGNlbnRlciBwb2ludFxyXG4gKiBAcGFyYW0gcmFkaXVzXHJcbiAqIEBwYXJhbSBhcmNcclxuICogQHJldHVybiB7Ym9vbGVhbn1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmNQb2ludChyYWRpdXMsIGFyYykge1xyXG4gICAgcmV0dXJuICh7IHg6IHJhZGl1cyAqIGNvcyhhcmMpLCB5OiByYWRpdXMgKiBzaW4oYXJjKSB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VCb3VuZHMoYm91bmRzKSB7XHJcbiAgICBjb25zdCBsZW4gPSBib3VuZHMubGVuZ3RoO1xyXG4gICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICBsZXQgYm91bmQgPSBib3VuZHNbMF07XHJcbiAgICAgICAgbGV0IGxlZnQgPSBib3VuZC5sZWZ0O1xyXG4gICAgICAgIGxldCB0b3AgPSBib3VuZC50b3A7XHJcbiAgICAgICAgbGV0IHJpZ2h0ID0gYm91bmQucmlnaHQ7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IGJvdW5kLmJvdHRvbTtcclxuICAgICAgICBpZiAobGVuID4gMSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZCA9IGJvdW5kc1tpXTtcclxuICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1pbihib3VuZC5sZWZ0LCBsZWZ0KTtcclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5tYXgoYm91bmQucmlnaHQsIHJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgubWluKGJvdW5kLnRvcCwgdG9wKTtcclxuICAgICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWF4KGJvdW5kLmJvdHRvbSwgYm90dG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20gfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCB9O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmaXRBbmdsZVRvUmFuZ2UodmFsdWUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSB7XHJcbiAgICBpZiAoc3RhcnRBbmdsZSA+IGVuZEFuZ2xlKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBzdGFydEFuZ2xlO1xyXG4gICAgICAgIHN0YXJ0QW5nbGUgPSBlbmRBbmdsZTtcclxuICAgICAgICBlbmRBbmdsZSA9IHRlbXA7XHJcbiAgICB9XHJcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZUFuZ2xlKHZhbHVlKTtcclxuICAgIGxldCBjb3VudCA9IChzdGFydEFuZ2xlIC0gbm9ybWFsaXplQW5nbGUoc3RhcnRBbmdsZSkpIC8gMzYwO1xyXG4gICAgaWYgKHZhbHVlIDwgc3RhcnRBbmdsZSkge1xyXG4gICAgICAgIHZhbHVlICs9IDM2MCAqIChjb3VudCArIDEpO1xyXG4gICAgfVxyXG4gICAgbGV0IG1heEVuZCA9IHN0YXJ0QW5nbGUgKyAoZW5kQW5nbGUgLSBzdGFydEFuZ2xlKSAvIDIgKyAxODA7XHJcbiAgICBsZXQgbWF4U3RhcnQgPSBzdGFydEFuZ2xlICsgKGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSkgLyAyIC0gMTgwO1xyXG4gICAgaWYgKHZhbHVlID4gZW5kQW5nbGUpIHtcclxuICAgICAgICBpZiAodmFsdWUgLSAzNjAgPiBzdGFydEFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlIC09IDM2MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IG1heEVuZCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBlbmRBbmdsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gc3RhcnRBbmdsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA8IHN0YXJ0QW5nbGUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPiBtYXhTdGFydCkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHN0YXJ0QW5nbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGVuZEFuZ2xlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5Cb3VuZHMocG9pbnQsIGJvdW5kcykge1xyXG4gICAgaWYgKHBvaW50LnggPj0gYm91bmRzLmxlZnQgJiYgcG9pbnQueSA+PSBib3VuZHMudG9wICYmIHBvaW50LnggPD0gYm91bmRzLnJpZ2h0ICYmIHBvaW50LnkgPD0gYm91bmRzLmJvdHRvbSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShwb2ludDEsIHBvaW50Mikge1xyXG4gICAgaWYgKCFwb2ludDIpIHtcclxuICAgICAgICBwb2ludDIgPSB7IHg6IHBvaW50MS54ICogMiwgeTogcG9pbnQxLnkgKiAyIH07XHJcbiAgICB9XHJcbiAgICBsZXQgZGlmZlggPSBwb2ludDIueCAtIHBvaW50MS54O1xyXG4gICAgbGV0IGRpZmZZID0gcG9pbnQyLnkgLSBwb2ludDEueTtcclxuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIoZGlmZlksIGRpZmZYKSAqIERFR1JFRVM7XHJcbiAgICBpZiAoYW5nbGUgPCAwKSB7XHJcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZUFuZ2xlKGFuZ2xlKTtcclxufVxyXG4vKipcclxuICogW2dldFBvaW50T25RdWFkcmF0aWNDdXJ2ZSBkZXNjcmlwdGlvbl1cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKiBAcGFyYW0gcG9pbnRBICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSBwb2ludEIgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIGNvbnRyb2xQb2ludCAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gcG9zaXRpb24gICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZShwb2ludEEsIHBvaW50QiwgY29udHJvbFBvaW50LCBwb3NpdGlvbikge1xyXG4gICAgbGV0IHggPSAoMSAtIHBvc2l0aW9uKSAqICgxIC0gcG9zaXRpb24pICogcG9pbnRBLnggKyAyICogKDEgLSBwb3NpdGlvbikgKiBwb3NpdGlvbiAqIGNvbnRyb2xQb2ludC54ICsgcG9zaXRpb24gKiBwb3NpdGlvbiAqIHBvaW50Qi54O1xyXG4gICAgbGV0IHkgPSAoMSAtIHBvc2l0aW9uKSAqICgxIC0gcG9zaXRpb24pICogcG9pbnRBLnkgKyAyICogKDEgLSBwb3NpdGlvbikgKiBwb3NpdGlvbiAqIGNvbnRyb2xQb2ludC55ICsgcG9zaXRpb24gKiBwb3NpdGlvbiAqIHBvaW50Qi55O1xyXG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludE9uTGluZShwb2ludEEsIHBvaW50QiwgcG9zaXRpb24pIHtcclxuICAgIHJldHVybiB7IHg6IHBvaW50QS54ICsgKHBvaW50Qi54IC0gcG9pbnRBLngpICogcG9zaXRpb24sIHk6IHBvaW50QS55ICsgKHBvaW50Qi55IC0gcG9pbnRBLnkpICogcG9zaXRpb24gfTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgY2xvc2VzdCB2YWx1ZSBmcm9tIHRoZSBhcnJheSBvZiB2YWx1ZXMgdG8gdGhlIHJlZmVyZW5jZSB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHZhbHVlcyAgQXJyYXkgb2YgdmFsdWVzXHJcbiAqIEBwYXJhbSB2YWx1ZSAgIFJlZmVyZW5jZSB2YWx1ZVxyXG4gKiBAcmV0dXJuIENsb3NlcyB2YWx1ZSBmcm9tIHRoZSBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3QodmFsdWVzLCByZWZlcmVuY2VWYWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcclxuICAgICAgICByZXR1cm4gKE1hdGguYWJzKGN1cnIgLSByZWZlcmVuY2VWYWx1ZSkgPCBNYXRoLmFicyhwcmV2IC0gcmVmZXJlbmNlVmFsdWUpID8gY3VyciA6IHByZXYpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBib3VuZHMgb3ZlcmxhcFxyXG4gKiBAcGFyYW0gYm91bmRzMSBJQm91bmRzXHJcbiAqIEBwYXJhbSBib3VuZHMyIElCb3VuZHNcclxuICogQHJldHVybnMgYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kc092ZXJsYXAoYm91bmRzMSwgYm91bmRzMikge1xyXG4gICAgY29uc3QgaG9yaXpvbnRhbE92ZXJsYXAgPSBib3VuZHMxLmxlZnQgPCBib3VuZHMyLnJpZ2h0ICYmIGJvdW5kczEucmlnaHQgPiBib3VuZHMyLmxlZnQ7XHJcbiAgICBjb25zdCB2ZXJ0aWNhbE92ZXJsYXAgPSBib3VuZHMxLnRvcCA8IGJvdW5kczIuYm90dG9tICYmIGJvdW5kczEuYm90dG9tID4gYm91bmRzMi50b3A7XHJcbiAgICByZXR1cm4gaG9yaXpvbnRhbE92ZXJsYXAgJiYgdmVydGljYWxPdmVybGFwO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgcG9pbnRzIG9mIGEgc3BpcmFsXHJcbiAqIEBwYXJhbSBjeFxyXG4gKiBAcGFyYW0gY3lcclxuICogQHBhcmFtIHJhZGl1c1xyXG4gKiBAcGFyYW0gcmFkaXVzWVxyXG4gKiBAcGFyYW0gaW5uZXJSYWRpdXNcclxuICogQHBhcmFtIHN0ZXBcclxuICogQHBhcmFtIHJhZGl1c1N0ZXBcclxuICogQHBhcmFtIHN0YXJ0QW5nbGVcclxuICogQHBhcmFtIGVuZEFuZ2xlXHJcbiAqIEByZXR1cm5zIElQb2ludFtdXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3BpcmFsUG9pbnRzKGN4LCBjeSwgcmFkaXVzLCByYWRpdXNZLCBpbm5lclJhZGl1cywgc3RlcCwgcmFkaXVzU3RlcCwgc3RhcnRBbmdsZSwgZW5kQW5nbGUpIHtcclxuICAgIGxldCByID0gaW5uZXJSYWRpdXMgKyAwLjAxO1xyXG4gICAgbGV0IGFuZ2xlID0gc3RhcnRBbmdsZSAqIFJBRElBTlM7XHJcbiAgICBsZXQgcG9pbnRzID0gW107XHJcbiAgICB3aGlsZSAociA8IHJhZGl1cyArIHJhZGl1c1N0ZXApIHtcclxuICAgICAgICBsZXQgc3RlcFNpemUgPSBzdGVwO1xyXG4gICAgICAgIGlmIChzdGVwU2l6ZSAvIDIgPiByKSB7XHJcbiAgICAgICAgICAgIHN0ZXBTaXplID0gMiAqIHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFuZ2xlICs9IDIgKiBNYXRoLmFzaW4oc3RlcFNpemUgLyAyIC8gcik7XHJcbiAgICAgICAgaWYgKGFuZ2xlICogREVHUkVFUyA+IGVuZEFuZ2xlICsgKChyYWRpdXMgLSBpbm5lclJhZGl1cykgLyByYWRpdXNTdGVwKSAqIDM2MCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRlZ3JlZXMgPSBhbmdsZSAqIERFR1JFRVM7XHJcbiAgICAgICAgbGV0IHBvaW50ID0geyB4OiBjeCArIHIgKiBNYXRoLmNvcyhhbmdsZSksIHk6IGN5ICsgciAqIHJhZGl1c1kgLyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgfTtcclxuICAgICAgICBwb2ludHMucHVzaChwb2ludCk7XHJcbiAgICAgICAgciA9IGlubmVyUmFkaXVzICsgZGVncmVlcyAvIDM2MCAqIHJhZGl1c1N0ZXA7XHJcbiAgICB9XHJcbiAgICBwb2ludHMuc2hpZnQoKTtcclxuICAgIHJldHVybiBwb2ludHM7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBjaXJjbGVzIG92ZXJsYXBcclxuICogQHBhcmFtIGNpcmNsZTFcclxuICogQHBhcmFtIGNpcmNsZTJcclxuICogQHJldHVybnMgYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZXNPdmVybGFwKGNpcmNsZTEsIGNpcmNsZTIpIHtcclxuICAgIHJldHVybiBNYXRoLmh5cG90KGNpcmNsZTEueCAtIGNpcmNsZTIueCwgY2lyY2xlMS55IC0gY2lyY2xlMi55KSA8PSBjaXJjbGUxLnJhZGl1cyArIGNpcmNsZTIucmFkaXVzO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Matrix: () => (/* binding */ Matrix)\n/* harmony export */ });\n/**\r\n * Modified from Pixi:\r\n *\r\n * The MIT License\r\n *\r\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore\r\n */\r\nclass Matrix {\r\n    constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\r\n        Object.defineProperty(this, \"a\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"b\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"c\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"d\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    /**\r\n     * Sets the matrix based on all the available properties\r\n     */\r\n    setTransform(x, y, pivotX, pivotY, rotation, scale = 1) {\r\n        this.a = Math.cos(rotation) * scale;\r\n        this.b = Math.sin(rotation) * scale;\r\n        this.c = -Math.sin(rotation) * scale;\r\n        this.d = Math.cos(rotation) * scale;\r\n        this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\r\n        this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\r\n    }\r\n    /**\r\n     * Get a new position with the current transformation applied.\r\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\r\n     */\r\n    apply(origin) {\r\n        return {\r\n            x: (this.a * origin.x) + (this.c * origin.y) + this.tx,\r\n            y: (this.b * origin.x) + (this.d * origin.y) + this.ty\r\n        };\r\n    }\r\n    /**\r\n     * Get a new position with the inverse of the current transformation applied.\r\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\r\n     */\r\n    applyInverse(origin) {\r\n        const id = 1 / ((this.a * this.d) + (this.c * -this.b));\r\n        return {\r\n            x: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\r\n            y: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\r\n        };\r\n    }\r\n    /**\r\n     * Appends the given Matrix to this Matrix.\r\n     */\r\n    append(matrix) {\r\n        const a1 = this.a;\r\n        const b1 = this.b;\r\n        const c1 = this.c;\r\n        const d1 = this.d;\r\n        this.a = (matrix.a * a1) + (matrix.b * c1);\r\n        this.b = (matrix.a * b1) + (matrix.b * d1);\r\n        this.c = (matrix.c * a1) + (matrix.d * c1);\r\n        this.d = (matrix.c * b1) + (matrix.d * d1);\r\n        this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\r\n        this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\r\n    }\r\n    /**\r\n     * Prepends the given Matrix to this Matrix.\r\n     */\r\n    prepend(matrix) {\r\n        const tx1 = this.tx;\r\n        if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\r\n            const a1 = this.a;\r\n            const c1 = this.c;\r\n            this.a = (a1 * matrix.a) + (this.b * matrix.c);\r\n            this.b = (a1 * matrix.b) + (this.b * matrix.d);\r\n            this.c = (c1 * matrix.a) + (this.d * matrix.c);\r\n            this.d = (c1 * matrix.b) + (this.d * matrix.d);\r\n        }\r\n        this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\r\n        this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\r\n    }\r\n    /**\r\n     * Copies the other matrix's properties into this matrix\r\n     */\r\n    copyFrom(matrix) {\r\n        this.a = matrix.a;\r\n        this.b = matrix.b;\r\n        this.c = matrix.c;\r\n        this.d = matrix.d;\r\n        this.tx = matrix.tx;\r\n        this.ty = matrix.ty;\r\n    }\r\n}\r\n//# sourceMappingURL=Matrix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdHJpeC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdHJpeC5qcz82NDczIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNb2RpZmllZCBmcm9tIFBpeGk6XHJcbiAqXHJcbiAqIFRoZSBNSVQgTGljZW5zZVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNyBNYXRoZXcgR3JvdmVzLCBDaGFkIEVuZ2xlclxyXG4gKlxyXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG4gKlxyXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuICpcclxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gKiBUSEUgU09GVFdBUkUuXHJcbiAqL1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hdHJpeCB7XHJcbiAgICBjb25zdHJ1Y3RvcihhID0gMSwgYiA9IDAsIGMgPSAwLCBkID0gMSwgdHggPSAwLCB0eSA9IDApIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYSA9IGE7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICB0aGlzLmMgPSBjO1xyXG4gICAgICAgIHRoaXMuZCA9IGQ7XHJcbiAgICAgICAgdGhpcy50eCA9IHR4O1xyXG4gICAgICAgIHRoaXMudHkgPSB0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNmb3JtKHgsIHksIHBpdm90WCwgcGl2b3RZLCByb3RhdGlvbiwgc2NhbGUgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24pICogc2NhbGU7XHJcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24pICogc2NhbGU7XHJcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uKSAqIHNjYWxlO1xyXG4gICAgICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uKSAqIHNjYWxlO1xyXG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xyXG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxyXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxyXG4gICAgICovXHJcbiAgICBhcHBseShvcmlnaW4pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiAodGhpcy5hICogb3JpZ2luLngpICsgKHRoaXMuYyAqIG9yaWdpbi55KSArIHRoaXMudHgsXHJcbiAgICAgICAgICAgIHk6ICh0aGlzLmIgKiBvcmlnaW4ueCkgKyAodGhpcy5kICogb3JpZ2luLnkpICsgdGhpcy50eVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXHJcbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcclxuICAgICAqL1xyXG4gICAgYXBwbHlJbnZlcnNlKG9yaWdpbikge1xyXG4gICAgICAgIGNvbnN0IGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogKHRoaXMuZCAqIGlkICogb3JpZ2luLngpICsgKC10aGlzLmMgKiBpZCAqIG9yaWdpbi55KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKSxcclxuICAgICAgICAgICAgeTogKHRoaXMuYSAqIGlkICogb3JpZ2luLnkpICsgKC10aGlzLmIgKiBpZCAqIG9yaWdpbi54KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXHJcbiAgICAgKi9cclxuICAgIGFwcGVuZChtYXRyaXgpIHtcclxuICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcclxuICAgICAgICBjb25zdCBiMSA9IHRoaXMuYjtcclxuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcclxuICAgICAgICBjb25zdCBkMSA9IHRoaXMuZDtcclxuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XHJcbiAgICAgICAgdGhpcy5iID0gKG1hdHJpeC5hICogYjEpICsgKG1hdHJpeC5iICogZDEpO1xyXG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcclxuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XHJcbiAgICAgICAgdGhpcy50eCA9IChtYXRyaXgudHggKiBhMSkgKyAobWF0cml4LnR5ICogYzEpICsgdGhpcy50eDtcclxuICAgICAgICB0aGlzLnR5ID0gKG1hdHJpeC50eCAqIGIxKSArIChtYXRyaXgudHkgKiBkMSkgKyB0aGlzLnR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxyXG4gICAgICovXHJcbiAgICBwcmVwZW5kKG1hdHJpeCkge1xyXG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XHJcbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcclxuICAgICAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcclxuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcclxuICAgICAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcclxuICAgICAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcclxuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3BpZXMgdGhlIG90aGVyIG1hdHJpeCdzIHByb3BlcnRpZXMgaW50byB0aGlzIG1hdHJpeFxyXG4gICAgICovXHJcbiAgICBjb3B5RnJvbShtYXRyaXgpIHtcclxuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYTtcclxuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcclxuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYztcclxuICAgICAgICB0aGlzLmQgPSBtYXRyaXguZDtcclxuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xyXG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0cml4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NumberFormatter: () => (/* binding */ NumberFormatter)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Number formatter\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n * @important\r\n */\r\nclass NumberFormatter extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"numberFormat\", \"#,###.#####\");\r\n        this._setDefault(\"smallNumberThreshold\", 1.00);\r\n        const bns = \"_big_number_suffix_\";\r\n        const sns = \"_small_number_suffix_\";\r\n        const bs = \"_byte_suffix_\";\r\n        this._setDefault(\"bigNumberPrefixes\", [\r\n            { \"number\": 1e+3, \"suffix\": this._t(bns + \"3\") },\r\n            { \"number\": 1e+6, \"suffix\": this._t(bns + \"6\") },\r\n            { \"number\": 1e+9, \"suffix\": this._t(bns + \"9\") },\r\n            { \"number\": 1e+12, \"suffix\": this._t(bns + \"12\") },\r\n            { \"number\": 1e+15, \"suffix\": this._t(bns + \"15\") },\r\n            { \"number\": 1e+18, \"suffix\": this._t(bns + \"18\") },\r\n            { \"number\": 1e+21, \"suffix\": this._t(bns + \"21\") },\r\n            { \"number\": 1e+24, \"suffix\": this._t(bns + \"24\") }\r\n        ]);\r\n        this._setDefault(\"smallNumberPrefixes\", [\r\n            { \"number\": 1e-24, \"suffix\": this._t(sns + \"24\") },\r\n            { \"number\": 1e-21, \"suffix\": this._t(sns + \"21\") },\r\n            { \"number\": 1e-18, \"suffix\": this._t(sns + \"18\") },\r\n            { \"number\": 1e-15, \"suffix\": this._t(sns + \"15\") },\r\n            { \"number\": 1e-12, \"suffix\": this._t(sns + \"12\") },\r\n            { \"number\": 1e-9, \"suffix\": this._t(sns + \"9\") },\r\n            { \"number\": 1e-6, \"suffix\": this._t(sns + \"6\") },\r\n            { \"number\": 1e-3, \"suffix\": this._t(sns + \"3\") }\r\n        ]);\r\n        this._setDefault(\"bytePrefixes\", [\r\n            { \"number\": 1, suffix: this._t(bs + \"B\") },\r\n            { \"number\": 1024, suffix: this._t(bs + \"KB\") },\r\n            { \"number\": 1048576, suffix: this._t(bs + \"MB\") },\r\n            { \"number\": 1073741824, suffix: this._t(bs + \"GB\") },\r\n            { \"number\": 1099511627776, suffix: this._t(bs + \"TB\") },\r\n            { \"number\": 1125899906842624, suffix: this._t(bs + \"PB\") }\r\n        ]);\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, precision) {\r\n        // no format passed in or \"Number\"\r\n        if (format == null || (_Type__WEBPACK_IMPORTED_MODULE_1__.isString(format) && format.toLowerCase() === \"number\")) {\r\n            format = this.get(\"numberFormat\", \"\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // Is it a built-in format or Intl.NumberFormatOptions\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isObject(format)) {\r\n            try {\r\n                if (this.get(\"intlLocales\")) {\r\n                    return new Intl.NumberFormat(this.get(\"intlLocales\"), format).format(source);\r\n                }\r\n                else {\r\n                    return new Intl.NumberFormat(undefined, format).format(source);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        else {\r\n            // Clean format\r\n            format = _Utils__WEBPACK_IMPORTED_MODULE_2__.cleanFormat(format);\r\n            // Get format info (it will also deal with parser caching)\r\n            let info = this.parseFormat(format, this._root.language);\r\n            // format and replace the number\r\n            let details;\r\n            if (source > this.get(\"negativeBase\")) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this.get(\"negativeBase\")) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Adjust precision\r\n            if (precision != null && !details.mod) {\r\n                details = _Object__WEBPACK_IMPORTED_MODULE_3__.copy(details);\r\n                details.decimals.active = source == 0 ? 0 : precision;\r\n            }\r\n            // Format\r\n            formatted = details.template.split(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER).join(this.applyFormat(source, details));\r\n        }\r\n        if (this.get(\"forceLTR\") === true) {\r\n            formatted = \"\" + formatted;\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     * @ignore\r\n     */\r\n    parseFormat(format, language) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        const thousandSeparator = language.translateEmpty(\"_thousandSeparator\");\r\n        const decimalSeparator = language.translateEmpty(\"_decimalSeparator\");\r\n        // init format parse info holder\r\n        let info = {\r\n            \"positive\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"negative\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"zero\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Just \"Number\"?\r\n            if (partFormat.toLowerCase() === \"number\") {\r\n                partFormat = this.get(\"numberFormat\", \"#,###.#####\");\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = _TextFormatter__WEBPACK_IMPORTED_MODULE_4__.TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Parse format\r\n                    // Look for codes\r\n                    let matches = chunk.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);\r\n                    if (matches) {\r\n                        if (matches === null || matches[0] === \"\") {\r\n                            // no codes here - assume string\r\n                            // nothing to do here\r\n                            item.template += chunk.text;\r\n                        }\r\n                        else {\r\n                            // look for the format modifiers at the end\r\n                            let mods = matches[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);\r\n                            if (mods) {\r\n                                item.mod = mods[0].toLowerCase();\r\n                                item.modSpacing = matches[0].match(/[ ]{1}[abespABESP%!]{1}$/) ? true : false;\r\n                            }\r\n                            // break the format up\r\n                            let a = matches[0].split(\".\");\r\n                            // Deal with thousands\r\n                            if (a[0] === \"\") {\r\n                                // No directives for thousands\r\n                                // Leave default settings (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                // Separator interval\r\n                                let b = a[0].split(\",\");\r\n                                if (b.length === 1) {\r\n                                    // No thousands separators\r\n                                    // Do nothing\r\n                                }\r\n                                else {\r\n                                    // Use length fo the last chunk as thousands length\r\n                                    item.thousands.interval = (b.pop() || \"\").length;\r\n                                    if (item.thousands.interval === 0) {\r\n                                        item.thousands.interval = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // Deal with decimals\r\n                            if (typeof (a[1]) === \"undefined\") {\r\n                                // No directives for decimals\r\n                                // Leave at defaults (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                            }\r\n                            // Add special code to template\r\n                            item.template += chunk.text.split(matches[0]).join(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Quoted string - take it as it is\r\n                    item.template += chunk.text;\r\n                }\r\n            }\r\n            // Apply style formatting\r\n            //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     * @ignore\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = value < 0;\r\n        value = Math.abs(value);\r\n        // Recalculate according to modifier\r\n        let prefix = \"\", suffix = \"\";\r\n        let mods = details.mod ? details.mod.split(\"\") : [];\r\n        if (mods.indexOf(\"b\") !== -1) {\r\n            let a = this.applyPrefix(value, this.get(\"bytePrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"a\") !== -1) {\r\n            let a = this.applyPrefix(value, value < this.get(\"smallNumberThreshold\") ? this.get(\"smallNumberPrefixes\") : this.get(\"bigNumberPrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"p\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            //value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            prefix = this._root.language.translate(\"_percentPrefix\");\r\n            suffix = this._root.language.translate(\"_percentSuffix\");\r\n            if (prefix == \"\" && suffix == \"\") {\r\n                suffix = \"%\";\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"%\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"%\";\r\n        }\r\n        else if (mods.indexOf(\"\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 3, 21);\r\n            value *= 1000;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"\";\r\n        }\r\n        // Round to passive\r\n        if (mods.indexOf(\"e\") !== -1) {\r\n            // convert the value to exponential\r\n            let exp;\r\n            if (details.decimals.passive >= 0) {\r\n                exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n            }\r\n            else {\r\n                exp = value.toExponential().split(\"e\");\r\n            }\r\n            value = Number(exp[0]);\r\n            suffix = \"e\" + exp[1];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (details.decimals.passive === 0) {\r\n            value = Math.round(value);\r\n        }\r\n        else if (details.decimals.passive > 0) {\r\n            let d = Math.pow(10, details.decimals.passive);\r\n            value = Math.round(value * d) / d;\r\n        }\r\n        // Init return value\r\n        let res = \"\";\r\n        // Calc integer and decimal parts\r\n        let a = _Type__WEBPACK_IMPORTED_MODULE_1__.numberToString(value).split(\".\");\r\n        // Format integers\r\n        let ints = a[0];\r\n        // Pad integers to active length\r\n        if (ints.length < details.thousands.active) {\r\n            ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n        }\r\n        // Insert thousands separators\r\n        if (details.thousands.interval > 0) {\r\n            let ip = [];\r\n            let intsr = ints.split(\"\").reverse().join(\"\");\r\n            for (let i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                let c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                if (c !== \"\") {\r\n                    ip.unshift(c);\r\n                }\r\n            }\r\n            ints = ip.join(details.thousands.separator);\r\n        }\r\n        // Add integers\r\n        res += ints;\r\n        // Add decimals\r\n        if (a.length === 1) {\r\n            a.push(\"\");\r\n        }\r\n        let decs = a[1];\r\n        // Fill zeros?\r\n        if (decs.length < details.decimals.active) {\r\n            decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n        }\r\n        if (decs !== \"\") {\r\n            res += details.decimals.separator + decs;\r\n        }\r\n        // Can't have empty return value\r\n        if (res === \"\") {\r\n            res = \"0\";\r\n        }\r\n        // Add minus sign back\r\n        if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n            res = \"-\" + res;\r\n        }\r\n        // Add suffixes/prefixes\r\n        if (prefix) {\r\n            res = prefix + res;\r\n        }\r\n        if (suffix) {\r\n            res += suffix;\r\n        }\r\n        return res;\r\n    }\r\n    applyPrefix(value, prefixes, force = false) {\r\n        let newvalue = value;\r\n        let prefix = \"\";\r\n        let suffix = \"\";\r\n        let applied = false;\r\n        let k = 1;\r\n        for (let i = 0, len = prefixes.length; i < len; i++) {\r\n            if (prefixes[i].number <= value) {\r\n                if (prefixes[i].number === 0) {\r\n                    newvalue = 0;\r\n                }\r\n                else {\r\n                    newvalue = value / prefixes[i].number;\r\n                    k = prefixes[i].number;\r\n                }\r\n                prefix = prefixes[i].prefix;\r\n                suffix = prefixes[i].suffix;\r\n                applied = true;\r\n            }\r\n        }\r\n        if (!applied && force && prefixes.length && value != 0) {\r\n            // Prefix was not applied. Use the first prefix.\r\n            newvalue = value / prefixes[0].number;\r\n            prefix = prefixes[0].prefix;\r\n            suffix = prefixes[0].suffix;\r\n            applied = true;\r\n        }\r\n        if (applied) {\r\n            newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n        }\r\n        return [newvalue, prefix, suffix];\r\n    }\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    escape(text) {\r\n        return text.replace(\"||\", _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2);\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    unescape(text) {\r\n        return text.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2, \"|\");\r\n    }\r\n}\r\n//# sourceMappingURL=NumberFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL051bWJlckZvcm1hdHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0M7QUFDYztBQUNaO0FBQ0Y7QUFDRjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxTQUFTLGdGQUFnRjtBQUN6RjtBQUNBO0FBQ08sOEJBQThCLDJDQUFNO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOENBQThDO0FBQzVELGNBQWMsOENBQThDO0FBQzVELGNBQWMsOENBQThDO0FBQzVELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyw4Q0FBOEM7QUFDNUQsY0FBYyw4Q0FBOEM7QUFDNUQsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjLHdDQUF3QztBQUN0RCxjQUFjLDRDQUE0QztBQUMxRCxjQUFjLCtDQUErQztBQUM3RCxjQUFjLGtEQUFrRDtBQUNoRSxjQUFjLHFEQUFxRDtBQUNuRSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDJDQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0NBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5Q0FBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsOENBQWlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0NBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFhO0FBQ3RDLDRCQUE0QixtQkFBbUI7QUFDL0M7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLEVBQUUsZ0JBQWdCLEVBQUU7QUFDN0Y7QUFDQTtBQUNBLHdFQUF3RSxFQUFFLGdCQUFnQixFQUFFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLDhDQUFpQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpREFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsVUFBVTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLCtDQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQWtCO0FBQzlDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL051bWJlckZvcm1hdHRlci5qcz8zYmM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL0VudGl0eVwiO1xyXG5pbXBvcnQgeyBUZXh0Rm9ybWF0dGVyIH0gZnJvbSBcIi4vVGV4dEZvcm1hdHRlclwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogTnVtYmVyIGZvcm1hdHRlclxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctbnVtYmVycy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51bWJlckZvcm1hdHRlciBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBfc2V0RGVmYXVsdHMoKSB7XHJcbiAgICAgICAgLy8gRGVmYXVsdHNcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwibmVnYXRpdmVCYXNlXCIsIDApO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJudW1iZXJGb3JtYXRcIiwgXCIjLCMjIy4jIyMjI1wiKTtcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwic21hbGxOdW1iZXJUaHJlc2hvbGRcIiwgMS4wMCk7XHJcbiAgICAgICAgY29uc3QgYm5zID0gXCJfYmlnX251bWJlcl9zdWZmaXhfXCI7XHJcbiAgICAgICAgY29uc3Qgc25zID0gXCJfc21hbGxfbnVtYmVyX3N1ZmZpeF9cIjtcclxuICAgICAgICBjb25zdCBicyA9IFwiX2J5dGVfc3VmZml4X1wiO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJiaWdOdW1iZXJQcmVmaXhlc1wiLCBbXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUrMywgXCJzdWZmaXhcIjogdGhpcy5fdChibnMgKyBcIjNcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZSs2LCBcInN1ZmZpeFwiOiB0aGlzLl90KGJucyArIFwiNlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlKzksIFwic3VmZml4XCI6IHRoaXMuX3QoYm5zICsgXCI5XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUrMTIsIFwic3VmZml4XCI6IHRoaXMuX3QoYm5zICsgXCIxMlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlKzE1LCBcInN1ZmZpeFwiOiB0aGlzLl90KGJucyArIFwiMTVcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZSsxOCwgXCJzdWZmaXhcIjogdGhpcy5fdChibnMgKyBcIjE4XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUrMjEsIFwic3VmZml4XCI6IHRoaXMuX3QoYm5zICsgXCIyMVwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlKzI0LCBcInN1ZmZpeFwiOiB0aGlzLl90KGJucyArIFwiMjRcIikgfVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJzbWFsbE51bWJlclByZWZpeGVzXCIsIFtcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZS0yNCwgXCJzdWZmaXhcIjogdGhpcy5fdChzbnMgKyBcIjI0XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUtMjEsIFwic3VmZml4XCI6IHRoaXMuX3Qoc25zICsgXCIyMVwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlLTE4LCBcInN1ZmZpeFwiOiB0aGlzLl90KHNucyArIFwiMThcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZS0xNSwgXCJzdWZmaXhcIjogdGhpcy5fdChzbnMgKyBcIjE1XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUtMTIsIFwic3VmZml4XCI6IHRoaXMuX3Qoc25zICsgXCIxMlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlLTksIFwic3VmZml4XCI6IHRoaXMuX3Qoc25zICsgXCI5XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUtNiwgXCJzdWZmaXhcIjogdGhpcy5fdChzbnMgKyBcIjZcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZS0zLCBcInN1ZmZpeFwiOiB0aGlzLl90KHNucyArIFwiM1wiKSB9XHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdChcImJ5dGVQcmVmaXhlc1wiLCBbXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMSwgc3VmZml4OiB0aGlzLl90KGJzICsgXCJCXCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMTAyNCwgc3VmZml4OiB0aGlzLl90KGJzICsgXCJLQlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDEwNDg1NzYsIHN1ZmZpeDogdGhpcy5fdChicyArIFwiTUJcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxMDczNzQxODI0LCBzdWZmaXg6IHRoaXMuX3QoYnMgKyBcIkdCXCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMTA5OTUxMTYyNzc3Niwgc3VmZml4OiB0aGlzLl90KGJzICsgXCJUQlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDExMjU4OTk5MDY4NDI2MjQsIHN1ZmZpeDogdGhpcy5fdChicyArIFwiUEJcIikgfVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHN1cGVyLl9zZXREZWZhdWx0cygpO1xyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0cyB0aGUgbnVtYmVyIGFjY29yZGluZyB0byBzcGVjaWZpYyBmb3JtYXQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgVmFsdWUgdG8gZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0ICBGb3JtYXQgdG8gYXBwbHlcclxuICAgICAqIEByZXR1cm4gRm9ybWF0dGVkIG51bWJlclxyXG4gICAgICovXHJcbiAgICBmb3JtYXQodmFsdWUsIGZvcm1hdCwgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgLy8gbm8gZm9ybWF0IHBhc3NlZCBpbiBvciBcIk51bWJlclwiXHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PSBudWxsIHx8ICgkdHlwZS5pc1N0cmluZyhmb3JtYXQpICYmIGZvcm1hdC50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiKSkge1xyXG4gICAgICAgICAgICBmb3JtYXQgPSB0aGlzLmdldChcIm51bWJlckZvcm1hdFwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdCByZXR1cm4gdmFsdWVcclxuICAgICAgICBsZXQgZm9ybWF0dGVkO1xyXG4gICAgICAgIC8vIENhc3QgdG8gbnVtYmVyIGp1c3QgaW4gY2FzZVxyXG4gICAgICAgIC8vIFRPRE86IG1heWJlIHVzZSBiZXR0ZXIgY2FzdGluZ1xyXG4gICAgICAgIGxldCBzb3VyY2UgPSBOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgIC8vIElzIGl0IGEgYnVpbHQtaW4gZm9ybWF0IG9yIEludGwuTnVtYmVyRm9ybWF0T3B0aW9uc1xyXG4gICAgICAgIGlmICgkdHlwZS5pc09iamVjdChmb3JtYXQpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJpbnRsTG9jYWxlc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5nZXQoXCJpbnRsTG9jYWxlc1wiKSwgZm9ybWF0KS5mb3JtYXQoc291cmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodW5kZWZpbmVkLCBmb3JtYXQpLmZvcm1hdChzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENsZWFuIGZvcm1hdFxyXG4gICAgICAgICAgICBmb3JtYXQgPSAkdXRpbHMuY2xlYW5Gb3JtYXQoZm9ybWF0KTtcclxuICAgICAgICAgICAgLy8gR2V0IGZvcm1hdCBpbmZvIChpdCB3aWxsIGFsc28gZGVhbCB3aXRoIHBhcnNlciBjYWNoaW5nKVxyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHRoaXMucGFyc2VGb3JtYXQoZm9ybWF0LCB0aGlzLl9yb290Lmxhbmd1YWdlKTtcclxuICAgICAgICAgICAgLy8gZm9ybWF0IGFuZCByZXBsYWNlIHRoZSBudW1iZXJcclxuICAgICAgICAgICAgbGV0IGRldGFpbHM7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UgPiB0aGlzLmdldChcIm5lZ2F0aXZlQmFzZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlscyA9IGluZm8ucG9zaXRpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlIDwgdGhpcy5nZXQoXCJuZWdhdGl2ZUJhc2VcIikpIHtcclxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSBpbmZvLm5lZ2F0aXZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlscyA9IGluZm8uemVybztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBZGp1c3QgcHJlY2lzaW9uXHJcbiAgICAgICAgICAgIGlmIChwcmVjaXNpb24gIT0gbnVsbCAmJiAhZGV0YWlscy5tb2QpIHtcclxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSAkb2JqZWN0LmNvcHkoZGV0YWlscyk7XHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzLmRlY2ltYWxzLmFjdGl2ZSA9IHNvdXJjZSA9PSAwID8gMCA6IHByZWNpc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGb3JtYXRcclxuICAgICAgICAgICAgZm9ybWF0dGVkID0gZGV0YWlscy50ZW1wbGF0ZS5zcGxpdCgkdHlwZS5QTEFDRUhPTERFUikuam9pbih0aGlzLmFwcGx5Rm9ybWF0KHNvdXJjZSwgZGV0YWlscykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJmb3JjZUxUUlwiKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWQgPSBcIuKAjlwiICsgZm9ybWF0dGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgc3VwcGxpZWQgZm9ybWF0IGludG8gc3RydWN0dXJlZCBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZm9ybWF0XHJcbiAgICAgKiB0aGUgbnVtYmVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmb3JtYXQgRm9ybWF0IHN0cmluZywgaS5lLiBcIiMsIyMjLjAwXCJcclxuICAgICAqIEBwYXJhbSBsYW5ndWFnZSBMYW5ndWFnZVxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwYXJzZUZvcm1hdChmb3JtYXQsIGxhbmd1YWdlKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGVcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gbGV0IGNhY2hlZCA9IHRoaXMuZ2V0Q2FjaGUoZm9ybWF0KTtcclxuICAgICAgICAvLyBpZiAoY2FjaGVkICE9IG51bGwpIHtcclxuICAgICAgICAvLyBcdHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGNvbnN0IHRob3VzYW5kU2VwYXJhdG9yID0gbGFuZ3VhZ2UudHJhbnNsYXRlRW1wdHkoXCJfdGhvdXNhbmRTZXBhcmF0b3JcIik7XHJcbiAgICAgICAgY29uc3QgZGVjaW1hbFNlcGFyYXRvciA9IGxhbmd1YWdlLnRyYW5zbGF0ZUVtcHR5KFwiX2RlY2ltYWxTZXBhcmF0b3JcIik7XHJcbiAgICAgICAgLy8gaW5pdCBmb3JtYXQgcGFyc2UgaW5mbyBob2xkZXJcclxuICAgICAgICBsZXQgaW5mbyA9IHtcclxuICAgICAgICAgICAgXCJwb3NpdGl2ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInRob3VzYW5kc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJhY3RpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzaXZlXCI6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW50ZXJ2YWxcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogdGhvdXNhbmRTZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcImRlY2ltYWxzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3NpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogZGVjaW1hbFNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwic291cmNlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnNlZFwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm5lZ2F0aXZlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidGhvdXNhbmRzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3NpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpbnRlcnZhbFwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInNlcGFyYXRvclwiOiB0aG91c2FuZFNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiZGVjaW1hbHNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYWN0aXZlXCI6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIFwicGFzc2l2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInNlcGFyYXRvclwiOiBkZWNpbWFsU2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwicGFyc2VkXCI6IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiemVyb1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcInRob3VzYW5kc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJhY3RpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzaXZlXCI6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW50ZXJ2YWxcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogdGhvdXNhbmRTZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcImRlY2ltYWxzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3NpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogZGVjaW1hbFNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwic291cmNlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnNlZFwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBFc2NhcGUgZG91YmxlIHZlcnRpY2FsIGJhcnMgKHRoYXQgbWVhbiBkaXNwbGF5IG9uZSB2ZXJ0aWNhbCBiYXIpXHJcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoXCJ8fFwiLCAkdHlwZS5QTEFDRUhPTERFUjIpO1xyXG4gICAgICAgIC8vIFNwbGl0IGl0IHVwIGFuZCBkZWFsIHdpdGggZGlmZmVyZW50IGZvcm1hdHNcclxuICAgICAgICBsZXQgcGFydHMgPSBmb3JtYXQuc3BsaXQoXCJ8XCIpO1xyXG4gICAgICAgIGluZm8ucG9zaXRpdmUuc291cmNlID0gcGFydHNbMF07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0c1syXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpbmZvLnplcm8gPSBpbmZvLnBvc2l0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5mby56ZXJvLnNvdXJjZSA9IHBhcnRzWzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHBhcnRzWzFdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIGluZm8ubmVnYXRpdmUgPSBpbmZvLnBvc2l0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5mby5uZWdhdGl2ZS5zb3VyY2UgPSBwYXJ0c1sxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGFyc2UgZWFjaFxyXG4gICAgICAgICRvYmplY3QuZWFjaChpbmZvLCAoX3BhcnQsIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBwYXJzZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucGFyc2VkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2hlY2sgY2FjaGVkXHJcbiAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiB0aGlzLmdldENhY2hlKGl0ZW0uc291cmNlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAvLyBcdGluZm9bcGFydF0gPSB0aGlzLmdldENhY2hlKGl0ZW0uc291cmNlKTtcclxuICAgICAgICAgICAgLy8gXHRyZXR1cm47XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gQmVnaW4gcGFyc2luZ1xyXG4gICAgICAgICAgICBsZXQgcGFydEZvcm1hdCA9IGl0ZW0uc291cmNlO1xyXG4gICAgICAgICAgICAvLyBKdXN0IFwiTnVtYmVyXCI/XHJcbiAgICAgICAgICAgIGlmIChwYXJ0Rm9ybWF0LnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRGb3JtYXQgPSB0aGlzLmdldChcIm51bWJlckZvcm1hdFwiLCBcIiMsIyMjLiMjIyMjXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIExldCBUZXh0Rm9ybWF0dGVyIHNwbGl0IGludG8gY2h1bmtzXHJcbiAgICAgICAgICAgIGxldCBjaHVua3MgPSBUZXh0Rm9ybWF0dGVyLmNodW5rKHBhcnRGb3JtYXQsIHRydWUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gY2h1bmtzW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBiYWNrIGRvdWJsZSB2ZXJ0aWNhbCBiYXJcclxuICAgICAgICAgICAgICAgIGNodW5rLnRleHQgPSBjaHVuay50ZXh0LnJlcGxhY2UoJHR5cGUuUExBQ0VIT0xERVIyLCBcInxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gXCJ2YWx1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgZm9ybWF0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgY29kZXNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlcyA9IGNodW5rLnRleHQubWF0Y2goL1sjMC4sXStbIF0/W2FiZXNwQUJFU1AlIV0/W2FiZXNwQUJFU1DigLAhXT8vKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCB8fCBtYXRjaGVzWzBdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBjb2RlcyBoZXJlIC0gYXNzdW1lIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZyB0byBkbyBoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRlbXBsYXRlICs9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb29rIGZvciB0aGUgZm9ybWF0IG1vZGlmaWVycyBhdCB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kcyA9IG1hdGNoZXNbMF0ubWF0Y2goL1thYmVzcEFCRVNQJeKAsCFdezJ9fFthYmVzcEFCRVNQJeKAsF17MX0kLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubW9kID0gbW9kc1swXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubW9kU3BhY2luZyA9IG1hdGNoZXNbMF0ubWF0Y2goL1sgXXsxfVthYmVzcEFCRVNQJeKAsCFdezF9JC8pID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgdGhlIGZvcm1hdCB1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBtYXRjaGVzWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlYWwgd2l0aCB0aG91c2FuZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhWzBdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gZGlyZWN0aXZlcyBmb3IgdGhvdXNhbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVhdmUgZGVmYXVsdCBzZXR0aW5ncyAobm8gZm9ybWF0dGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udGhvdXNhbmRzLmFjdGl2ZSA9IChhWzBdLm1hdGNoKC8wL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aG91c2FuZHMucGFzc2l2ZSA9IChhWzBdLm1hdGNoKC9cXCMvZykgfHwgW10pLmxlbmd0aCArIGl0ZW0udGhvdXNhbmRzLmFjdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXBhcmF0b3IgaW50ZXJ2YWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IGFbMF0uc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyB0aG91c2FuZHMgc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgbGVuZ3RoIGZvIHRoZSBsYXN0IGNodW5rIGFzIHRob3VzYW5kcyBsZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aG91c2FuZHMuaW50ZXJ2YWwgPSAoYi5wb3AoKSB8fCBcIlwiKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRob3VzYW5kcy5pbnRlcnZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aG91c2FuZHMuaW50ZXJ2YWwgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlYWwgd2l0aCBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoYVsxXSkgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBkaXJlY3RpdmVzIGZvciBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlYXZlIGF0IGRlZmF1bHRzIChubyBmb3JtYXR0aW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ291bnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kZWNpbWFscy5hY3RpdmUgPSAoYVsxXS5tYXRjaCgvMC9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGVjaW1hbHMucGFzc2l2ZSA9IChhWzFdLm1hdGNoKC9cXCMvZykgfHwgW10pLmxlbmd0aCArIGl0ZW0uZGVjaW1hbHMuYWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHNwZWNpYWwgY29kZSB0byB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50ZW1wbGF0ZSArPSBjaHVuay50ZXh0LnNwbGl0KG1hdGNoZXNbMF0pLmpvaW4oJHR5cGUuUExBQ0VIT0xERVIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUXVvdGVkIHN0cmluZyAtIHRha2UgaXQgYXMgaXQgaXNcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnRlbXBsYXRlICs9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGUgZm9ybWF0dGluZ1xyXG4gICAgICAgICAgICAvL2l0ZW0udGVtcGxhdGUgPSBnZXRUZXh0Rm9ybWF0dGVyKCkuZm9ybWF0KGl0ZW0udGVtcGxhdGUsIHRoaXMub3V0cHV0Rm9ybWF0KTtcclxuICAgICAgICAgICAgLy8gU2F2ZSBjYWNoZVxyXG4gICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIC8vdGhpcy5zZXRDYWNoZShpdGVtLnNvdXJjZSwgaXRlbSk7XHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBhcyBwYXJzZWRcclxuICAgICAgICAgICAgaXRlbS5wYXJzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNhdmUgY2FjaGUgKHRoZSB3aG9sZSB0aGluZylcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy90aGlzLnNldENhY2hlKGZvcm1hdCwgaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGluZm87XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgcGFyc2VkIGZvcm1hdCB0byBhIG51bWVyaWMgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgIFZhbHVlXHJcbiAgICAgKiBAcGFyYW0gZGV0YWlscyAgUGFyc2VkIGZvcm1hdCBhcyByZXR1cm5lZCBieSBwYXJzZUZvcm1hdCgpXHJcbiAgICAgKiBAcmV0dXJuIEZvcm1hdHRlZCBudW1iZXJcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgYXBwbHlGb3JtYXQodmFsdWUsIGRldGFpbHMpIHtcclxuICAgICAgICAvLyBVc2UgYWJzb2x1dGUgdmFsdWVzXHJcbiAgICAgICAgbGV0IG5lZ2F0aXZlID0gdmFsdWUgPCAwO1xyXG4gICAgICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgICAgIC8vIFJlY2FsY3VsYXRlIGFjY29yZGluZyB0byBtb2RpZmllclxyXG4gICAgICAgIGxldCBwcmVmaXggPSBcIlwiLCBzdWZmaXggPSBcIlwiO1xyXG4gICAgICAgIGxldCBtb2RzID0gZGV0YWlscy5tb2QgPyBkZXRhaWxzLm1vZC5zcGxpdChcIlwiKSA6IFtdO1xyXG4gICAgICAgIGlmIChtb2RzLmluZGV4T2YoXCJiXCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgYSA9IHRoaXMuYXBwbHlQcmVmaXgodmFsdWUsIHRoaXMuZ2V0KFwiYnl0ZVByZWZpeGVzXCIpLCBtb2RzLmluZGV4T2YoXCIhXCIpICE9PSAtMSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gYVswXTtcclxuICAgICAgICAgICAgcHJlZml4ID0gYVsxXTtcclxuICAgICAgICAgICAgc3VmZml4ID0gYVsyXTtcclxuICAgICAgICAgICAgaWYgKGRldGFpbHMubW9kU3BhY2luZykge1xyXG4gICAgICAgICAgICAgICAgc3VmZml4ID0gXCIgXCIgKyBzdWZmaXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobW9kcy5pbmRleE9mKFwiYVwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmFwcGx5UHJlZml4KHZhbHVlLCB2YWx1ZSA8IHRoaXMuZ2V0KFwic21hbGxOdW1iZXJUaHJlc2hvbGRcIikgPyB0aGlzLmdldChcInNtYWxsTnVtYmVyUHJlZml4ZXNcIikgOiB0aGlzLmdldChcImJpZ051bWJlclByZWZpeGVzXCIpLCBtb2RzLmluZGV4T2YoXCIhXCIpICE9PSAtMSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gYVswXTtcclxuICAgICAgICAgICAgcHJlZml4ID0gYVsxXTtcclxuICAgICAgICAgICAgc3VmZml4ID0gYVsyXTtcclxuICAgICAgICAgICAgaWYgKGRldGFpbHMubW9kU3BhY2luZykge1xyXG4gICAgICAgICAgICAgICAgc3VmZml4ID0gXCIgXCIgKyBzdWZmaXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobW9kcy5pbmRleE9mKFwicFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IG9sID0gTWF0aC5taW4odmFsdWUudG9TdHJpbmcoKS5sZW5ndGggKyAyLCAyMSk7XHJcbiAgICAgICAgICAgIC8vdmFsdWUgKj0gMTAwO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9QcmVjaXNpb24ob2wpKTtcclxuICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGUoXCJfcGVyY2VudFByZWZpeFwiKTtcclxuICAgICAgICAgICAgc3VmZml4ID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGUoXCJfcGVyY2VudFN1ZmZpeFwiKTtcclxuICAgICAgICAgICAgaWYgKHByZWZpeCA9PSBcIlwiICYmIHN1ZmZpeCA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBzdWZmaXggPSBcIiVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChtb2RzLmluZGV4T2YoXCIlXCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgb2wgPSBNYXRoLm1pbih2YWx1ZS50b1N0cmluZygpLmxlbmd0aCArIDIsIDIxKTtcclxuICAgICAgICAgICAgdmFsdWUgKj0gMTAwO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9QcmVjaXNpb24ob2wpKTtcclxuICAgICAgICAgICAgc3VmZml4ID0gXCIlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG1vZHMuaW5kZXhPZihcIuKAsFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IG9sID0gTWF0aC5taW4odmFsdWUudG9TdHJpbmcoKS5sZW5ndGggKyAzLCAyMSk7XHJcbiAgICAgICAgICAgIHZhbHVlICo9IDEwMDA7XHJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZS50b1ByZWNpc2lvbihvbCkpO1xyXG4gICAgICAgICAgICBzdWZmaXggPSBcIuKAsFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSb3VuZCB0byBwYXNzaXZlXHJcbiAgICAgICAgaWYgKG1vZHMuaW5kZXhPZihcImVcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGV4cG9uZW50aWFsXHJcbiAgICAgICAgICAgIGxldCBleHA7XHJcbiAgICAgICAgICAgIGlmIChkZXRhaWxzLmRlY2ltYWxzLnBhc3NpdmUgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgZXhwID0gdmFsdWUudG9FeHBvbmVudGlhbChkZXRhaWxzLmRlY2ltYWxzLnBhc3NpdmUpLnNwbGl0KFwiZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV4cCA9IHZhbHVlLnRvRXhwb25lbnRpYWwoKS5zcGxpdChcImVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIoZXhwWzBdKTtcclxuICAgICAgICAgICAgc3VmZml4ID0gXCJlXCIgKyBleHBbMV07XHJcbiAgICAgICAgICAgIGlmIChkZXRhaWxzLm1vZFNwYWNpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN1ZmZpeCA9IFwiIFwiICsgc3VmZml4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRldGFpbHMuZGVjaW1hbHMucGFzc2l2ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZXRhaWxzLmRlY2ltYWxzLnBhc3NpdmUgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBkID0gTWF0aC5wb3coMTAsIGRldGFpbHMuZGVjaW1hbHMucGFzc2l2ZSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIGQpIC8gZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdCByZXR1cm4gdmFsdWVcclxuICAgICAgICBsZXQgcmVzID0gXCJcIjtcclxuICAgICAgICAvLyBDYWxjIGludGVnZXIgYW5kIGRlY2ltYWwgcGFydHNcclxuICAgICAgICBsZXQgYSA9ICR0eXBlLm51bWJlclRvU3RyaW5nKHZhbHVlKS5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgLy8gRm9ybWF0IGludGVnZXJzXHJcbiAgICAgICAgbGV0IGludHMgPSBhWzBdO1xyXG4gICAgICAgIC8vIFBhZCBpbnRlZ2VycyB0byBhY3RpdmUgbGVuZ3RoXHJcbiAgICAgICAgaWYgKGludHMubGVuZ3RoIDwgZGV0YWlscy50aG91c2FuZHMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGludHMgPSBBcnJheShkZXRhaWxzLnRob3VzYW5kcy5hY3RpdmUgLSBpbnRzLmxlbmd0aCArIDEpLmpvaW4oXCIwXCIpICsgaW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5zZXJ0IHRob3VzYW5kcyBzZXBhcmF0b3JzXHJcbiAgICAgICAgaWYgKGRldGFpbHMudGhvdXNhbmRzLmludGVydmFsID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaXAgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGludHNyID0gaW50cy5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGludHMubGVuZ3RoOyBpIDw9IGxlbjsgaSArPSBkZXRhaWxzLnRob3VzYW5kcy5pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGMgPSBpbnRzci5zdWJzdHIoaSwgZGV0YWlscy50aG91c2FuZHMuaW50ZXJ2YWwpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGMgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpcC51bnNoaWZ0KGMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGludHMgPSBpcC5qb2luKGRldGFpbHMudGhvdXNhbmRzLnNlcGFyYXRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBpbnRlZ2Vyc1xyXG4gICAgICAgIHJlcyArPSBpbnRzO1xyXG4gICAgICAgIC8vIEFkZCBkZWNpbWFsc1xyXG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBhLnB1c2goXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkZWNzID0gYVsxXTtcclxuICAgICAgICAvLyBGaWxsIHplcm9zP1xyXG4gICAgICAgIGlmIChkZWNzLmxlbmd0aCA8IGRldGFpbHMuZGVjaW1hbHMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGRlY3MgKz0gQXJyYXkoZGV0YWlscy5kZWNpbWFscy5hY3RpdmUgLSBkZWNzLmxlbmd0aCArIDEpLmpvaW4oXCIwXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVjcyAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXMgKz0gZGV0YWlscy5kZWNpbWFscy5zZXBhcmF0b3IgKyBkZWNzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDYW4ndCBoYXZlIGVtcHR5IHJldHVybiB2YWx1ZVxyXG4gICAgICAgIGlmIChyZXMgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmVzID0gXCIwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBtaW51cyBzaWduIGJhY2tcclxuICAgICAgICBpZiAodmFsdWUgIT09IDAgJiYgbmVnYXRpdmUgJiYgKG1vZHMuaW5kZXhPZihcInNcIikgPT09IC0xKSkge1xyXG4gICAgICAgICAgICByZXMgPSBcIi1cIiArIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIHN1ZmZpeGVzL3ByZWZpeGVzXHJcbiAgICAgICAgaWYgKHByZWZpeCkge1xyXG4gICAgICAgICAgICByZXMgPSBwcmVmaXggKyByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdWZmaXgpIHtcclxuICAgICAgICAgICAgcmVzICs9IHN1ZmZpeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGFwcGx5UHJlZml4KHZhbHVlLCBwcmVmaXhlcywgZm9yY2UgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBuZXd2YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGxldCBwcmVmaXggPSBcIlwiO1xyXG4gICAgICAgIGxldCBzdWZmaXggPSBcIlwiO1xyXG4gICAgICAgIGxldCBhcHBsaWVkID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGsgPSAxO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwcmVmaXhlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocHJlZml4ZXNbaV0ubnVtYmVyIDw9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlZml4ZXNbaV0ubnVtYmVyID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3dmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3dmFsdWUgPSB2YWx1ZSAvIHByZWZpeGVzW2ldLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBrID0gcHJlZml4ZXNbaV0ubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gcHJlZml4ZXNbaV0ucHJlZml4O1xyXG4gICAgICAgICAgICAgICAgc3VmZml4ID0gcHJlZml4ZXNbaV0uc3VmZml4O1xyXG4gICAgICAgICAgICAgICAgYXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcHBsaWVkICYmIGZvcmNlICYmIHByZWZpeGVzLmxlbmd0aCAmJiB2YWx1ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIC8vIFByZWZpeCB3YXMgbm90IGFwcGxpZWQuIFVzZSB0aGUgZmlyc3QgcHJlZml4LlxyXG4gICAgICAgICAgICBuZXd2YWx1ZSA9IHZhbHVlIC8gcHJlZml4ZXNbMF0ubnVtYmVyO1xyXG4gICAgICAgICAgICBwcmVmaXggPSBwcmVmaXhlc1swXS5wcmVmaXg7XHJcbiAgICAgICAgICAgIHN1ZmZpeCA9IHByZWZpeGVzWzBdLnN1ZmZpeDtcclxuICAgICAgICAgICAgYXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcHBsaWVkKSB7XHJcbiAgICAgICAgICAgIG5ld3ZhbHVlID0gcGFyc2VGbG9hdChuZXd2YWx1ZS50b1ByZWNpc2lvbihNYXRoLm1pbihrLnRvU3RyaW5nKCkubGVuZ3RoICsgTWF0aC5mbG9vcihuZXd2YWx1ZSkudG9TdHJpbmcoKS5yZXBsYWNlKC9bXjAtOV0qL2csIFwiXCIpLmxlbmd0aCwgMjEpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbbmV3dmFsdWUsIHByZWZpeCwgc3VmZml4XTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgYnJhY2tldHMgd2l0aCB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICAgICAqIEBwYXJhbSB0ZXh0ICBJbnB1dCB0ZXh0XHJcbiAgICAgKiBAcmV0dXJuIEVzY2FwZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBlc2NhcGUodGV4dCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoXCJ8fFwiLCAkdHlwZS5QTEFDRUhPTERFUjIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBsYWNlcyBwbGFjZWhvbGRlcnMgYmFjayB0byBicmFja2V0cy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgRXNjYXBlZCB0ZXh0XHJcbiAgICAgKiBAcmV0dXJuIFVuZXNjYXBlZCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIHVuZXNjYXBlKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKCR0eXBlLlBMQUNFSE9MREVSMiwgXCJ8XCIpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU51bWJlckZvcm1hdHRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   each: () => (/* binding */ each),\n/* harmony export */   eachContinue: () => (/* binding */ eachContinue),\n/* harmony export */   eachOrdered: () => (/* binding */ eachOrdered),\n/* harmony export */   hasKey: () => (/* binding */ hasKey),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   keysOrdered: () => (/* binding */ keysOrdered),\n/* harmony export */   softCopyProperties: () => (/* binding */ softCopyProperties)\n/* harmony export */ });\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\nfunction keys(object) {\r\n    return Object.keys(object);\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nfunction keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\nfunction copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\nfunction each(object, f) {\r\n    keys(object).forEach((key) => {\r\n        f(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nfunction eachContinue(object, fn) {\r\n    for (let key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nfunction eachOrdered(object, fn, ord) {\r\n    _Array__WEBPACK_IMPORTED_MODULE_0__.each(keysOrdered(object, ord), (key) => {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nfunction hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nfunction softCopyProperties(source, target) {\r\n    each(source, (key, value) => {\r\n        // only if value is set\r\n        //if ($type.hasValue(value) && !($type.hasValue((<any>target)[key]))) {\r\n        if (value != null && target[key] == null) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n//# sourceMappingURL=Object.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL09iamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0M7QUFDM0I7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsMkJBQTJCO0FBQzNCO0FBQ087QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSx3Q0FBVztBQUNmO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9PYmplY3QuanM/MDAyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3QncyBwcm9wZXJ0eSBuYW1lcyBvcmRlcmVkIHVzaW5nIHNwZWNpZmljIG9yZGVyaW5nXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqZWN0ICBTb3VyY2Ugb2JqZWN0XHJcbiAqIEBwYXJhbSBvcmRlciAgIE9yZGVyaW5nIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIE9iamVjdCBwcm9wZXJ0eSBuYW1lc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGtleXNPcmRlcmVkKG9iamVjdCwgb3JkZXIpIHtcclxuICAgIHJldHVybiBrZXlzKG9iamVjdCkuc29ydChvcmRlcik7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZWFjaChvYmplY3QsIGYpIHtcclxuICAgIGtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBmKGtleSwgb2JqZWN0W2tleV0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBjYWxsaW5nIGBmbmAgZm9yIGVhY2ggb2YgdGhlbS5cclxuICpcclxuICogSWYgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiBldmFsdWF0ZXMgdG8gYGZhbHNlYCBmdXJ0aGVyIGl0ZXJhdGlvbiBpc1xyXG4gKiBjYW5jZWxsZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3QgIFNvdXJjZSBvYmplY3RcclxuICogQHBhcmFtIGZuICAgICAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlYWNoQ29udGludWUob2JqZWN0LCBmbikge1xyXG4gICAgZm9yIChsZXQga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIGlmIChoYXNLZXkob2JqZWN0LCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmICghZm4oa2V5LCBvYmplY3Rba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBPcmRlcnMgb2JqZWN0IHByb3BlcnRpZXMgdXNpbmcgY3VzdG9tIGBvcmRgIGZ1bmN0aW9uIGFuZCBpdGVyYXRlcyB0aHJvdWdoXHJcbiAqIHRoZW0gY2FsbGluZyBgZm5gIGZvciBlYWNoIG9mIHRoZW0uXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3QgIFNvdXJjZSBvYmplY3RcclxuICogQHBhcmFtIGZuICAgICAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICogQHBhcmFtIG9yZGVyICAgT3JkZXJpbmcgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlYWNoT3JkZXJlZChvYmplY3QsIGZuLCBvcmQpIHtcclxuICAgICRhcnJheS5lYWNoKGtleXNPcmRlcmVkKG9iamVjdCwgb3JkKSwgKGtleSkgPT4ge1xyXG4gICAgICAgIGZuKGtleSwgb2JqZWN0W2tleV0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBgb2JqZWN0YCBoYXMgYSBzcGVjaWZpYyBga2V5YC5cclxuICpcclxuICogQHBhcmFtIG9iamVjdCAgU291cmNlIG9iamVjdFxyXG4gKiBAcGFyYW0ga2V5ICAgICBQcm9wZXJ0eSBuYW1lXHJcbiAqIEByZXR1cm5zIEhhcyBrZXk/XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFzS2V5KG9iamVjdCwga2V5KSB7XHJcbiAgICByZXR1cm4ge30uaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XHJcbn1cclxuLyoqXHJcbiAqIENvcGllcyBhbGwgcHJvcGVydGllcyBvZiBvbmUgb2JqZWN0IHRvIHRoZSBvdGhlciwgb21pdHRpbmcgdW5kZWZpbmVkLCBidXQgb25seSBpZiBwcm9wZXJ0eSBpbiB0YXJnZXQgb2JqZWN0IGRvZXNuJ3QgaGF2ZSBhIHZhbHVlIHNldC5cclxuICpcclxuICogQHBhcmFtIGZyb21PYmplY3QgIFNvdXJjZSBvYmplY3RcclxuICogQHBhcmFtIHRvT2JqZWN0ICAgIFRhcmdldCBvYmplY3RcclxuICogQHJldHVybiBVcGRhdGVkIHRhcmdldCBvYmplY3RcclxuICogQHRvZG8gTWF5YmUgY29uc29saWRhdGUgd2l0aCB1dGlscy5jb3B5P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNvZnRDb3B5UHJvcGVydGllcyhzb3VyY2UsIHRhcmdldCkge1xyXG4gICAgZWFjaChzb3VyY2UsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgLy8gb25seSBpZiB2YWx1ZSBpcyBzZXRcclxuICAgICAgICAvL2lmICgkdHlwZS5oYXNWYWx1ZSh2YWx1ZSkgJiYgISgkdHlwZS5oYXNWYWx1ZSgoPGFueT50YXJnZXQpW2tleV0pKSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHRhcmdldFtrZXldID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compare: () => (/* binding */ compare),\n/* harmony export */   compareArray: () => (/* binding */ compareArray),\n/* harmony export */   compareNumber: () => (/* binding */ compareNumber),\n/* harmony export */   reverse: () => (/* binding */ reverse)\n/* harmony export */ });\n/**\r\n * @ignore\r\n */\r\nfunction compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction compareArray(left, right, f) {\r\n    const leftLength = left.length;\r\n    const rightLength = right.length;\r\n    const length = Math.min(leftLength, rightLength);\r\n    for (let i = 0; i < length; ++i) {\r\n        const order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL09yZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9PcmRlci5qcz8wMWEzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xyXG4gICAgaWYgKGxlZnQgPT09IHJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZWZ0IDwgcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVBcnJheShsZWZ0LCByaWdodCwgZikge1xyXG4gICAgY29uc3QgbGVmdExlbmd0aCA9IGxlZnQubGVuZ3RoO1xyXG4gICAgY29uc3QgcmlnaHRMZW5ndGggPSByaWdodC5sZW5ndGg7XHJcbiAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihsZWZ0TGVuZ3RoLCByaWdodExlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBmKGxlZnRbaV0sIHJpZ2h0W2ldKTtcclxuICAgICAgICBpZiAob3JkZXIgIT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjb21wYXJlKGxlZnRMZW5ndGgsIHJpZ2h0TGVuZ3RoKTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2Uob3JkZXIpIHtcclxuICAgIGlmIChvcmRlciA8IDApIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9yZGVyID4gMCkge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZU51bWJlcihhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYSA8IGIpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcmRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Percent: () => (/* binding */ Percent),\n/* harmony export */   isPercent: () => (/* binding */ isPercent),\n/* harmony export */   p0: () => (/* binding */ p0),\n/* harmony export */   p100: () => (/* binding */ p100),\n/* harmony export */   p50: () => (/* binding */ p50),\n/* harmony export */   percent: () => (/* binding */ percent)\n/* harmony export */ });\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am5.percent(X)`.\r\n *\r\n * You can also use shortcut functions for `0%`, `50%`, and `100%`:\r\n * * `am5.p0`\r\n * * `am5.p50`\r\n * * `am5.p100`\r\n */\r\nclass Percent {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    constructor(percent) {\r\n        /**\r\n         * Value in percent.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = percent;\r\n    }\r\n    /**\r\n     * Relative value.\r\n     *\r\n     * E.g. 100% is 1, 50% is 0.5, etc.\r\n     *\r\n     * This is useful to apply transformations to other values. E.g.:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * Alternatively, you can use `am5.percent()` helper function:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * @readonly\r\n     * @return Relative value\r\n     */\r\n    get value() {\r\n        return this._value / 100;\r\n    }\r\n    /**\r\n     * Value in percent.\r\n     *\r\n     * @readonly\r\n     * @return Percent\r\n     */\r\n    get percent() {\r\n        return this._value;\r\n    }\r\n    toString() {\r\n        return \"\" + this._value + \"%\";\r\n    }\r\n    interpolate(min, max) {\r\n        return min + (this.value * (max - min));\r\n    }\r\n    static normalize(percent, min, max) {\r\n        if (percent instanceof Percent) {\r\n            return percent;\r\n        }\r\n        else {\r\n            if (min === max) {\r\n                return new Percent(0);\r\n            }\r\n            else {\r\n                return new Percent(Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1) * 100);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nfunction percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * A shortcut function to `am5.percent(0)`.\r\n */\r\nconst p0 = percent(0);\r\n/**\r\n * A shortcut function to `am5.percent(100)`.\r\n */\r\nconst p100 = percent(100);\r\n/**\r\n * A shortcut function to `am5.percent(50)`.\r\n */\r\nconst p50 = percent(50);\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nfunction isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1BlcmNlbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvUGVyY2VudC5qcz9lOWQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1BSU4gQ0xBU1NcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHJlbGF0aXZlIHZhbHVlIChwZXJjZW50KS5cclxuICpcclxuICogVGhlIFBlcmNlbnQgb2JqZWN0LCBjYW4gYmUgaW5zdGFudGlhdGVkIHVzaW5nIHR3byB3YXlzOlxyXG4gKlxyXG4gKiAqIFZpYSBgbmV3IFBlcmNlbnQoWClgLlxyXG4gKiAqIFZpYSBgYW01LnBlcmNlbnQoWClgLlxyXG4gKlxyXG4gKiBZb3UgY2FuIGFsc28gdXNlIHNob3J0Y3V0IGZ1bmN0aW9ucyBmb3IgYDAlYCwgYDUwJWAsIGFuZCBgMTAwJWA6XHJcbiAqICogYGFtNS5wMGBcclxuICogKiBgYW01LnA1MGBcclxuICogKiBgYW01LnAxMDBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGVyY2VudCB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwZXJjZW50ICBQZXJjZW50IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBlcmNlbnQpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBWYWx1ZSBpbiBwZXJjZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHBlcmNlbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbGF0aXZlIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEUuZy4gMTAwJSBpcyAxLCA1MCUgaXMgMC41LCBldGMuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gYXBwbHkgdHJhbnNmb3JtYXRpb25zIHRvIG90aGVyIHZhbHVlcy4gRS5nLjpcclxuICAgICAqXHJcbiAgICAgKiBgYGBUeXBlU2NyaXB0XHJcbiAgICAgKiBsZXQgdmFsdWUgPSAyNTY7XHJcbiAgICAgKiBsZXQgcGVyY2VudCA9IG5ldyBhbTUucDUwO1xyXG4gICAgICogY29uc29sZS5sb2codmFsdWUgKiBwZXJjZW50LnZhbHVlKTsgLy8gb3V0cHV0cyAxMjhcclxuICAgICAqIGBgYFxyXG4gICAgICogYGBgSmF2YVNjcmlwdFxyXG4gICAgICogdmFyIHZhbHVlID0gMjU2O1xyXG4gICAgICogdmFyIHBlcmNlbnQgPSBuZXcgYW01LnA1MDtcclxuICAgICAqIGNvbnNvbGUubG9nKHZhbHVlICogcGVyY2VudC52YWx1ZSk7IC8vIG91dHB1dHMgMTI4XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSBgYW01LnBlcmNlbnQoKWAgaGVscGVyIGZ1bmN0aW9uOlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIGxldCB2YWx1ZSA9IDI1NjtcclxuICAgICAqIGxldCBwZXJjZW50ID0gYW01LnA1MDtcclxuICAgICAqIGNvbnNvbGUubG9nKHZhbHVlICogcGVyY2VudC52YWx1ZSk7IC8vIG91dHB1dHMgMTI4XHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIHZhciB2YWx1ZSA9IDI1NjtcclxuICAgICAqIHZhciBwZXJjZW50ID0gYW01LnA1MDtcclxuICAgICAqIGNvbnNvbGUubG9nKHZhbHVlICogcGVyY2VudC52YWx1ZSk7IC8vIG91dHB1dHMgMTI4XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEByZXR1cm4gUmVsYXRpdmUgdmFsdWVcclxuICAgICAqL1xyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSAvIDEwMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmFsdWUgaW4gcGVyY2VudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEByZXR1cm4gUGVyY2VudFxyXG4gICAgICovXHJcbiAgICBnZXQgcGVyY2VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIHRoaXMuX3ZhbHVlICsgXCIlXCI7XHJcbiAgICB9XHJcbiAgICBpbnRlcnBvbGF0ZShtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBtaW4gKyAodGhpcy52YWx1ZSAqIChtYXggLSBtaW4pKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBub3JtYWxpemUocGVyY2VudCwgbWluLCBtYXgpIHtcclxuICAgICAgICBpZiAocGVyY2VudCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobWluID09PSBtYXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGVyY2VudCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGVyY2VudChNYXRoLm1pbihNYXRoLm1heCgocGVyY2VudCAtIG1pbikgKiAoMSAvIChtYXggLSBtaW4pKSwgMCksIDEpICogMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgbnVtZXJpYyBwZXJjZW50IHZhbHVlIHRvIGEgcHJvcGVyIFtbUGVyY2VudF1dIG9iamVjdC5cclxuICpcclxuICogYGBgVHlwZVNjcmlwdFxyXG4gKiBwaWVTZXJpZXMuc2V0KFwicmFkaXVzXCIsIGFtNS5wZXJjZW50KDgwKSk7XHJcbiAqIGBgYFxyXG4gKiBgYGBKYXZhU2NyaXB0XHJcbiAqIHBpZVNlcmllcy5zZXQoXCJyYWRpdXNcIiwgYW01LnBlcmNlbnQoODApKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgUGVyY2VudFxyXG4gKiBAcmV0dXJuIFBlcmNlbnQgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGVyY2VudCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQZXJjZW50KHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQSBzaG9ydGN1dCBmdW5jdGlvbiB0byBgYW01LnBlcmNlbnQoMClgLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHAwID0gcGVyY2VudCgwKTtcclxuLyoqXHJcbiAqIEEgc2hvcnRjdXQgZnVuY3Rpb24gdG8gYGFtNS5wZXJjZW50KDEwMClgLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHAxMDAgPSBwZXJjZW50KDEwMCk7XHJcbi8qKlxyXG4gKiBBIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIGBhbTUucGVyY2VudCg1MClgLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHA1MCA9IHBlcmNlbnQoNTApO1xyXG4vKipcclxuICogQ2hlY2tzIGlmIHZhbHVlIGlzIGEgW1tQZXJjZW50XV0gb2JqZWN0LlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBJcyBwZXJjZW50P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyY2VudCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUGVyY2VudDtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1QZXJjZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTagValueFromObject: () => (/* binding */ getTagValueFromObject),\n/* harmony export */   populateString: () => (/* binding */ populateString)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _render_Sprite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../render/Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/** @ignore */ /** */\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction populateString(target, string) {\r\n    if (string != null) {\r\n        string = \"\" + string;\r\n        string = _TextFormatter__WEBPACK_IMPORTED_MODULE_0__.TextFormatter.escape(string);\r\n        let tags = string.match(/\\{([^}]+)\\}/g);\r\n        let i;\r\n        if (tags) {\r\n            for (i = 0; i < tags.length; i++) {\r\n                let tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                let value = getTagValue(target, tag, \"\");\r\n                if (value == null) {\r\n                    value = \"\";\r\n                }\r\n                string = string.split(tags[i]).join(value);\r\n            }\r\n        }\r\n        string = _TextFormatter__WEBPACK_IMPORTED_MODULE_0__.TextFormatter.unescape(string);\r\n    }\r\n    else {\r\n        string = \"\";\r\n    }\r\n    // TODO: apply adapter?\r\n    return string;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValue(target, tagName, format) {\r\n    let value;\r\n    const dataItem = target.dataItem;\r\n    // Parse parts\r\n    let parts = [];\r\n    let reg = /(format[a-zA-Z]*)\\((.*)\\)|([^.]+)/g;\r\n    let matches;\r\n    while (true) {\r\n        matches = reg.exec(tagName);\r\n        if (matches === null) {\r\n            break;\r\n        }\r\n        if (matches[3]) {\r\n            // Simple property\r\n            parts.push({\r\n                prop: matches[3]\r\n            });\r\n            // Check if maybe we should force a formatter on this value\r\n            const dateFields = target.getDateFormatter().get(\"dateFields\", []);\r\n            const numericFields = target.getNumberFormatter().get(\"numericFields\", []);\r\n            const durationFields = target.getDurationFormatter().get(\"durationFields\", []);\r\n            if (dateFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDate\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (numericFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatNumber\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (durationFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDuration\",\r\n                    params: []\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            // Parse parameters\r\n            let params = [];\r\n            if (_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(matches[2]) != \"\") {\r\n                let reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                let matches2;\r\n                while (true) {\r\n                    matches2 = reg2.exec(matches[2]);\r\n                    if (matches2 === null) {\r\n                        break;\r\n                    }\r\n                    params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                }\r\n            }\r\n            parts.push({\r\n                method: matches[1],\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n    // Check if we can retrieve the value from data item\r\n    if (dataItem) {\r\n        // Check values\r\n        value = getTagValueFromObject(target, parts, dataItem._settings);\r\n        // Check properties\r\n        if (value == null || _Type__WEBPACK_IMPORTED_MODULE_2__.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and won't get to the dateX date.\r\n            value = getTagValueFromObject(target, parts, dataItem);\r\n        }\r\n        // Check data context\r\n        let dataContext = dataItem.dataContext;\r\n        if (value == null && dataContext) {\r\n            value = getTagValueFromObject(target, parts, dataContext);\r\n            // Maybe it's a literal dot-separated name of the key in dataContext?\r\n            if (value == null) {\r\n                value = getTagValueFromObject(target, [{\r\n                        prop: tagName\r\n                    }], dataContext);\r\n            }\r\n            // scond data context level sometimes exist (tree map)\r\n            if (value == null && dataContext.dataContext) {\r\n                value = getTagValueFromObject(target, parts, dataContext.dataContext);\r\n            }\r\n        }\r\n        // Check component's data item\r\n        if (value == null && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n            value = getTagValue(dataItem.component, tagName, format);\r\n        }\r\n    }\r\n    // Check sprite's properties\r\n    if (value == null) {\r\n        value = getTagValueFromObject(target, parts, target);\r\n    }\r\n    // Finally, check the parent\r\n    if (value == null && target.parent) {\r\n        value = getTagValue(target.parent, tagName, format);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getCustomDataValue(target, prop) {\r\n    const customData = target.getPrivate(\"customData\");\r\n    if (_Type__WEBPACK_IMPORTED_MODULE_2__.isObject(customData)) {\r\n        return customData[prop];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValueFromObject(target, parts, object, format) {\r\n    let current = object;\r\n    let formatApplied = false;\r\n    for (let i = 0, len = parts.length; i < len; i++) {\r\n        let part = parts[i];\r\n        if (part.prop) {\r\n            // Regular property\r\n            if (current instanceof _render_Sprite__WEBPACK_IMPORTED_MODULE_3__.Sprite) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current.getPrivate(part.prop);\r\n                if (tmp == null)\r\n                    tmp = getCustomDataValue(current, part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else if (current.get) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else {\r\n                current = current[part.prop];\r\n            }\r\n            if (current == null) {\r\n                // Not set, return undefined\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            switch (part.method) {\r\n                case \"formatNumber\":\r\n                    let numberValue = _Type__WEBPACK_IMPORTED_MODULE_2__.toNumber(current);\r\n                    if (numberValue != null) {\r\n                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDate\":\r\n                    let dateValue = _Type__WEBPACK_IMPORTED_MODULE_2__.toDate(current);\r\n                    if (!_Type__WEBPACK_IMPORTED_MODULE_2__.isDate(dateValue) || _Type__WEBPACK_IMPORTED_MODULE_2__.isNaN(dateValue.getTime())) {\r\n                        // Was not able to get date out of value, quitting and letting\r\n                        // calling method try another value\r\n                        return;\r\n                    }\r\n                    if (dateValue != null) {\r\n                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDuration\":\r\n                    let durationValue = _Type__WEBPACK_IMPORTED_MODULE_2__.toNumber(current);\r\n                    if (durationValue != null) {\r\n                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"urlEncode\":\r\n                case \"encodeURIComponent\":\r\n                    current = encodeURIComponent(current);\r\n                    break;\r\n                default:\r\n                    if (current[part.method]) {\r\n                        current[part.method].apply(object, part.params);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    // Apply default format if it wasn't applied explicitly\r\n    if (!formatApplied) {\r\n        let formatParts = [{\r\n                method: \"\",\r\n                params: format\r\n            }];\r\n        if (format == null) {\r\n            // Format is not set\r\n            // Determine from the type of the value\r\n            if (_Type__WEBPACK_IMPORTED_MODULE_2__.isNumber(current)) {\r\n                formatParts[0].method = \"formatNumber\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n            else if (_Type__WEBPACK_IMPORTED_MODULE_2__.isDate(current)) {\r\n                formatParts[0].method = \"formatDate\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n        }\r\n        else {\r\n            // Format set\r\n            // Try to determine formatter based on the format\r\n            let formatterType = _Utils__WEBPACK_IMPORTED_MODULE_1__.getFormat(format);\r\n            // format\r\n            if (formatterType === \"number\") {\r\n                formatParts[0].method = \"formatNumber\";\r\n            }\r\n            else if (formatterType === \"date\") {\r\n                formatParts[0].method = \"formatDate\";\r\n            }\r\n            else if (formatterType === \"duration\") {\r\n                formatParts[0].method = \"formatDuration\";\r\n            }\r\n        }\r\n        // Apply format\r\n        if (formatParts[0].method) {\r\n            current = getTagValueFromObject(target, formatParts, current);\r\n        }\r\n    }\r\n    return current;\r\n}\r\n//# sourceMappingURL=PopulateString.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1BvcHVsYXRlU3RyaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ2dDO0FBQ0U7QUFDUTtBQUNNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQix5REFBYTtBQUM5QixtQ0FBbUMsSUFBSSxLQUFLO0FBQzVDO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDLDZDQUE2QyxJQUFJLEtBQUs7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0NBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkNBQWMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyQ0FBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0RBQU07QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDJDQUFjO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5Q0FBWTtBQUNoRCx5QkFBeUIseUNBQVksZUFBZSx3Q0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyQ0FBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlDQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZDQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1BvcHVsYXRlU3RyaW5nLmpzPzE2NWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBpZ25vcmUgKi8gLyoqICovXHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi9yZW5kZXIvU3ByaXRlXCI7XHJcbmltcG9ydCB7IFRleHRGb3JtYXR0ZXIgfSBmcm9tIFwiLi9UZXh0Rm9ybWF0dGVyXCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9wdWxhdGVTdHJpbmcodGFyZ2V0LCBzdHJpbmcpIHtcclxuICAgIGlmIChzdHJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgIHN0cmluZyA9IFwiXCIgKyBzdHJpbmc7XHJcbiAgICAgICAgc3RyaW5nID0gVGV4dEZvcm1hdHRlci5lc2NhcGUoc3RyaW5nKTtcclxuICAgICAgICBsZXQgdGFncyA9IHN0cmluZy5tYXRjaCgvXFx7KFtefV0rKVxcfS9nKTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBpZiAodGFncykge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhZyA9IHRhZ3NbaV0ucmVwbGFjZSgvXFx7KFtefV0rKVxcfS8sIFwiJDFcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRUYWdWYWx1ZSh0YXJnZXQsIHRhZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zcGxpdCh0YWdzW2ldKS5qb2luKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdHJpbmcgPSBUZXh0Rm9ybWF0dGVyLnVuZXNjYXBlKHN0cmluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzdHJpbmcgPSBcIlwiO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogYXBwbHkgYWRhcHRlcj9cclxuICAgIHJldHVybiBzdHJpbmc7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGdldFRhZ1ZhbHVlKHRhcmdldCwgdGFnTmFtZSwgZm9ybWF0KSB7XHJcbiAgICBsZXQgdmFsdWU7XHJcbiAgICBjb25zdCBkYXRhSXRlbSA9IHRhcmdldC5kYXRhSXRlbTtcclxuICAgIC8vIFBhcnNlIHBhcnRzXHJcbiAgICBsZXQgcGFydHMgPSBbXTtcclxuICAgIGxldCByZWcgPSAvKGZvcm1hdFthLXpBLVpdKilcXCgoLiopXFwpfChbXi5dKykvZztcclxuICAgIGxldCBtYXRjaGVzO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBtYXRjaGVzID0gcmVnLmV4ZWModGFnTmFtZSk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtYXRjaGVzWzNdKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHByb3A6IG1hdGNoZXNbM11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heWJlIHdlIHNob3VsZCBmb3JjZSBhIGZvcm1hdHRlciBvbiB0aGlzIHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGVGaWVsZHMgPSB0YXJnZXQuZ2V0RGF0ZUZvcm1hdHRlcigpLmdldChcImRhdGVGaWVsZHNcIiwgW10pO1xyXG4gICAgICAgICAgICBjb25zdCBudW1lcmljRmllbGRzID0gdGFyZ2V0LmdldE51bWJlckZvcm1hdHRlcigpLmdldChcIm51bWVyaWNGaWVsZHNcIiwgW10pO1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbkZpZWxkcyA9IHRhcmdldC5nZXREdXJhdGlvbkZvcm1hdHRlcigpLmdldChcImR1cmF0aW9uRmllbGRzXCIsIFtdKTtcclxuICAgICAgICAgICAgaWYgKGRhdGVGaWVsZHMuaW5kZXhPZihtYXRjaGVzWzNdKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJmb3JtYXREYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobnVtZXJpY0ZpZWxkcy5pbmRleE9mKG1hdGNoZXNbM10pICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcImZvcm1hdE51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogW11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGR1cmF0aW9uRmllbGRzLmluZGV4T2YobWF0Y2hlc1szXSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiZm9ybWF0RHVyYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTWV0aG9kXHJcbiAgICAgICAgICAgIC8vIFBhcnNlIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoJHV0aWxzLnRyaW0obWF0Y2hlc1syXSkgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZzIgPSAvJyhbXiddKiknfFwiKFteXCJdKilcInwoWzAtOVxcLV0rKS9nO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMyO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzMiA9IHJlZzIuZXhlYyhtYXRjaGVzWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlczIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG1hdGNoZXMyWzFdIHx8IG1hdGNoZXMyWzJdIHx8IG1hdGNoZXMyWzNdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHdlIGNhbiByZXRyaWV2ZSB0aGUgdmFsdWUgZnJvbSBkYXRhIGl0ZW1cclxuICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgIC8vIENoZWNrIHZhbHVlc1xyXG4gICAgICAgIHZhbHVlID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgcGFydHMsIGRhdGFJdGVtLl9zZXR0aW5ncyk7XHJcbiAgICAgICAgLy8gQ2hlY2sgcHJvcGVydGllc1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8ICR0eXBlLmlzT2JqZWN0KHZhbHVlKSkgeyAvLyBpc09iamVjdCBoZWxwcyB0byBzb2x2ZSBwcm9ibGVtIHdpdGggZGF0ZSBheGlzLCBhcyBmb3IgZXhhbXBsZSBkYXRlWCB3aWxsIGdldCBkYXRlWCBmcm9tIHZhbHVlcyBvYmplY3QgYW5kIHdvbid0IGdldCB0byB0aGUgZGF0ZVggZGF0ZS5cclxuICAgICAgICAgICAgdmFsdWUgPSBnZXRUYWdWYWx1ZUZyb21PYmplY3QodGFyZ2V0LCBwYXJ0cywgZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBkYXRhIGNvbnRleHRcclxuICAgICAgICBsZXQgZGF0YUNvbnRleHQgPSBkYXRhSXRlbS5kYXRhQ29udGV4dDtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBkYXRhQ29udGV4dCkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGdldFRhZ1ZhbHVlRnJvbU9iamVjdCh0YXJnZXQsIHBhcnRzLCBkYXRhQ29udGV4dCk7XHJcbiAgICAgICAgICAgIC8vIE1heWJlIGl0J3MgYSBsaXRlcmFsIGRvdC1zZXBhcmF0ZWQgbmFtZSBvZiB0aGUga2V5IGluIGRhdGFDb250ZXh0P1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBnZXRUYWdWYWx1ZUZyb21PYmplY3QodGFyZ2V0LCBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wOiB0YWdOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfV0sIGRhdGFDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29uZCBkYXRhIGNvbnRleHQgbGV2ZWwgc29tZXRpbWVzIGV4aXN0ICh0cmVlIG1hcClcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgZGF0YUNvbnRleHQuZGF0YUNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgcGFydHMsIGRhdGFDb250ZXh0LmRhdGFDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBjb21wb25lbnQncyBkYXRhIGl0ZW1cclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBkYXRhSXRlbS5jb21wb25lbnQgJiYgZGF0YUl0ZW0uY29tcG9uZW50LmRhdGFJdGVtICE9PSBkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGdldFRhZ1ZhbHVlKGRhdGFJdGVtLmNvbXBvbmVudCwgdGFnTmFtZSwgZm9ybWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBzcHJpdGUncyBwcm9wZXJ0aWVzXHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZhbHVlID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgcGFydHMsIHRhcmdldCk7XHJcbiAgICB9XHJcbiAgICAvLyBGaW5hbGx5LCBjaGVjayB0aGUgcGFyZW50XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiB0YXJnZXQucGFyZW50KSB7XHJcbiAgICAgICAgdmFsdWUgPSBnZXRUYWdWYWx1ZSh0YXJnZXQucGFyZW50LCB0YWdOYW1lLCBmb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDdXN0b21EYXRhVmFsdWUodGFyZ2V0LCBwcm9wKSB7XHJcbiAgICBjb25zdCBjdXN0b21EYXRhID0gdGFyZ2V0LmdldFByaXZhdGUoXCJjdXN0b21EYXRhXCIpO1xyXG4gICAgaWYgKCR0eXBlLmlzT2JqZWN0KGN1c3RvbURhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuIGN1c3RvbURhdGFbcHJvcF07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUYWdWYWx1ZUZyb21PYmplY3QodGFyZ2V0LCBwYXJ0cywgb2JqZWN0LCBmb3JtYXQpIHtcclxuICAgIGxldCBjdXJyZW50ID0gb2JqZWN0O1xyXG4gICAgbGV0IGZvcm1hdEFwcGxpZWQgPSBmYWxzZTtcclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGxldCBwYXJ0ID0gcGFydHNbaV07XHJcbiAgICAgICAgaWYgKHBhcnQucHJvcCkge1xyXG4gICAgICAgICAgICAvLyBSZWd1bGFyIHByb3BlcnR5XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50IGluc3RhbmNlb2YgU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG1wID0gY3VycmVudC5nZXQocGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXJyZW50LmdldFByaXZhdGUocGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBnZXRDdXN0b21EYXRhVmFsdWUoY3VycmVudCwgcGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXJyZW50W3BhcnQucHJvcF07XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQuZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG1wID0gY3VycmVudC5nZXQocGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXJyZW50W3BhcnQucHJvcF07XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydC5wcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb3Qgc2V0LCByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1ldGhvZFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQubWV0aG9kKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0TnVtYmVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bWJlclZhbHVlID0gJHR5cGUudG9OdW1iZXIoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWJlclZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRhcmdldC5nZXROdW1iZXJGb3JtYXR0ZXIoKS5mb3JtYXQobnVtYmVyVmFsdWUsIGZvcm1hdCB8fCBwYXJ0LnBhcmFtc1swXSB8fCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRBcHBsaWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0RGF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRlVmFsdWUgPSAkdHlwZS50b0RhdGUoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc0RhdGUoZGF0ZVZhbHVlKSB8fCAkdHlwZS5pc05hTihkYXRlVmFsdWUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYXMgbm90IGFibGUgdG8gZ2V0IGRhdGUgb3V0IG9mIHZhbHVlLCBxdWl0dGluZyBhbmQgbGV0dGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIG1ldGhvZCB0cnkgYW5vdGhlciB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0LmdldERhdGVGb3JtYXR0ZXIoKS5mb3JtYXQoZGF0ZVZhbHVlLCBmb3JtYXQgfHwgcGFydC5wYXJhbXNbMF0gfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0QXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdER1cmF0aW9uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uVmFsdWUgPSAkdHlwZS50b051bWJlcihjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb25WYWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQuZ2V0RHVyYXRpb25Gb3JtYXR0ZXIoKS5mb3JtYXQoZHVyYXRpb25WYWx1ZSwgZm9ybWF0IHx8IHBhcnQucGFyYW1zWzBdIHx8IHVuZGVmaW5lZCwgcGFydC5wYXJhbXNbMV0gfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0QXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInVybEVuY29kZVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVuY29kZVVSSUNvbXBvbmVudFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBlbmNvZGVVUklDb21wb25lbnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50W3BhcnQubWV0aG9kXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W3BhcnQubWV0aG9kXS5hcHBseShvYmplY3QsIHBhcnQucGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBBcHBseSBkZWZhdWx0IGZvcm1hdCBpZiBpdCB3YXNuJ3QgYXBwbGllZCBleHBsaWNpdGx5XHJcbiAgICBpZiAoIWZvcm1hdEFwcGxpZWQpIHtcclxuICAgICAgICBsZXQgZm9ybWF0UGFydHMgPSBbe1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBmb3JtYXRcclxuICAgICAgICAgICAgfV07XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIEZvcm1hdCBpcyBub3Qgc2V0XHJcbiAgICAgICAgICAgIC8vIERldGVybWluZSBmcm9tIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoY3VycmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdFBhcnRzWzBdLm1ldGhvZCA9IFwiZm9ybWF0TnVtYmVyXCI7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRQYXJ0c1swXS5wYXJhbXMgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCR0eXBlLmlzRGF0ZShjdXJyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0UGFydHNbMF0ubWV0aG9kID0gXCJmb3JtYXREYXRlXCI7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRQYXJ0c1swXS5wYXJhbXMgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgc2V0XHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlcm1pbmUgZm9ybWF0dGVyIGJhc2VkIG9uIHRoZSBmb3JtYXRcclxuICAgICAgICAgICAgbGV0IGZvcm1hdHRlclR5cGUgPSAkdXRpbHMuZ2V0Rm9ybWF0KGZvcm1hdCk7XHJcbiAgICAgICAgICAgIC8vIGZvcm1hdFxyXG4gICAgICAgICAgICBpZiAoZm9ybWF0dGVyVHlwZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0UGFydHNbMF0ubWV0aG9kID0gXCJmb3JtYXROdW1iZXJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3JtYXR0ZXJUeXBlID09PSBcImRhdGVcIikge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0UGFydHNbMF0ubWV0aG9kID0gXCJmb3JtYXREYXRlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0dGVyVHlwZSA9PT0gXCJkdXJhdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRQYXJ0c1swXS5tZXRob2QgPSBcImZvcm1hdER1cmF0aW9uXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwbHkgZm9ybWF0XHJcbiAgICAgICAgaWYgKGZvcm1hdFBhcnRzWzBdLm1ldGhvZCkge1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgZm9ybWF0UGFydHMsIGN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50O1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvcHVsYXRlU3RyaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeSensor: () => (/* binding */ ResizeSensor)\n/* harmony export */ });\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/** @ignore */ /** */\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nclass Native {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_observer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this._observer = new ResizeObserver((entries) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_0__.each(entries, (entry) => {\r\n                _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._targets, (x) => {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        this._observer.observe(target, { box: \"border-box\" });\r\n        this._targets.push({ target, callback });\r\n    }\r\n    removeTarget(target) {\r\n        this._observer.unobserve(target);\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Raf {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_timer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        if (this._timer === null) {\r\n            let lastTime = null;\r\n            const loop = () => {\r\n                const currentTime = Date.now();\r\n                if (lastTime === null || currentTime > (lastTime + Raf.delay)) {\r\n                    lastTime = currentTime;\r\n                    _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._targets, (x) => {\r\n                        let newSize = x.target.getBoundingClientRect();\r\n                        if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                            x.size = newSize;\r\n                            x.callback();\r\n                        }\r\n                    });\r\n                }\r\n                if (this._targets.length === 0) {\r\n                    this._timer = null;\r\n                }\r\n                else {\r\n                    this._timer = requestAnimationFrame(loop);\r\n                }\r\n            };\r\n            this._timer = requestAnimationFrame(loop);\r\n        }\r\n        // We start off with fake bounds so that sensor always kicks in\r\n        let size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\r\n        this._targets.push({ target, callback, size });\r\n    }\r\n    removeTarget(target) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n        if (this._targets.length === 0) {\r\n            if (this._timer !== null) {\r\n                cancelAnimationFrame(this._timer);\r\n                this._timer = null;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Raf, \"delay\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: 200\r\n});\r\n/**\r\n * @ignore\r\n */\r\nlet observer = null;\r\n/**\r\n * @ignore\r\n */\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ResizeSensor {\r\n    constructor(element, callback) {\r\n        Object.defineProperty(this, \"_sensor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_listener\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        // This is needed because we need to know when the window is zoomed\r\n        this._listener = _Utils__WEBPACK_IMPORTED_MODULE_1__.onZoom(callback);\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._sensor.removeTarget(this._element);\r\n            this._listener.dispose();\r\n        }\r\n    }\r\n    get sensor() {\r\n        return this._sensor;\r\n    }\r\n}\r\n//# sourceMappingURL=ResizeSensor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1Jlc2l6ZVNlbnNvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNrQztBQUNBO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUNBQXlDLG1CQUFtQjtBQUM1RCw2QkFBNkIsa0JBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3Q0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsNkJBQTZCLHdCQUF3QjtBQUNyRDtBQUNBO0FBQ0EsUUFBUSwwQ0FBYTtBQUNyQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQWE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1Jlc2l6ZVNlbnNvci5qcz9hNjg4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAaWdub3JlICovIC8qKiAqL1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBOYXRpdmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29ic2VydmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YXJnZXRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZW50cmllcywgKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90YXJnZXRzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4LnRhcmdldCA9PT0gZW50cnkudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRUYXJnZXQodGFyZ2V0LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7IGJveDogXCJib3JkZXItYm94XCIgfSk7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0cy5wdXNoKHsgdGFyZ2V0LCBjYWxsYmFjayB9KTtcclxuICAgIH1cclxuICAgIHJlbW92ZVRhcmdldCh0YXJnZXQpIHtcclxuICAgICAgICB0aGlzLl9vYnNlcnZlci51bm9ic2VydmUodGFyZ2V0KTtcclxuICAgICAgICAkYXJyYXkua2VlcElmKHRoaXMuX3RhcmdldHMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LnRhcmdldCAhPT0gdGFyZ2V0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBSYWYge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpbWVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFyZ2V0c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYWRkVGFyZ2V0KHRhcmdldCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdGltZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGxhc3RUaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgbG9vcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmIChsYXN0VGltZSA9PT0gbnVsbCB8fCBjdXJyZW50VGltZSA+IChsYXN0VGltZSArIFJhZi5kZWxheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RhcmdldHMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdTaXplID0geC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdTaXplLndpZHRoICE9PSB4LnNpemUud2lkdGggfHwgbmV3U2l6ZS5oZWlnaHQgIT09IHguc2l6ZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2l6ZSA9IG5ld1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90YXJnZXRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2Ugc3RhcnQgb2ZmIHdpdGggZmFrZSBib3VuZHMgc28gdGhhdCBzZW5zb3IgYWx3YXlzIGtpY2tzIGluXHJcbiAgICAgICAgbGV0IHNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCwgeDogMCwgeTogMCB9O1xyXG4gICAgICAgIHRoaXMuX3RhcmdldHMucHVzaCh7IHRhcmdldCwgY2FsbGJhY2ssIHNpemUgfSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVUYXJnZXQodGFyZ2V0KSB7XHJcbiAgICAgICAgJGFycmF5LmtlZXBJZih0aGlzLl90YXJnZXRzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4geC50YXJnZXQgIT09IHRhcmdldDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl90aW1lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZiwgXCJkZWxheVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogMjAwXHJcbn0pO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxubGV0IG9ic2VydmVyID0gbnVsbDtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VTZW5zb3IoKSB7XHJcbiAgICBpZiAob2JzZXJ2ZXIgPT09IG51bGwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE5hdGl2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgUmFmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9ic2VydmVyO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVzaXplU2Vuc29yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NlbnNvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZWxlbWVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGlzdGVuZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc2Vuc29yID0gbWFrZVNlbnNvcigpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugd2UgbmVlZCB0byBrbm93IHdoZW4gdGhlIHdpbmRvdyBpcyB6b29tZWRcclxuICAgICAgICB0aGlzLl9saXN0ZW5lciA9ICR1dGlscy5vblpvb20oY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuX3NlbnNvci5hZGRUYXJnZXQoZWxlbWVudCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5zb3IucmVtb3ZlVGFyZ2V0KHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHNlbnNvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2Vuc29yO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc2l6ZVNlbnNvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/States.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   State: () => (/* binding */ State),\n/* harmony export */   States: () => (/* binding */ States)\n/* harmony export */ });\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n\r\n\r\n/**\r\n * An object representing a collection of setting values to apply as required.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nclass State {\r\n    constructor(entity, settings) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_userSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n        this._settings = settings;\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(settings, (key) => {\r\n            this._userSettings[key] = true;\r\n        });\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` to be set when the state\r\n     * is applied.\r\n     *\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userSettings[key] = true;\r\n        this.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userSettings[key];\r\n        delete this._settings[key];\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.keys(settings).forEach((key) => {\r\n            this.set(key, settings[key]);\r\n        });\r\n    }\r\n    _eachSetting(f) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settings, f);\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * All setting values are set immediately.\r\n     */\r\n    apply() {\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this !== defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                this._entity.set(key, value);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @return           Animations\r\n     */\r\n    applyAnimate(duration) {\r\n        if (duration == null) {\r\n            duration = this._settings.stateAnimationDuration;\r\n        }\r\n        if (duration == null) {\r\n            duration = this.get(\"stateAnimationDuration\", this._entity.get(\"stateAnimationDuration\", 0));\r\n        }\r\n        let easing = this._settings.stateAnimationEasing;\r\n        if (easing == null) {\r\n            easing = this.get(\"stateAnimationEasing\", this._entity.get(\"stateAnimationEasing\", _Ease__WEBPACK_IMPORTED_MODULE_1__.cubic));\r\n        }\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const animations = {};\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this != defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                const animation = this._entity.animate({\r\n                    key: key,\r\n                    to: value,\r\n                    duration: duration,\r\n                    easing: easing\r\n                });\r\n                if (animation) {\r\n                    animations[key] = animation;\r\n                }\r\n            }\r\n        });\r\n        return animations;\r\n    }\r\n}\r\n/**\r\n * Collection of [[State]] objects for an element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nclass States {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Checks if a state by `name` exists. Returns it there is one.\r\n     *\r\n     * @param  name  State name\r\n     * @return       State\r\n     */\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    /**\r\n     * Sets supplied `settings` on a state by the `name`.\r\n     *\r\n     * If such state does not yet exists, it is created.\r\n     *\r\n     * @param   name      State name\r\n     * @param   settings  Settings\r\n     * @return            New State\r\n     */\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new State(this._entity, settings);\r\n            this._states[name] = state;\r\n            return state;\r\n        }\r\n    }\r\n    /**\r\n     * Removes the state called `name`.\r\n     *\r\n     * @param   name      State name\r\n     */\r\n    remove(name) {\r\n        delete this._states[name];\r\n    }\r\n    /**\r\n     * Applies a named state to the target element.\r\n     *\r\n     * @param  newState  State name\r\n     */\r\n    apply(newState) {\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            state.apply();\r\n        }\r\n        this._entity._applyState(newState);\r\n    }\r\n    /**\r\n     * Applies a named state to the element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @param   newState  State name\r\n     * @return            Animations\r\n     */\r\n    applyAnimate(newState, duration) {\r\n        let animations;\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            animations = state.applyAnimate(duration);\r\n        }\r\n        this._entity._applyStateAnimated(newState, duration);\r\n        return animations;\r\n    }\r\n}\r\n//# sourceMappingURL=States.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1N0YXRlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBQ0o7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrRUFBa0U7QUFDM0U7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEseUNBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUEyRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Ysd0NBQVc7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtFQUFrRTtBQUMzRTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvU3RhdGVzLmpzP2JhMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi9PYmplY3RcIjtcclxuaW1wb3J0ICogYXMgJGVhc2UgZnJvbSBcIi4vRWFzZVwiO1xyXG4vKipcclxuICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIGNvbGxlY3Rpb24gb2Ygc2V0dGluZyB2YWx1ZXMgdG8gYXBwbHkgYXMgcmVxdWlyZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL3N0YXRlcy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHNldHRpbmdzKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VudGl0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VzZXJTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgICRvYmplY3QuZWFjaChzZXR0aW5ncywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyU2V0dGluZ3Nba2V5XSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXQoa2V5LCBmYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFJhdyhrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgc2V0dGluZyBgdmFsdWVgIGZvciB0aGUgc3BlY2lmaWVkIGBrZXlgIHRvIGJlIHNldCB3aGVuIHRoZSBzdGF0ZVxyXG4gICAgICogaXMgYXBwbGllZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgICBTZXR0aW5nIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJTZXR0aW5nc1trZXldID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldFJhdyhrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIHNldHRpbmcgdmFsdWUgZm9yIHRoZSBzcGVjaWZpZWQgYGtleWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl91c2VyU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICBkZWxldGUgdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBtdWx0aXBsZSBzZXR0aW5ncyBhdCBvbmNlLlxyXG4gICAgICpcclxuICAgICAqIGBzZXR0aW5nc2AgbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCBrZXk6IHZhbHVlIHBhaXJzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtIHNldHRpbmdzIFNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIHNldEFsbChzZXR0aW5ncykge1xyXG4gICAgICAgICRvYmplY3Qua2V5cyhzZXR0aW5ncykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgc2V0dGluZ3Nba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZWFjaFNldHRpbmcoZikge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9zZXR0aW5ncywgZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgdGhlIHN0YXRlIHRvIHRoZSB0YXJnZXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBBbGwgc2V0dGluZyB2YWx1ZXMgYXJlIHNldCBpbW1lZGlhdGVseS5cclxuICAgICAqL1xyXG4gICAgYXBwbHkoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VlbiA9IHt9O1xyXG4gICAgICAgIHNlZW5bXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiXSA9IHRydWU7XHJcbiAgICAgICAgc2VlbltcInN0YXRlQW5pbWF0aW9uRHVyYXRpb25cIl0gPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHRoaXMuX2VudGl0eS5zdGF0ZXMubG9va3VwKFwiZGVmYXVsdFwiKTtcclxuICAgICAgICB0aGlzLl9lYWNoU2V0dGluZygoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlZW5ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc2VlbltrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIHNhdmUgdmFsdWVzIHRvIGRlZmF1bHQgc3RhdGVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzICE9PSBkZWZhdWx0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gZGVmYXVsdFN0YXRlLl9zZXR0aW5ncykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFN0YXRlLl9zZXR0aW5nc1trZXldID0gdGhpcy5fZW50aXR5LmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbGllcyB0aGUgc3RhdGUgdG8gdGhlIHRhcmdldCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBhbGwgW1tBbmltYXRpb25dXSBvYmplY3RzIGNyZWF0ZWQgZm9yXHJcbiAgICAgKiBlYWNoIHNldHRpbmcga2V5IHRyYW5zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgQW5pbWF0aW9uc1xyXG4gICAgICovXHJcbiAgICBhcHBseUFuaW1hdGUoZHVyYXRpb24pIHtcclxuICAgICAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuX3NldHRpbmdzLnN0YXRlQW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy5nZXQoXCJzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uXCIsIHRoaXMuX2VudGl0eS5nZXQoXCJzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uXCIsIDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVhc2luZyA9IHRoaXMuX3NldHRpbmdzLnN0YXRlQW5pbWF0aW9uRWFzaW5nO1xyXG4gICAgICAgIGlmIChlYXNpbmcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlYXNpbmcgPSB0aGlzLmdldChcInN0YXRlQW5pbWF0aW9uRWFzaW5nXCIsIHRoaXMuX2VudGl0eS5nZXQoXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiLCAkZWFzZS5jdWJpYykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSB0aGlzLl9lbnRpdHkuc3RhdGVzLmxvb2t1cChcImRlZmF1bHRcIik7XHJcbiAgICAgICAgY29uc3Qgc2VlbiA9IHt9O1xyXG4gICAgICAgIHNlZW5bXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiXSA9IHRydWU7XHJcbiAgICAgICAgc2VlbltcInN0YXRlQW5pbWF0aW9uRHVyYXRpb25cIl0gPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB7fTtcclxuICAgICAgICB0aGlzLl9lYWNoU2V0dGluZygoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlZW5ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc2VlbltrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIHNhdmUgdmFsdWVzIHRvIGRlZmF1bHQgc3RhdGVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzICE9IGRlZmF1bHRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBkZWZhdWx0U3RhdGUuX3NldHRpbmdzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3RhdGUuX3NldHRpbmdzW2tleV0gPSB0aGlzLl9lbnRpdHkuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5fZW50aXR5LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNpbmdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNba2V5XSA9IGFuaW1hdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhbmltYXRpb25zO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDb2xsZWN0aW9uIG9mIFtbU3RhdGVdXSBvYmplY3RzIGZvciBhbiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy9zdGF0ZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3RhdGVzIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdGF0ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhdGUgYnkgYG5hbWVgIGV4aXN0cy4gUmV0dXJucyBpdCB0aGVyZSBpcyBvbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBuYW1lICBTdGF0ZSBuYW1lXHJcbiAgICAgKiBAcmV0dXJuICAgICAgIFN0YXRlXHJcbiAgICAgKi9cclxuICAgIGxvb2t1cChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBzdXBwbGllZCBgc2V0dGluZ3NgIG9uIGEgc3RhdGUgYnkgdGhlIGBuYW1lYC5cclxuICAgICAqXHJcbiAgICAgKiBJZiBzdWNoIHN0YXRlIGRvZXMgbm90IHlldCBleGlzdHMsIGl0IGlzIGNyZWF0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgbmFtZSAgICAgIFN0YXRlIG5hbWVcclxuICAgICAqIEBwYXJhbSAgIHNldHRpbmdzICBTZXR0aW5nc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIE5ldyBTdGF0ZVxyXG4gICAgICovXHJcbiAgICBjcmVhdGUobmFtZSwgc2V0dGluZ3MpIHtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUuc2V0QWxsKHNldHRpbmdzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUodGhpcy5fZW50aXR5LCBzZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlc1tuYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBzdGF0ZSBjYWxsZWQgYG5hbWVgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIG5hbWUgICAgICBTdGF0ZSBuYW1lXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShuYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbGllcyBhIG5hbWVkIHN0YXRlIHRvIHRoZSB0YXJnZXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIG5ld1N0YXRlICBTdGF0ZSBuYW1lXHJcbiAgICAgKi9cclxuICAgIGFwcGx5KG5ld1N0YXRlKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZXNbbmV3U3RhdGVdO1xyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZS5hcHBseSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbnRpdHkuX2FwcGx5U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBsaWVzIGEgbmFtZWQgc3RhdGUgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgcmVwcmVzZW50aW5nIGFsbCBbW0FuaW1hdGlvbl1dIG9iamVjdHMgY3JlYXRlZCBmb3JcclxuICAgICAqIGVhY2ggc2V0dGluZyBrZXkgdHJhbnNpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBuZXdTdGF0ZSAgU3RhdGUgbmFtZVxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIEFuaW1hdGlvbnNcclxuICAgICAqL1xyXG4gICAgYXBwbHlBbmltYXRlKG5ld1N0YXRlLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGxldCBhbmltYXRpb25zO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGVzW25ld1N0YXRlXTtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9ucyA9IHN0YXRlLmFwcGx5QW5pbWF0ZShkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VudGl0eS5fYXBwbHlTdGF0ZUFuaW1hdGVkKG5ld1N0YXRlLCBkdXJhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Template: () => (/* binding */ Template),\n/* harmony export */   TemplateAdapters: () => (/* binding */ TemplateAdapters),\n/* harmony export */   TemplateState: () => (/* binding */ TemplateState),\n/* harmony export */   TemplateStates: () => (/* binding */ TemplateStates)\n/* harmony export */ });\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n\r\n\r\n\r\n\r\nclass TemplateState {\r\n    constructor(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    set(key, value) {\r\n        this._settings[key] = value;\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    remove(key) {\r\n        delete this._settings[key];\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    setAll(settings) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.keys(settings).forEach((key) => {\r\n            this._settings[key] = settings[key];\r\n        });\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    _apply(other, seen) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settings, (key, value) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                seen[key] = true;\r\n                other.setRaw(key, value);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass TemplateStates {\r\n    constructor(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new TemplateState(name, this._template, settings);\r\n            this._states[name] = state;\r\n            this._template._stateChanged(name);\r\n            return state;\r\n        }\r\n    }\r\n    remove(name) {\r\n        delete this._states[name];\r\n        this._template._stateChanged(name);\r\n    }\r\n    _apply(entity, state) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._states, (key, value) => {\r\n            let seen = state.states[key];\r\n            if (seen == null) {\r\n                seen = state.states[key] = {};\r\n            }\r\n            const other = entity.states.create(key, {});\r\n            value._apply(other, seen);\r\n        });\r\n    }\r\n}\r\nclass TemplateAdapters {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_1__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(callbacks, callback);\r\n            if (callbacks.length === 0) {\r\n                delete this._callbacks[key];\r\n            }\r\n        });\r\n    }\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n        }\r\n    }\r\n    _apply(entity) {\r\n        const disposers = [];\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._callbacks, (key, callbacks) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_2__.each(callbacks, (callback) => {\r\n                disposers.push(entity.adapters.add(key, callback));\r\n            });\r\n        });\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer(disposers);\r\n    }\r\n}\r\n// TODO maybe extend from Properties ?\r\nclass Template {\r\n    constructor(settings, isReal) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_3__.EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(settings) {\r\n        return new Template(settings, true);\r\n    }\r\n    /**\r\n     * Array of all entities using this template.\r\n     */\r\n    get entities() {\r\n        return this._entities;\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    set(key, value) {\r\n        if (this._settings[key] !== value) {\r\n            this.setRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplateProperty(this, key, value);\r\n            });\r\n        }\r\n    }\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            delete this._settings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    removeAll() {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settings, (key, _value) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setPrivateRaw(key, value) {\r\n        this._privateSettings[key] = value;\r\n        return value;\r\n    }\r\n    setPrivate(key, value) {\r\n        if (this._privateSettings[key] !== value) {\r\n            this.setPrivateRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplatePrivateProperty(this, key, value);\r\n            });\r\n        }\r\n        return value;\r\n    }\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            delete this._privateSettings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplatePrivateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    setAll(value) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(value, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_1__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_1__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    _apply(entity, state) {\r\n        const disposers = [];\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settingEvents, (key, events) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                disposers.push(entity.on(key, event));\r\n            });\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._privateSettingEvents, (key, events) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                disposers.push(entity.onPrivate(key, event));\r\n            });\r\n        });\r\n        this.states._apply(entity, state);\r\n        disposers.push(this.adapters._apply(entity));\r\n        disposers.push(entity.events.copyFrom(this.events));\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer(disposers);\r\n    }\r\n    _setObjectTemplate(entity) {\r\n        this._entities.push(entity);\r\n    }\r\n    _removeObjectTemplate(entity) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_2__.remove(this._entities, entity);\r\n    }\r\n    _stateChanged(name) {\r\n        this._entities.forEach((entity) => {\r\n            entity._applyStateByKey(name);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Template.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ0M7QUFDbkI7QUFDRTtBQUM3QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQixZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxtQkFBbUIsb0RBQWE7QUFDaEM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUNBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQixZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLHlDQUFZO0FBQ3BCLFlBQVksd0NBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwQ0FBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9UZW1wbGF0ZS5qcz9jMDU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBEaXNwb3NlciwgTXVsdGlEaXNwb3NlciB9IGZyb20gXCIuL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuL09iamVjdFwiO1xyXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVTdGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0ZW1wbGF0ZSwgc2V0dGluZ3MpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX25hbWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RlbXBsYXRlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgIH1cclxuICAgIGdldChrZXksIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAvLyBUT0RPIG1heWJlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdmFsdWUgY2hhbmdlZCA/XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUuX3N0YXRlQ2hhbmdlZCh0aGlzLl9uYW1lKTtcclxuICAgIH1cclxuICAgIHJlbW92ZShrZXkpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAvLyBUT0RPIG1heWJlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdmFsdWUgY2hhbmdlZCA/XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUuX3N0YXRlQ2hhbmdlZCh0aGlzLl9uYW1lKTtcclxuICAgIH1cclxuICAgIHNldEFsbChzZXR0aW5ncykge1xyXG4gICAgICAgICRvYmplY3Qua2V5cyhzZXR0aW5ncykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzW2tleV0gPSBzZXR0aW5nc1trZXldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlLl9zdGF0ZUNoYW5nZWQodGhpcy5fbmFtZSk7XHJcbiAgICB9XHJcbiAgICBfYXBwbHkob3RoZXIsIHNlZW4pIHtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fc2V0dGluZ3MsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc2VlbltrZXldICYmICFvdGhlci5fdXNlclNldHRpbmdzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHNlZW5ba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBvdGhlci5zZXRSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVTdGF0ZXMge1xyXG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVtcGxhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0YXRlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICB9XHJcbiAgICBsb29rdXAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZXNbbmFtZV07XHJcbiAgICB9XHJcbiAgICBjcmVhdGUobmFtZSwgc2V0dGluZ3MpIHtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUuc2V0QWxsKHNldHRpbmdzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgVGVtcGxhdGVTdGF0ZShuYW1lLCB0aGlzLl90ZW1wbGF0ZSwgc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXNbbmFtZV0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGUuX3N0YXRlQ2hhbmdlZChuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZShuYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZS5fc3RhdGVDaGFuZ2VkKG5hbWUpO1xyXG4gICAgfVxyXG4gICAgX2FwcGx5KGVudGl0eSwgc3RhdGUpIHtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fc3RhdGVzLCAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc2VlbiA9IHN0YXRlLnN0YXRlc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoc2VlbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzZWVuID0gc3RhdGUuc3RhdGVzW2tleV0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvdGhlciA9IGVudGl0eS5zdGF0ZXMuY3JlYXRlKGtleSwge30pO1xyXG4gICAgICAgICAgICB2YWx1ZS5fYXBwbHkob3RoZXIsIHNlZW4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUFkYXB0ZXJzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsYmFja3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFkZChrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3Nba2V5XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChjYWxsYmFja3MsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3Nba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FwcGx5KGVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IGRpc3Bvc2VycyA9IFtdO1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9jYWxsYmFja3MsIChrZXksIGNhbGxiYWNrcykgPT4ge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChjYWxsYmFja3MsIChjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcG9zZXJzLnB1c2goZW50aXR5LmFkYXB0ZXJzLmFkZChrZXksIGNhbGxiYWNrKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlEaXNwb3NlcihkaXNwb3NlcnMpO1xyXG4gICAgfVxyXG59XHJcbi8vIFRPRE8gbWF5YmUgZXh0ZW5kIGZyb20gUHJvcGVydGllcyA/XHJcbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgaXNSZWFsKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcml2YXRlU2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUT0RPIGNvZGUgZHVwbGljYXRpb24gd2l0aCBQcm9wZXJ0aWVzXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldHRpbmdFdmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJpdmF0ZVNldHRpbmdFdmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW50aXRpZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRlbXBsYXRlU3RhdGVzKHRoaXMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWRhcHRlcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRlbXBsYXRlQWRhcHRlcnMoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRXZlbnREaXNwYXRjaGVyKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXR1cFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWlzUmVhbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IHVzZSBgbmV3IENsYXNzKClgLCBpbnN0ZWFkIHVzZSBgQ2xhc3MubmV3KClgXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkLyNOZXdfZWxlbWVudF9zeW50YXh9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHJvb3QgICAgICBSb290IGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSAgIHNldHRpbmdzICBTZXR0aW5nc1xyXG4gICAgICogQHBhcmFtICAgdGVtcGxhdGUgIFRlbXBsYXRlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgSW5zdGFudGlhdGVkIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbmV3KHNldHRpbmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZShzZXR0aW5ncywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIGFsbCBlbnRpdGllcyB1c2luZyB0aGlzIHRlbXBsYXRlLlxyXG4gICAgICovXHJcbiAgICBnZXQgZW50aXRpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzO1xyXG4gICAgfVxyXG4gICAgZ2V0KGtleSwgZmFsbGJhY2spIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3NldHRpbmdzW2tleV07XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFJhdyhrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3Nba2V5XSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5Ll9zZXRUZW1wbGF0ZVByb3BlcnR5KHRoaXMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9zZXR0aW5ncykge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuX3JlbW92ZVRlbXBsYXRlUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVtb3ZlQWxsKCkge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9zZXR0aW5ncywgKGtleSwgX3ZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRQcml2YXRlKGtleSwgZmFsbGJhY2spIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRQcml2YXRlUmF3KGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHNldFByaXZhdGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICAgICAgICAgIGVudGl0eS5fc2V0VGVtcGxhdGVQcml2YXRlUHJvcGVydHkodGhpcywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZW1vdmVQcml2YXRlKGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5fcHJpdmF0ZVNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuX3JlbW92ZVRlbXBsYXRlUHJpdmF0ZVByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEFsbCh2YWx1ZSkge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh2YWx1ZSwgKGtleSwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPIGNvZGUgZHVwbGljYXRpb24gd2l0aCBQcm9wZXJ0aWVzXHJcbiAgICBvbihrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50cy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBjb2RlIGR1cGxpY2F0aW9uIHdpdGggUHJvcGVydGllc1xyXG4gICAgb25Qcml2YXRlKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHNba2V5XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudHMucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChldmVudHMsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYXBwbHkoZW50aXR5LCBzdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IGRpc3Bvc2VycyA9IFtdO1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9zZXR0aW5nRXZlbnRzLCAoa2V5LCBldmVudHMpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3Bvc2Vycy5wdXNoKGVudGl0eS5vbihrZXksIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50cywgKGtleSwgZXZlbnRzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaChlbnRpdHkub25Qcml2YXRlKGtleSwgZXZlbnQpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuX2FwcGx5KGVudGl0eSwgc3RhdGUpO1xyXG4gICAgICAgIGRpc3Bvc2Vycy5wdXNoKHRoaXMuYWRhcHRlcnMuX2FwcGx5KGVudGl0eSkpO1xyXG4gICAgICAgIGRpc3Bvc2Vycy5wdXNoKGVudGl0eS5ldmVudHMuY29weUZyb20odGhpcy5ldmVudHMpKTtcclxuICAgICAgICByZXR1cm4gbmV3IE11bHRpRGlzcG9zZXIoZGlzcG9zZXJzKTtcclxuICAgIH1cclxuICAgIF9zZXRPYmplY3RUZW1wbGF0ZShlbnRpdHkpIHtcclxuICAgICAgICB0aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlT2JqZWN0VGVtcGxhdGUoZW50aXR5KSB7XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl9lbnRpdGllcywgZW50aXR5KTtcclxuICAgIH1cclxuICAgIF9zdGF0ZUNoYW5nZWQobmFtZSkge1xyXG4gICAgICAgIHRoaXMuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICBlbnRpdHkuX2FwcGx5U3RhdGVCeUtleShuYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZW1wbGF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextFormatter: () => (/* binding */ TextFormatter)\n/* harmony export */ });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\nclass TextFormatter {\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    static escape(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, this.prefix + \"1\").\r\n            replace(/([^\\/\\]]{1})\\]\\]/g, \"$1\" + this.prefix + \"2\").\r\n            replace(/\\]\\]/g, this.prefix + \"2\").\r\n            replace(/\\{\\{/g, this.prefix + \"3\").\r\n            replace(/\\}\\}/g, this.prefix + \"4\").\r\n            replace(/\\'\\'/g, this.prefix + \"5\");\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    static unescape(text) {\r\n        return text.\r\n            replace(new RegExp(this.prefix + \"1\", \"g\"), \"[[\").\r\n            replace(new RegExp(this.prefix + \"2\", \"g\"), \"]]\").\r\n            replace(new RegExp(this.prefix + \"3\", \"g\"), \"{{\").\r\n            replace(new RegExp(this.prefix + \"4\", \"g\"), \"}}\").\r\n            replace(new RegExp(this.prefix + \"5\", \"g\"), \"''\");\r\n    }\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    static cleanUp(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, \"[\").\r\n            replace(/\\]\\]/g, \"]\").\r\n            replace(/\\{\\{/g, \"{\").\r\n            replace(/\\}\\}/g, \"}\").\r\n            replace(/\\'\\'/g, \"'\");\r\n    }\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    static chunk(text, quotedBlocks = false, noFormatting = false) {\r\n        // Init result\r\n        let res = [];\r\n        // Replace double (escaped) square spaces and quotes with temporary codes\r\n        text = this.escape(text);\r\n        // Deal with style blocks\r\n        let chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            // Empty?\r\n            if (chunk === \"\") {\r\n                continue;\r\n            }\r\n            if ((i % 2) === 0) {\r\n                // Text outside quotes\r\n                // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                // \"value\"\r\n                chunk = chunk.replace(/\\]\\[/g, \"]\" + _Type__WEBPACK_IMPORTED_MODULE_0__.PLACEHOLDER + \"[\");\r\n                chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Placeholder?\r\n                    if (chunk2 === _Type__WEBPACK_IMPORTED_MODULE_0__.PLACEHOLDER) {\r\n                        continue;\r\n                    }\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or value\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"value\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": noFormatting ? \"value\" : \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // A text within doublequotes\r\n                // All chunks are \"text\"\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or text\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"text\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else if (this.isImage(chunk2)) {\r\n                        res.push({\r\n                            \"type\": \"image\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore\r\n     * @param  text  Format\r\n     * @return true if it is an image\r\n     */\r\n    static isImage(text) {\r\n        return text.match(/img[ ]?:/) ? true : false;\r\n    }\r\n    static getTextStyle(style) {\r\n        // let textStyle: string[] = [];\r\n        // let textFill: string | undefined;\r\n        let format = {};\r\n        if (style == \"\" || style == \"[ ]\") {\r\n            return {};\r\n        }\r\n        // Pre-process quoted text\r\n        const q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n        if (q) {\r\n            for (let i = 0; i < q.length; i++) {\r\n                style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n            }\r\n        }\r\n        // Get style parts\r\n        let b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w\\-]+)|(\\/)/gi);\r\n        // Empty?\r\n        if (!b) {\r\n            return {};\r\n        }\r\n        // Check each part\r\n        for (let i = 0; i < b.length; i++) {\r\n            if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) {\r\n                format.fontWeight = b[i];\r\n            }\r\n            else if (b[i].match(/^(underline|line-through)$/i)) {\r\n                format.textDecoration = b[i];\r\n            }\r\n            else if (b[i] == \"/\") {\r\n                // Just closing tag\r\n                // Do nothing\r\n            }\r\n            else if (!b[i].match(/:/)) {\r\n                // Color\r\n                format.fill = _Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromString(b[i]);\r\n            }\r\n            else {\r\n                const p = b[i].replace(\"+\", \" \").split(/:[ ]*/);\r\n                format[p[0]] = p[1];\r\n                //textStyle.push(b[i].replace(/^[a-zA-Z]:[ ]*/, \"\"));\r\n                //b[i] = b[i].replace(/\\+/g, \" \");\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n}\r\nObject.defineProperty(TextFormatter, \"prefix\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"__amcharts__\"\r\n});\r\n//# sourceMappingURL=TextFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RleHRGb3JtYXR0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBQ0E7QUFDekI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixFQUFFO0FBQ2hDO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsdUJBQXVCLEVBQUU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0QsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLEVBQUUsTUFBTTtBQUMvQix1QkFBdUIsRUFBRSxNQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw4Q0FBaUI7QUFDdEU7QUFDQTtBQUNBLGlDQUFpQyxxQkFBcUI7QUFDdEQ7QUFDQTtBQUNBLG1DQUFtQyw4Q0FBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFCQUFxQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnQkFBZ0IsSUFBSTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlDQUFLO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVGV4dEZvcm1hdHRlci5qcz9lZjMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4vQ29sb3JcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG5leHBvcnQgY2xhc3MgVGV4dEZvcm1hdHRlciB7XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIGJyYWNrZXRzIHdpdGggdGVtcG9yYXJ5IHBsYWNlaG9sZGVycy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgSW5wdXQgdGV4dFxyXG4gICAgICogQHJldHVybiBFc2NhcGVkIHRleHRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGVzY2FwZSh0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcW1xcWy9nLCB0aGlzLnByZWZpeCArIFwiMVwiKS5cclxuICAgICAgICAgICAgcmVwbGFjZSgvKFteXFwvXFxdXXsxfSlcXF1cXF0vZywgXCIkMVwiICsgdGhpcy5wcmVmaXggKyBcIjJcIikuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcXVxcXS9nLCB0aGlzLnByZWZpeCArIFwiMlwiKS5cclxuICAgICAgICAgICAgcmVwbGFjZSgvXFx7XFx7L2csIHRoaXMucHJlZml4ICsgXCIzXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXH1cXH0vZywgdGhpcy5wcmVmaXggKyBcIjRcIikuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcJ1xcJy9nLCB0aGlzLnByZWZpeCArIFwiNVwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgcGxhY2Vob2xkZXJzIGJhY2sgdG8gYnJhY2tldHMuXHJcbiAgICAgKlxyXG4gICAgICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gICAgICogQHBhcmFtIHRleHQgIEVzY2FwZWQgdGV4dFxyXG4gICAgICogQHJldHVybiBVbmVzY2FwZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdW5lc2NhcGUodGV4dCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0LlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjFcIiwgXCJnXCIpLCBcIltbXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjJcIiwgXCJnXCIpLCBcIl1dXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjNcIiwgXCJnXCIpLCBcInt7XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjRcIiwgXCJnXCIpLCBcIn19XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjVcIiwgXCJnXCIpLCBcIicnXCIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhbnMgdXAgdGhlIHRleHQgdGV4dCBmb3IgbGVmdG92ZXIgZG91YmxlIHNxdWFyZSBicmFja2V0cy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgSW5wdXQgdGV4dFxyXG4gICAgICogQHJldHVybiBDbGVhbmVkIHVwIHRleHRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNsZWFuVXAodGV4dCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0LlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXFtcXFsvZywgXCJbXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXF1cXF0vZywgXCJdXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXHtcXHsvZywgXCJ7XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXH1cXH0vZywgXCJ9XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXCdcXCcvZywgXCInXCIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGxpdHMgc3RyaW5nIGludG8gY2h1bmtzLiAoc3R5bGUgYmxvY2tzLCBxdW90ZWQgYmxvY2tzLCByZWd1bGFyIGJsb2NrcylcclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgc2Vjb25kIHBhcmFtZXRlciBgcXVvdGVkQmxvY2tzYCBpcyBzZXQgdG8gYHRydWVgIHRoaXMgbWV0aG9kIHdpbGxcclxuICAgICAqIGFsc28gc2luZ2xlIG91dCB0ZXh0IGJsb2NrcyBlbmNsb3NlZCB3aXRoaW4gc2luZ2xlIHF1b3RlcyB0aGF0IG5vXHJcbiAgICAgKiBmb3JtYXR0aW5nIHNob3VsZCBiZSBhcHBsaWVkIHRvLCBhbmQgdGhleSBzaG91bGQgYmUgZGlzcGxheWVkIGFzIGlzLlxyXG4gICAgICpcclxuICAgICAqIERlZmF1bHQgZm9yIHRoZSBhYm92ZSBpcyBgZmFsc2VgLCBzbyB0aGF0IHlvdSBjYW4gdXNlIHNpbmdsZSBxdW90ZSBpbiB0ZXh0XHJcbiAgICAgKiB3aXRob3V0IGVzY2FwaW5nIGl0LlxyXG4gICAgICpcclxuICAgICAqIElmIGVuYWJsZWQsIHNpbmdsZSBxdW90ZXMgY2FuIGJlIGVzY2FwZWQgYnkgZG91YmxpbmcgaXQgLSBhZGRpbmcgdHdvXHJcbiAgICAgKiBzaW5nbGUgcXVvdGVzLCB3aGljaCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgb25lIHNpbmdsZSBxdW90ZSBpbiB0aGUgZmluYWxcclxuICAgICAqIG91dHB1dC5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgICAgICAgICBUZXh0IHRvIGNodW5rXHJcbiAgICAgKiBAcGFyYW0gcXVvdGVkQmxvY2tzICBVc2UgcXVvdGVkIGJsb2Nrc1xyXG4gICAgICogQHBhcmFtIG5vRm9ybWF0dGluZyAgRm9ybWF0dGluZyBibG9ja3Mgd2lsbCBiZSB0cmVhdGVkIGFzIHJlZ3VsYXIgdGV4dFxyXG4gICAgICogQHJldHVybiBBcnJheSBvZiBzdHJpbmcgY2h1bmtzXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaHVuayh0ZXh0LCBxdW90ZWRCbG9ja3MgPSBmYWxzZSwgbm9Gb3JtYXR0aW5nID0gZmFsc2UpIHtcclxuICAgICAgICAvLyBJbml0IHJlc3VsdFxyXG4gICAgICAgIGxldCByZXMgPSBbXTtcclxuICAgICAgICAvLyBSZXBsYWNlIGRvdWJsZSAoZXNjYXBlZCkgc3F1YXJlIHNwYWNlcyBhbmQgcXVvdGVzIHdpdGggdGVtcG9yYXJ5IGNvZGVzXHJcbiAgICAgICAgdGV4dCA9IHRoaXMuZXNjYXBlKHRleHQpO1xyXG4gICAgICAgIC8vIERlYWwgd2l0aCBzdHlsZSBibG9ja3NcclxuICAgICAgICBsZXQgY2h1bmtzID0gcXVvdGVkQmxvY2tzID8gdGV4dC5zcGxpdChcIidcIikgOiBbdGV4dF07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNodW5rID0gY2h1bmtzW2ldO1xyXG4gICAgICAgICAgICAvLyBFbXB0eT9cclxuICAgICAgICAgICAgaWYgKGNodW5rID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKGkgJSAyKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGV4dCBvdXRzaWRlIHF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgZm9yIHN0eWxlIGJsb2NrcyB3aGljaCBhcmUgXCJ0ZXh0XCIgY2h1bmtzLCB0aGUgcmVzdCBjaHVua3MgYXJlXHJcbiAgICAgICAgICAgICAgICAvLyBcInZhbHVlXCJcclxuICAgICAgICAgICAgICAgIGNodW5rID0gY2h1bmsucmVwbGFjZSgvXFxdXFxbL2csIFwiXVwiICsgJHR5cGUuUExBQ0VIT0xERVIgKyBcIltcIik7XHJcbiAgICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLnJlcGxhY2UoL1xcW1xcXS9nLCBcIlsgXVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBjaHVua3MyID0gY2h1bmsuc3BsaXQoL1tcXFtcXF1dKy8pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNodW5rczIubGVuZ3RoOyBpMisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rMiA9IHRoaXMuY2xlYW5VcCh0aGlzLnVuZXNjYXBlKGNodW5rczJbaTJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGxhY2Vob2xkZXI/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rMiA9PT0gJHR5cGUuUExBQ0VIT0xERVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5P1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuazIgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJsb2NrIG9yIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChpMiAlIDIpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogY2h1bmsyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IG5vRm9ybWF0dGluZyA/IFwidmFsdWVcIiA6IFwiZm9ybWF0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJbXCIgKyBjaHVuazIgKyBcIl1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBIHRleHQgd2l0aGluIGRvdWJsZXF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gQWxsIGNodW5rcyBhcmUgXCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGxldCBjaHVua3MyID0gY2h1bmsuc3BsaXQoL1tcXFtcXF1dKy8pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNodW5rczIubGVuZ3RoOyBpMisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rMiA9IHRoaXMuY2xlYW5VcCh0aGlzLnVuZXNjYXBlKGNodW5rczJbaTJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHk/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rMiA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmxvY2sgb3IgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoaTIgJSAyKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogY2h1bmsyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzSW1hZ2UoY2h1bmsyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiW1wiICsgY2h1bmsyICsgXCJdXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJmb3JtYXRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIltcIiArIGNodW5rMiArIFwiXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgc3VwcGxpZWQgZm9ybWF0IGNvbnRhaW5zIGltYWdlIGluZm9ybWF0aW9uIGFuZCBzaG91bGQgYmVcclxuICAgICAqIGZvcm1hdHRlZCBhcyBzdWNoLlxyXG4gICAgICogSS5lLjogYFtpbWc6IG15SW1hZ2UucG5nXWBcclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcGFyYW0gIHRleHQgIEZvcm1hdFxyXG4gICAgICogQHJldHVybiB0cnVlIGlmIGl0IGlzIGFuIGltYWdlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0ltYWdlKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gdGV4dC5tYXRjaCgvaW1nWyBdPzovKSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRUZXh0U3R5bGUoc3R5bGUpIHtcclxuICAgICAgICAvLyBsZXQgdGV4dFN0eWxlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIC8vIGxldCB0ZXh0RmlsbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBmb3JtYXQgPSB7fTtcclxuICAgICAgICBpZiAoc3R5bGUgPT0gXCJcIiB8fCBzdHlsZSA9PSBcIlsgXVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJlLXByb2Nlc3MgcXVvdGVkIHRleHRcclxuICAgICAgICBjb25zdCBxID0gc3R5bGUubWF0Y2goLygnW14nXSonKXwoXCJbXlwiXSpcIikvZ2kpO1xyXG4gICAgICAgIGlmIChxKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBzdHlsZS5yZXBsYWNlKHFbaV0sIHFbaV0ucmVwbGFjZSgvWydcIl0qL2csIFwiXCIpLnJlcGxhY2UoL1sgXSsvZywgXCIrXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgc3R5bGUgcGFydHNcclxuICAgICAgICBsZXQgYiA9IHN0eWxlLm1hdGNoKC8oW1xcd1xcLV0qOltcXHNdP1teO1xcc1xcXV0qKXwoXFwjW1xcd117MSw2fSl8KFtcXHdcXC1dKyl8KFxcLykvZ2kpO1xyXG4gICAgICAgIC8vIEVtcHR5P1xyXG4gICAgICAgIGlmICghYikge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGVhY2ggcGFydFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYltpXS5tYXRjaCgvXihub3JtYWx8Ym9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMCkkL2kpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXQuZm9udFdlaWdodCA9IGJbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYltpXS5tYXRjaCgvXih1bmRlcmxpbmV8bGluZS10aHJvdWdoKSQvaSkpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdC50ZXh0RGVjb3JhdGlvbiA9IGJbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYltpXSA9PSBcIi9cIikge1xyXG4gICAgICAgICAgICAgICAgLy8gSnVzdCBjbG9zaW5nIHRhZ1xyXG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFiW2ldLm1hdGNoKC86LykpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbG9yXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQuZmlsbCA9IENvbG9yLmZyb21TdHJpbmcoYltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYltpXS5yZXBsYWNlKFwiK1wiLCBcIiBcIikuc3BsaXQoLzpbIF0qLyk7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRbcFswXV0gPSBwWzFdO1xyXG4gICAgICAgICAgICAgICAgLy90ZXh0U3R5bGUucHVzaChiW2ldLnJlcGxhY2UoL15bYS16QS1aXTpbIF0qLywgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgLy9iW2ldID0gYltpXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRGb3JtYXR0ZXIsIFwicHJlZml4XCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIl9fYW1jaGFydHNfX1wiXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0Rm9ybWF0dGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   checkChange: () => (/* binding */ checkChange),\n/* harmony export */   chooseInterval: () => (/* binding */ chooseInterval),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   getDateIntervalDuration: () => (/* binding */ getDateIntervalDuration),\n/* harmony export */   getDuration: () => (/* binding */ getDuration),\n/* harmony export */   getIntervalDuration: () => (/* binding */ getIntervalDuration),\n/* harmony export */   getNextUnit: () => (/* binding */ getNextUnit),\n/* harmony export */   getTime: () => (/* binding */ getTime),\n/* harmony export */   getUnitValue: () => (/* binding */ getUnitValue),\n/* harmony export */   now: () => (/* binding */ now),\n/* harmony export */   roun: () => (/* binding */ roun),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   timeUnitDurations: () => (/* binding */ timeUnitDurations)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nfunction sleep(ms) {\r\n    return new Promise((resolve, _reject) => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nlet timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nfunction getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nfunction getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nfunction getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    const unit = interval.timeUnit;\r\n    const count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        const firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        let lastTime = firstTime + count * getDuration(unit) * 1.05;\r\n        lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nfunction now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nfunction getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nfunction copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nfunction checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    let dateOne = new Date(timeOne);\r\n    let dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    let timeZoneOffset1 = 0;\r\n    let timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    let changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    let nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nfunction add(date, unit, count, utc, timezone) {\r\n    let timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        if (timezone) {\r\n            timeZoneOffset -= timezone.offsetUTC(date);\r\n        }\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            let day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            let seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            let milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            let hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            let minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            let year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            const endDays = date.getUTCDate();\r\n            const startDays = new Date(date.getUTCFullYear(), date.getUTCMonth(), 0).getUTCDate();\r\n            let month = date.getUTCMonth();\r\n            if (endDays > startDays) {\r\n                date.setUTCMonth(month + count, startDays);\r\n            }\r\n            else {\r\n                date.setUTCMonth(month + count);\r\n            }\r\n            break;\r\n        case \"week\":\r\n            let wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            let newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (timezone) {\r\n                newTimeZoneOffset += timezone.offsetUTC(date);\r\n            }\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                let diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if new time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction roun(time, unit, count, root, firstTime) {\r\n    let firstDate;\r\n    if (firstTime != null) {\r\n        firstDate = new Date(firstTime);\r\n    }\r\n    return round(new Date(time), unit, count, root.locale.firstDayOfWeek, root.utc, firstDate, root.timezone).getTime();\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nfunction round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        let timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                let day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        let duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                let seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                let milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                let hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                let minutes = date.getUTCMinutes();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                let month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                let year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                if (count > 1) {\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"week\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"week\") / count);\r\n                        let duration = getDuration(\"week\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                let wday = date.getUTCDate();\r\n                let weekDay = date.getUTCDay();\r\n                if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                let newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    let diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        if (isNaN(date.getTime())) {\r\n            return date;\r\n        }\r\n        let tzoffset = timezone.offsetUTC(date);\r\n        let timeZoneOffset = date.getTimezoneOffset();\r\n        let parsedDate = timezone.parseDate(date);\r\n        let year = parsedDate.year;\r\n        let month = parsedDate.month;\r\n        let day = parsedDate.day;\r\n        let hour = parsedDate.hour;\r\n        let minute = parsedDate.minute;\r\n        let second = parsedDate.second;\r\n        let millisecond = parsedDate.millisecond;\r\n        let weekday = parsedDate.weekday;\r\n        let offsetDif = tzoffset - timeZoneOffset;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (count > 1 && firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\r\n                    let difference = date.getTime() - firstDate.getTime();\r\n                    let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    let duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration);\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                minute += offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        let newTimeZoneOffset = date.getTimezoneOffset();\r\n        let newTzoffset = timezone.offsetUTC(date);\r\n        let newDiff = newTzoffset - newTimeZoneOffset;\r\n        if (newDiff != offsetDif) {\r\n            date.setTime(date.getTime() + (newDiff - offsetDif) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction chooseInterval(index, duration, gridCount, intervals) {\r\n    let gridInterval = intervals[index];\r\n    let intervalDuration = getIntervalDuration(gridInterval);\r\n    let lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return Object.assign({}, intervals[lastIndex]);\r\n    }\r\n    let count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return Object.assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return Object.assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return Object.assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return _Utils__WEBPACK_IMPORTED_MODULE_1__.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RpbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0M7QUFDRTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwyQ0FBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwyQ0FBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJDQUFjO0FBQ2pDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RpbWUuanM/Yjc1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBJTVBPUlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBgUHJvbWlzZWAgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBjb2RlIGFmdGVyIG51bWJlciBvZlxyXG4gKiBtaWxsaXNlY29uZHMuXHJcbiAqXHJcbiAqIEBwYXJhbSAgIG1zICBTbGVlcCBkdXJhdGlvbiBpbiBtc1xyXG4gKiBAcmV0dXJuICAgICAgUHJvbWlzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKG1zKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIF9yZWplY3QpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBNYXBzIHRpbWUgcGVyaW9kIG5hbWVzIHRvIHRoZWlyIG51bWVyaWMgcmVwcmVzZW50YXRpb25zIGluIG1pbGxpc2Vjb25kcy5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKi9cclxuZXhwb3J0IGxldCB0aW1lVW5pdER1cmF0aW9ucyA9IHtcclxuICAgIG1pbGxpc2Vjb25kOiAxLFxyXG4gICAgc2Vjb25kOiAxMDAwLFxyXG4gICAgbWludXRlOiA2MDAwMCxcclxuICAgIGhvdXI6IDM2MDAwMDAsXHJcbiAgICBkYXk6IDg2NDAwMDAwLFxyXG4gICAgd2VlazogNjA0ODAwMDAwLFxyXG4gICAgbW9udGg6IDM2NS4yNDIgLyAxMiAqIDg2NDAwMDAwLFxyXG4gICAgeWVhcjogMzE1MzYwMDAwMDBcclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG5leHQgdGltZSB1bml0IHRoYXQgZ29lcyBhZnRlciBzb3VyY2UgYHVuaXRgLlxyXG4gKlxyXG4gKiBFLmcuIFwiaG91clwiIGlzIHRoZSBuZXh0IHVuaXQgYWZ0ZXIgXCJtaW51dGVcIiwgZXRjLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEBwYXJhbSB1bml0ICBTb3VyY2UgdGltZSB1bml0XHJcbiAqIEByZXR1cm4gTmV4dCB0aW1lIHVuaXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXROZXh0VW5pdCh1bml0KSB7XHJcbiAgICBzd2l0Y2ggKHVuaXQpIHtcclxuICAgICAgICBjYXNlIFwieWVhclwiOlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY2FzZSBcIm1vbnRoXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBcInllYXJcIjtcclxuICAgICAgICBjYXNlIFwid2Vla1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJtb250aFwiO1xyXG4gICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwibW9udGhcIjsgLy8gbm90IGEgbWlzdGFrZVxyXG4gICAgICAgIGNhc2UgXCJob3VyXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBcImRheVwiO1xyXG4gICAgICAgIGNhc2UgXCJtaW51dGVcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiaG91clwiO1xyXG4gICAgICAgIGNhc2UgXCJzZWNvbmRcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwibWludXRlXCI7XHJcbiAgICAgICAgY2FzZSBcIm1pbGxpc2Vjb25kXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBcInNlY29uZFwiO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaW4gdGhlIGBjb3VudGAgb2YgdGltZSBgdW5pdGAuXHJcbiAqXHJcbiAqIEF2YWlsYWJsZSB1bml0czogXCJtaWxsaXNlY29uZFwiLCBcInNlY29uZFwiLCBcIm1pbnV0ZVwiLCBcImhvdXJcIiwgXCJkYXlcIiwgXCJ3ZWVrXCIsXHJcbiAqIFwibW9udGhcIiwgYW5kIFwieWVhclwiLlxyXG4gKlxyXG4gKiBAcGFyYW0gdW5pdCAgIFRpbWUgdW5pdFxyXG4gKiBAcGFyYW0gY291bnQgIE51bWJlciBvZiB1bml0c1xyXG4gKiBAcmV0dXJuIE1pbGxpc2Vjb25kc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldER1cmF0aW9uKHVuaXQsIGNvdW50KSB7XHJcbiAgICBpZiAoY291bnQgPT0gbnVsbCkge1xyXG4gICAgICAgIGNvdW50ID0gMTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aW1lVW5pdER1cmF0aW9uc1t1bml0XSAqIGNvdW50O1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJ2YWxEdXJhdGlvbihpbnRlcnZhbCkge1xyXG4gICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRpbWVVbml0RHVyYXRpb25zW2ludGVydmFsLnRpbWVVbml0XSAqIGludGVydmFsLmNvdW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGVJbnRlcnZhbER1cmF0aW9uKGludGVydmFsLCBkYXRlLCBmaXJzdERhdGVPZldlZWssIHV0YywgdGltZXpvbmUpIHtcclxuICAgIGNvbnN0IHVuaXQgPSBpbnRlcnZhbC50aW1lVW5pdDtcclxuICAgIGNvbnN0IGNvdW50ID0gaW50ZXJ2YWwuY291bnQ7XHJcbiAgICBpZiAodW5pdCA9PSBcImhvdXJcIiB8fCB1bml0ID09IFwibWludXRlXCIgfHwgdW5pdCA9PSBcInNlY29uZFwiIHx8IHVuaXQgPT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRpbWVVbml0RHVyYXRpb25zW2ludGVydmFsLnRpbWVVbml0XSAqIGludGVydmFsLmNvdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RUaW1lID0gcm91bmQobmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpLCB1bml0LCBjb3VudCwgZmlyc3REYXRlT2ZXZWVrLCB1dGMsIHVuZGVmaW5lZCwgdGltZXpvbmUpLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgbGFzdFRpbWUgPSBmaXJzdFRpbWUgKyBjb3VudCAqIGdldER1cmF0aW9uKHVuaXQpICogMS4wNTtcclxuICAgICAgICBsYXN0VGltZSA9IHJvdW5kKG5ldyBEYXRlKGxhc3RUaW1lKSwgdW5pdCwgMSwgZmlyc3REYXRlT2ZXZWVrLCB1dGMsIHVuZGVmaW5lZCwgdGltZXpvbmUpLmdldFRpbWUoKTtcclxuICAgICAgICByZXR1cm4gbGFzdFRpbWUgLSBmaXJzdFRpbWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgY3VycmVudCBgRGF0ZWAgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcmV0dXJuIEN1cnJlbnQgZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vdygpIHtcclxuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGN1cnJlbnQgdGltZXN0YW1wLlxyXG4gKlxyXG4gKiBAcmV0dXJuIEN1cnJlbnQgdGltZXN0YW1wXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZSgpIHtcclxuICAgIHJldHVybiBub3coKS5nZXRUaW1lKCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBgRGF0ZWAgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgU291cmNlIGRhdGVcclxuICogQHJldHVybiBDb3B5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29weShkYXRlKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpOyAvLyB0b2RvOiBjaGVjayBpZiB0aGlzIGlzIG9rLiBuZXcgRGF0ZShkYXRlKSB1c2VkIHRvIHN0cmlwIG1pbGxpc2Vjb25kcyBvbiBGRiBpbiB2M1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgdGhlIGB1bml0YCBwYXJ0IG9mIHR3byBgRGF0ZWAgb2JqZWN0cyBkbyBub3QgbWF0Y2guIFR3byBkYXRlc1xyXG4gKiByZXByZXNlbnQgYSBcInJhbmdlXCIgb2YgdGltZSwgcmF0aGVyIHRoZSBzYW1lIHRpbWUgZGF0ZS5cclxuICpcclxuICogQHBhcmFtIHRpbWVPbmUgIHRpbWVzdGFtcFxyXG4gKiBAcGFyYW0gdGltZVR3byAgdGltZXN0YW1wXHJcbiAqIEBwYXJhbSB1bml0ICAgICBUaW1lIHVuaXQgdG8gY2hlY2tcclxuICogQHJldHVybiBSYW5nZT9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NoYW5nZSh0aW1lT25lLCB0aW1lVHdvLCB1bml0LCB1dGMsIHRpbWV6b25lKSB7XHJcbiAgICAvLyBxdWlja1xyXG4gICAgaWYgKCh0aW1lVHdvIC0gdGltZU9uZSkgPiBnZXREdXJhdGlvbih1bml0LCAxLjIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBsZXQgZGF0ZU9uZSA9IG5ldyBEYXRlKHRpbWVPbmUpO1xyXG4gICAgbGV0IGRhdGVUd28gPSBuZXcgRGF0ZSh0aW1lVHdvKTtcclxuICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgIGRhdGVPbmUgPSB0aW1lem9uZS5jb252ZXJ0TG9jYWwoZGF0ZU9uZSk7XHJcbiAgICAgICAgZGF0ZVR3byA9IHRpbWV6b25lLmNvbnZlcnRMb2NhbChkYXRlVHdvKTtcclxuICAgIH1cclxuICAgIGxldCB0aW1lWm9uZU9mZnNldDEgPSAwO1xyXG4gICAgbGV0IHRpbWVab25lT2Zmc2V0MiA9IDA7XHJcbiAgICBpZiAoIXV0YyAmJiB1bml0ICE9IFwibWlsbGlzZWNvbmRcIikge1xyXG4gICAgICAgIHRpbWVab25lT2Zmc2V0MSA9IGRhdGVPbmUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICBkYXRlT25lLnNldFVUQ01pbnV0ZXMoZGF0ZU9uZS5nZXRVVENNaW51dGVzKCkgLSB0aW1lWm9uZU9mZnNldDEpO1xyXG4gICAgICAgIHRpbWVab25lT2Zmc2V0MiA9IGRhdGVUd28uZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICBkYXRlVHdvLnNldFVUQ01pbnV0ZXMoZGF0ZVR3by5nZXRVVENNaW51dGVzKCkgLSB0aW1lWm9uZU9mZnNldDIpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcclxuICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgIGlmIChkYXRlT25lLmdldFVUQ0Z1bGxZZWFyKCkgIT0gZGF0ZVR3by5nZXRVVENGdWxsWWVhcigpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgaWYgKGRhdGVPbmUuZ2V0VVRDRnVsbFllYXIoKSAhPSBkYXRlVHdvLmdldFVUQ0Z1bGxZZWFyKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGVPbmUuZ2V0VVRDTW9udGgoKSAhPSBkYXRlVHdvLmdldFVUQ01vbnRoKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgaWYgKGRhdGVPbmUuZ2V0VVRDTW9udGgoKSAhPSBkYXRlVHdvLmdldFVUQ01vbnRoKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGVPbmUuZ2V0VVRDRGF0ZSgpICE9IGRhdGVUd28uZ2V0VVRDRGF0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICBpZiAoZGF0ZU9uZS5nZXRVVENIb3VycygpICE9IGRhdGVUd28uZ2V0VVRDSG91cnMoKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIm1pbnV0ZVwiOlxyXG4gICAgICAgICAgICBpZiAoZGF0ZU9uZS5nZXRVVENNaW51dGVzKCkgIT0gZGF0ZVR3by5nZXRVVENNaW51dGVzKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJzZWNvbmRcIjpcclxuICAgICAgICAgICAgaWYgKGRhdGVPbmUuZ2V0VVRDU2Vjb25kcygpICE9IGRhdGVUd28uZ2V0VVRDU2Vjb25kcygpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibWlsbGlzZWNvbmRcIjpcclxuICAgICAgICAgICAgaWYgKGRhdGVPbmUuZ2V0VGltZSgpICE9IGRhdGVUd28uZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XHJcbiAgICB9XHJcbiAgICBsZXQgbmV4dFVuaXQgPSBnZXROZXh0VW5pdCh1bml0KTtcclxuICAgIGlmIChuZXh0VW5pdCkge1xyXG4gICAgICAgIHJldHVybiBjaGVja0NoYW5nZSh0aW1lT25lLCB0aW1lVHdvLCBuZXh0VW5pdCwgdXRjLCB0aW1lem9uZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgYGNvdW50YCBvZiB0aW1lIGB1bml0YCB0byB0aGUgc291cmNlIGRhdGUuIFJldHVybnMgYSBtb2RpZmllZCBgRGF0ZWAgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgIFNvdXJjZSBkYXRlXHJcbiAqIEBwYXJhbSB1bml0ICAgVGltZSB1bml0XHJcbiAqIEBwYXJhbSBjb3VudCAgTnVtYmVyIG9mIHVuaXRzIHRvIGFkZFxyXG4gKiBAcmV0dXJuIE1vZGlmaWVkIGRhdGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQoZGF0ZSwgdW5pdCwgY291bnQsIHV0YywgdGltZXpvbmUpIHtcclxuICAgIGxldCB0aW1lWm9uZU9mZnNldCA9IDA7XHJcbiAgICBpZiAoIXV0YyAmJiB1bml0ICE9IFwibWlsbGlzZWNvbmRcIikge1xyXG4gICAgICAgIHRpbWVab25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgICAgICB0aW1lWm9uZU9mZnNldCAtPSB0aW1lem9uZS5vZmZzZXRVVEMoZGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSAtIHRpbWVab25lT2Zmc2V0KTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgbGV0IGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgICAgICBkYXRlLnNldFVUQ0RhdGUoZGF5ICsgY291bnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwic2Vjb25kXCI6XHJcbiAgICAgICAgICAgIGxldCBzZWNvbmRzID0gZGF0ZS5nZXRVVENTZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDU2Vjb25kcyhzZWNvbmRzICsgY291bnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibWlsbGlzZWNvbmRcIjpcclxuICAgICAgICAgICAgbGV0IG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDTWlsbGlzZWNvbmRzKG1pbGxpc2Vjb25kcyArIGNvdW50KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImhvdXJcIjpcclxuICAgICAgICAgICAgbGV0IGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpO1xyXG4gICAgICAgICAgICBkYXRlLnNldFVUQ0hvdXJzKGhvdXJzICsgY291bnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibWludXRlXCI6XHJcbiAgICAgICAgICAgIGxldCBtaW51dGVzID0gZGF0ZS5nZXRVVENNaW51dGVzKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhtaW51dGVzICsgY291bnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwieWVhclwiOlxyXG4gICAgICAgICAgICBsZXQgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5ZWFyICsgY291bnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgY29uc3QgZW5kRGF5cyA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydERheXMgPSBuZXcgRGF0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIGRhdGUuZ2V0VVRDTW9udGgoKSwgMCkuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XHJcbiAgICAgICAgICAgIGlmIChlbmREYXlzID4gc3RhcnREYXlzKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ01vbnRoKG1vbnRoICsgY291bnQsIHN0YXJ0RGF5cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ01vbnRoKG1vbnRoICsgY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJ3ZWVrXCI6XHJcbiAgICAgICAgICAgIGxldCB3ZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDRGF0ZSh3ZGF5ICsgY291bnQgKiA3KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBpZiAoIXV0YyAmJiB1bml0ICE9IFwibWlsbGlzZWNvbmRcIikge1xyXG4gICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSArIHRpbWVab25lT2Zmc2V0KTtcclxuICAgICAgICBpZiAodW5pdCA9PSBcImRheVwiIHx8IHVuaXQgPT0gXCJ3ZWVrXCIgfHwgdW5pdCA9PSBcIm1vbnRoXCIgfHwgdW5pdCA9PSBcInllYXJcIikge1xyXG4gICAgICAgICAgICBsZXQgbmV3VGltZVpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgICAgICAgICAgbmV3VGltZVpvbmVPZmZzZXQgKz0gdGltZXpvbmUub2Zmc2V0VVRDKGRhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXdUaW1lWm9uZU9mZnNldCAhPSB0aW1lWm9uZU9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpZmYgPSBuZXdUaW1lWm9uZU9mZnNldCAtIHRpbWVab25lT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKGRhdGUuZ2V0VVRDTWludXRlcygpICsgZGlmZik7XHJcbiAgICAgICAgICAgICAgICAvLyBzb2x2ZXMgaXNzdWVzIGlmIG5ldyB0aW1lIGZhbGxzIGJhY2sgdG8gb2xkIHRpbWUgem9uZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAhPSBuZXdUaW1lWm9uZU9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSAtIGRpZmYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGU7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuKHRpbWUsIHVuaXQsIGNvdW50LCByb290LCBmaXJzdFRpbWUpIHtcclxuICAgIGxldCBmaXJzdERhdGU7XHJcbiAgICBpZiAoZmlyc3RUaW1lICE9IG51bGwpIHtcclxuICAgICAgICBmaXJzdERhdGUgPSBuZXcgRGF0ZShmaXJzdFRpbWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJvdW5kKG5ldyBEYXRlKHRpbWUpLCB1bml0LCBjb3VudCwgcm9vdC5sb2NhbGUuZmlyc3REYXlPZldlZWssIHJvb3QudXRjLCBmaXJzdERhdGUsIHJvb3QudGltZXpvbmUpLmdldFRpbWUoKTtcclxufVxyXG4vKipcclxuICogXCJSb3VuZHNcIiB0aGUgZGF0ZSB0byBzcGVjaWZpYyB0aW1lIHVuaXQuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgICAgICAgICAgIFNvdXJjZSBkYXRlXHJcbiAqIEBwYXJhbSB1bml0ICAgICAgICAgICAgIFRpbWUgdW5pdFxyXG4gKiBAcGFyYW0gY291bnQgICAgICAgICAgICBOdW1iZXIgb2YgdW5pdHMgdG8gcm91bmQgdG9cclxuICogQHBhcmFtIGZpcnN0RGF0ZU9mV2VlayAgRmlyc3QgZGF5IG9mIHdlZWtcclxuICogQHBhcmFtIHV0YyAgICAgICAgICAgICAgVXNlIFVUQyB0aW1lem9uZVxyXG4gKiBAcGFyYW0gZmlyc3REYXRlICAgICAgICBGaXJzdCBkYXRlIHRvIHJvdW5kIHRvXHJcbiAqIEBwYXJhbSByb3VuZE1pbnV0ZXMgICAgIE1pbnV0ZXMgdG8gcm91bmQgdG8gKHNvbWUgdGltZXpvbmVzIHVzZSBub24td2hvbGUgaG91cilcclxuICogQHBhcmFtIHRpbWV6b25lICAgICAgICAgVXNlIHNwZWNpZmljIG5hbWVkIHRpbWV6b25lIHdoZW4gcm91bmRpbmdcclxuICogQHJldHVybiBOZXcgZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKGRhdGUsIHVuaXQsIGNvdW50LCBmaXJzdERhdGVPZldlZWssIHV0YywgZmlyc3REYXRlLCB0aW1lem9uZSkge1xyXG4gICAgaWYgKCF0aW1lem9uZSB8fCB1dGMpIHtcclxuICAgICAgICBsZXQgdGltZVpvbmVPZmZzZXQgPSAwO1xyXG4gICAgICAgIGlmICghdXRjICYmIHVuaXQgIT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcbiAgICAgICAgICAgIHRpbWVab25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgICAgICBkYXRlLnNldFVUQ01pbnV0ZXMoZGF0ZS5nZXRVVENNaW51dGVzKCkgLSB0aW1lWm9uZU9mZnNldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZGF5XCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cdGRheSA9IE1hdGguZmxvb3IoZGF5IC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERhdGUgPSByb3VuZChmaXJzdERhdGUsIFwiZGF5XCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IGRhdGUuZ2V0VGltZSgpIC0gZmlyc3REYXRlLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVuaXRDb3VudCA9IE1hdGguZmxvb3IoZGlmZmVyZW5jZSAvIGdldER1cmF0aW9uKFwiZGF5XCIpIC8gY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb24gPSBnZXREdXJhdGlvbihcImRheVwiLCB1bml0Q291bnQgKiBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VGltZShmaXJzdERhdGUuZ2V0VGltZSgpICsgZHVyYXRpb24gLSB0aW1lWm9uZU9mZnNldCAqIGdldER1cmF0aW9uKFwibWludXRlXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0RhdGUoZGF5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNlY29uZFwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZHMgPSBkYXRlLmdldFVUQ1NlY29uZHMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ1NlY29uZHMoc2Vjb25kcywgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1pbGxpc2Vjb25kXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlOyAvLyBtdWNoIGJldHRlciBmb3IgcGVyZiFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBtaWxsaXNlY29uZHMgPSBkYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gTWF0aC5mbG9vcihtaWxsaXNlY29uZHMgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDTWlsbGlzZWNvbmRzKG1pbGxpc2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImhvdXJcIjpcclxuICAgICAgICAgICAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3VycyA9IE1hdGguZmxvb3IoaG91cnMgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDSG91cnMoaG91cnMsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtaW51dGVcIjpcclxuICAgICAgICAgICAgICAgIGxldCBtaW51dGVzID0gZGF0ZS5nZXRVVENNaW51dGVzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IE1hdGguZmxvb3IobWludXRlcyAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKG1pbnV0ZXMsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoID0gTWF0aC5mbG9vcihtb250aCAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENNb250aChtb250aCwgMSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyID0gTWF0aC5mbG9vcih5ZWFyIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIsIDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2Vla1wiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdERhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REYXRlID0gcm91bmQoZmlyc3REYXRlLCBcIndlZWtcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gZGF0ZS5nZXRUaW1lKCkgLSBmaXJzdERhdGUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdW5pdENvdW50ID0gTWF0aC5mbG9vcihkaWZmZXJlbmNlIC8gZ2V0RHVyYXRpb24oXCJ3ZWVrXCIpIC8gY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb24gPSBnZXREdXJhdGlvbihcIndlZWtcIiwgdW5pdENvdW50ICogY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoZmlyc3REYXRlLmdldFRpbWUoKSArIGR1cmF0aW9uIC0gdGltZVpvbmVPZmZzZXQgKiBnZXREdXJhdGlvbihcIm1pbnV0ZVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHdkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcclxuICAgICAgICAgICAgICAgIGxldCB3ZWVrRGF5ID0gZGF0ZS5nZXRVVENEYXkoKTtcclxuICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoZmlyc3REYXRlT2ZXZWVrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RGF0ZU9mV2VlayA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2Vla0RheSA+PSBmaXJzdERhdGVPZldlZWspIHtcclxuICAgICAgICAgICAgICAgICAgICB3ZGF5ID0gd2RheSAtIHdlZWtEYXkgKyBmaXJzdERhdGVPZldlZWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3ZGF5ID0gd2RheSAtICg3ICsgd2Vla0RheSkgKyBmaXJzdERhdGVPZldlZWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0RhdGUod2RheSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdXRjICYmIHVuaXQgIT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSArIHRpbWVab25lT2Zmc2V0KTtcclxuICAgICAgICAgICAgaWYgKHVuaXQgPT0gXCJkYXlcIiB8fCB1bml0ID09IFwid2Vla1wiIHx8IHVuaXQgPT0gXCJtb250aFwiIHx8IHVuaXQgPT0gXCJ5ZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdUaW1lWm9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdUaW1lWm9uZU9mZnNldCAhPSB0aW1lWm9uZU9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaWZmID0gbmV3VGltZVpvbmVPZmZzZXQgLSB0aW1lWm9uZU9mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ01pbnV0ZXMoZGF0ZS5nZXRVVENNaW51dGVzKCkgKyBkaWZmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0em9mZnNldCA9IHRpbWV6b25lLm9mZnNldFVUQyhkYXRlKTtcclxuICAgICAgICBsZXQgdGltZVpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgbGV0IHBhcnNlZERhdGUgPSB0aW1lem9uZS5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgbGV0IHllYXIgPSBwYXJzZWREYXRlLnllYXI7XHJcbiAgICAgICAgbGV0IG1vbnRoID0gcGFyc2VkRGF0ZS5tb250aDtcclxuICAgICAgICBsZXQgZGF5ID0gcGFyc2VkRGF0ZS5kYXk7XHJcbiAgICAgICAgbGV0IGhvdXIgPSBwYXJzZWREYXRlLmhvdXI7XHJcbiAgICAgICAgbGV0IG1pbnV0ZSA9IHBhcnNlZERhdGUubWludXRlO1xyXG4gICAgICAgIGxldCBzZWNvbmQgPSBwYXJzZWREYXRlLnNlY29uZDtcclxuICAgICAgICBsZXQgbWlsbGlzZWNvbmQgPSBwYXJzZWREYXRlLm1pbGxpc2Vjb25kO1xyXG4gICAgICAgIGxldCB3ZWVrZGF5ID0gcGFyc2VkRGF0ZS53ZWVrZGF5O1xyXG4gICAgICAgIGxldCBvZmZzZXREaWYgPSB0em9mZnNldCAtIHRpbWVab25lT2Zmc2V0O1xyXG4gICAgICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZGF5XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxICYmIGZpcnN0RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RGF0ZSA9IHJvdW5kKGZpcnN0RGF0ZSwgXCJkYXlcIiwgMSwgZmlyc3REYXRlT2ZXZWVrLCB1dGMsIHVuZGVmaW5lZCwgdGltZXpvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gZGF0ZS5nZXRUaW1lKCkgLSBmaXJzdERhdGUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1bml0Q291bnQgPSBNYXRoLmZsb29yKGRpZmZlcmVuY2UgLyBnZXREdXJhdGlvbihcImRheVwiKSAvIGNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb24gPSBnZXREdXJhdGlvbihcImRheVwiLCB1bml0Q291bnQgKiBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGZpcnN0RGF0ZS5nZXRUaW1lKCkgKyBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IHRpbWV6b25lLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyID0gcGFyc2VkRGF0ZS55ZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoID0gcGFyc2VkRGF0ZS5tb250aDtcclxuICAgICAgICAgICAgICAgICAgICBkYXkgPSBwYXJzZWREYXRlLmRheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWludXRlID0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2Vjb25kXCI6XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgKz0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IE1hdGguZmxvb3Ioc2Vjb25kIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1pbGxpc2Vjb25kXCI6XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgKz0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gTWF0aC5mbG9vcihtaWxsaXNlY29uZCAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJob3VyXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG91ciA9IE1hdGguZmxvb3IoaG91ciAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWludXRlID0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWludXRlXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWludXRlID0gTWF0aC5mbG9vcihtaW51dGUgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1pbnV0ZSArPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoID0gTWF0aC5mbG9vcihtb250aCAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF5ID0gMTtcclxuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWludXRlID0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwieWVhclwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXIgPSBNYXRoLmZsb29yKHllYXIgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1vbnRoID0gMDtcclxuICAgICAgICAgICAgICAgIGRheSA9IDE7XHJcbiAgICAgICAgICAgICAgICBob3VyID0gMDtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZSA9IG9mZnNldERpZjtcclxuICAgICAgICAgICAgICAgIHNlY29uZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIndlZWtcIjpcclxuICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoZmlyc3REYXRlT2ZXZWVrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RGF0ZU9mV2VlayA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2Vla2RheSA+PSBmaXJzdERhdGVPZldlZWspIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXkgPSBkYXkgLSB3ZWVrZGF5ICsgZmlyc3REYXRlT2ZXZWVrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF5ID0gZGF5IC0gKDcgKyB3ZWVrZGF5KSArIGZpcnN0RGF0ZU9mV2VlaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWludXRlID0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kKTtcclxuICAgICAgICBsZXQgbmV3VGltZVpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgbGV0IG5ld1R6b2Zmc2V0ID0gdGltZXpvbmUub2Zmc2V0VVRDKGRhdGUpO1xyXG4gICAgICAgIGxldCBuZXdEaWZmID0gbmV3VHpvZmZzZXQgLSBuZXdUaW1lWm9uZU9mZnNldDtcclxuICAgICAgICBpZiAobmV3RGlmZiAhPSBvZmZzZXREaWYpIHtcclxuICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKG5ld0RpZmYgLSBvZmZzZXREaWYpICogNjAwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNob29zZUludGVydmFsKGluZGV4LCBkdXJhdGlvbiwgZ3JpZENvdW50LCBpbnRlcnZhbHMpIHtcclxuICAgIGxldCBncmlkSW50ZXJ2YWwgPSBpbnRlcnZhbHNbaW5kZXhdO1xyXG4gICAgbGV0IGludGVydmFsRHVyYXRpb24gPSBnZXRJbnRlcnZhbER1cmF0aW9uKGdyaWRJbnRlcnZhbCk7XHJcbiAgICBsZXQgbGFzdEluZGV4ID0gaW50ZXJ2YWxzLmxlbmd0aCAtIDE7XHJcbiAgICBpZiAoaW5kZXggPj0gbGFzdEluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGludGVydmFsc1tsYXN0SW5kZXhdKTtcclxuICAgIH1cclxuICAgIGxldCBjb3VudCA9IE1hdGguY2VpbChkdXJhdGlvbiAvIGludGVydmFsRHVyYXRpb24pO1xyXG4gICAgaWYgKGR1cmF0aW9uIDwgaW50ZXJ2YWxEdXJhdGlvbiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW50ZXJ2YWxzW2luZGV4IC0gMV0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvdW50IDw9IGdyaWRDb3VudCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpbnRlcnZhbHNbaW5kZXhdKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmRleCArIDEgPCBpbnRlcnZhbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaG9vc2VJbnRlcnZhbChpbmRleCArIDEsIGR1cmF0aW9uLCBncmlkQ291bnQsIGludGVydmFscyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW50ZXJ2YWxzW2luZGV4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pdFZhbHVlKGRhdGUsIHVuaXQpIHtcclxuICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNhc2UgXCJzZWNvbmRcIjpcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgIGNhc2UgXCJtaWxsaXNlY29uZFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcclxuICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRIb3VycygpO1xyXG4gICAgICAgIGNhc2UgXCJtaW51dGVcIjpcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgY2FzZSBcIndlZWtcIjpcclxuICAgICAgICAgICAgcmV0dXJuICR1dGlscy5nZXRXZWVrKGRhdGUpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Timezone: () => (/* binding */ Timezone)\n/* harmony export */ });\nfunction parseDate(timezone, date) {\r\n    let year = 0;\r\n    let month = 0;\r\n    let day = 1;\r\n    let hour = 0;\r\n    let minute = 0;\r\n    let second = 0;\r\n    let millisecond = 0;\r\n    let weekday = 0;\r\n    timezone.formatToParts(date).forEach((x) => {\r\n        switch (x.type) {\r\n            case \"year\":\r\n                year = +x.value;\r\n                break;\r\n            case \"month\":\r\n                month = (+x.value) - 1;\r\n                break;\r\n            case \"day\":\r\n                day = +x.value;\r\n                break;\r\n            case \"hour\":\r\n                hour = +x.value;\r\n                break;\r\n            case \"minute\":\r\n                minute = +x.value;\r\n                break;\r\n            case \"second\":\r\n                second = +x.value;\r\n                break;\r\n            case \"fractionalSecond\":\r\n                millisecond = +x.value;\r\n                break;\r\n            case \"weekday\":\r\n                switch (x.value) {\r\n                    case \"Sun\":\r\n                        weekday = 0;\r\n                        break;\r\n                    case \"Mon\":\r\n                        weekday = 1;\r\n                        break;\r\n                    case \"Tue\":\r\n                        weekday = 2;\r\n                        break;\r\n                    case \"Wed\":\r\n                        weekday = 3;\r\n                        break;\r\n                    case \"Thu\":\r\n                        weekday = 4;\r\n                        break;\r\n                    case \"Fri\":\r\n                        weekday = 5;\r\n                        break;\r\n                    case \"Sat\":\r\n                        weekday = 6;\r\n                        break;\r\n                }\r\n        }\r\n    });\r\n    if (hour === 24) {\r\n        hour = 0;\r\n    }\r\n    return { year, month, day, hour, minute, second, millisecond, weekday };\r\n}\r\nfunction toUTCDate(timezone, date) {\r\n    const { year, month, day, hour, minute, second, millisecond } = parseDate(timezone, date);\r\n    return Date.UTC(year, month, day, hour, minute, second, millisecond);\r\n}\r\nclass Timezone {\r\n    constructor(timezone, isReal) {\r\n        Object.defineProperty(this, \"_utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dtf\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this.name = timezone;\r\n        this._utc = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: \"UTC\",\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n        this._dtf = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: timezone,\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   timezone  IANA timezone\r\n     * @return            Instantiated object\r\n     */\r\n    static new(timezone) {\r\n        return (new this(timezone, true));\r\n    }\r\n    convertLocal(date) {\r\n        const offset = this.offsetUTC(date);\r\n        const userOffset = date.getTimezoneOffset();\r\n        const output = new Date(date);\r\n        output.setUTCMinutes(output.getUTCMinutes() - (offset - userOffset));\r\n        const newUserOffset = output.getTimezoneOffset();\r\n        if (userOffset != newUserOffset) {\r\n            output.setUTCMinutes(output.getUTCMinutes() + newUserOffset - userOffset);\r\n        }\r\n        return output;\r\n    }\r\n    offsetUTC(date) {\r\n        const utc = toUTCDate(this._utc, date);\r\n        const dtf = toUTCDate(this._dtf, date);\r\n        return (utc - dtf) / 60000;\r\n    }\r\n    parseDate(date) {\r\n        return parseDate(this._dtf, date);\r\n    }\r\n}\r\n//# sourceMappingURL=Timezone.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RpbWV6b25lLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLHNEQUFzRDtBQUNsRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVGltZXpvbmUuanM/ZmM2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBwYXJzZURhdGUodGltZXpvbmUsIGRhdGUpIHtcclxuICAgIGxldCB5ZWFyID0gMDtcclxuICAgIGxldCBtb250aCA9IDA7XHJcbiAgICBsZXQgZGF5ID0gMTtcclxuICAgIGxldCBob3VyID0gMDtcclxuICAgIGxldCBtaW51dGUgPSAwO1xyXG4gICAgbGV0IHNlY29uZCA9IDA7XHJcbiAgICBsZXQgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgbGV0IHdlZWtkYXkgPSAwO1xyXG4gICAgdGltZXpvbmUuZm9ybWF0VG9QYXJ0cyhkYXRlKS5mb3JFYWNoKCh4KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh4LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgICAgICAgIHllYXIgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgICAgIG1vbnRoID0gKCt4LnZhbHVlKSAtIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRheVwiOlxyXG4gICAgICAgICAgICAgICAgZGF5ID0gK3gudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImhvdXJcIjpcclxuICAgICAgICAgICAgICAgIGhvdXIgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWludXRlXCI6XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2Vjb25kXCI6XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZnJhY3Rpb25hbFNlY29uZFwiOlxyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2Vla2RheVwiOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh4LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlN1blwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlR1ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlRodVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkZyaVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNhdFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoaG91ciA9PT0gMjQpIHtcclxuICAgICAgICBob3VyID0gMDtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZCwgd2Vla2RheSB9O1xyXG59XHJcbmZ1bmN0aW9uIHRvVVRDRGF0ZSh0aW1lem9uZSwgZGF0ZSkge1xyXG4gICAgY29uc3QgeyB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmQgfSA9IHBhcnNlRGF0ZSh0aW1lem9uZSwgZGF0ZSk7XHJcbiAgICByZXR1cm4gRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kKTtcclxufVxyXG5leHBvcnQgY2xhc3MgVGltZXpvbmUge1xyXG4gICAgY29uc3RydWN0b3IodGltZXpvbmUsIGlzUmVhbCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91dGNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2R0ZlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmFtZSA9IHRpbWV6b25lO1xyXG4gICAgICAgIHRoaXMuX3V0YyA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiVVRDXCIsIHtcclxuICAgICAgICAgICAgaG91cjEyOiBmYWxzZSxcclxuICAgICAgICAgICAgdGltZVpvbmU6IFwiVVRDXCIsXHJcbiAgICAgICAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICBtb250aDogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIGRheTogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICB3ZWVrZGF5OiBcInNob3J0XCIsXHJcbiAgICAgICAgICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZHRmID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJVVENcIiwge1xyXG4gICAgICAgICAgICBob3VyMTI6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aW1lWm9uZTogdGltZXpvbmUsXHJcbiAgICAgICAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICBtb250aDogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIGRheTogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICB3ZWVrZGF5OiBcInNob3J0XCIsXHJcbiAgICAgICAgICAgIGZyYWN0aW9uYWxTZWNvbmREaWdpdHM6IDMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvI05ld19lbGVtZW50X3N5bnRheH0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgdGltZXpvbmUgIElBTkEgdGltZXpvbmVcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBJbnN0YW50aWF0ZWQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuZXcodGltZXpvbmUpIHtcclxuICAgICAgICByZXR1cm4gKG5ldyB0aGlzKHRpbWV6b25lLCB0cnVlKSk7XHJcbiAgICB9XHJcbiAgICBjb252ZXJ0TG9jYWwoZGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMub2Zmc2V0VVRDKGRhdGUpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgb3V0cHV0LnNldFVUQ01pbnV0ZXMob3V0cHV0LmdldFVUQ01pbnV0ZXMoKSAtIChvZmZzZXQgLSB1c2VyT2Zmc2V0KSk7XHJcbiAgICAgICAgY29uc3QgbmV3VXNlck9mZnNldCA9IG91dHB1dC5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgIGlmICh1c2VyT2Zmc2V0ICE9IG5ld1VzZXJPZmZzZXQpIHtcclxuICAgICAgICAgICAgb3V0cHV0LnNldFVUQ01pbnV0ZXMob3V0cHV0LmdldFVUQ01pbnV0ZXMoKSArIG5ld1VzZXJPZmZzZXQgLSB1c2VyT2Zmc2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIG9mZnNldFVUQyhkYXRlKSB7XHJcbiAgICAgICAgY29uc3QgdXRjID0gdG9VVENEYXRlKHRoaXMuX3V0YywgZGF0ZSk7XHJcbiAgICAgICAgY29uc3QgZHRmID0gdG9VVENEYXRlKHRoaXMuX2R0ZiwgZGF0ZSk7XHJcbiAgICAgICAgcmV0dXJuICh1dGMgLSBkdGYpIC8gNjAwMDA7XHJcbiAgICB9XHJcbiAgICBwYXJzZURhdGUoZGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZURhdGUodGhpcy5fZHRmLCBkYXRlKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lem9uZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLACEHOLDER: () => (/* binding */ PLACEHOLDER),\n/* harmony export */   PLACEHOLDER2: () => (/* binding */ PLACEHOLDER2),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDate: () => (/* binding */ isDate),\n/* harmony export */   isNaN: () => (/* binding */ isNaN),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   numberToString: () => (/* binding */ numberToString),\n/* harmony export */   repeat: () => (/* binding */ repeat),\n/* harmony export */   toDate: () => (/* binding */ toDate),\n/* harmony export */   toNumber: () => (/* binding */ toNumber)\n/* harmony export */ });\n/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n */\r\nfunction isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n * @ignore\r\n */\r\nfunction getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * Asserts that the condition is true.\r\n *\r\n * @param condition  Condition to check\r\n * @param message    Message to display in the error\r\n * @ignore\r\n */\r\nfunction assert(condition, message = \"Assertion failed\") {\r\n    if (!condition) {\r\n        throw new Error(message);\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nfunction toNumber(value) {\r\n    if (value != null && !isNumber(value)) {\r\n        let converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nfunction toDate(value) {\r\n    if (isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if (isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        let num = Number(value);\r\n        if (!isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nfunction numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if (isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    let negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    let parsed = /^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value);\r\n    let digits = parsed[1];\r\n    let decimals = parsed[2] || \"\";\r\n    let res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] === undefined) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        let exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            let zeros = exponent - 1;\r\n            res = \"0.\" + repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            let zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nfunction repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nfunction isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nfunction isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nfunction isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nfunction isObject(value) {\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nfunction isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * STATIC CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nconst PLACEHOLDER = \"____\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nconst PLACEHOLDER2 = \"____\";\r\n//# sourceMappingURL=Type.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1R5cGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGRpZS8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVHlwZS5qcz84N2QwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2YgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHZhcmlvdXMgdHlwZSBjaGVja3MgYW5kIGNvbnZlcnNpb25cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVFlQRSBDSEVDS1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB2YWx1ZSBpcyBub3QgYSBudW1iZXIgKE5hTikuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBJbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIElzIE5hTj9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIE51bWJlcih2YWx1ZSkgIT09IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgdHlwZSBvZiB0aGUgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBUeXBlIG9mIHRoZSB2YWx1ZVxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcbn1cclxuLyoqXHJcbiAqIEFzc2VydHMgdGhhdCB0aGUgY29uZGl0aW9uIGlzIHRydWUuXHJcbiAqXHJcbiAqIEBwYXJhbSBjb25kaXRpb24gIENvbmRpdGlvbiB0byBjaGVja1xyXG4gKiBAcGFyYW0gbWVzc2FnZSAgICBNZXNzYWdlIHRvIGRpc3BsYXkgaW4gdGhlIGVycm9yXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlID0gXCJBc3NlcnRpb24gZmFpbGVkXCIpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIFFVSUNLIENPTlZFUlNJT05cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogQ29udmVydHMgYW55IHZhbHVlIGludG8gYSBgbnVtYmVyYC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBTb3VyY2UgdmFsdWVcclxuICogQHJldHVybiBOdW1iZXIgcmVwcmVzZW50YXRpb24gb2YgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIWlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgIGxldCBjb252ZXJ0ZWQgPSBOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgIGlmIChpc05hTihjb252ZXJ0ZWQpICYmIGlzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b051bWJlcih2YWx1ZS5yZXBsYWNlKC9bXjAtOS5cXC1dKy9nLCAnJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udmVydGVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhbnl0aGluZyB0byBEYXRlIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBBIHZhbHVlIG9mIGFueSB0eXBlXHJcbiAqIEByZXR1cm4gRGF0ZSBvYmplY3QgcmVwcmVzZW50aW5nIGEgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUodmFsdWUpIHtcclxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XHJcbiAgICAgICAgLy8gVE9ETyBtYXliZSBkb24ndCBjcmVhdGUgYSBuZXcgRGF0ZSA/XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBUcnkgY29udmVydGluZyB0byBudW1iZXIgKGFzc3VtaW5nIHRpbWVzdGFtcClcclxuICAgICAgICBsZXQgbnVtID0gTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICBpZiAoIWlzTnVtYmVyKG51bSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShudW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgbnVtZXJpYyB2YWx1ZSBpbnRvIHN0cmluZy4gRGVhbHMgd2l0aCBsYXJnZSBvciBzbWFsbCBudW1iZXJzIHRoYXRcclxuICogd291bGQgb3RoZXJ3aXNlIHVzZSBleHBvbmVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgTnVtZXJpYyB2YWx1ZVxyXG4gKiBAcmV0dXJuIE51bWVyaWMgdmFsdWUgYXMgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9TdHJpbmcodmFsdWUpIHtcclxuICAgIC8vIFRPRE8gaGFuZGxlIEluZmluaXR5IGFuZCAtSW5maW5pdHlcclxuICAgIGlmIChpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gXCJOYU5cIjtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICByZXR1cm4gXCJJbmZpbml0eVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAtSW5maW5pdHkpIHtcclxuICAgICAgICByZXR1cm4gXCItSW5maW5pdHlcIjtcclxuICAgIH1cclxuICAgIC8vIE5lZ2F0aXZlIDBcclxuICAgIGlmICgodmFsdWUgPT09IDApICYmICgxIC8gdmFsdWUgPT09IC1JbmZpbml0eSkpIHtcclxuICAgICAgICByZXR1cm4gXCItMFwiO1xyXG4gICAgfVxyXG4gICAgLy8gUHJlc2VydmUgbmVnYXRpdmUgYW5kIGRlYWwgd2l0aCBhYnNvdXRlIHZhbHVlc1xyXG4gICAgbGV0IG5lZ2F0aXZlID0gdmFsdWUgPCAwO1xyXG4gICAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICAvLyBUT0RPIHRlc3QgdGhpc1xyXG4gICAgbGV0IHBhcnNlZCA9IC9eKFswLTldKykoPzpcXC4oWzAtOV0rKSk/KD86ZVtcXCtcXC1dKFswLTldKykpPyQvLmV4ZWMoXCJcIiArIHZhbHVlKTtcclxuICAgIGxldCBkaWdpdHMgPSBwYXJzZWRbMV07XHJcbiAgICBsZXQgZGVjaW1hbHMgPSBwYXJzZWRbMl0gfHwgXCJcIjtcclxuICAgIGxldCByZXM7XHJcbiAgICAvLyBMZWF2ZSB0aGUgbnVtbWJlciBhcyBpdCBpcyBpZiBpdCBkb2VzIG5vdCB1c2UgZXhwb25lbnRzXHJcbiAgICBpZiAocGFyc2VkWzNdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXMgPSAoZGVjaW1hbHMgPT09IFwiXCIgPyBkaWdpdHMgOiBkaWdpdHMgKyBcIi5cIiArIGRlY2ltYWxzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBleHBvbmVudCA9ICtwYXJzZWRbM107XHJcbiAgICAgICAgLy8gRGVhbCB3aXRoIGRlY2ltYWxzXHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMSkge1xyXG4gICAgICAgICAgICBsZXQgemVyb3MgPSBleHBvbmVudCAtIDE7XHJcbiAgICAgICAgICAgIHJlcyA9IFwiMC5cIiArIHJlcGVhdChcIjBcIiwgemVyb3MpICsgZGlnaXRzICsgZGVjaW1hbHM7XHJcbiAgICAgICAgICAgIC8vIERlYWwgd2l0aCBpbnRlZ2Vyc1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHplcm9zID0gZXhwb25lbnQgLSBkZWNpbWFscy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmICh6ZXJvcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzID0gZGlnaXRzICsgZGVjaW1hbHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoemVyb3MgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgPSBkaWdpdHMgKyBkZWNpbWFscy5zbGljZSgwLCB6ZXJvcykgKyBcIi5cIiArIGRlY2ltYWxzLnNsaWNlKHplcm9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IGRpZ2l0cyArIGRlY2ltYWxzICsgcmVwZWF0KFwiMFwiLCB6ZXJvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmVnYXRpdmUgPyBcIi1cIiArIHJlcyA6IHJlcztcclxufVxyXG4vKipcclxuICogUmVwZWF0cyBhIGBzdHJpbmdgIG51bWJlciBvZiB0aW1lcyBhcyBzZXQgaW4gYGFtb3VudGAuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHRvZG8gTWFrZSB0aGlzIGZhc3RlclxyXG4gKiBAcGFyYW0gc3RyaW5nICBTb3VyY2Ugc3RyaW5nXHJcbiAqIEBwYXJhbSBhbW91bnQgIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgc3RyaW5nXHJcbiAqIEByZXR1cm4gTmV3IHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIGFtb3VudCkge1xyXG4gICAgcmV0dXJuIG5ldyBBcnJheShhbW91bnQgKyAxKS5qb2luKHN0cmluZyk7XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVFlQRSBDSEVDS1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcGFyYW1ldGVyIGlzIGBEYXRlYC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBJbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIElzIERhdGU/XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZSh2YWx1ZSkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcGFyYW1ldGVyIGlzIGBzdHJpbmdgLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIElucHV0IHZhbHVlXHJcbiAqIEByZXR1cm4gSXMgc3RyaW5nP1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcGFyYW1ldGVyIGlzIGBudW1iZXJgLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIElucHV0IHZhbHVlXHJcbiAqIEByZXR1cm4gSXMgbnVtYmVyP1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIE51bWJlcih2YWx1ZSkgPT0gdmFsdWU7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBwYXJhbWV0ZXIgaXMgYG9iamVjdGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBJcyBvYmplY3Q/XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBwYXJhbWV0ZXIgaXMgYEFycmF5YC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBJbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIElzIEFycmF5P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcclxufVxyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBTVEFUSUMgQ09OU1RBTlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICovXHJcbmV4cG9ydCBjb25zdCBQTEFDRUhPTERFUiA9IFwiX1/Cp8KnwqdfX1wiO1xyXG4vKipcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFBMQUNFSE9MREVSMiA9IFwiX1/Cp8KnwqfCp19fXCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVR5cGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleRule: () => (/* binding */ StyleRule),\n/* harmony export */   StyleSheet: () => (/* binding */ StyleSheet),\n/* harmony export */   addClass: () => (/* binding */ addClass),\n/* harmony export */   addEventListener: () => (/* binding */ addEventListener),\n/* harmony export */   addSpacing: () => (/* binding */ addSpacing),\n/* harmony export */   alternativeColor: () => (/* binding */ alternativeColor),\n/* harmony export */   blur: () => (/* binding */ blur),\n/* harmony export */   brighten: () => (/* binding */ brighten),\n/* harmony export */   capitalizeFirst: () => (/* binding */ capitalizeFirst),\n/* harmony export */   cleanFormat: () => (/* binding */ cleanFormat),\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   decimalPlaces: () => (/* binding */ decimalPlaces),\n/* harmony export */   escapeForRgex: () => (/* binding */ escapeForRgex),\n/* harmony export */   focus: () => (/* binding */ focus),\n/* harmony export */   get12Hours: () => (/* binding */ get12Hours),\n/* harmony export */   getBrightnessStep: () => (/* binding */ getBrightnessStep),\n/* harmony export */   getDayFromWeek: () => (/* binding */ getDayFromWeek),\n/* harmony export */   getEventKey: () => (/* binding */ getEventKey),\n/* harmony export */   getEventTarget: () => (/* binding */ getEventTarget),\n/* harmony export */   getFormat: () => (/* binding */ getFormat),\n/* harmony export */   getLightnessStep: () => (/* binding */ getLightnessStep),\n/* harmony export */   getMonthWeek: () => (/* binding */ getMonthWeek),\n/* harmony export */   getPointerId: () => (/* binding */ getPointerId),\n/* harmony export */   getRendererEvent: () => (/* binding */ getRendererEvent),\n/* harmony export */   getSafeResolution: () => (/* binding */ getSafeResolution),\n/* harmony export */   getShadowRoot: () => (/* binding */ getShadowRoot),\n/* harmony export */   getStyle: () => (/* binding */ getStyle),\n/* harmony export */   getTimeZone: () => (/* binding */ getTimeZone),\n/* harmony export */   getTimezoneOffset: () => (/* binding */ getTimezoneOffset),\n/* harmony export */   getWeek: () => (/* binding */ getWeek),\n/* harmony export */   getWeekYear: () => (/* binding */ getWeekYear),\n/* harmony export */   getYearDay: () => (/* binding */ getYearDay),\n/* harmony export */   hslToHsv: () => (/* binding */ hslToHsv),\n/* harmony export */   hslToRgb: () => (/* binding */ hslToRgb),\n/* harmony export */   hsvToHsl: () => (/* binding */ hsvToHsl),\n/* harmony export */   iOS: () => (/* binding */ iOS),\n/* harmony export */   isLight: () => (/* binding */ isLight),\n/* harmony export */   isLocalEvent: () => (/* binding */ isLocalEvent),\n/* harmony export */   isTouchEvent: () => (/* binding */ isTouchEvent),\n/* harmony export */   lighten: () => (/* binding */ lighten),\n/* harmony export */   mergeTags: () => (/* binding */ mergeTags),\n/* harmony export */   onZoom: () => (/* binding */ onZoom),\n/* harmony export */   padString: () => (/* binding */ padString),\n/* harmony export */   plainText: () => (/* binding */ plainText),\n/* harmony export */   ready: () => (/* binding */ ready),\n/* harmony export */   relativeToValue: () => (/* binding */ relativeToValue),\n/* harmony export */   removeClass: () => (/* binding */ removeClass),\n/* harmony export */   removeElement: () => (/* binding */ removeElement),\n/* harmony export */   rgbToHsl: () => (/* binding */ rgbToHsl),\n/* harmony export */   sameBounds: () => (/* binding */ sameBounds),\n/* harmony export */   saturate: () => (/* binding */ saturate),\n/* harmony export */   setInteractive: () => (/* binding */ setInteractive),\n/* harmony export */   setStyle: () => (/* binding */ setStyle),\n/* harmony export */   splitString: () => (/* binding */ splitString),\n/* harmony export */   stripTags: () => (/* binding */ stripTags),\n/* harmony export */   supports: () => (/* binding */ supports),\n/* harmony export */   trim: () => (/* binding */ trim),\n/* harmony export */   trimLeft: () => (/* binding */ trimLeft),\n/* harmony export */   trimRight: () => (/* binding */ trimRight),\n/* harmony export */   truncateTextWithEllipsis: () => (/* binding */ truncateTextWithEllipsis)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n\r\n\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nfunction ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        const listener = () => {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nfunction removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nfunction addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Function that adds an event listener which is triggered when the browser's zoom changes.\r\n *\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nfunction onZoom(listener) {\r\n    // TODO use matchMedia instead ?\r\n    return addEventListener(window, \"resize\", (_ev) => {\r\n        listener();\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getPointerId(event) {\r\n    let id = event.pointerId || 0;\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nfunction blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            let input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nfunction focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerleave\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerleave\": return \"mouseleave\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nfunction isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nfunction setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nfunction getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Gets the target of the event, works for shadow DOM too.\r\n */\r\nfunction getEventTarget(event) {\r\n    if (event.composedPath) {\r\n        const path = event.composedPath();\r\n        if (path.length === 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return path[0];\r\n        }\r\n    }\r\n    else {\r\n        return event.target;\r\n    }\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nfunction contains(a, b) {\r\n    let cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nfunction isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nfunction setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"auto\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\nfunction getEventKey(event) {\r\n    if (event.key !== undefined) {\r\n        return event.key;\r\n    }\r\n    switch (event.keyCode) {\r\n        case 9: return \"Tab\";\r\n        case 13: return \"Enter\";\r\n        case 16: return \"Shift\";\r\n        case 17: return \"Control\";\r\n        case 27: return \"Escape\";\r\n        case 32: return \" \";\r\n        case 37: return \"ArrowLeft\";\r\n        case 38: return \"ArrowUp\";\r\n        case 39: return \"ArrowRight\";\r\n        case 40: return \"ArrowDown\";\r\n        case 46: return \"Delete\";\r\n    }\r\n    return \"\" + event.keyCode;\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nfunction getShadowRoot(a) {\r\n    let cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nlet rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce = \"\") {\r\n    // TODO use createElementNS ?\r\n    const e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce = \"\") {\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            const e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        const e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    const index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nclass StyleRule extends _Disposer__WEBPACK_IMPORTED_MODULE_0__.DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    constructor(element, selector, styles, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._root = getStylesheet(element, nonce);\r\n        try {\r\n            this._rule = appendStylesheet(this._root, selector);\r\n        }\r\n        catch (err) {\r\n            // Create an empty rule on failed selectors\r\n            this._rule = appendStylesheet(this._root, \":not(*)\");\r\n        }\r\n        _Object__WEBPACK_IMPORTED_MODULE_1__.each(styles, (key, value) => {\r\n            this.setStyle(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * A CSS selector text.\r\n     *\r\n     * E.g.: `.myClass p`\r\n     *\r\n     * @param selector  CSS selector\r\n     */\r\n    set selector(selector) {\r\n        this._rule.selectorText = selector;\r\n    }\r\n    /**\r\n     * @return CSS selector\r\n     */\r\n    get selector() {\r\n        return this._rule.selectorText;\r\n    }\r\n    // TODO test this\r\n    _dispose() {\r\n        // TODO a bit hacky\r\n        const index = _Array__WEBPACK_IMPORTED_MODULE_2__.indexOf(this._root.cssRules, this._rule);\r\n        if (index === -1) {\r\n            throw new Error(\"Could not dispose StyleRule\");\r\n        }\r\n        else {\r\n            // TODO if it's empty remove it from the DOM ?\r\n            this._root.deleteRule(index);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    _setVendorPrefixName(name, value) {\r\n        const style = this._rule.style;\r\n        style.setProperty(\"-webkit-\" + name, value, \"\");\r\n        style.setProperty(\"-moz-\" + name, value, \"\");\r\n        style.setProperty(\"-ms-\" + name, value, \"\");\r\n        style.setProperty(\"-o-\" + name, value, \"\");\r\n        style.setProperty(name, value, \"\");\r\n    }\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    setStyle(name, value) {\r\n        if (name === \"transition\") {\r\n            this._setVendorPrefixName(name, value);\r\n        }\r\n        else {\r\n            this._rule.style.setProperty(name, value, \"\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nclass StyleSheet extends _Disposer__WEBPACK_IMPORTED_MODULE_0__.DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    constructor(element, text, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._element = createStylesheet(element, text, nonce);\r\n    }\r\n    _dispose() {\r\n        if (this._element.parentNode) {\r\n            this._element.parentNode.removeChild(this._element);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nfunction addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        const classes = className.split(\" \");\r\n        _Array__WEBPACK_IMPORTED_MODULE_2__.each(classes, (name) => {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nfunction removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nfunction iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nfunction getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nfunction relativeToValue(percent, full) {\r\n    if (_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && _Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(percent.value) && _Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nfunction decimalPlaces(number) {\r\n    let match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nfunction padString(value, len = 0, char = \"0\") {\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nfunction trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nfunction trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nfunction trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\nfunction truncateTextWithEllipsis(text, maxLength, breakWords = false, ellipsis = \"...\") {\r\n    if (text.length > maxLength) {\r\n        // Find the last non-alphanumeric character before maxLength\r\n        let lastNonAlphanumericIndex = maxLength - 1;\r\n        while (lastNonAlphanumericIndex >= 0 && text.charAt(lastNonAlphanumericIndex).match(/\\w/)) {\r\n            lastNonAlphanumericIndex--;\r\n        }\r\n        if (lastNonAlphanumericIndex >= 0 && breakWords == false) {\r\n            return text.substring(0, lastNonAlphanumericIndex + 1) + '...';\r\n        }\r\n        else {\r\n            // If no non-alphanumeric character found, truncate without breaking words\r\n            return text.substring(0, maxLength) + ellipsis;\r\n        }\r\n    }\r\n    else {\r\n        return text;\r\n    }\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nfunction getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    let hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nfunction cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nfunction stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nfunction plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nfunction escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * Adds space before each uppercase letter.\r\n *\r\n * @param   str Input string\r\n * @return      Output string\r\n */\r\nfunction addSpacing(str) {\r\n    let result = \"\";\r\n    for (let i = 0; i < str.length; i++) {\r\n        const char = str.charAt(i);\r\n        if (char.toUpperCase() == char && i != 0) {\r\n            result += \" \";\r\n        }\r\n        result += char;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Splits the string into separate characters. Keeps RTL words non-split.\r\n *\r\n * @param   source  Input\r\n * @return          Split text\r\n */\r\nfunction splitString(source) {\r\n    // Regular expression to identify RTL characters\r\n    const rtlChar = /[\\u0590-\\u05FF\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]/;\r\n    // Regular expression to capture segments ending with specific Arabic characters\r\n    const splitPattern = /([^]*[])/gi;\r\n    // Split input string into array of words or characters, including whitespace\r\n    let segments = source.split(/(\\s+)/); // Split by whitespace, capturing it\r\n    let result = [];\r\n    segments.forEach(segment => {\r\n        if (segment.match(/^\\s+$/)) {\r\n            // If the segment is purely whitespace\r\n            if (segment = \" \") {\r\n                segment = \"  \";\r\n            }\r\n            result.push(segment);\r\n        }\r\n        else if (rtlChar.test(segment)) {\r\n            // If the segment contains RTL characters, handle special splits\r\n            let parts = segment.split(splitPattern).filter(part => part !== '');\r\n            // Concatenate parts processed by the split pattern directly to result\r\n            result = result.concat(parts);\r\n        }\r\n        else {\r\n            // Treat this segment as LTR: split into characters\r\n            result = result.concat([...segment]);\r\n        }\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nfunction getYearDay(date, utc = false) {\r\n    // TODO: utc needed?\r\n    utc;\r\n    const start = new Date(date.getFullYear(), 0, 0);\r\n    const diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    const oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nfunction getWeek(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a \"week year\" of the given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year of week\r\n * @since 5.3.0\r\n * @todo Account for UTC\r\n */\r\nfunction getWeekYear(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return firstDay.getFullYear();\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nfunction getMonthWeek(date, utc = false) {\r\n    const firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    let currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nfunction getDayFromWeek(week, year, weekday = 1, utc = false) {\r\n    let date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    let day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nfunction get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nfunction getTimeZone(date, long = false, savings = false, utc = false, timezone) {\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    else if (timezone) {\r\n        const d1 = date.toLocaleString(\"en-US\", { timeZone: timezone });\r\n        const d2 = date.toLocaleString(\"en-US\", { timeZone: timezone, timeZoneName: long ? \"long\" : \"short\" });\r\n        return trim(d2.substr(d1.length));\r\n    }\r\n    let wotz = date.toLocaleString(\"UTC\");\r\n    let wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return trim(wtz);\r\n}\r\nfunction getTimezoneOffset(timezone) {\r\n    const date = new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));\r\n    const utcDate = new Date(date.toLocaleString(\"en-US\", { timeZone: \"UTC\" }));\r\n    const tzDate = new Date(date.toLocaleString(\"en-US\", { timeZone: timezone }));\r\n    return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;\r\n}\r\nfunction capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nfunction hslToRgb(color) {\r\n    let r, g, b;\r\n    let h = color.h;\r\n    let s = color.s;\r\n    let l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        let hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        let p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nfunction rgbToHsl(color) {\r\n    let r = color.r / 255;\r\n    let g = color.g / 255;\r\n    let b = color.b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let h = 0;\r\n    let s = 0;\r\n    let l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        let d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l,\r\n    };\r\n}\r\n/**\r\n * Converts HSV to HSL.\r\n *\r\n * https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL\r\n */\r\nfunction hsvToHsl(hsv) {\r\n    const l = hsv.v * (1 - (hsv.s / 2));\r\n    const s = (l === 0 || l === 1\r\n        ? 0\r\n        : (hsv.v - l) / Math.min(l, 1 - l));\r\n    return {\r\n        h: hsv.h,\r\n        s,\r\n        l,\r\n        a: hsv.a,\r\n    };\r\n}\r\n/**\r\n * Converts HSL to HSV.\r\n *\r\n * https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV\r\n */\r\nfunction hslToHsv(hsl) {\r\n    const v = hsl.l + (hsl.s * Math.min(hsl.l, 1 - hsl.l));\r\n    const s = (v === 0\r\n        ? 0\r\n        : 2 * (1 - (hsl.l / v)));\r\n    return {\r\n        h: hsl.h,\r\n        s,\r\n        v,\r\n        a: hsl.a,\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nfunction lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nfunction getLightnessStep(value, percent) {\r\n    let base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nfunction brighten(rgb, percent) {\r\n    if (rgb) {\r\n        let base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        let step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nfunction getBrightnessStep(_value, percent) {\r\n    let base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nfunction isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nfunction saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    let hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\n/**\r\n * Returns a color which contrasts more with the source `color`.\r\n *\r\n * @param  color             Base color\r\n * @param  lightAlternative  Light option\r\n * @param  darkAlternative   Dark option\r\n * @return New color\r\n */\r\nfunction alternativeColor(color, lightAlternative = { r: 255, g: 255, b: 255 }, darkAlternative = { r: 255, g: 255, b: 255 }) {\r\n    let light = lightAlternative;\r\n    let dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return [...tags1, ...tags2].filter((value, index, self) => {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=Utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDRTtBQUNFO0FBQ2lCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLCtDQUFRO0FBQ3ZCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixvREFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLG9EQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxRQUFRLDJDQUFjO0FBQ3RCO0FBQ0E7QUFDQSxnQ0FBZ0MsMkNBQWMsbUJBQW1CLDJDQUFjO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9CQUFvQjtBQUN0RSxrREFBa0QsMkRBQTJEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1Q0FBdUM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDREQUE0RCxpQkFBaUI7QUFDN0UsMkRBQTJELG9CQUFvQjtBQUMvRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0RBQXNELHdCQUF3QixzQkFBc0Isd0JBQXdCO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1V0aWxzLmpzP2RlNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi9PYmplY3RcIjtcclxuaW1wb3J0IHsgRGlzcG9zZXIsIERpc3Bvc2VyQ2xhc3MgfSBmcm9tIFwiLi9EaXNwb3NlclwiO1xyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBET00gRlVOQ1RJT05TXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqIEV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIERPTSBpcyByZWFkeS5cclxuICpcclxuICogQHNpbmNlIDUuMC4yXHJcbiAqIEBwYXJhbSAgZiAgQ2FsbGJhY2tcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWFkeShmKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcclxuICAgICAgICBmKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICBmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGxpc3RlbmVyKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVtb3ZlcyBhIERPTSBlbGVtZW50LlxyXG4gKiBAcGFyYW0gIGVsICBUYXJnZXQgZWxlbWVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWwpIHtcclxuICAgIGlmIChlbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRoYXQgYWRkcyBhIGRpc3Bvc2FibGUgZXZlbnQgbGlzdGVuZXIgZGlyZWN0bHkgdG8gYSBET00gZWxlbWVudC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gZG9tICAgICAgIEEgRE9NIGVsZW1lbnQgdG8gYWRkIGV2ZW50IHRvXHJcbiAqIEBwYXJhbSB0eXBlICAgICAgRXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIgIEV2ZW50IGxpc3RlbmVyXHJcbiAqIEByZXR1cm5zIERpc3Bvc2FibGUgZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGRvbSwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcclxuICAgIC8vQHRvZG8gcHJvcGVyIHR5cGUgY2hlY2sgZm9yIG9wdGlvbnM6IEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgYm9vbGVhbiAoVFMgZm9yIHNvbWUgcmVhc29uIGdpdmVzIGVycm9yIG9uIHBhc3NpdmUgcGFyYW1ldGVyKVxyXG4gICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMgfHwgZmFsc2UpO1xyXG4gICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMgfHwgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRoYXQgYWRkcyBhbiBldmVudCBsaXN0ZW5lciB3aGljaCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYnJvd3NlcidzIHpvb20gY2hhbmdlcy5cclxuICpcclxuICogQHBhcmFtIGxpc3RlbmVyICBFdmVudCBsaXN0ZW5lclxyXG4gKiBAcmV0dXJucyBEaXNwb3NhYmxlIGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gb25ab29tKGxpc3RlbmVyKSB7XHJcbiAgICAvLyBUT0RPIHVzZSBtYXRjaE1lZGlhIGluc3RlYWQgP1xyXG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcInJlc2l6ZVwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHMoY2FwKSB7XHJcbiAgICBzd2l0Y2ggKGNhcCkge1xyXG4gICAgICAgIGNhc2UgXCJ0b3VjaGV2ZW50c1wiOlxyXG4gICAgICAgICAgICAvL3JldHVybiBcIm9udG91Y2hzdGFydFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIlRvdWNoRXZlbnRcIik7XHJcbiAgICAgICAgY2FzZSBcInBvaW50ZXJldmVudHNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIlBvaW50ZXJFdmVudFwiKTtcclxuICAgICAgICBjYXNlIFwibW91c2VldmVudHNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIk1vdXNlRXZlbnRcIik7XHJcbiAgICAgICAgY2FzZSBcIndoZWVsZXZlbnRzXCI6XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuaGFzT3duUHJvcGVydHkoXCJXaGVlbEV2ZW50XCIpO1xyXG4gICAgICAgIGNhc2UgXCJrZXlib2FyZGV2ZW50c1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lmhhc093blByb3BlcnR5KFwiS2V5Ym9hcmRFdmVudFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJJZChldmVudCkge1xyXG4gICAgbGV0IGlkID0gZXZlbnQucG9pbnRlcklkIHx8IDA7XHJcbiAgICByZXR1cm4gaWQ7XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgZm9jdXMgZnJvbSBhbnkgZWxlbWVudCBieSBzaGlmdGluZyBmb2N1cyB0byBib2R5LlxyXG4gKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYmx1cigpIHtcclxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT0gZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgICAgICBpbnB1dC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUubGVmdCA9IFwiLTEwMDAwcHhcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIGlucHV0LmJsdXIoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBGb2N1c2VzIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmb2N1cyhlbCkge1xyXG4gICAgaWYgKGVsKSB7XHJcbiAgICAgICAgZWwuZm9jdXMoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlcmVyRXZlbnQoa2V5KSB7XHJcbiAgICBpZiAoc3VwcG9ydHMoXCJwb2ludGVyZXZlbnRzXCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHN1cHBvcnRzKFwidG91Y2hldmVudHNcIikpIHtcclxuICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjogcmV0dXJuIFwidG91Y2hzdGFydFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOiByZXR1cm4gXCJ0b3VjaGVuZFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcmxlYXZlXCI6IHJldHVybiBcInRvdWNoZW5kXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOiByZXR1cm4gXCJ0b3VjaHN0YXJ0XCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVybW92ZVwiOiByZXR1cm4gXCJ0b3VjaG1vdmVcIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOiByZXR1cm4gXCJ0b3VjaGVuZFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjogcmV0dXJuIFwiY2xpY2tcIjtcclxuICAgICAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6IHJldHVybiBcImRibGNsaWNrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc3VwcG9ydHMoXCJtb3VzZWV2ZW50c1wiKSkge1xyXG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOiByZXR1cm4gXCJtb3VzZW92ZXJcIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjogcmV0dXJuIFwibW91c2VvdXRcIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJsZWF2ZVwiOiByZXR1cm4gXCJtb3VzZWxlYXZlXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOiByZXR1cm4gXCJtb3VzZWRvd25cIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJtb3ZlXCI6IHJldHVybiBcIm1vdXNlbW92ZVwiO1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcnVwXCI6IHJldHVybiBcIm1vdXNldXBcIjtcclxuICAgICAgICAgICAgY2FzZSBcImNsaWNrXCI6IHJldHVybiBcImNsaWNrXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkYmxjbGlja1wiOiByZXR1cm4gXCJkYmxjbGlja1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBrZXk7XHJcbn1cclxuLyoqXHJcbiAqIERldGVybWluZXMgaWYgcG9pbnRlciBldmVudCBvcmlnaW5hdGVkIGZyb20gYSB0b3VjaCBwb2ludGVyIG9yIG1vdXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gZXYgIE9yaWdpbmFsIGV2ZW50XHJcbiAqIEByZXR1cm4gVG91Y2ggcG9pbnRlcj9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1RvdWNoRXZlbnQoZXYpIHtcclxuICAgIGlmICh0eXBlb2YgVG91Y2ggIT09IFwidW5kZWZpbmVkXCIgJiYgZXYgaW5zdGFuY2VvZiBUb3VjaCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBldiBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudCAmJiBldi5wb2ludGVyVHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgc3dpdGNoIChldi5wb2ludGVyVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidG91Y2hcIjpcclxuICAgICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgY2FzZSBcIm1vdXNlXCI6XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAhKGV2IGluc3RhbmNlb2YgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXYudHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGV2LnR5cGUubWF0Y2goL15tb3VzZS8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICogU2V0cyBzdHlsZSBwcm9wZXJ0eSBvbiBET00gZWxlbWVudC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0eWxlKGRvbSwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBkb20uc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKGRvbSwgcHJvcGVydHkpIHtcclxuICAgIHJldHVybiBkb20uc3R5bGVbcHJvcGVydHldO1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50LCB3b3JrcyBmb3Igc2hhZG93IERPTSB0b28uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5jb21wb3NlZFBhdGgpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XHJcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhdGhbMF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ2hlY2tzIG9mIGVsZW1lbnQgYGFgIGNvbnRhaW5zIGVsZW1lbnQgYGJgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYSAgQWxlZ2VkIGFzY2VuZGFudFxyXG4gKiBAcGFyYW0gYiAgQWxlZ2VkIGRlc2NlbmRhbnRcclxuICogQHJldHVybiBDb250YWlucz9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhhLCBiKSB7XHJcbiAgICBsZXQgY3Vyc29yID0gYjtcclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgaWYgKGEgPT09IGN1cnNvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3Vyc29yLnBhcmVudE5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBiZXR0ZXIgU2hhZG93Um9vdCBkZXRlY3Rpb25cclxuICAgICAgICAgICAgaWYgKGN1cnNvci5ob3N0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnNvciA9IGN1cnNvci5ob3N0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYHRydWVgIGlmIHBvaW50ZXIgZXZlbnQgb3JpZ2luYXRlZCBvbiBhbiBlbGVtZW50IHdpdGhpbiBSb290LlxyXG4gKlxyXG4gKiBAc2luY2UgNS4yLjhcclxuICogQHBhcmFtICBldmVudCAgIEV2ZW50XHJcbiAqIEBwYXJhbSAgdGFyZ2V0ICBUYXJnZXQgZWxlbWVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9jYWxFdmVudChldmVudCwgdGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0ICYmIGNvbnRhaW5zKHRhcmdldC5yb290LmRvbSwgZXZlbnQudGFyZ2V0KTtcclxufVxyXG4vKipcclxuICogRGlzYWJsZXMgb3IgZW5hYmxlcyBpbnRlcmFjdGl2aXR5IG9mIGEgRE9NIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSAgdGFyZ2V0ICAgICAgIFRhcmdldCBlbGVtZW50XHJcbiAqIEBwYXJhbSAgaW50ZXJhY3RpdmUgIEludGVyYWN0aXZlP1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEludGVyYWN0aXZlKHRhcmdldCwgaW50ZXJhY3RpdmUpIHtcclxuICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudEtleShldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LmtleTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgIGNhc2UgOTogcmV0dXJuIFwiVGFiXCI7XHJcbiAgICAgICAgY2FzZSAxMzogcmV0dXJuIFwiRW50ZXJcIjtcclxuICAgICAgICBjYXNlIDE2OiByZXR1cm4gXCJTaGlmdFwiO1xyXG4gICAgICAgIGNhc2UgMTc6IHJldHVybiBcIkNvbnRyb2xcIjtcclxuICAgICAgICBjYXNlIDI3OiByZXR1cm4gXCJFc2NhcGVcIjtcclxuICAgICAgICBjYXNlIDMyOiByZXR1cm4gXCIgXCI7XHJcbiAgICAgICAgY2FzZSAzNzogcmV0dXJuIFwiQXJyb3dMZWZ0XCI7XHJcbiAgICAgICAgY2FzZSAzODogcmV0dXJuIFwiQXJyb3dVcFwiO1xyXG4gICAgICAgIGNhc2UgMzk6IHJldHVybiBcIkFycm93UmlnaHRcIjtcclxuICAgICAgICBjYXNlIDQwOiByZXR1cm4gXCJBcnJvd0Rvd25cIjtcclxuICAgICAgICBjYXNlIDQ2OiByZXR1cm4gXCJEZWxldGVcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBcIlwiICsgZXZlbnQua2V5Q29kZTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc2hhZG93IHJvb3Qgb2YgdGhlIGVsZW1lbnQgb3IgbnVsbFxyXG4gKlxyXG4gKiBAcGFyYW0gYSAgTm9kZVxyXG4gKiBAcmV0dXJuIFJvb3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTaGFkb3dSb290KGEpIHtcclxuICAgIGxldCBjdXJzb3IgPSBhO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBpZiAoY3Vyc29yLnBhcmVudE5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBiZXR0ZXIgU2hhZG93Um9vdCBkZXRlY3Rpb25cclxuICAgICAgICAgICAgaWYgKGN1cnNvci5ob3N0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3Vyc29yID0gY3Vyc29yLnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBbcm9vdFN0eWxlc2hlZXQgZGVzY3JpcHRpb25dXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHRvZG8gRGVzY3JpcHRpb25cclxuICovXHJcbmxldCByb290U3R5bGVzaGVldDtcclxuLyoqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlc2hlZXQoZWxlbWVudCwgdGV4dCwgbm9uY2UgPSBcIlwiKSB7XHJcbiAgICAvLyBUT0RPIHVzZSBjcmVhdGVFbGVtZW50TlMgP1xyXG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgIGUudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuICAgIGlmIChub25jZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XHJcbiAgICB9XHJcbiAgICBlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZTtcclxufVxyXG4vKipcclxuICogW2dldFN0eWxlc2hlZXQgZGVzY3JpcHRpb25dXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHRvZG8gRGVzY3JpcHRpb25cclxuICogQHJldHVybiBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRTdHlsZXNoZWV0KGVsZW1lbnQsIG5vbmNlID0gXCJcIikge1xyXG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICBpZiAocm9vdFN0eWxlc2hlZXQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIHVzZSBjcmVhdGVFbGVtZW50TlMgP1xyXG4gICAgICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgICAgICBlLnR5cGUgPSBcInRleHQvY3NzXCI7XHJcbiAgICAgICAgICAgIGlmIChub25jZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGUpO1xyXG4gICAgICAgICAgICByb290U3R5bGVzaGVldCA9IGUuc2hlZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByb290U3R5bGVzaGVldDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFRPRE8gdXNlIGNyZWF0ZUVsZW1lbnROUyA/XHJcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgICAgICBlLnR5cGUgPSBcInRleHQvY3NzXCI7XHJcbiAgICAgICAgaWYgKG5vbmNlICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZSk7XHJcbiAgICAgICAgcmV0dXJuIGUuc2hlZXQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFttYWtlU3R5bGVzaGVldCBkZXNjcmlwdGlvbl1cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKiBAcGFyYW0gc2VsZWN0b3IgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBlbmRTdHlsZXNoZWV0KHJvb3QsIHNlbGVjdG9yKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHJvb3QuY3NzUnVsZXMubGVuZ3RoO1xyXG4gICAgcm9vdC5pbnNlcnRSdWxlKHNlbGVjdG9yICsgXCJ7fVwiLCBpbmRleCk7XHJcbiAgICByZXR1cm4gcm9vdC5jc3NSdWxlc1tpbmRleF07XHJcbn1cclxuLyoqXHJcbiAqIERlZmluZXMgYSBjbGFzcyBmb3IgYSBDU1MgcnVsZS5cclxuICpcclxuICogQ2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgYWRkIENTUyB0byB0aGUgZG9jdW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3R5bGVSdWxlIGV4dGVuZHMgRGlzcG9zZXJDbGFzcyB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzZWxlY3RvciAgQ1NTIHNlbGVjdG9yXHJcbiAgICAgKiBAcGFyYW0gc3R5bGVzICAgIEFuIG9iamVjdCBvZiBzdHlsZSBhdHRyaWJ1dGUgLSB2YWx1ZSBwYWlyc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBzZWxlY3Rvciwgc3R5bGVzLCBub25jZSA9IFwiXCIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb290XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENTUyBydWxlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ydWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBnZXRTdHlsZXNoZWV0KGVsZW1lbnQsIG5vbmNlKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlID0gYXBwZW5kU3R5bGVzaGVldCh0aGlzLl9yb290LCBzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IHJ1bGUgb24gZmFpbGVkIHNlbGVjdG9yc1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlID0gYXBwZW5kU3R5bGVzaGVldCh0aGlzLl9yb290LCBcIjpub3QoKilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRvYmplY3QuZWFjaChzdHlsZXMsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgQ1NTIHNlbGVjdG9yIHRleHQuXHJcbiAgICAgKlxyXG4gICAgICogRS5nLjogYC5teUNsYXNzIHBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNlbGVjdG9yICBDU1Mgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgc2V0IHNlbGVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcnVsZS5zZWxlY3RvclRleHQgPSBzZWxlY3RvcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiBDU1Mgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgZ2V0IHNlbGVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ydWxlLnNlbGVjdG9yVGV4dDtcclxuICAgIH1cclxuICAgIC8vIFRPRE8gdGVzdCB0aGlzXHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICAvLyBUT0RPIGEgYml0IGhhY2t5XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSAkYXJyYXkuaW5kZXhPZih0aGlzLl9yb290LmNzc1J1bGVzLCB0aGlzLl9ydWxlKTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkaXNwb3NlIFN0eWxlUnVsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaWYgaXQncyBlbXB0eSByZW1vdmUgaXQgZnJvbSB0aGUgRE9NID9cclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5kZWxldGVSdWxlKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHNhbWUgc3R5bGUgcHJvcGVydGllcyB3aXRoIGJyb3dzZXItc3BlY2lmaWMgcHJlZml4ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgICBBdHRyaWJ1dGUgbmFtZVxyXG4gICAgICogQHBhcmFtIHZhbHVlICBBdHRyaWJ1dGUgdmFsdWVcclxuICAgICAqL1xyXG4gICAgX3NldFZlbmRvclByZWZpeE5hbWUobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3J1bGUuc3R5bGU7XHJcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXCItd2Via2l0LVwiICsgbmFtZSwgdmFsdWUsIFwiXCIpO1xyXG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFwiLW1vei1cIiArIG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi1tcy1cIiArIG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi1vLVwiICsgbmFtZSwgdmFsdWUsIFwiXCIpO1xyXG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHZhbHVlIGZvciBzcGVjaWZpYyBzdHlsZSBhdHRyaWJ1dGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgICBBdHRyaWJ1dGVcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgVmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0U3R5bGUobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gXCJ0cmFuc2l0aW9uXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0VmVuZG9yUHJlZml4TmFtZShuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERlZmluZXMgYSBjbGFzcyBmb3IgYW4gZW50aXJlIENTUyBzdHlsZSBzaGVldC5cclxuICpcclxuICogQ2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgYWRkIENTUyB0byB0aGUgZG9jdW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3R5bGVTaGVldCBleHRlbmRzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgQ1NTIHN0eWxlc2hlZXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgdGV4dCwgbm9uY2UgPSBcIlwiKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZWxlbWVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gY3JlYXRlU3R5bGVzaGVldChlbGVtZW50LCB0ZXh0LCBub25jZSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9lbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgYSBjbGFzcyBuYW1lIHRvIGFuIEhUTUwgb3IgU1ZHIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIGVsZW1lbnQgICAgRWxlbWVudFxyXG4gKiBAcGFyYW0gY2xhc3NOYW1lICBDbGFzcyBuYW1lIHRvIGFkZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgJGFycmF5LmVhY2goY2xhc3NlcywgKG5hbWUpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRDbGFzc05hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgIGlmIChjdXJyZW50Q2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY3VycmVudENsYXNzTmFtZS5zcGxpdChcIiBcIikuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICB9KS5qb2luKFwiIFwiKSArIFwiIFwiICsgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYSBjbGFzcyBuYW1lIGZyb20gYW4gSFRNTCBvciBTVkcgZWxlbWVudC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gZWxlbWVudCAgICBFbGVtZW50XHJcbiAqIEBwYXJhbSBjbGFzc05hbWUgIENsYXNzIG5hbWUgdG8gYWRkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBjdXJyZW50Q2xhc3NOYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICBpZiAoY3VycmVudENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGN1cnJlbnRDbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgfSkuam9pbihcIiBcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyAvKipcclxuLy8gICogQXBwbGllcyBhIHNldCBvZiBzdHlsZXMgdG8gYW4gZWxlbWVudC4gU3RvcmVzIHRoZSBvcmlnaW5hbCBzdHlsZXMgc28gdGhleVxyXG4vLyAgKiBjYW4gYmUgcmVzdG9yZWQgbGF0ZXIuXHJcbi8vICAqXHJcbi8vICAqIEBpZ25vcmVcclxuLy8gICogQHBhcmFtIGlvICAgICAgRWxlbWVudFxyXG4vLyAgICovXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiBwcmVwRWxlbWVudEZvckRyYWcoZG9tOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4vLyBcdC8vIEB0b2RvOiBzYXZlIGN1cnJlbnQgdmFsdWVzXHJcbi8vIFx0Ly8gRGVmaW5lIHBvc3NpYmxlIHByb3BzXHJcbi8vIFx0bGV0IHByb3BzID0gW1xyXG4vLyBcdFx0XCJ0b3VjaEFjdGlvblwiLCBcIndlYmtpdFRvdWNoQWN0aW9uXCIsIFwiTW96VG91Y2hBY3Rpb25cIiwgXCJNU1RvdWNoQWN0aW9uXCIsIFwibXNUb3VjaEFjdGlvblwiLCBcIm9Ub3VjaEFjdGlvblwiLFxyXG4vLyBcdFx0XCJ1c2VyU2VsZWN0XCIsIFwid2Via2l0VXNlclNlbGVjdFwiLCBcIk1velVzZXJTZWxlY3RcIiwgXCJNU1VzZXJTZWxlY3RcIiwgXCJtc1VzZXJTZWxlY3RcIiwgXCJvVXNlclNlbGVjdFwiLFxyXG4vLyBcdFx0XCJ0b3VjaFNlbGVjdFwiLCBcIndlYmtpdFRvdWNoU2VsZWN0XCIsIFwiTW96VG91Y2hTZWxlY3RcIiwgXCJNU1RvdWNoU2VsZWN0XCIsIFwibXNUb3VjaFNlbGVjdFwiLCBcIm9Ub3VjaFNlbGVjdFwiLFxyXG4vLyBcdFx0XCJ0b3VjaENhbGxvdXRcIiwgXCJ3ZWJraXRUb3VjaENhbGxvdXRcIiwgXCJNb3pUb3VjaENhbGxvdXRcIiwgXCJNU1RvdWNoQ2FsbG91dFwiLCBcIm1zVG91Y2hDYWxsb3V0XCIsIFwib1RvdWNoQ2FsbG91dFwiLFxyXG4vLyBcdFx0XCJjb250ZW50Wm9vbWluZ1wiLCBcIndlYmtpdENvbnRlbnRab29taW5nXCIsIFwiTW96Q29udGVudFpvb21pbmdcIiwgXCJNU0NvbnRlbnRab29taW5nXCIsIFwibXNDb250ZW50Wm9vbWluZ1wiLCBcIm9Db250ZW50Wm9vbWluZ1wiLFxyXG4vLyBcdFx0XCJ1c2VyRHJhZ1wiLCBcIndlYmtpdFVzZXJEcmFnXCIsIFwiTW96VXNlckRyYWdcIiwgXCJNU1VzZXJEcmFnXCIsIFwibXNVc2VyRHJhZ1wiLCBcIm9Vc2VyRHJhZ1wiXHJcbi8vIFx0XTtcclxuLy8gXHRmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbi8vIFx0XHRpZiAocHJvcHNbaV0gaW4gZG9tLnN0eWxlKSB7XHJcbi8vIFx0XHRcdHNldFN0eWxlKGRvbSwgcHJvcHNbaV0sIFwibm9uZVwiKTtcclxuLy8gXHRcdH1cclxuLy8gXHR9XHJcbi8vIFx0Ly8gUmVtb3ZlIGlPUy1zcGVjaWZpYyBzZWxlY3Rpb247XHJcbi8vIFx0c2V0U3R5bGUoZG9tLCBcInRhcEhpZ2hsaWdodENvbG9yXCIsIFwicmdiYSgwLCAwLCAwLCAwKVwiKTtcclxuLy8gfVxyXG4vLyAvKipcclxuLy8gICogUmVzdG9yZXMgcmVwbGFjZWQgc3R5bGVzXHJcbi8vICAqXHJcbi8vICAqIEBpZ25vcmVcclxuLy8gICogQHBhcmFtICBpbyAgRWxlbWVudFxyXG4vLyAgKi9cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIHVucHJlcEVsZW1lbnRGb3JEcmFnKGRvbTogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuLy8gXHQvLyBEZWZpbmUgcG9zc2libGUgcHJvcHNcclxuLy8gXHRsZXQgcHJvcHMgPSBbXHJcbi8vIFx0XHRcInRvdWNoQWN0aW9uXCIsIFwid2Via2l0VG91Y2hBY3Rpb25cIiwgXCJNb3pUb3VjaEFjdGlvblwiLCBcIk1TVG91Y2hBY3Rpb25cIiwgXCJtc1RvdWNoQWN0aW9uXCIsIFwib1RvdWNoQWN0aW9uXCIsXHJcbi8vIFx0XHRcInVzZXJTZWxlY3RcIiwgXCJ3ZWJraXRVc2VyU2VsZWN0XCIsIFwiTW96VXNlclNlbGVjdFwiLCBcIk1TVXNlclNlbGVjdFwiLCBcIm1zVXNlclNlbGVjdFwiLCBcIm9Vc2VyU2VsZWN0XCIsXHJcbi8vIFx0XHRcInRvdWNoU2VsZWN0XCIsIFwid2Via2l0VG91Y2hTZWxlY3RcIiwgXCJNb3pUb3VjaFNlbGVjdFwiLCBcIk1TVG91Y2hTZWxlY3RcIiwgXCJtc1RvdWNoU2VsZWN0XCIsIFwib1RvdWNoU2VsZWN0XCIsXHJcbi8vIFx0XHRcInRvdWNoQ2FsbG91dFwiLCBcIndlYmtpdFRvdWNoQ2FsbG91dFwiLCBcIk1velRvdWNoQ2FsbG91dFwiLCBcIk1TVG91Y2hDYWxsb3V0XCIsIFwibXNUb3VjaENhbGxvdXRcIiwgXCJvVG91Y2hDYWxsb3V0XCIsXHJcbi8vIFx0XHRcImNvbnRlbnRab29taW5nXCIsIFwid2Via2l0Q29udGVudFpvb21pbmdcIiwgXCJNb3pDb250ZW50Wm9vbWluZ1wiLCBcIk1TQ29udGVudFpvb21pbmdcIiwgXCJtc0NvbnRlbnRab29taW5nXCIsIFwib0NvbnRlbnRab29taW5nXCIsXHJcbi8vIFx0XHRcInVzZXJEcmFnXCIsIFwid2Via2l0VXNlckRyYWdcIiwgXCJNb3pVc2VyRHJhZ1wiLCBcIk1TVXNlckRyYWdcIiwgXCJtc1VzZXJEcmFnXCIsIFwib1VzZXJEcmFnXCJcclxuLy8gXHRdO1xyXG4vLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuLy8gXHRcdGlmIChwcm9wc1tpXSBpbiBkb20uc3R5bGUpIHtcclxuLy8gXHRcdFx0c2V0U3R5bGUoZG9tLCBwcm9wc1tpXSwgXCJcIik7XHJcbi8vIFx0XHR9XHJcbi8vIFx0fVxyXG4vLyBcdC8vIFJlbW92ZSBpT1Mtc3BlY2lmaWMgc2VsZWN0aW9uO1xyXG4vLyBcdHNldFN0eWxlKGRvbSwgXCJ0YXBIaWdobGlnaHRDb2xvclwiLCBcIlwiKTtcclxuLy8gfVxyXG5leHBvcnQgZnVuY3Rpb24gaU9TKCkge1xyXG4gICAgcmV0dXJuIC9hcHBsZS9pLnRlc3QobmF2aWdhdG9yLnZlbmRvcikgJiYgXCJvbnRvdWNoZW5kXCIgaW4gZG9jdW1lbnQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhZmVSZXNvbHV0aW9uKCkge1xyXG4gICAgcmV0dXJuIGlPUygpID8gMSA6IHVuZGVmaW5lZDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmVUb1ZhbHVlKHBlcmNlbnQsIGZ1bGwpIHtcclxuICAgIGlmICgkdHlwZS5pc051bWJlcihwZXJjZW50KSkge1xyXG4gICAgICAgIHJldHVybiBwZXJjZW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGVyY2VudCAhPSBudWxsICYmICR0eXBlLmlzTnVtYmVyKHBlcmNlbnQudmFsdWUpICYmICR0eXBlLmlzTnVtYmVyKGZ1bGwpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGwgKiBwZXJjZW50LnZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgbnVtYmVyIG9mIGRlY2ltYWxzXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIG51bWJlciAgSW5wdXQgbnVtYmVyXHJcbiAqIEByZXR1cm4gTnVtYmVyIG9mIGRlY2ltYWxzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVjaW1hbFBsYWNlcyhudW1iZXIpIHtcclxuICAgIGxldCBtYXRjaCA9ICgnJyArIG51bWJlcikubWF0Y2goLyg/OlxcLihcXGQrKSk/KD86W2VFXShbKy1dP1xcZCspKT8kLyk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgKG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCkgLSAobWF0Y2hbMl0gPyArbWF0Y2hbMl0gOiAwKSk7XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogU1RSSU5HIEZPUk1BVFRJTkcgRlVOQ1RJT05TXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqIFBhZHMgYSBzdHJpbmcgd2l0aCBhZGRpdGlvbmFsIGNoYXJhY3RlcnMgdG8gY2VydGFpbiBsZW5ndGguXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgQSBudW1lcmljIHZhbHVlXHJcbiAqIEBwYXJhbSBsZW4gICAgUmVzdWx0IHN0cmluZyBsZW5ndGggaW4gY2hhcmFjdGVyc1xyXG4gKiBAcGFyYW0gY2hhciAgIEEgY2hhcmFjdGVyIHRvIHVzZSBmb3IgcGFkZGluZ1xyXG4gKiBAcmV0dXJuIFBhZGRlZCB2YWx1ZSBhcyBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYWRTdHJpbmcodmFsdWUsIGxlbiA9IDAsIGNoYXIgPSBcIjBcIikge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZW4gPiB2YWx1ZS5sZW5ndGggPyBBcnJheShsZW4gLSB2YWx1ZS5sZW5ndGggKyAxKS5qb2luKGNoYXIpICsgdmFsdWUgOiB2YWx1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdHJpbUxlZnQodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXltcXHNdKi8sIFwiXCIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cmltUmlnaHQodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvW1xcc10qJC8sIFwiXCIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cmltKHRleHQpIHtcclxuICAgIHJldHVybiB0cmltTGVmdCh0cmltUmlnaHQodGV4dCkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cnVuY2F0ZVRleHRXaXRoRWxsaXBzaXModGV4dCwgbWF4TGVuZ3RoLCBicmVha1dvcmRzID0gZmFsc2UsIGVsbGlwc2lzID0gXCIuLi5cIikge1xyXG4gICAgaWYgKHRleHQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgbGFzdCBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlciBiZWZvcmUgbWF4TGVuZ3RoXHJcbiAgICAgICAgbGV0IGxhc3ROb25BbHBoYW51bWVyaWNJbmRleCA9IG1heExlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKGxhc3ROb25BbHBoYW51bWVyaWNJbmRleCA+PSAwICYmIHRleHQuY2hhckF0KGxhc3ROb25BbHBoYW51bWVyaWNJbmRleCkubWF0Y2goL1xcdy8pKSB7XHJcbiAgICAgICAgICAgIGxhc3ROb25BbHBoYW51bWVyaWNJbmRleC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdE5vbkFscGhhbnVtZXJpY0luZGV4ID49IDAgJiYgYnJlYWtXb3JkcyA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgbGFzdE5vbkFscGhhbnVtZXJpY0luZGV4ICsgMSkgKyAnLi4uJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVyIGZvdW5kLCB0cnVuY2F0ZSB3aXRob3V0IGJyZWFraW5nIHdvcmRzXHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGgpICsgZWxsaXBzaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRyaWVzIHRvIGRldGVybWluZSBmb3JtYXQgdHlwZS5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gZm9ybWF0ICBGb3JtYXQgc3RyaW5nXHJcbiAqIEByZXR1cm4gRm9ybWF0IHR5cGUgKFwic3RyaW5nXCIgfCBcIm51bWJlclwiIHwgXCJkYXRlXCIgfCBcImR1cmF0aW9uXCIpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9ybWF0KGZvcm1hdCkge1xyXG4gICAgLy8gVW5kZWZpbmVkP1xyXG4gICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcclxuICAgIH1cclxuICAgIC8vIENsZWFudXAgYW5kIGxvd2VyY2FzZSBmb3JtYXRcclxuICAgIGZvcm1hdCA9IGZvcm1hdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15cXFtbXlxcXV0qXFxdLywgXCJcIik7XHJcbiAgICAvLyBSZW1vdmUgc3R5bGUgdGFnc1xyXG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoL1xcW1teXFxdXStcXF0vLCBcIlwiKTtcclxuICAgIC8vIFRyaW1cclxuICAgIGZvcm1hdCA9IGZvcm1hdC50cmltKCk7XHJcbiAgICAvLyBDaGVjayBmb3IgYW55IGV4cGxpY2l0IGZvcm1hdCBoaW50cyAoaS5lLiAvRGF0ZSlcclxuICAgIGxldCBoaW50cyA9IGZvcm1hdC5tYXRjaCgvXFwvKGRhdGV8bnVtYmVyfGR1cmF0aW9uKSQvKTtcclxuICAgIGlmIChoaW50cykge1xyXG4gICAgICAgIHJldHVybiBoaW50c1sxXTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGZvciBleHBsaWNpdCBoaW50c1xyXG4gICAgaWYgKGZvcm1hdCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHJldHVybiBcIm51bWJlclwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlXCIpIHtcclxuICAgICAgICByZXR1cm4gXCJkYXRlXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZm9ybWF0ID09PSBcImR1cmF0aW9uXCIpIHtcclxuICAgICAgICByZXR1cm4gXCJkdXJhdGlvblwiO1xyXG4gICAgfVxyXG4gICAgLy8gRGV0ZWN0IG51bWJlciBmb3JtYXR0aW5nIHN5bWJvbHNcclxuICAgIGlmIChmb3JtYXQubWF0Y2goL1sjMF0vKSkge1xyXG4gICAgICAgIHJldHVybiBcIm51bWJlclwiO1xyXG4gICAgfVxyXG4gICAgLy8gRGV0ZWN0IGRhdGUgZm9ybWF0dGluZyBzeW1ib2xzXHJcbiAgICBpZiAoZm9ybWF0Lm1hdGNoKC9beW13ZGhuc3FheGt6Z3RlaV0vKSkge1xyXG4gICAgICAgIHJldHVybiBcImRhdGVcIjtcclxuICAgIH1cclxuICAgIC8vIE5vdGhpbmc/IExldCdzIGRpc3BsYXkgYXMgc3RyaW5nXHJcbiAgICByZXR1cm4gXCJzdHJpbmdcIjtcclxufVxyXG4vKipcclxuICogQ2xlYW5zIHVwIGZvcm1hdDpcclxuICogKiBTdHJpcHMgb3V0IGZvcm1hdHRlciBoaW50c1xyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEBwYXJhbSBmb3JtYXQgIEZvcm1hdFxyXG4gKiBAcmV0dXJuIENsZWFuZWQgZm9ybWF0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5Gb3JtYXQoZm9ybWF0KSB7XHJcbiAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xcLyhkYXRlfG51bWJlcnxkdXJhdGlvbikkL2ksIFwiXCIpO1xyXG59XHJcbi8qKlxyXG4gKiBTdHJpcHMgYWxsIHRhZ3MgZnJvbSB0aGUgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAgU291cmNlIHN0cmluZ1xyXG4gKiBAcmV0dXJuIFN0cmluZyB3aXRob3V0IHRhZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFRhZ3ModGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQgPyB0ZXh0LnJlcGxhY2UoLzxbXj5dKj4vZywgXCJcIikgOiB0ZXh0O1xyXG59XHJcbi8qKlxyXG4gKiBSZW1vdmVzIG5ldyBsaW5lcyBhbmQgdGFncyBmcm9tIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAgU3RyaW5nIHRvIGNvbnZlclxyXG4gKiBAcmV0dXJuIENvbnZlcnRlZCBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGFpblRleHQodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQgPyBzdHJpcFRhZ3MoKFwiXCIgKyB0ZXh0KS5yZXBsYWNlKC9bXFxuXFxyXSsvZywgXCIuIFwiKSkgOiB0ZXh0O1xyXG59XHJcbi8qKlxyXG4gKiBFc2NhcGVzIHN0cmluZyBzbyBpdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gYSBSZWdleC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBVbnNlc2NhcGVkIHN0cmluZ1xyXG4gKiBAcmV0dXJuIEVzY2FwZWQgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRm9yUmdleCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgc3BhY2UgYmVmb3JlIGVhY2ggdXBwZXJjYXNlIGxldHRlci5cclxuICpcclxuICogQHBhcmFtICAgc3RyIElucHV0IHN0cmluZ1xyXG4gKiBAcmV0dXJuICAgICAgT3V0cHV0IHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNwYWNpbmcoc3RyKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hhciA9IHN0ci5jaGFyQXQoaSk7XHJcbiAgICAgICAgaWYgKGNoYXIudG9VcHBlckNhc2UoKSA9PSBjaGFyICYmIGkgIT0gMCkge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gXCIgXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdCArPSBjaGFyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vKipcclxuICogU3BsaXRzIHRoZSBzdHJpbmcgaW50byBzZXBhcmF0ZSBjaGFyYWN0ZXJzLiBLZWVwcyBSVEwgd29yZHMgbm9uLXNwbGl0LlxyXG4gKlxyXG4gKiBAcGFyYW0gICBzb3VyY2UgIElucHV0XHJcbiAqIEByZXR1cm4gICAgICAgICAgU3BsaXQgdGV4dFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0U3RyaW5nKHNvdXJjZSkge1xyXG4gICAgLy8gUmVndWxhciBleHByZXNzaW9uIHRvIGlkZW50aWZ5IFJUTCBjaGFyYWN0ZXJzXHJcbiAgICBjb25zdCBydGxDaGFyID0gL1tcXHUwNTkwLVxcdTA1RkZcXHUwNjAwLVxcdTA2RkZcXHUwNzUwLVxcdTA3N0ZcXHUwOEEwLVxcdTA4RkZcXHVGQjUwLVxcdUZERkZcXHVGRTcwLVxcdUZFRkZdLztcclxuICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBjYXB0dXJlIHNlZ21lbnRzIGVuZGluZyB3aXRoIHNwZWNpZmljIEFyYWJpYyBjaGFyYWN0ZXJzXHJcbiAgICBjb25zdCBzcGxpdFBhdHRlcm4gPSAvKFte2KfYo9iv2LDYsdiy2YhdKlvYp9ij2K/YsNix2LLZiF0pL2dpO1xyXG4gICAgLy8gU3BsaXQgaW5wdXQgc3RyaW5nIGludG8gYXJyYXkgb2Ygd29yZHMgb3IgY2hhcmFjdGVycywgaW5jbHVkaW5nIHdoaXRlc3BhY2VcclxuICAgIGxldCBzZWdtZW50cyA9IHNvdXJjZS5zcGxpdCgvKFxccyspLyk7IC8vIFNwbGl0IGJ5IHdoaXRlc3BhY2UsIGNhcHR1cmluZyBpdFxyXG4gICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcclxuICAgICAgICBpZiAoc2VnbWVudC5tYXRjaCgvXlxccyskLykpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHNlZ21lbnQgaXMgcHVyZWx5IHdoaXRlc3BhY2VcclxuICAgICAgICAgICAgaWYgKHNlZ21lbnQgPSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgc2VnbWVudCA9IFwiICBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocnRsQ2hhci50ZXN0KHNlZ21lbnQpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZWdtZW50IGNvbnRhaW5zIFJUTCBjaGFyYWN0ZXJzLCBoYW5kbGUgc3BlY2lhbCBzcGxpdHNcclxuICAgICAgICAgICAgbGV0IHBhcnRzID0gc2VnbWVudC5zcGxpdChzcGxpdFBhdHRlcm4pLmZpbHRlcihwYXJ0ID0+IHBhcnQgIT09ICcnKTtcclxuICAgICAgICAgICAgLy8gQ29uY2F0ZW5hdGUgcGFydHMgcHJvY2Vzc2VkIGJ5IHRoZSBzcGxpdCBwYXR0ZXJuIGRpcmVjdGx5IHRvIHJlc3VsdFxyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhcnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRyZWF0IHRoaXMgc2VnbWVudCBhcyBMVFI6IHNwbGl0IGludG8gY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFsuLi5zZWdtZW50XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIERBVEUtUkVMQVRFRCBGVU5DVElPTlNcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHllYXIgZGF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgRGF0ZVxyXG4gKiBAcGFyYW0gdXRjICAgQXNzdW1lIFVUQyBkYXRlcz9cclxuICogQHJldHVybiBZZWFyIGRheVxyXG4gKiBAdG9kbyBBY2NvdW50IGZvciBVVENcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRZZWFyRGF5KGRhdGUsIHV0YyA9IGZhbHNlKSB7XHJcbiAgICAvLyBUT0RPOiB1dGMgbmVlZGVkP1xyXG4gICAgdXRjO1xyXG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDApO1xyXG4gICAgY29uc3QgZGlmZiA9IChkYXRlLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSkgKyAoKHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCkgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAgKiAxMDAwKTtcclxuICAgIGNvbnN0IG9uZURheSA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gb25lRGF5KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3ZWVrIG51bWJlciBmb3IgYSBnaXZlbiBkYXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgRGF0ZVxyXG4gKiBAcGFyYW0gdXRjICAgQXNzdW1lIFVUQyBkYXRlcz9cclxuICogQHJldHVybiBXZWVrIG51bWJlclxyXG4gKiBAdG9kbyBBY2NvdW50IGZvciBVVENcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrKGRhdGUsIF91dGMgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKERhdGUuVVRDKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSkpO1xyXG4gICAgY29uc3QgZGF5ID0gZC5nZXRVVENEYXkoKSB8fCA3O1xyXG4gICAgZC5zZXRVVENEYXRlKGQuZ2V0VVRDRGF0ZSgpICsgNCAtIGRheSk7XHJcbiAgICBjb25zdCBmaXJzdERheSA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwgMCwgMSkpO1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCgoKChkLmdldFRpbWUoKSAtIGZpcnN0RGF5LmdldFRpbWUoKSkgLyA4NjQwMDAwMCkgKyAxKSAvIDcpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgXCJ3ZWVrIHllYXJcIiBvZiB0aGUgZ2l2ZW4gZGF0ZS5cclxuICpcclxuICogQHBhcmFtIGRhdGUgIERhdGVcclxuICogQHBhcmFtIHV0YyAgIEFzc3VtZSBVVEMgZGF0ZXM/XHJcbiAqIEByZXR1cm4gWWVhciBvZiB3ZWVrXHJcbiAqIEBzaW5jZSA1LjMuMFxyXG4gKiBAdG9kbyBBY2NvdW50IGZvciBVVENcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrWWVhcihkYXRlLCBfdXRjID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShEYXRlLlVUQyhkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpKTtcclxuICAgIGNvbnN0IGRheSA9IGQuZ2V0VVRDRGF5KCkgfHwgNztcclxuICAgIGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSArIDQgLSBkYXkpO1xyXG4gICAgY29uc3QgZmlyc3REYXkgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldFVUQ0Z1bGxZZWFyKCksIDAsIDEpKTtcclxuICAgIHJldHVybiBmaXJzdERheS5nZXRGdWxsWWVhcigpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgd2VlayBudW1iZXIgaW4gdGhlIG1vbnRoLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgU291cmNlIERhdGVcclxuICogQHBhcmFtIHV0YyAgIEFzc3VtZSBVVEMgZGF0ZXM/XHJcbiAqIEByZXR1cm4gV2VlayBudW1iZXIgaW4gbW9udGhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNb250aFdlZWsoZGF0ZSwgdXRjID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGZpcnN0V2VlayA9IGdldFdlZWsobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLCB1dGMpO1xyXG4gICAgbGV0IGN1cnJlbnRXZWVrID0gZ2V0V2VlayhkYXRlLCB1dGMpO1xyXG4gICAgaWYgKGN1cnJlbnRXZWVrID09IDEpIHtcclxuICAgICAgICBjdXJyZW50V2VlayA9IDUzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1cnJlbnRXZWVrIC0gZmlyc3RXZWVrICsgMTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHllYXIgZGF5IG91dCBvZiB0aGUgZ2l2ZW4gd2VlayBudW1iZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB3ZWVrICAgICBXZWVrXHJcbiAqIEBwYXJhbSB5ZWFyICAgICBZZWFyXHJcbiAqIEBwYXJhbSB3ZWVrZGF5ICBXZWVrZGF5XHJcbiAqIEBwYXJhbSB1dGMgICAgICBBc3N1bWUgVVRDIGRhdGVzXHJcbiAqIEByZXR1cm4gRGF5IGluIGEgeWVhclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERheUZyb21XZWVrKHdlZWssIHllYXIsIHdlZWtkYXkgPSAxLCB1dGMgPSBmYWxzZSkge1xyXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCAwLCA0LCAwLCAwLCAwLCAwKTtcclxuICAgIGlmICh1dGMpIHtcclxuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIpO1xyXG4gICAgfVxyXG4gICAgbGV0IGRheSA9IHdlZWsgKiA3ICsgd2Vla2RheSAtICgoZGF0ZS5nZXREYXkoKSB8fCA3KSArIDMpO1xyXG4gICAgcmV0dXJuIGRheTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyAxMi1ob3VyIHJlcHJlc2VudGF0aW9uIG91dCBvZiB0aGUgMjQtaG91ciBob3Vycy5cclxuICpcclxuICogQHBhcmFtIGhvdXJzICAyNC1ob3VyIG51bWJlclxyXG4gKiBAcmV0dXJuIDEyLWhvdXIgbnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0MTJIb3Vycyhob3VycywgYmFzZSkge1xyXG4gICAgaWYgKGhvdXJzID4gMTIpIHtcclxuICAgICAgICBob3VycyAtPSAxMjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhvdXJzID09PSAwKSB7XHJcbiAgICAgICAgaG91cnMgPSAxMjtcclxuICAgIH1cclxuICAgIHJldHVybiBiYXNlICE9IG51bGwgPyBob3VycyArIChiYXNlIC0gMSkgOiBob3VycztcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyBuYW1lIG9mIHRoZSB0aW1lIHpvbmUuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgICBEYXRlIG9iamVjdFxyXG4gKiBAcGFyYW0gbG9uZyAgICAgU2hvdWxkIHJldHVybiBsb25nIChcIlBhY2lmaWMgU3RhbmRhcmQgVGltZVwiKSBvciBzaG9ydCBhYmJyZXZpYXRpb24gKFwiUFNUXCIpXHJcbiAqIEBwYXJhbSBzYXZpbmdzICBJbmNsdWRlIGluZm9ybWF0aW9uIGlmIGl0J3MgaW4gZGF5bGlnaHQgc2F2aW5ncyBtb2RlXHJcbiAqIEBwYXJhbSB1dGMgICAgICBBc3N1bWUgVVRDIGRhdGVzXHJcbiAqIEByZXR1cm4gVGltZSB6b25lIG5hbWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lWm9uZShkYXRlLCBsb25nID0gZmFsc2UsIHNhdmluZ3MgPSBmYWxzZSwgdXRjID0gZmFsc2UsIHRpbWV6b25lKSB7XHJcbiAgICBpZiAodXRjKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvbmcgPyBcIkNvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lXCIgOiBcIlVUQ1wiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGltZXpvbmUpIHtcclxuICAgICAgICBjb25zdCBkMSA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiLCB7IHRpbWVab25lOiB0aW1lem9uZSB9KTtcclxuICAgICAgICBjb25zdCBkMiA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiLCB7IHRpbWVab25lOiB0aW1lem9uZSwgdGltZVpvbmVOYW1lOiBsb25nID8gXCJsb25nXCIgOiBcInNob3J0XCIgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRyaW0oZDIuc3Vic3RyKGQxLmxlbmd0aCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IHdvdHogPSBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiVVRDXCIpO1xyXG4gICAgbGV0IHd0eiA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJVVENcIiwgeyB0aW1lWm9uZU5hbWU6IGxvbmcgPyBcImxvbmdcIiA6IFwic2hvcnRcIiB9KS5zdWJzdHIod290ei5sZW5ndGgpO1xyXG4gICAgLy93dHogPSB3dHoucmVwbGFjZSgvWystXStbMC05XSskLywgXCJcIik7XHJcbiAgICBpZiAoc2F2aW5ncyA9PT0gZmFsc2UpIHtcclxuICAgICAgICB3dHogPSB3dHoucmVwbGFjZSgvIChzdGFuZGFyZHxkYXlsaWdodHxzdW1tZXJ8d2ludGVyKSAvaSwgXCIgXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRyaW0od3R6KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZXpvbmVPZmZzZXQodGltZXpvbmUpIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQygyMDEyLCAwLCAxLCAwLCAwLCAwLCAwKSk7XHJcbiAgICBjb25zdCB1dGNEYXRlID0gbmV3IERhdGUoZGF0ZS50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHsgdGltZVpvbmU6IFwiVVRDXCIgfSkpO1xyXG4gICAgY29uc3QgdHpEYXRlID0gbmV3IERhdGUoZGF0ZS50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHsgdGltZVpvbmU6IHRpbWV6b25lIH0pKTtcclxuICAgIHJldHVybiAodHpEYXRlLmdldFRpbWUoKSAtIHV0Y0RhdGUuZ2V0VGltZSgpKSAvIDZlNCAqIC0xO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3QodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnNsaWNlKDEpO1xyXG59XHJcbi8qKlxyXG4gKiBUaGUgZnVuY3Rpb25zIGJlbG93IGFyZSB0YWtlbiBhbmQgYWRhcHRlZCBmcm9tIEdhcnJ5IFRhbidzIGJsb2cgcG9zdDpcclxuICogaHR0cDovL2F4b25mbHV4LmNvbS9oYW5keS1yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNcclxuICpcclxuICogVGhlIGZ1cnRoZXIgYXR0cmlidXRpb25zIGdvIG1qaWphY2tzb24uY29tLCB3aGljaCBub3cgc2VlbXMgdG8gYmUgZGVmdW5jdC5cclxuICovXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLiBDb252ZXJzaW9uIGZvcm11bGFcclxuICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxyXG4gKiBBc3N1bWVzIGgsIHMsIGFuZCBsIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMV0gYW5kXHJcbiAqIHJldHVybnMgciwgZywgYW5kIGIgaW4gdGhlIHNldCBbMCwgMjU1XS5cclxuICpcclxuICogRnVuY3Rpb24gYWRhcHRlZCBmcm9tOlxyXG4gKiBodHRwOi8vYXhvbmZsdXguY29tL2hhbmR5LXJnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY1xyXG4gKlxyXG4gKiBAcGFyYW0gaCAgICAgICBUaGUgaHVlXHJcbiAqIEBwYXJhbSBzICAgICAgIFRoZSBzYXR1cmF0aW9uXHJcbiAqIEBwYXJhbSBsICAgICAgIFRoZSBsaWdodG5lc3NcclxuICogQHJldHVybiBUaGUgUkdCIHJlcHJlc2VudGF0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaHNsVG9SZ2IoY29sb3IpIHtcclxuICAgIGxldCByLCBnLCBiO1xyXG4gICAgbGV0IGggPSBjb2xvci5oO1xyXG4gICAgbGV0IHMgPSBjb2xvci5zO1xyXG4gICAgbGV0IGwgPSBjb2xvci5sO1xyXG4gICAgaWYgKHMgPT0gMCkge1xyXG4gICAgICAgIHIgPSBnID0gYiA9IGw7IC8vIGFjaHJvbWF0aWNcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBodWUycmdiID0gZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XHJcbiAgICAgICAgICAgIGlmICh0IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdCAtPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0IDwgMSAvIDYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0IDwgMSAvIDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0IDwgMiAvIDMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcclxuICAgICAgICBsZXQgcCA9IDIgKiBsIC0gcTtcclxuICAgICAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xyXG4gICAgICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xyXG4gICAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHI6IE1hdGgucm91bmQociAqIDI1NSksXHJcbiAgICAgICAgZzogTWF0aC5yb3VuZChnICogMjU1KSxcclxuICAgICAgICBiOiBNYXRoLnJvdW5kKGIgKiAyNTUpXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNMLiBDb252ZXJzaW9uIGZvcm11bGFcclxuICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxyXG4gKiBBc3N1bWVzIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBhbmRcclxuICogcmV0dXJucyBoLCBzLCBhbmQgbCBpbiB0aGUgc2V0IFswLCAxXS5cclxuICpcclxuICogRnVuY3Rpb24gYWRhcHRlZCBmcm9tOlxyXG4gKiBodHRwOi8vYXhvbmZsdXguY29tL2hhbmR5LXJnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY1xyXG4gKlxyXG4gKiBAcGFyYW0gciAgICAgICBUaGUgcmVkIGNvbG9yIHZhbHVlXHJcbiAqIEBwYXJhbSBnICAgICAgIFRoZSBncmVlbiBjb2xvciB2YWx1ZVxyXG4gKiBAcGFyYW0gYiAgICAgICBUaGUgYmx1ZSBjb2xvciB2YWx1ZVxyXG4gKiBAcmV0dXJuIFRoZSBIU0wgcmVwcmVzZW50YXRpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hzbChjb2xvcikge1xyXG4gICAgbGV0IHIgPSBjb2xvci5yIC8gMjU1O1xyXG4gICAgbGV0IGcgPSBjb2xvci5nIC8gMjU1O1xyXG4gICAgbGV0IGIgPSBjb2xvci5iIC8gMjU1O1xyXG4gICAgbGV0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xyXG4gICAgbGV0IG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xyXG4gICAgbGV0IGggPSAwO1xyXG4gICAgbGV0IHMgPSAwO1xyXG4gICAgbGV0IGwgPSAobWF4ICsgbWluKSAvIDI7XHJcbiAgICBpZiAobWF4ID09PSBtaW4pIHtcclxuICAgICAgICBoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBkID0gbWF4IC0gbWluO1xyXG4gICAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcclxuICAgICAgICBzd2l0Y2ggKG1heCkge1xyXG4gICAgICAgICAgICBjYXNlIHI6XHJcbiAgICAgICAgICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBnOlxyXG4gICAgICAgICAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGI6XHJcbiAgICAgICAgICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGggLz0gNjtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaDogaCxcclxuICAgICAgICBzOiBzLFxyXG4gICAgICAgIGw6IGwsXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBIU1YgdG8gSFNMLlxyXG4gKlxyXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfYW5kX0hTViNIU1ZfdG9fSFNMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaHN2VG9Ic2woaHN2KSB7XHJcbiAgICBjb25zdCBsID0gaHN2LnYgKiAoMSAtIChoc3YucyAvIDIpKTtcclxuICAgIGNvbnN0IHMgPSAobCA9PT0gMCB8fCBsID09PSAxXHJcbiAgICAgICAgPyAwXHJcbiAgICAgICAgOiAoaHN2LnYgLSBsKSAvIE1hdGgubWluKGwsIDEgLSBsKSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGg6IGhzdi5oLFxyXG4gICAgICAgIHMsXHJcbiAgICAgICAgbCxcclxuICAgICAgICBhOiBoc3YuYSxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIEhTTCB0byBIU1YuXHJcbiAqXHJcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWI0hTTF90b19IU1ZcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoc2xUb0hzdihoc2wpIHtcclxuICAgIGNvbnN0IHYgPSBoc2wubCArIChoc2wucyAqIE1hdGgubWluKGhzbC5sLCAxIC0gaHNsLmwpKTtcclxuICAgIGNvbnN0IHMgPSAodiA9PT0gMFxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogMiAqICgxIC0gKGhzbC5sIC8gdikpKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaDogaHNsLmgsXHJcbiAgICAgICAgcyxcclxuICAgICAgICB2LFxyXG4gICAgICAgIGE6IGhzbC5hLFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIGNvbG9yIHRoYXQgaXMgYHBlcmNlbnRgIGJyaWdodGVyIHRoYW4gdGhlIHJlZmVyZW5jZSBjb2xvci5cclxuICpcclxuICogQHBhcmFtIGNvbG9yICAgIFJlZmVyZW5jZSBjb2xvclxyXG4gKiBAcGFyYW0gcGVyY2VudCAgQnJpZ2h0bmVzcyBwZXJjZW50XHJcbiAqIEByZXR1cm4gSGV4IGNvZGUgb2YgdGhlIG5ldyBjb2xvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGxpZ2h0ZW4ocmdiLCBwZXJjZW50KSB7XHJcbiAgICBpZiAocmdiKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcjogTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCByZ2IuciArIGdldExpZ2h0bmVzc1N0ZXAocmdiLnIsIHBlcmNlbnQpKSksXHJcbiAgICAgICAgICAgIGc6IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcmdiLmcgKyBnZXRMaWdodG5lc3NTdGVwKHJnYi5nLCBwZXJjZW50KSkpLFxyXG4gICAgICAgICAgICBiOiBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHJnYi5iICsgZ2V0TGlnaHRuZXNzU3RlcChyZ2IuYiwgcGVyY2VudCkpKSxcclxuICAgICAgICAgICAgYTogcmdiLmFcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGNvcnJlY3QgP1xyXG4gICAgICAgIHJldHVybiByZ2I7XHJcbiAgICB9XHJcbn1cclxuO1xyXG4vKipcclxuICogR2V0cyBsaWdodG5lc3Mgc3RlcC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICAgIFZhbHVlXHJcbiAqIEBwYXJhbSBwZXJjZW50ICBQZXJjZW50XHJcbiAqIEByZXR1cm4gU3RlcFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZ2h0bmVzc1N0ZXAodmFsdWUsIHBlcmNlbnQpIHtcclxuICAgIGxldCBiYXNlID0gcGVyY2VudCA+IDAgPyAyNTUgLSB2YWx1ZSA6IHZhbHVlO1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoYmFzZSAqIHBlcmNlbnQpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgY29sb3IgdGhhdCBpcyBgcGVyY2VudGAgYnJpZ2h0ZXIgdGhhbiB0aGUgc291cmNlIGBjb2xvcmAuXHJcbiAqXHJcbiAqIEBwYXJhbSBjb2xvciAgICBTb3VyY2UgY29sb3JcclxuICogQHBhcmFtIHBlcmNlbnQgIEJyaWdodG5lc3MgcGVyY2VudFxyXG4gKiBAcmV0dXJuIE5ldyBjb2xvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJyaWdodGVuKHJnYiwgcGVyY2VudCkge1xyXG4gICAgaWYgKHJnYikge1xyXG4gICAgICAgIGxldCBiYXNlID0gTWF0aC5taW4oTWF0aC5tYXgocmdiLnIsIHJnYi5nLCByZ2IuYiksIDIzMCk7XHJcbiAgICAgICAgLy9sZXQgYmFzZSA9IE1hdGgubWF4KHJnYi5yLCByZ2IuZywgcmdiLmIpO1xyXG4gICAgICAgIGxldCBzdGVwID0gZ2V0TGlnaHRuZXNzU3RlcChiYXNlLCBwZXJjZW50KTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByOiBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQocmdiLnIgKyBzdGVwKSkpLFxyXG4gICAgICAgICAgICBnOiBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQocmdiLmcgKyBzdGVwKSkpLFxyXG4gICAgICAgICAgICBiOiBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQocmdiLmIgKyBzdGVwKSkpLFxyXG4gICAgICAgICAgICBhOiByZ2IuYVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBUT0RPIGlzIHRoaXMgY29ycmVjdCA/XHJcbiAgICAgICAgcmV0dXJuIHJnYjtcclxuICAgIH1cclxufVxyXG47XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGJyaWdodG5lc3Mgc3RlcC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gdmFsdWUgICAgVmFsdWVcclxuICogQHBhcmFtIHBlcmNlbnQgIFBlcmNlbnRcclxuICogQHJldHVybiBTdGVwXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJpZ2h0bmVzc1N0ZXAoX3ZhbHVlLCBwZXJjZW50KSB7XHJcbiAgICBsZXQgYmFzZSA9IDI1NTsgLy9wZXJjZW50ID4gMCA/IDI1NSAtIHZhbHVlIDogdmFsdWU7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChiYXNlICogcGVyY2VudCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYHRydWVgIGlmIGNvbG9yIGlzIFwibGlnaHRcIi4gVXNlZnVsIGluZGV0ZXJtaW5pbmcgd2hpY2ggY29udHJhc3RpbmdcclxuICogY29sb3IgdG8gdXNlIGZvciBlbGVtZW50cyBvdmVyIHRoaXMgY29sb3IuIEUuZy46IHlvdSB3b3VsZCB3YW50IHRvIHVzZVxyXG4gKiBibGFjayB0ZXh0IG92ZXIgbGlnaHQgYmFja2dyb3VuZCwgYW5kIHZpY2UgdmVyc2EuXHJcbiAqXHJcbiAqIEBwYXJhbSBjb2xvciAgU291cmNlIGNvbG9yXHJcbiAqIEByZXR1cm4gTGlnaHQ/XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNMaWdodChjb2xvcikge1xyXG4gICAgcmV0dXJuICgoY29sb3IuciAqIDI5OSkgKyAoY29sb3IuZyAqIDU4NykgKyAoY29sb3IuYiAqIDExNCkpIC8gMTAwMCA+PSAxMjg7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBuZXcgW1tpUkdCXV0gb2JqZWN0IGJhc2VkIG9uIGByZ2JgIHBhcmFtZXRlciB3aXRoIHNwZWNpZmljXHJcbiAqIHNhdHVyYXRpb24gYXBwbGllZC5cclxuICpcclxuICogYHNhdHVyYXRpb25gIGNhbiBiZSBpbiB0aGUgcmFuZ2Ugb2YgMCAoZnVsbHkgZGVzYXR1cmF0ZWQpIHRvIDEgKGZ1bGx5XHJcbiAqIHNhdHVyYXRlZCkuXHJcbiAqXHJcbiAqIEBwYXJhbSBjb2xvciAgICAgICBCYXNlIGNvbG9yXHJcbiAqIEBwYXJhbSBzYXR1cmF0aW9uICBTYXR1cmF0aW9uICgwLTEpXHJcbiAqIEByZXR1cm4gTmV3IGNvbG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2F0dXJhdGUocmdiLCBzYXR1cmF0aW9uKSB7XHJcbiAgICBpZiAocmdiID09PSB1bmRlZmluZWQgfHwgc2F0dXJhdGlvbiA9PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHJnYjtcclxuICAgIH1cclxuICAgIGxldCBoc2wgPSByZ2JUb0hzbChyZ2IpO1xyXG4gICAgaHNsLnMgPSBzYXR1cmF0aW9uO1xyXG4gICAgcmV0dXJuIGhzbFRvUmdiKGhzbCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBjb2xvciB3aGljaCBjb250cmFzdHMgbW9yZSB3aXRoIHRoZSBzb3VyY2UgYGNvbG9yYC5cclxuICpcclxuICogQHBhcmFtICBjb2xvciAgICAgICAgICAgICBCYXNlIGNvbG9yXHJcbiAqIEBwYXJhbSAgbGlnaHRBbHRlcm5hdGl2ZSAgTGlnaHQgb3B0aW9uXHJcbiAqIEBwYXJhbSAgZGFya0FsdGVybmF0aXZlICAgRGFyayBvcHRpb25cclxuICogQHJldHVybiBOZXcgY29sb3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhbHRlcm5hdGl2ZUNvbG9yKGNvbG9yLCBsaWdodEFsdGVybmF0aXZlID0geyByOiAyNTUsIGc6IDI1NSwgYjogMjU1IH0sIGRhcmtBbHRlcm5hdGl2ZSA9IHsgcjogMjU1LCBnOiAyNTUsIGI6IDI1NSB9KSB7XHJcbiAgICBsZXQgbGlnaHQgPSBsaWdodEFsdGVybmF0aXZlO1xyXG4gICAgbGV0IGRhcmsgPSBkYXJrQWx0ZXJuYXRpdmU7XHJcbiAgICBpZiAoaXNMaWdodChkYXJrQWx0ZXJuYXRpdmUpKSB7XHJcbiAgICAgICAgbGlnaHQgPSBkYXJrQWx0ZXJuYXRpdmU7XHJcbiAgICAgICAgZGFyayA9IGxpZ2h0QWx0ZXJuYXRpdmU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNMaWdodChjb2xvcikgPyBkYXJrIDogbGlnaHQ7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVRhZ3ModGFnczEsIHRhZ3MyKSB7XHJcbiAgICBpZiAoIXRhZ3MxKSB7XHJcbiAgICAgICAgdGFnczEgPSBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiBbLi4udGFnczEsIC4uLnRhZ3MyXS5maWx0ZXIoKHZhbHVlLCBpbmRleCwgc2VsZikgPT4ge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2FtZUJvdW5kcyhhLCBiKSB7XHJcbiAgICBpZiAoIWIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoYS5sZWZ0ICE9IGIubGVmdCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChhLnJpZ2h0ICE9IGIucmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoYS50b3AgIT0gYi50b3ApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoYS5ib3R0b20gIT0gYi5ib3R0b20pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1VdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimatedTheme: () => (/* binding */ AnimatedTheme)\n/* harmony export */ });\n/* harmony import */ var _core_Theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Theme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\");\n\r\n/**\r\n * @ignore\r\n */\r\nclass AnimatedTheme extends _core_Theme__WEBPACK_IMPORTED_MODULE_0__.Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        this.rule(\"Component\").setAll({\r\n            interpolationDuration: 600\r\n        });\r\n        this.rule(\"Hierarchy\").set(\"animationDuration\", 600);\r\n        this.rule(\"Scrollbar\").set(\"animationDuration\", 600);\r\n        this.rule(\"Tooltip\").set(\"animationDuration\", 300);\r\n        this.rule(\"MapChart\").set(\"animationDuration\", 1000);\r\n        this.rule(\"MapChart\").set(\"wheelDuration\", 300);\r\n        this.rule(\"Entity\").setAll({\r\n            stateAnimationDuration: 600\r\n        });\r\n        this.rule(\"Sprite\").states.create(\"default\", { stateAnimationDuration: 600 });\r\n        this.rule(\"Tooltip\", [\"axis\"]).setAll({\r\n            animationDuration: 200\r\n        });\r\n        this.rule(\"WordCloud\").set(\"animationDuration\", 500);\r\n        this.rule(\"Polygon\").set(\"animationDuration\", 600);\r\n        this.rule(\"ArcDiagram\").set(\"animationDuration\", 600);\r\n    }\r\n}\r\n//# sourceMappingURL=AnimatedTheme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvdGhlbWVzL0FuaW1hdGVkVGhlbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLDhDQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVEQUF1RCw2QkFBNkI7QUFDcEY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL3RoZW1lcy9BbmltYXRlZFRoZW1lLmpzPzhhNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGhlbWUgfSBmcm9tIFwiLi4vY29yZS9UaGVtZVwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGVkVGhlbWUgZXh0ZW5kcyBUaGVtZSB7XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHtcclxuICAgICAgICBzdXBlci5zZXR1cERlZmF1bHRSdWxlcygpO1xyXG4gICAgICAgIHRoaXMucnVsZShcIkNvbXBvbmVudFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uRHVyYXRpb246IDYwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucnVsZShcIkhpZXJhcmNoeVwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCA2MDApO1xyXG4gICAgICAgIHRoaXMucnVsZShcIlNjcm9sbGJhclwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCA2MDApO1xyXG4gICAgICAgIHRoaXMucnVsZShcIlRvb2x0aXBcIikuc2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgMzAwKTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJNYXBDaGFydFwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCAxMDAwKTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJNYXBDaGFydFwiKS5zZXQoXCJ3aGVlbER1cmF0aW9uXCIsIDMwMCk7XHJcbiAgICAgICAgdGhpcy5ydWxlKFwiRW50aXR5XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDYwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucnVsZShcIlNwcml0ZVwiKS5zdGF0ZXMuY3JlYXRlKFwiZGVmYXVsdFwiLCB7IHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDYwMCB9KTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJUb29sdGlwXCIsIFtcImF4aXNcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAyMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJXb3JkQ2xvdWRcIikuc2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgNTAwKTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJQb2x5Z29uXCIpLnNldChcImFuaW1hdGlvbkR1cmF0aW9uXCIsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5ydWxlKFwiQXJjRGlhZ3JhbVwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCA2MDApO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGVkVGhlbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultTheme: () => (/* binding */ DefaultTheme),\n/* harmony export */   setColor: () => (/* binding */ setColor)\n/* harmony export */ });\n/* harmony import */ var _core_Theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Theme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_render_GridLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/render/GridLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\");\n/* harmony import */ var _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/util/Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction setColor(rule, key, ic, name) {\r\n    // TODO this shouldn't use get, figure out a better way\r\n    rule.set(key, ic.get(name));\r\n    ic.on(name, (value) => {\r\n        rule.set(key, value);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DefaultTheme extends _core_Theme__WEBPACK_IMPORTED_MODULE_0__.Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const language = this._root.language;\r\n        const ic = this._root.interfaceColors;\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        const verticalLayout = this._root.verticalLayout;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * core\r\n         * ========================================================================\r\n         */\r\n        r(\"InterfaceColors\").setAll({\r\n            stroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xe5e5e5),\r\n            fill: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xf3f3f3),\r\n            primaryButton: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x6794dc),\r\n            primaryButtonHover: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x6771dc),\r\n            primaryButtonDown: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x68dc76),\r\n            primaryButtonActive: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x68dc76),\r\n            primaryButtonDisabled: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xdadada),\r\n            primaryButtonTextDisabled: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            primaryButtonText: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            primaryButtonStroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            secondaryButton: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xd9d9d9),\r\n            secondaryButtonHover: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xa3a3a3),\r\n            secondaryButtonDown: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x8d8d8d),\r\n            secondaryButtonActive: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xe6e6e6),\r\n            secondaryButtonText: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            secondaryButtonStroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            grid: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            background: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            alternativeBackground: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            text: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            alternativeText: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            disabled: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xadadad),\r\n            positive: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x50b300),\r\n            negative: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xb30000)\r\n        });\r\n        {\r\n            const rule = r(\"ColorSet\");\r\n            rule.setAll({\r\n                passOptions: {\r\n                    hue: 0.05,\r\n                    saturation: 0,\r\n                    lightness: 0\r\n                },\r\n                colors: [\r\n                    _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x67b7dc)\r\n                ],\r\n                step: 1,\r\n                //baseColor: Color.fromRGB(103, 183, 220),\r\n                //count: 20,\r\n                reuse: false,\r\n                startIndex: 0\r\n            });\r\n            rule.setPrivate(\"currentStep\", 0);\r\n            rule.setPrivate(\"currentPass\", 0);\r\n        }\r\n        r(\"Entity\").setAll({\r\n            stateAnimationDuration: 0,\r\n            stateAnimationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic)\r\n        });\r\n        r(\"Component\").setAll({\r\n            interpolationDuration: 0,\r\n            interpolationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic)\r\n        });\r\n        r(\"Sprite\").setAll({\r\n            visible: true,\r\n            scale: 1,\r\n            opacity: 1,\r\n            rotation: 0,\r\n            position: \"relative\",\r\n            tooltipX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            tooltipY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            tooltipPosition: \"fixed\",\r\n            isMeasured: true\r\n        });\r\n        r(\"Sprite\").states.create(\"default\", { \"visible\": true, opacity: 1 });\r\n        r(\"Container\").setAll({\r\n            interactiveChildren: true,\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"Graphics\").setAll({\r\n            strokeWidth: 1\r\n        });\r\n        r(\"Chart\").setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            interactiveChildren: false\r\n        });\r\n        r(\"ZoomableContainer\").setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            wheelable: true,\r\n            pinchZoom: true,\r\n            maxZoomLevel: 32,\r\n            minZoomLevel: 1,\r\n            zoomStep: 2,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic),\r\n            animationDuration: 600\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: alignment\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Sprite\", [\"horizontal\", \"center\"]).setAll({\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50\r\n        });\r\n        r(\"Sprite\", [\"vertical\", \"center\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50\r\n        });\r\n        r(\"Container\", [\"horizontal\", \"layout\"]).setAll({\r\n            layout: horizontalLayout\r\n        });\r\n        r(\"Container\", [\"vertical\", \"layout\"]).setAll({\r\n            layout: verticalLayout\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: patterns\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Pattern\").setAll({\r\n            repetition: \"repeat\",\r\n            width: 50,\r\n            height: 50,\r\n            rotation: 0,\r\n            fillOpacity: 1\r\n        });\r\n        r(\"LinePattern\").setAll({\r\n            gap: 6,\r\n            colorOpacity: 1,\r\n            width: 49,\r\n            height: 49\r\n        });\r\n        r(\"RectanglePattern\").setAll({\r\n            gap: 6,\r\n            checkered: false,\r\n            centered: true,\r\n            maxWidth: 5,\r\n            maxHeight: 5,\r\n            width: 48,\r\n            height: 48,\r\n            strokeWidth: 0\r\n        });\r\n        r(\"CirclePattern\").setAll({\r\n            gap: 5,\r\n            checkered: false,\r\n            centered: false,\r\n            radius: 3,\r\n            strokeWidth: 0,\r\n            width: 45,\r\n            height: 45\r\n        });\r\n        r(\"GrainPattern\").setAll({\r\n            width: 200,\r\n            height: 200,\r\n            colors: [_core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000)],\r\n            size: 1,\r\n            horizontalGap: 0,\r\n            verticalGap: 0,\r\n            density: 1,\r\n            minOpacity: 0,\r\n            maxOpacity: 0.2\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: gradients\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"LinearGradient\").setAll({\r\n            rotation: 90\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Legend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Legend\").setAll({\r\n            fillField: \"fill\",\r\n            strokeField: \"stroke\",\r\n            nameField: \"name\",\r\n            layout: _core_render_GridLayout__WEBPACK_IMPORTED_MODULE_4__.GridLayout.new(this._root, {}),\r\n            layer: 30,\r\n            clickTarget: \"itemContainer\"\r\n        });\r\n        // Class: Container\r\n        r(\"Container\", [\"legend\", \"item\", \"itemcontainer\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingBottom: 5,\r\n            paddingTop: 5,\r\n            layout: horizontalLayout,\r\n            setStateOnChildren: true,\r\n            interactiveChildren: false,\r\n            ariaChecked: true,\r\n            focusable: true,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            role: \"checkbox\"\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"legend\", \"item\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        r(\"Container\", [\"legend\", \"marker\"]).setAll({\r\n            setStateOnChildren: true,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            paddingLeft: 0,\r\n            paddingRight: 0,\r\n            paddingBottom: 0,\r\n            paddingTop: 0,\r\n            width: 18,\r\n            height: 18\r\n        });\r\n        r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            cornerRadiusBL: 3,\r\n            cornerRadiusTL: 3,\r\n            cornerRadiusBR: 3,\r\n            cornerRadiusTR: 3\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"label\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"value\", \"label\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            width: 50,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"value\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: HeatLegend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"HeatLegend\").setAll({\r\n            stepCount: 1\r\n        });\r\n        r(\"RoundedRectangle\", [\"heatlegend\", \"marker\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"vertical\", \"heatlegend\", \"marker\"]).setAll({\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            width: 15\r\n        });\r\n        r(\"RoundedRectangle\", [\"horizontal\", \"heatlegend\", \"marker\"]).setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: 15\r\n        });\r\n        r(\"HeatLegend\", [\"vertical\"]).setAll({\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        r(\"HeatLegend\", [\"horizontal\"]).setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"start\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"end\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Labels\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        {\r\n            const rule = r(\"Label\");\r\n            rule.setAll({\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\r\n                fontSize: \"1em\",\r\n                populateText: false\r\n            });\r\n            setColor(rule, \"fill\", ic, \"text\");\r\n        }\r\n        r(\"RadialLabel\").setAll({\r\n            textType: \"regular\",\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            inside: false,\r\n            radius: 0,\r\n            baseRadius: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            orientation: \"auto\",\r\n            textAlign: \"center\"\r\n        });\r\n        r(\"EditableLabel\").setAll({\r\n            editOn: \"click\",\r\n            //setStateOnChildren: true,\r\n            themeTags: [\"editablelabel\"],\r\n            multiLine: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"editablelabel\", \"background\"]).setAll({\r\n            fillOpacity: 0,\r\n            fill: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            cornerRadiusBL: 3,\r\n            cornerRadiusBR: 3,\r\n            cornerRadiusTL: 3,\r\n            cornerRadiusTR: 3,\r\n            strokeOpacity: 0,\r\n            stroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000)\r\n        });\r\n        {\r\n            r(\"RoundedRectangle\", [\"editablelabel\", \"background\"]).states.create(\"active\", {\r\n                strokeOpacity: 0.2,\r\n            });\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Elements and shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"RoundedRectangle\").setAll({\r\n            cornerRadiusTL: 8,\r\n            cornerRadiusBL: 8,\r\n            cornerRadiusTR: 8,\r\n            cornerRadiusBR: 8\r\n        });\r\n        r(\"PointedRectangle\").setAll({\r\n            pointerBaseWidth: 15,\r\n            pointerLength: 10,\r\n            cornerRadius: 8\r\n        });\r\n        r(\"Slice\").setAll({\r\n            shiftRadius: 0,\r\n            dRadius: 0,\r\n            dInnerRadius: 0\r\n        });\r\n        {\r\n            const rule = r(\"Tick\");\r\n            rule.setAll({\r\n                strokeOpacity: .15,\r\n                isMeasured: false,\r\n                length: 4.5,\r\n                position: \"absolute\",\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Bullet\").setAll({\r\n            locationX: 0.5,\r\n            locationY: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Tooltip\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Tooltip\").setAll({\r\n            position: \"absolute\",\r\n            getFillFromSprite: true,\r\n            getStrokeFromSprite: false,\r\n            autoTextColor: true,\r\n            paddingTop: 9,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            marginBottom: 5,\r\n            pointerOrientation: \"vertical\",\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic),\r\n            exportable: false\r\n            //layer: 100\r\n        });\r\n        r(\"Polygon\").setAll({\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic),\r\n        });\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.9,\r\n                cornerRadius: 4,\r\n                pointerLength: 4,\r\n                pointerBaseWidth: 8,\r\n                fillOpacity: 0.9,\r\n                stroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff)\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"tooltip\"]);\r\n            rule.setAll({\r\n                role: \"tooltip\",\r\n                populateText: true,\r\n                paddingRight: 0,\r\n                paddingTop: 0,\r\n                paddingLeft: 0,\r\n                paddingBottom: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Button\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\").setAll({\r\n            paddingTop: 8,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            interactive: true,\r\n            layout: horizontalLayout,\r\n            interactiveChildren: false,\r\n            setStateOnChildren: true,\r\n            focusable: true\r\n        });\r\n        r(\"Button\").states.create(\"hover\", {});\r\n        r(\"Button\").states.create(\"down\", { stateAnimationDuration: 0 });\r\n        r(\"Button\").states.create(\"active\", {});\r\n        r(\"Button\").states.create(\"disabled\", {\r\n            forceInactive: true\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"active\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonActive\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDisabled\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"button\", \"icon\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonTextDisabled\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"button\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonTextDisabled\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"button\", \"icon\"]);\r\n            rule.setAll({\r\n                forceInactive: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"button\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: ZoomOutButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"zoom\"]).setAll({\r\n            paddingTop: 18,\r\n            paddingBottom: 18,\r\n            paddingLeft: 12,\r\n            paddingRight: 12,\r\n            centerX: 46,\r\n            centerY: -10,\r\n            y: 0,\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            role: \"button\",\r\n            ariaLabel: language.translate(\"Zoom Out\"),\r\n            layer: 30\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"icon\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0.7,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(12, 0);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: ResizeButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"resize\"]).setAll({\r\n            paddingTop: 9,\r\n            paddingBottom: 9,\r\n            paddingLeft: 13,\r\n            paddingRight: 13,\r\n            draggable: true,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            position: \"absolute\",\r\n            role: \"slider\",\r\n            ariaValueMin: \"0\",\r\n            ariaValueMax: \"100\",\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"resize\", \"button\", \"icon\"]);\r\n            rule.setAll({\r\n                interactive: false,\r\n                crisp: true,\r\n                strokeOpacity: 0.5,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0.5);\r\n                    display.lineTo(0, 12.5);\r\n                    display.moveTo(4, 0.5);\r\n                    display.lineTo(4, 12.5);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n        }\r\n        r(\"Button\", [\"resize\", \"vertical\"]).setAll({\r\n            rotation: 90,\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        r(\"Button\", [\"resize\", \"horizontal\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: PlayButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"play\"]).setAll({\r\n            paddingTop: 13,\r\n            paddingBottom: 13,\r\n            paddingLeft: 14,\r\n            paddingRight: 14,\r\n            ariaLabel: language.translate(\"Play\"),\r\n            toggleKey: \"active\"\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"play\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"play\", \"icon\"]);\r\n            rule.setAll({\r\n                stateAnimationDuration: 0,\r\n                dx: 1,\r\n                draw: (display) => {\r\n                    display.moveTo(0, -5);\r\n                    display.lineTo(8, 0);\r\n                    display.lineTo(0, 5);\r\n                    display.lineTo(0, -5);\r\n                }\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"default\", {\r\n            stateAnimationDuration: 0\r\n        });\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"active\", {\r\n            stateAnimationDuration: 0,\r\n            draw: (display) => {\r\n                display.moveTo(-4, -5);\r\n                display.lineTo(-1, -5);\r\n                display.lineTo(-1, 5);\r\n                display.lineTo(-4, 5);\r\n                display.lineTo(-4, -5);\r\n                display.moveTo(4, -5);\r\n                display.lineTo(1, -5);\r\n                display.lineTo(1, 5);\r\n                display.lineTo(4, 5);\r\n                display.lineTo(4, -5);\r\n            }\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: SwitchButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"switch\"]).setAll({\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            paddingLeft: 4,\r\n            paddingRight: 4,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            toggleKey: \"active\",\r\n            width: 40,\r\n            height: 24,\r\n            layout: null\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"switch\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Circle\", [\"switch\", \"icon\"]);\r\n            rule.setAll({\r\n                radius: 8,\r\n                centerY: 0,\r\n                centerX: 0,\r\n                dx: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"switch\", \"icon\"]).states.create(\"active\", {\r\n            dx: 16\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Scrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Scrollbar\").setAll({\r\n            start: 0,\r\n            end: 1,\r\n            layer: 30,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic)\r\n        });\r\n        r(\"Scrollbar\", [\"vertical\"]).setAll({\r\n            marginRight: 13,\r\n            marginLeft: 13,\r\n            minWidth: 12,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        r(\"Scrollbar\", [\"horizontal\"]).setAll({\r\n            marginTop: 13,\r\n            marginBottom: 13,\r\n            minHeight: 12,\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        this.rule(\"Button\", [\"scrollbar\"]).setAll({\r\n            exportable: false\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"main\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadiusTL: 8,\r\n                cornerRadiusBL: 8,\r\n                cornerRadiusTR: 8,\r\n                cornerRadiusBR: 8,\r\n                fillOpacity: 0.8,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"fill\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]);\r\n            rule.setAll({\r\n                role: \"slider\",\r\n                ariaLive: \"polite\",\r\n                position: \"absolute\",\r\n                draggable: true\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"vertical\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"horizontal\"]).setAll({\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n        });\r\n        // @todo: is this needed? used to be \"ContentScrollbar\"\r\n        // r(\"Scrollbar\", [\"content?\"]).setAll({\r\n        // \tmarginRight: 0,\r\n        // \tmarginLeft: 5,\r\n        // \tlayer: 5\r\n        // });\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         *\r\n         * This needs to be in DefaultTheme because it's the only theme that is\r\n         * automatically applied to Root, and tooltips different ancestors\r\n         * than actual charts using them.\r\n         */\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"axis\", \"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadius: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Label\", [\"axis\", \"tooltip\"]).setAll({\r\n            role: undefined\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\"]).setAll({\r\n            textAlign: \"right\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\", \"opposite\"]).setAll({\r\n            textAlign: \"left\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"x\"]).setAll({\r\n            textAlign: \"center\"\r\n        });\r\n        r(\"Tooltip\", [\"categoryaxis\"]).setAll({\r\n            labelText: \"{category}\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * Shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        // Class: Graphics\r\n        r(\"Star\").setAll({\r\n            spikes: 5,\r\n            innerRadius: 5,\r\n            radius: 10\r\n        });\r\n        // STOCK\r\n        r(\"Tooltip\", [\"stock\"]).setAll({\r\n            paddingTop: 6,\r\n            paddingBottom: 5,\r\n            paddingLeft: 7,\r\n            paddingRight: 7\r\n        });\r\n        r(\"PointedRectangle\", [\"tooltip\", \"stock\", \"axis\"]).setAll({\r\n            pointerLength: 0,\r\n            pointerBaseWidth: 0,\r\n            cornerRadius: 3\r\n        });\r\n        r(\"Label\", [\"tooltip\", \"stock\"]).setAll({\r\n            fontSize: \"0.8em\"\r\n        });\r\n        // resizer\r\n        r(\"SpriteResizer\").setAll({\r\n            rotationStep: 10,\r\n            isMeasured: false\r\n        });\r\n        {\r\n            const rule = r(\"Container\", [\"resizer\", \"grip\"]);\r\n            rule.states.create(\"hover\", {});\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.7,\r\n                strokeWidth: 1,\r\n                fillOpacity: 1,\r\n                width: 12,\r\n                height: 12\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"outline\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0,\r\n                fillOpacity: 0,\r\n                width: 20,\r\n                height: 20\r\n            });\r\n            rule.states.create(\"hover\", {\r\n                fillOpacity: 0.3\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"left\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"right\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"resizer\", \"rectangle\"]);\r\n            rule.setAll({\r\n                strokeDasharray: [2, 2],\r\n                strokeOpacity: 0.5,\r\n                strokeWidth: 1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Graphics\", [\"button\", \"plus\", \"icon\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            draw: (display) => {\r\n                display.moveTo(-4, 0);\r\n                display.lineTo(4, 0);\r\n                display.moveTo(0, -4);\r\n                display.lineTo(0, 4);\r\n            }\r\n        });\r\n        r(\"Graphics\", [\"button\", \"minus\", \"icon\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            draw: (display) => {\r\n                display.moveTo(-4, 0);\r\n                display.lineTo(4, 0);\r\n            }\r\n        });\r\n        r(\"Graphics\", [\"button\", \"home\", \"icon\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            svgPath: \"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1\"\r\n        });\r\n        r(\"Button\", [\"zoomtools\"]).setAll({\r\n            marginTop: 1,\r\n            marginBottom: 2\r\n        });\r\n        r(\"ZoomTools\").setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            paddingRight: 10,\r\n            paddingBottom: 10\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultTheme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvdGhlbWVzL0RlZmF1bHRUaGVtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXNDO0FBQ1c7QUFDTjtBQUNZO0FBQ1o7QUFDM0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQiw4Q0FBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBSztBQUN6QixrQkFBa0IsbURBQUs7QUFDdkIsMkJBQTJCLG1EQUFLO0FBQ2hDLGdDQUFnQyxtREFBSztBQUNyQywrQkFBK0IsbURBQUs7QUFDcEMsaUNBQWlDLG1EQUFLO0FBQ3RDLG1DQUFtQyxtREFBSztBQUN4Qyx1Q0FBdUMsbURBQUs7QUFDNUMsK0JBQStCLG1EQUFLO0FBQ3BDLGlDQUFpQyxtREFBSztBQUN0Qyw2QkFBNkIsbURBQUs7QUFDbEMsa0NBQWtDLG1EQUFLO0FBQ3ZDLGlDQUFpQyxtREFBSztBQUN0QyxtQ0FBbUMsbURBQUs7QUFDeEMsaUNBQWlDLG1EQUFLO0FBQ3RDLG1DQUFtQyxtREFBSztBQUN4QyxrQkFBa0IsbURBQUs7QUFDdkIsd0JBQXdCLG1EQUFLO0FBQzdCLG1DQUFtQyxtREFBSztBQUN4QyxrQkFBa0IsbURBQUs7QUFDdkIsNkJBQTZCLG1EQUFLO0FBQ2xDLHNCQUFzQixtREFBSztBQUMzQixzQkFBc0IsbURBQUs7QUFDM0Isc0JBQXNCLG1EQUFLO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLG9CQUFvQixtREFBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnREFBUyxDQUFDLGtEQUFXO0FBQ3ZELFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUNBQWlDLGdEQUFTLENBQUMsa0RBQVc7QUFDdEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtREFBRztBQUN6QixzQkFBc0IsbURBQUc7QUFDekI7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCLG9CQUFvQixvREFBSTtBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnREFBUyxDQUFDLGtEQUFXO0FBQ2xEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBRztBQUN4QixlQUFlLG1EQUFHO0FBQ2xCLFNBQVM7QUFDVDtBQUNBLHFCQUFxQixtREFBRztBQUN4QixlQUFlLG1EQUFHO0FBQ2xCLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBSztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtEQUFVLG1CQUFtQjtBQUNqRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw4R0FBOEc7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQUc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQUk7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw4RkFBOEY7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxtQkFBbUIsb0RBQUk7QUFDdkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0Isb0RBQUk7QUFDeEIsU0FBUztBQUNUO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0Esd0JBQXdCLG9EQUFJO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLG1EQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbURBQUs7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBRztBQUN4QixxQkFBcUIsbURBQUc7QUFDeEIsNkJBQTZCLGdEQUFTLENBQUMsa0RBQVc7QUFDbEQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QixnREFBUyxDQUFDLGtEQUFXO0FBQ2xELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFLO0FBQzdCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZDQUE2QztBQUM3Qyw0Q0FBNEMsMkJBQTJCO0FBQ3ZFLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRztBQUNsRztBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsMkJBQTJCO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQSxxR0FBcUc7QUFDckc7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9EQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwwR0FBMEc7QUFDMUc7QUFDQTtBQUNBO0FBQ0EseUdBQXlHLDJCQUEyQjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRywyQkFBMkI7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFTLENBQUMsa0RBQVc7QUFDbEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9EQUFJO0FBQ3hCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLDJCQUEyQjtBQUMxSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1EQUFHO0FBQ2xCLG1CQUFtQixvREFBSTtBQUN2QixxQkFBcUIsbURBQUc7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxlQUFlLG1EQUFHO0FBQ2xCLHFCQUFxQixtREFBRztBQUN4QixvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlCQUF5QixTQUFTO0FBQ2xDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQUc7QUFDbEIsZUFBZSxtREFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxlQUFlLG1EQUFHO0FBQ2xCLGVBQWUsbURBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxlQUFlLG1EQUFHO0FBQ2xCLGVBQWUsbURBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsZUFBZSxvREFBSTtBQUNuQixxQkFBcUIsb0RBQUk7QUFDekIsZUFBZSxvREFBSTtBQUNuQixxQkFBcUIsb0RBQUk7QUFDekI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZGllLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL3RoZW1lcy9EZWZhdWx0VGhlbWUuanM/MjRjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaGVtZSB9IGZyb20gXCIuLi9jb3JlL1RoZW1lXCI7XHJcbmltcG9ydCB7IHAxMDAsIHA1MCB9IGZyb20gXCIuLi9jb3JlL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi9jb3JlL3V0aWwvQ29sb3JcIjtcclxuaW1wb3J0IHsgR3JpZExheW91dCB9IGZyb20gXCIuLi9jb3JlL3JlbmRlci9HcmlkTGF5b3V0XCI7XHJcbmltcG9ydCAqIGFzICRlYXNlIGZyb20gXCIuLi9jb3JlL3V0aWwvRWFzZVwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENvbG9yKHJ1bGUsIGtleSwgaWMsIG5hbWUpIHtcclxuICAgIC8vIFRPRE8gdGhpcyBzaG91bGRuJ3QgdXNlIGdldCwgZmlndXJlIG91dCBhIGJldHRlciB3YXlcclxuICAgIHJ1bGUuc2V0KGtleSwgaWMuZ2V0KG5hbWUpKTtcclxuICAgIGljLm9uKG5hbWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHJ1bGUuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGhlbWUgZXh0ZW5kcyBUaGVtZSB7XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHtcclxuICAgICAgICBzdXBlci5zZXR1cERlZmF1bHRSdWxlcygpO1xyXG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gdGhpcy5fcm9vdC5sYW5ndWFnZTtcclxuICAgICAgICBjb25zdCBpYyA9IHRoaXMuX3Jvb3QuaW50ZXJmYWNlQ29sb3JzO1xyXG4gICAgICAgIGNvbnN0IGhvcml6b250YWxMYXlvdXQgPSB0aGlzLl9yb290Lmhvcml6b250YWxMYXlvdXQ7XHJcbiAgICAgICAgY29uc3QgdmVydGljYWxMYXlvdXQgPSB0aGlzLl9yb290LnZlcnRpY2FsTGF5b3V0O1xyXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJ1bGUuYmluZCh0aGlzKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgKiBjb3JlXHJcbiAgICAgICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkludGVyZmFjZUNvbG9yc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzdHJva2U6IENvbG9yLmZyb21IZXgoMHhlNWU1ZTUpLFxyXG4gICAgICAgICAgICBmaWxsOiBDb2xvci5mcm9tSGV4KDB4ZjNmM2YzKSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvbjogQ29sb3IuZnJvbUhleCgweDY3OTRkYyksXHJcbiAgICAgICAgICAgIHByaW1hcnlCdXR0b25Ib3ZlcjogQ29sb3IuZnJvbUhleCgweDY3NzFkYyksXHJcbiAgICAgICAgICAgIHByaW1hcnlCdXR0b25Eb3duOiBDb2xvci5mcm9tSGV4KDB4NjhkYzc2KSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvbkFjdGl2ZTogQ29sb3IuZnJvbUhleCgweDY4ZGM3NiksXHJcbiAgICAgICAgICAgIHByaW1hcnlCdXR0b25EaXNhYmxlZDogQ29sb3IuZnJvbUhleCgweGRhZGFkYSksXHJcbiAgICAgICAgICAgIHByaW1hcnlCdXR0b25UZXh0RGlzYWJsZWQ6IENvbG9yLmZyb21IZXgoMHhmZmZmZmYpLFxyXG4gICAgICAgICAgICBwcmltYXJ5QnV0dG9uVGV4dDogQ29sb3IuZnJvbUhleCgweGZmZmZmZiksXHJcbiAgICAgICAgICAgIHByaW1hcnlCdXR0b25TdHJva2U6IENvbG9yLmZyb21IZXgoMHhmZmZmZmYpLFxyXG4gICAgICAgICAgICBzZWNvbmRhcnlCdXR0b246IENvbG9yLmZyb21IZXgoMHhkOWQ5ZDkpLFxyXG4gICAgICAgICAgICBzZWNvbmRhcnlCdXR0b25Ib3ZlcjogQ29sb3IuZnJvbUhleCgweGEzYTNhMyksXHJcbiAgICAgICAgICAgIHNlY29uZGFyeUJ1dHRvbkRvd246IENvbG9yLmZyb21IZXgoMHg4ZDhkOGQpLFxyXG4gICAgICAgICAgICBzZWNvbmRhcnlCdXR0b25BY3RpdmU6IENvbG9yLmZyb21IZXgoMHhlNmU2ZTYpLFxyXG4gICAgICAgICAgICBzZWNvbmRhcnlCdXR0b25UZXh0OiBDb2xvci5mcm9tSGV4KDB4MDAwMDAwKSxcclxuICAgICAgICAgICAgc2Vjb25kYXJ5QnV0dG9uU3Ryb2tlOiBDb2xvci5mcm9tSGV4KDB4ZmZmZmZmKSxcclxuICAgICAgICAgICAgZ3JpZDogQ29sb3IuZnJvbUhleCgweDAwMDAwMCksXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IENvbG9yLmZyb21IZXgoMHhmZmZmZmYpLFxyXG4gICAgICAgICAgICBhbHRlcm5hdGl2ZUJhY2tncm91bmQ6IENvbG9yLmZyb21IZXgoMHgwMDAwMDApLFxyXG4gICAgICAgICAgICB0ZXh0OiBDb2xvci5mcm9tSGV4KDB4MDAwMDAwKSxcclxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVUZXh0OiBDb2xvci5mcm9tSGV4KDB4ZmZmZmZmKSxcclxuICAgICAgICAgICAgZGlzYWJsZWQ6IENvbG9yLmZyb21IZXgoMHhhZGFkYWQpLFxyXG4gICAgICAgICAgICBwb3NpdGl2ZTogQ29sb3IuZnJvbUhleCgweDUwYjMwMCksXHJcbiAgICAgICAgICAgIG5lZ2F0aXZlOiBDb2xvci5mcm9tSGV4KDB4YjMwMDAwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJDb2xvclNldFwiKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgcGFzc09wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBodWU6IDAuMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgICAgICBsaWdodG5lc3M6IDBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb2xvcnM6IFtcclxuICAgICAgICAgICAgICAgICAgICBDb2xvci5mcm9tSGV4KDB4NjdiN2RjKVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDEsXHJcbiAgICAgICAgICAgICAgICAvL2Jhc2VDb2xvcjogQ29sb3IuZnJvbVJHQigxMDMsIDE4MywgMjIwKSxcclxuICAgICAgICAgICAgICAgIC8vY291bnQ6IDIwLFxyXG4gICAgICAgICAgICAgICAgcmV1c2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRJbmRleDogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcnVsZS5zZXRQcml2YXRlKFwiY3VycmVudFN0ZXBcIiwgMCk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0UHJpdmF0ZShcImN1cnJlbnRQYXNzXCIsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiRW50aXR5XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIHN0YXRlQW5pbWF0aW9uRWFzaW5nOiAkZWFzZS5vdXQoJGVhc2UuY3ViaWMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkNvbXBvbmVudFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uRHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIGludGVycG9sYXRpb25FYXNpbmc6ICRlYXNlLm91dCgkZWFzZS5jdWJpYylcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiU3ByaXRlXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICByb3RhdGlvbjogMCxcclxuICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgICAgICAgdG9vbHRpcFg6IHA1MCxcclxuICAgICAgICAgICAgdG9vbHRpcFk6IHA1MCxcclxuICAgICAgICAgICAgdG9vbHRpcFBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgIGlzTWVhc3VyZWQ6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiU3ByaXRlXCIpLnN0YXRlcy5jcmVhdGUoXCJkZWZhdWx0XCIsIHsgXCJ2aXNpYmxlXCI6IHRydWUsIG9wYWNpdHk6IDEgfSk7XHJcbiAgICAgICAgcihcIkNvbnRhaW5lclwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxyXG4gICAgICAgICAgICBzZXRTdGF0ZU9uQ2hpbGRyZW46IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkdyYXBoaWNzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkNoYXJ0XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiBwMTAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDAsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlpvb21hYmxlQ29udGFpbmVyXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiBwMTAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDAsXHJcbiAgICAgICAgICAgIHdoZWVsYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgcGluY2hab29tOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXhab29tTGV2ZWw6IDMyLFxyXG4gICAgICAgICAgICBtaW5ab29tTGV2ZWw6IDEsXHJcbiAgICAgICAgICAgIHpvb21TdGVwOiAyLFxyXG4gICAgICAgICAgICBhbmltYXRpb25FYXNpbmc6ICRlYXNlLm91dCgkZWFzZS5jdWJpYyksXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiA2MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBhbGlnbm1lbnRcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiU3ByaXRlXCIsIFtcImhvcml6b250YWxcIiwgXCJjZW50ZXJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclg6IHA1MCxcclxuICAgICAgICAgICAgeDogcDUwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlNwcml0ZVwiLCBbXCJ2ZXJ0aWNhbFwiLCBcImNlbnRlclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICB5OiBwNTBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQ29udGFpbmVyXCIsIFtcImhvcml6b250YWxcIiwgXCJsYXlvdXRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGxheW91dDogaG9yaXpvbnRhbExheW91dFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJDb250YWluZXJcIiwgW1widmVydGljYWxcIiwgXCJsYXlvdXRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGxheW91dDogdmVydGljYWxMYXlvdXRcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBwYXR0ZXJuc1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJQYXR0ZXJuXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHJlcGV0aXRpb246IFwicmVwZWF0XCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCxcclxuICAgICAgICAgICAgaGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkxpbmVQYXR0ZXJuXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGdhcDogNixcclxuICAgICAgICAgICAgY29sb3JPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICB3aWR0aDogNDksXHJcbiAgICAgICAgICAgIGhlaWdodDogNDlcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUmVjdGFuZ2xlUGF0dGVyblwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBnYXA6IDYsXHJcbiAgICAgICAgICAgIGNoZWNrZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGNlbnRlcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXhXaWR0aDogNSxcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiA1LFxyXG4gICAgICAgICAgICB3aWR0aDogNDgsXHJcbiAgICAgICAgICAgIGhlaWdodDogNDgsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkNpcmNsZVBhdHRlcm5cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgZ2FwOiA1LFxyXG4gICAgICAgICAgICBjaGVja2VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjZW50ZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJhZGl1czogMyxcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiA0NSxcclxuICAgICAgICAgICAgaGVpZ2h0OiA0NVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFpblBhdHRlcm5cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMDAsXHJcbiAgICAgICAgICAgIGNvbG9yczogW0NvbG9yLmZyb21IZXgoMHgwMDAwMDApXSxcclxuICAgICAgICAgICAgc2l6ZTogMSxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbEdhcDogMCxcclxuICAgICAgICAgICAgdmVydGljYWxHYXA6IDAsXHJcbiAgICAgICAgICAgIGRlbnNpdHk6IDEsXHJcbiAgICAgICAgICAgIG1pbk9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIG1heE9wYWNpdHk6IDAuMlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IGdyYWRpZW50c1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJMaW5lYXJHcmFkaWVudFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICByb3RhdGlvbjogOTBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBMZWdlbmRcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiTGVnZW5kXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGZpbGxGaWVsZDogXCJmaWxsXCIsXHJcbiAgICAgICAgICAgIHN0cm9rZUZpZWxkOiBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgICBuYW1lRmllbGQ6IFwibmFtZVwiLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IEdyaWRMYXlvdXQubmV3KHRoaXMuX3Jvb3QsIHt9KSxcclxuICAgICAgICAgICAgbGF5ZXI6IDMwLFxyXG4gICAgICAgICAgICBjbGlja1RhcmdldDogXCJpdGVtQ29udGFpbmVyXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDbGFzczogQ29udGFpbmVyXHJcbiAgICAgICAgcihcIkNvbnRhaW5lclwiLCBbXCJsZWdlbmRcIiwgXCJpdGVtXCIsIFwiaXRlbWNvbnRhaW5lclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNSxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogNSxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogNSxcclxuICAgICAgICAgICAgbGF5b3V0OiBob3Jpem9udGFsTGF5b3V0LFxyXG4gICAgICAgICAgICBzZXRTdGF0ZU9uQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBhcmlhQ2hlY2tlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZm9jdXNhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBhcmlhTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIlByZXNzIEVOVEVSIHRvIHRvZ2dsZVwiKSxcclxuICAgICAgICAgICAgcm9sZTogXCJjaGVja2JveFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJlY3RhbmdsZVwiLCBbXCJsZWdlbmRcIiwgXCJpdGVtXCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJDb250YWluZXJcIiwgW1wibGVnZW5kXCIsIFwibWFya2VyXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzZXRTdGF0ZU9uQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclk6IHA1MCxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMCxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcclxuICAgICAgICAgICAgd2lkdGg6IDE4LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDE4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wibGVnZW5kXCIsIFwibWFya2VyXCIsIFwicmVjdGFuZ2xlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB3aWR0aDogcDEwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBwMTAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogMyxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDMsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiAzLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogM1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImxlZ2VuZFwiLCBcIm1hcmtlclwiLCBcInJlY3RhbmdsZVwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIkxhYmVsXCIsIFtcImxlZ2VuZFwiLCBcImxhYmVsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXHJcbiAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJsZWdlbmRcIiwgXCJsYWJlbFwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wibGVnZW5kXCIsIFwidmFsdWVcIiwgXCJsYWJlbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAwLFxyXG4gICAgICAgICAgICB3aWR0aDogNTAsXHJcbiAgICAgICAgICAgIGNlbnRlclg6IHAxMDAsXHJcbiAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJsZWdlbmRcIiwgXCJ2YWx1ZVwiLCBcImxhYmVsXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IEhlYXRMZWdlbmRcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiSGVhdExlZ2VuZFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzdGVwQ291bnQ6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJoZWF0bGVnZW5kXCIsIFwibWFya2VyXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInZlcnRpY2FsXCIsIFwiaGVhdGxlZ2VuZFwiLCBcIm1hcmtlclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgaGVpZ2h0OiBwMTAwLFxyXG4gICAgICAgICAgICB3aWR0aDogMTVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJob3Jpem9udGFsXCIsIFwiaGVhdGxlZ2VuZFwiLCBcIm1hcmtlclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHAxMDAsXHJcbiAgICAgICAgICAgIGhlaWdodDogMTVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiSGVhdExlZ2VuZFwiLCBbXCJ2ZXJ0aWNhbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgaGVpZ2h0OiBwMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkhlYXRMZWdlbmRcIiwgW1wiaG9yaXpvbnRhbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wiaGVhdGxlZ2VuZFwiLCBcInN0YXJ0XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogNSxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA1XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkxhYmVsXCIsIFtcImhlYXRsZWdlbmRcIiwgXCJlbmRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDVcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBMYWJlbHNcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiTGFiZWxcIik7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDgsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA4LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDEwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxMCxcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiXCIsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJ0ZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiUmFkaWFsTGFiZWxcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgdGV4dFR5cGU6IFwicmVndWxhclwiLFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIGNlbnRlclg6IHA1MCxcclxuICAgICAgICAgICAgaW5zaWRlOiBmYWxzZSxcclxuICAgICAgICAgICAgcmFkaXVzOiAwLFxyXG4gICAgICAgICAgICBiYXNlUmFkaXVzOiBwMTAwLFxyXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJFZGl0YWJsZUxhYmVsXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGVkaXRPbjogXCJjbGlja1wiLFxyXG4gICAgICAgICAgICAvL3NldFN0YXRlT25DaGlsZHJlbjogdHJ1ZSxcclxuICAgICAgICAgICAgdGhlbWVUYWdzOiBbXCJlZGl0YWJsZWxhYmVsXCJdLFxyXG4gICAgICAgICAgICBtdWx0aUxpbmU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJlZGl0YWJsZWxhYmVsXCIsIFwiYmFja2dyb3VuZFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIGZpbGw6IENvbG9yLmZyb21IZXgoMHgwMDAwMDApLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogMyxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDMsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiAzLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogMyxcclxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgc3Ryb2tlOiBDb2xvci5mcm9tSGV4KDB4MDAwMDAwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiZWRpdGFibGVsYWJlbFwiLCBcImJhY2tncm91bmRcIl0pLnN0YXRlcy5jcmVhdGUoXCJhY3RpdmVcIiwge1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC4yLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogRWxlbWVudHMgYW5kIHNoYXBlc1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiA4LFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogOCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVFI6IDgsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiA4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlBvaW50ZWRSZWN0YW5nbGVcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgcG9pbnRlckJhc2VXaWR0aDogMTUsXHJcbiAgICAgICAgICAgIHBvaW50ZXJMZW5ndGg6IDEwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXM6IDhcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiU2xpY2VcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgc2hpZnRSYWRpdXM6IDAsXHJcbiAgICAgICAgICAgIGRSYWRpdXM6IDAsXHJcbiAgICAgICAgICAgIGRJbm5lclJhZGl1czogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJUaWNrXCIpO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAuMTUsXHJcbiAgICAgICAgICAgICAgICBpc01lYXN1cmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogNC41LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIGNyaXNwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJncmlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiQnVsbGV0XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uWDogMC41LFxyXG4gICAgICAgICAgICBsb2NhdGlvblk6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IFRvb2x0aXBcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiVG9vbHRpcFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICBnZXRGaWxsRnJvbVNwcml0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0U3Ryb2tlRnJvbVNwcml0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGF1dG9UZXh0Q29sb3I6IHRydWUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDksXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDgsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAxMCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxMCxcclxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiA1LFxyXG4gICAgICAgICAgICBwb2ludGVyT3JpZW50YXRpb246IFwidmVydGljYWxcIixcclxuICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJGVhc2Uub3V0KCRlYXNlLmN1YmljKSxcclxuICAgICAgICAgICAgZXhwb3J0YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgLy9sYXllcjogMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlBvbHlnb25cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uRWFzaW5nOiAkZWFzZS5vdXQoJGVhc2UuY3ViaWMpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJQb2ludGVkUmVjdGFuZ2xlXCIsIFtcInRvb2x0aXBcIiwgXCJiYWNrZ3JvdW5kXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC45LFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzOiA0LFxyXG4gICAgICAgICAgICAgICAgcG9pbnRlckxlbmd0aDogNCxcclxuICAgICAgICAgICAgICAgIHBvaW50ZXJCYXNlV2lkdGg6IDgsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC45LFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBDb2xvci5mcm9tSGV4KDB4ZmZmZmZmKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcInRvb2x0aXBcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInRvb2x0aXBcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJhbHRlcm5hdGl2ZVRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IEJ1dHRvblxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJCdXR0b25cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogOCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogOCxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDEwLFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDEwLFxyXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgbGF5b3V0OiBob3Jpem9udGFsTGF5b3V0LFxyXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc2V0U3RhdGVPbkNoaWxkcmVuOiB0cnVlLFxyXG4gICAgICAgICAgICBmb2N1c2FibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIpLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7fSk7XHJcbiAgICAgICAgcihcIkJ1dHRvblwiKS5zdGF0ZXMuY3JlYXRlKFwiZG93blwiLCB7IHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDAgfSk7XHJcbiAgICAgICAgcihcIkJ1dHRvblwiKS5zdGF0ZXMuY3JlYXRlKFwiYWN0aXZlXCIsIHt9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIpLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7XHJcbiAgICAgICAgICAgIGZvcmNlSW5hY3RpdmU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJidXR0b25cIiwgXCJiYWNrZ3JvdW5kXCJdKTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25cIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcInByaW1hcnlCdXR0b25TdHJva2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJ1dHRvblwiLCBcImJhY2tncm91bmRcIl0pLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7fSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uSG92ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJ1dHRvblwiLCBcImJhY2tncm91bmRcIl0pLnN0YXRlcy5jcmVhdGUoXCJkb3duXCIsIHsgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25Eb3duXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJidXR0b25cIiwgXCJiYWNrZ3JvdW5kXCJdKS5zdGF0ZXMuY3JlYXRlKFwiYWN0aXZlXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25BY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJ1dHRvblwiLCBcImJhY2tncm91bmRcIl0pLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uRGlzYWJsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmFwaGljc1wiLCBbXCJidXR0b25cIiwgXCJpY29uXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHREaXNhYmxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcImJ1dHRvblwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25UZXh0RGlzYWJsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmFwaGljc1wiLCBbXCJidXR0b25cIiwgXCJpY29uXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgZm9yY2VJbmFjdGl2ZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJidXR0b25cIl0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNoYXJ0cy94eTogWm9vbU91dEJ1dHRvblxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wiem9vbVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMTgsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDE4LFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMTIsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMTIsXHJcbiAgICAgICAgICAgIGNlbnRlclg6IDQ2LFxyXG4gICAgICAgICAgICBjZW50ZXJZOiAtMTAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIHg6IHAxMDAsXHJcbiAgICAgICAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiWm9vbSBPdXRcIiksXHJcbiAgICAgICAgICAgIGxheWVyOiAzMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJhY2tncm91bmRcIiwgXCJidXR0b25cIiwgXCJ6b29tXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDQwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDQwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDQwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzVFI6IDQwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYmFja2dyb3VuZFwiLCBcImJ1dHRvblwiLCBcInpvb21cIl0pLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7fSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uSG92ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJhY2tncm91bmRcIiwgXCJidXR0b25cIiwgXCJ6b29tXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZG93blwiLCB7IHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uRG93blwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkdyYXBoaWNzXCIsIFtcImljb25cIiwgXCJidXR0b25cIiwgXCJ6b29tXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgY3Jpc3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDEyLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcInByaW1hcnlCdXR0b25UZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBSZXNpemVCdXR0b25cclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInJlc2l6ZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogOSxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogOSxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDEzLFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDEzLFxyXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclg6IHA1MCxcclxuICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICByb2xlOiBcInNsaWRlclwiLFxyXG4gICAgICAgICAgICBhcmlhVmFsdWVNaW46IFwiMFwiLFxyXG4gICAgICAgICAgICBhcmlhVmFsdWVNYXg6IFwiMTAwXCIsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiVXNlIHVwIGFuZCBkb3duIGFycm93cyB0byBtb3ZlIHNlbGVjdGlvblwiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJhY2tncm91bmRcIiwgXCJyZXNpemVcIiwgXCJidXR0b25cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogNDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogNDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogNDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogNDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJzZWNvbmRhcnlCdXR0b25cIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcInNlY29uZGFyeUJ1dHRvblN0cm9rZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYmFja2dyb3VuZFwiLCBcInJlc2l6ZVwiLCBcImJ1dHRvblwiXSkuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInNlY29uZGFyeUJ1dHRvbkhvdmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJiYWNrZ3JvdW5kXCIsIFwicmVzaXplXCIsIFwiYnV0dG9uXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZG93blwiLCB7IHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJzZWNvbmRhcnlCdXR0b25Eb3duXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1wicmVzaXplXCIsIFwiYnV0dG9uXCIsIFwiaWNvblwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNyaXNwOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCAwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIDEyLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDQsIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oNCwgMTIuNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJzZWNvbmRhcnlCdXR0b25UZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInJlc2l6ZVwiLCBcInZlcnRpY2FsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICByb3RhdGlvbjogOTAsXHJcbiAgICAgICAgICAgIGN1cnNvck92ZXJTdHlsZTogXCJucy1yZXNpemVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wicmVzaXplXCIsIFwiaG9yaXpvbnRhbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcImV3LXJlc2l6ZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogUGxheUJ1dHRvblxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wicGxheVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMTMsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDEzLFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMTQsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMTQsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiUGxheVwiKSxcclxuICAgICAgICAgICAgdG9nZ2xlS2V5OiBcImFjdGl2ZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wicGxheVwiLCBcImJhY2tncm91bmRcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogMTAwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDEwMCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogMTAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkdyYXBoaWNzXCIsIFtcInBsYXlcIiwgXCJpY29uXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIGR4OiAxLFxyXG4gICAgICAgICAgICAgICAgZHJhdzogKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCAtNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oOCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgLTUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25UZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiR3JhcGhpY3NcIiwgW1wicGxheVwiLCBcImljb25cIl0pLnN0YXRlcy5jcmVhdGUoXCJkZWZhdWx0XCIsIHtcclxuICAgICAgICAgICAgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJwbGF5XCIsIFwiaWNvblwiXSkuc3RhdGVzLmNyZWF0ZShcImFjdGl2ZVwiLCB7XHJcbiAgICAgICAgICAgIHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIGRyYXc6IChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygtNCwgLTUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oLTEsIC01KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKC0xLCA1KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKC00LCA1KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKC00LCAtNSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbyg0LCAtNSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygxLCAtNSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygxLCA1KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDQsIDUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oNCwgLTUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogU3dpdGNoQnV0dG9uXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJzd2l0Y2hcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDQsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDQsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiA0LFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDQsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiUHJlc3MgRU5URVIgdG8gdG9nZ2xlXCIpLFxyXG4gICAgICAgICAgICB0b2dnbGVLZXk6IFwiYWN0aXZlXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiA0MCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAyNCxcclxuICAgICAgICAgICAgbGF5b3V0OiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wic3dpdGNoXCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNSxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMTAwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDEwMCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiQ2lyY2xlXCIsIFtcInN3aXRjaFwiLCBcImljb25cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IDgsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJZOiAwLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyWDogMCxcclxuICAgICAgICAgICAgICAgIGR4OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJzd2l0Y2hcIiwgXCJpY29uXCJdKS5zdGF0ZXMuY3JlYXRlKFwiYWN0aXZlXCIsIHtcclxuICAgICAgICAgICAgZHg6IDE2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogU2Nyb2xsYmFyXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIlNjcm9sbGJhclwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgICAgZW5kOiAxLFxyXG4gICAgICAgICAgICBsYXllcjogMzAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJGVhc2Uub3V0KCRlYXNlLmN1YmljKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJTY3JvbGxiYXJcIiwgW1widmVydGljYWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAxMyxcclxuICAgICAgICAgICAgbWFyZ2luTGVmdDogMTMsXHJcbiAgICAgICAgICAgIG1pbldpZHRoOiAxMixcclxuICAgICAgICAgICAgaGVpZ2h0OiBwMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlNjcm9sbGJhclwiLCBbXCJob3Jpem9udGFsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IDEzLFxyXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IDEzLFxyXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDEyLFxyXG4gICAgICAgICAgICB3aWR0aDogcDEwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucnVsZShcIkJ1dHRvblwiLCBbXCJzY3JvbGxiYXJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGV4cG9ydGFibGU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wic2Nyb2xsYmFyXCIsIFwibWFpblwiLCBcImJhY2tncm91bmRcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogOCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiA4LFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzVFI6IDgsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogOCxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiZmlsbFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wic2Nyb2xsYmFyXCIsIFwidGh1bWJcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInNsaWRlclwiLFxyXG4gICAgICAgICAgICAgICAgYXJpYUxpdmU6IFwicG9saXRlXCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwic2Vjb25kYXJ5QnV0dG9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzY3JvbGxiYXJcIiwgXCJ0aHVtYlwiXSkuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInNlY29uZGFyeUJ1dHRvbkhvdmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzY3JvbGxiYXJcIiwgXCJ0aHVtYlwiXSkuc3RhdGVzLmNyZWF0ZShcImRvd25cIiwgeyBzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uOiAwIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwic2Vjb25kYXJ5QnV0dG9uRG93blwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wic2Nyb2xsYmFyXCIsIFwidGh1bWJcIiwgXCJ2ZXJ0aWNhbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgeDogcDUwLFxyXG4gICAgICAgICAgICB3aWR0aDogcDEwMCxcclxuICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICBhcmlhTGFiZWw6IGxhbmd1YWdlLnRyYW5zbGF0ZShcIlVzZSB1cCBhbmQgZG93biBhcnJvd3MgdG8gbW92ZSBzZWxlY3Rpb25cIilcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzY3JvbGxiYXJcIiwgXCJ0aHVtYlwiLCBcImhvcml6b250YWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHk6IHA1MCxcclxuICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDAsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiVXNlIGxlZnQgYW5kIHJpZ2h0IGFycm93cyB0byBtb3ZlIHNlbGVjdGlvblwiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEB0b2RvOiBpcyB0aGlzIG5lZWRlZD8gdXNlZCB0byBiZSBcIkNvbnRlbnRTY3JvbGxiYXJcIlxyXG4gICAgICAgIC8vIHIoXCJTY3JvbGxiYXJcIiwgW1wiY29udGVudD9cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgLy8gXHRtYXJnaW5SaWdodDogMCxcclxuICAgICAgICAvLyBcdG1hcmdpbkxlZnQ6IDUsXHJcbiAgICAgICAgLy8gXHRsYXllcjogNVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgICAqIGNoYXJ0cy94eVxyXG4gICAgICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhpcyBuZWVkcyB0byBiZSBpbiBEZWZhdWx0VGhlbWUgYmVjYXVzZSBpdCdzIHRoZSBvbmx5IHRoZW1lIHRoYXQgaXNcclxuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgdG8gUm9vdCwgYW5kIHRvb2x0aXBzIGRpZmZlcmVudCBhbmNlc3RvcnNcclxuICAgICAgICAgKiB0aGFuIGFjdHVhbCBjaGFydHMgdXNpbmcgdGhlbS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUG9pbnRlZFJlY3RhbmdsZVwiLCBbXCJheGlzXCIsIFwidG9vbHRpcFwiLCBcImJhY2tncm91bmRcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM6IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJhbHRlcm5hdGl2ZUJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJheGlzXCIsIFwidG9vbHRpcFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcm9sZTogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkxhYmVsXCIsIFtcImF4aXNcIiwgXCJ0b29sdGlwXCIsIFwieVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wiYXhpc1wiLCBcInRvb2x0aXBcIiwgXCJ5XCIsIFwib3Bwb3NpdGVcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wiYXhpc1wiLCBcInRvb2x0aXBcIiwgXCJ4XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiVG9vbHRpcFwiLCBbXCJjYXRlZ29yeWF4aXNcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGxhYmVsVGV4dDogXCJ7Y2F0ZWdvcnl9XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBTaGFwZXNcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICAvLyBDbGFzczogR3JhcGhpY3NcclxuICAgICAgICByKFwiU3RhclwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzcGlrZXM6IDUsXHJcbiAgICAgICAgICAgIGlubmVyUmFkaXVzOiA1LFxyXG4gICAgICAgICAgICByYWRpdXM6IDEwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU1RPQ0tcclxuICAgICAgICByKFwiVG9vbHRpcFwiLCBbXCJzdG9ja1wiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogNixcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogNSxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDcsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogN1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJQb2ludGVkUmVjdGFuZ2xlXCIsIFtcInRvb2x0aXBcIiwgXCJzdG9ja1wiLCBcImF4aXNcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBvaW50ZXJMZW5ndGg6IDAsXHJcbiAgICAgICAgICAgIHBvaW50ZXJCYXNlV2lkdGg6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1czogM1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJ0b29sdGlwXCIsIFwic3RvY2tcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZXNpemVyXHJcbiAgICAgICAgcihcIlNwcml0ZVJlc2l6ZXJcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgcm90YXRpb25TdGVwOiAxMCxcclxuICAgICAgICAgICAgaXNNZWFzdXJlZDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiQ29udGFpbmVyXCIsIFtcInJlc2l6ZXJcIiwgXCJncmlwXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJyZXNpemVyXCIsIFwiZ3JpcFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwiYWx0ZXJuYXRpdmVCYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJyZXNpemVyXCIsIFwiZ3JpcFwiLCBcIm91dGxpbmVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBydWxlLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7XHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiYWx0ZXJuYXRpdmVCYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJyZXNpemVyXCIsIFwiZ3JpcFwiLCBcImxlZnRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wicmVzaXplclwiLCBcImdyaXBcIiwgXCJyaWdodFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVFI6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUmVjdGFuZ2xlXCIsIFtcInJlc2l6ZXJcIiwgXCJyZWN0YW5nbGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk6IFsyLCAyXSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJhbHRlcm5hdGl2ZUJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJidXR0b25cIiwgXCJwbHVzXCIsIFwiaWNvblwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgeDogcDUwLFxyXG4gICAgICAgICAgICB5OiBwNTAsXHJcbiAgICAgICAgICAgIGRyYXc6IChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygtNCwgMCk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyg0LCAwKTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIC00KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDAsIDQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkdyYXBoaWNzXCIsIFtcImJ1dHRvblwiLCBcIm1pbnVzXCIsIFwiaWNvblwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgeDogcDUwLFxyXG4gICAgICAgICAgICB5OiBwNTAsXHJcbiAgICAgICAgICAgIGRyYXc6IChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygtNCwgMCk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyg0LCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJidXR0b25cIiwgXCJob21lXCIsIFwiaWNvblwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgeDogcDUwLFxyXG4gICAgICAgICAgICB5OiBwNTAsXHJcbiAgICAgICAgICAgIHN2Z1BhdGg6IFwiTSA4IC0xIEwgNiAtMSBMIDYgNyBMIDIgNyBMIDIgMSBMIC0yIDEgTCAtMiA3IEwgLTYgNyBMIC02IC0xIEwgLTggLTEgTCAwIC05IEwgOCAtMSBaIE0gOCAtMVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJ6b29tdG9vbHNcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG1hcmdpblRvcDogMSxcclxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlpvb21Ub29sc1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB4OiBwMTAwLFxyXG4gICAgICAgICAgICBjZW50ZXJYOiBwMTAwLFxyXG4gICAgICAgICAgICB5OiBwMTAwLFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwMTAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDEwLFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRUaGVtZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js":
/*!********************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/locales/en.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\r\n * amCharts 5 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v5/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n    \"firstDayOfWeek\": 1,\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Position of the percent sign in numbers\r\n    \"_percentPrefix\": null,\r\n    \"_percentSuffix\": \"%\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_millisecond_full\": \"HH:mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_second_full\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_minute_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_hour_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_day_full\": \"MMM dd, yyyy\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_week_full\": \"MMM dd, yyyy\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_month_full\": \"MMM, yyyy\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        let res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Press ENTER or use arrow keys to navigate\": \"\",\r\n    \"Press ENTER to open\": \"\",\r\n    \"Press ENTER to print.\": \"\",\r\n    \"Press ENTER to export as %1.\": \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    \"HTML\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n});\r\n//# sourceMappingURL=en.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS9sb2NhbGVzL2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS9sb2NhbGVzL2VuLmpzP2JiYjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIGFtQ2hhcnRzIDUgbG9jYWxlXHJcbiAqXHJcbiAqIExvY2FsZTogZW5cclxuICogTGFuZ3VhZ2U6IEludGVybmF0aW9uYWwgRW5nbGlzaFxyXG4gKiBBdXRob3I6IE1hcnR5bmFzIE1hamVyaXNcclxuICpcclxuICogRm9sbG93IGluc3RydWN0aW9ucyBpbiBbb24gdGhpcyBwYWdlXShodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS90dXRvcmlhbHMvY3JlYXRpbmctdHJhbnNsYXRpb25zLykgdG8gbWFrZSBjb3JyZWN0aW9ucyBvciBhZGQgbmV3IHRyYW5zbGF0aW9ucy5cclxuICpcclxuICogLS0tXHJcbiAqIEVkaXQgYnV0IGxlYXZlIHRoZSBoZWFkZXIgc2VjdGlvbiBhYm92ZSB0aGlzIGxpbmUuIFlvdSBjYW4gcmVtb3ZlIGFueVxyXG4gKiBzdWJzZXF1ZW50IGNvbW1lbnQgc2VjdGlvbnMuXHJcbiAqIC0tLVxyXG4gKlxyXG4gKiBVc2UgdGhpcyBmaWxlIGFzIGEgdGVtcGxhdGUgdG8gY3JlYXRlIHRyYW5zbGF0aW9ucy4gTGVhdmUgdGhlIGtleSBwYXJ0IGluXHJcbiAqIEVuZ2xpc2ggaW50YWN0LiBGaWxsIHRoZSB2YWx1ZSB3aXRoIGEgdHJhbnNsYXRpb24uXHJcbiAqXHJcbiAqIEVtcHR5IHN0cmluZyBtZWFucyBubyB0cmFuc2xhdGlvbiwgc28gZGVmYXVsdCBcIkludGVybmF0aW9uYWwgRW5nbGlzaFwiXHJcbiAqIHdpbGwgYmUgdXNlZC5cclxuICpcclxuICogSWYgeW91IG5lZWQgdGhlIHRyYW5zbGF0aW9uIHRvIGxpdGVyYWxseSBiZSBhbiBlbXB0eSBzdHJpbmcsIHVzZSBgbnVsbGBcclxuICogaW5zdGVhZC5cclxuICpcclxuICogSU1QT1JUQU5UOlxyXG4gKiBXaGVuIHRyYW5zbGF0aW5nIG1ha2UgZ29vZCBlZmZvcnQgdG8ga2VlcCB0aGUgdHJhbnNsYXRpb24gbGVuZ3RoXHJcbiAqIGF0IGxlYXN0IHRoZSBzYW1lIGNoYXJ0Y291bnQgYXMgdGhlIEVuZ2xpc2gsIGVzcGVjaWFsbHkgZm9yIHNob3J0IHByb21wdHMuXHJcbiAqXHJcbiAqIEhhdmluZyBzaWduaWZpY2FudGx5IGxvbmdlciBwcm9tcHRzIG1heSBkaXN0b3J0IHRoZSBhY3R1YWwgY2hhcnRzLlxyXG4gKlxyXG4gKiBOT1RFOlxyXG4gKiBTb21lIHByb21wdHMgLSBsaWtlIG1vbnRocyBvciB3ZWVrZGF5cyAtIGNvbWUgaW4gdHdvIHZlcnNpb25zOiBmdWxsIGFuZFxyXG4gKiBzaG9ydGVuZWQuXHJcbiAqXHJcbiAqIElmIHRoZXJlJ3Mgbm8gb2ZmaWNpYWwgc2hvcnRlbmVkIHZlcnNpb24gb2YgdGhlc2UgaW4geW91ciBsYW5ndWFnZSwgYW5kIGl0XHJcbiAqIHdvdWxkIG5vdCBiZSBwb3NzaWJsZSB0byBpbnZlbnQgc3VjaCBzaG9ydCB2ZXJzaW9ucyB0aGF0IGRvbid0IHNlZW0gd2VpcmRcclxuICogdG8gbmF0aXZlIHNwZWFrZXJzIG9mIHRoYXQgbGFuZ3VhZ2UsIGZpbGwgdGhvc2Ugd2l0aCB0aGUgc2FtZSBhcyBmdWxsXHJcbiAqIHZlcnNpb24uXHJcbiAqXHJcbiAqIFBMQUNFSE9MREVSUzpcclxuICogU29tZSBwcm9tcHRzIGhhdmUgcGxhY2Vob2xkZXJzIGxpa2UgXCIlMVwiLiBUaG9zZSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGFjdHVhbFxyXG4gKiB2YWx1ZXMgZHVyaW5nIHRyYW5zbGF0aW9uIGFuZCBzaG91bGQgYmUgcmV0YWluZWQgaW4gdGhlIHRyYW5zbGF0ZWQgcHJvbXB0cy5cclxuICpcclxuICogUGxhY2Vob2xkZXIgcG9zaXRpb25zIG1heSBiZSBjaGFuZ2VkIHRvIGJldHRlciBzdWl0IHN0cnVjdHVyZSBvZiB0aGVcclxuICogc2VudGVuY2UuXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlIFwiRnJvbSAlMSB0byAlMlwiLCB3aGVuIGFjdHVhbGx5IHVzZWQgd2lsbCByZXBsYWNlIFwiJTFcIiB3aXRoIGFuXHJcbiAqIGFjdHVhbCB2YWx1ZSByZXByZXNlbnRpbmcgcmFuZ2Ugc3RhcnQsIGFuZCBcIiUyXCIgd2lsbCBiZSByZXBsYWNlZCBieSBlbmRcclxuICogdmFsdWUuXHJcbiAqXHJcbiAqIEUuZy4gaW4gYSBTY3JvbGxiYXIgZm9yIFZhbHVlIGF4aXMgXCJGcm9tICUxIHRvICUyXCIgd2lsbCBiZWNvbWVcclxuICogXCJGcm9tIDEwMCB0byAyMDBcIi4gWW91IG1heSB0cmFuc2xhdGUgXCJGcm9tXCIgYW5kIFwidG9cIiwgYXMgd2VsbCBhcyByZS1hcnJhbmdlXHJcbiAqIHRoZSBvcmRlciBvZiB0aGUgcHJvbXB0IGl0c2VsZiwgYnV0IG1ha2Ugc3VyZSB0aGUgXCIlMVwiIGFuZCBcIiUyXCIgcmVtYWluLCBpblxyXG4gKiBwbGFjZXMgd2hlcmUgdGhleSB3aWxsIG1ha2Ugc2Vuc2UuXHJcbiAqXHJcbiAqIFNhdmUgdGhlIGZpbGUgYXMgbGFuZ3VhZ2VfTE9DQUxFLCBpLmUuIGBlbl9HQi50c2AsIGBmcl9GUi50c2AsIGV0Yy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFwiZmlyc3REYXlPZldlZWtcIjogMSxcclxuICAgIC8vIE51bWJlciBmb3JtYXR0aW5nIG9wdGlvbnMuXHJcbiAgICAvLyBcclxuICAgIC8vIFBsZWFzZSBjaGVjayB3aXRoIHRoZSBsb2NhbCBzdGFuZGFyZHMgd2hpY2ggc2VwYXJhdG9yIGlzIGFjY2VwdGVkIHRvIGJlXHJcbiAgICAvLyB1c2VkIGZvciBzZXBhcmF0aW5nIGRlY2ltYWxzLCBhbmQgd2hpY2ggZm9yIHRob3VzYW5kcy5cclxuICAgIFwiX2RlY2ltYWxTZXBhcmF0b3JcIjogXCIuXCIsXHJcbiAgICBcIl90aG91c2FuZFNlcGFyYXRvclwiOiBcIixcIixcclxuICAgIC8vIFBvc2l0aW9uIG9mIHRoZSBwZXJjZW50IHNpZ24gaW4gbnVtYmVyc1xyXG4gICAgXCJfcGVyY2VudFByZWZpeFwiOiBudWxsLFxyXG4gICAgXCJfcGVyY2VudFN1ZmZpeFwiOiBcIiVcIixcclxuICAgIC8vIFN1ZmZpeGVzIGZvciBudW1iZXJzXHJcbiAgICAvLyBXaGVuIGZvcm1hdHRpbmcgbnVtYmVycywgYmlnIG9yIHNtYWxsIG51bWVycyBtaWdodCBiZSByZWZvcm1hdHRlZCB0b1xyXG4gICAgLy8gc2hvcnRlciB2ZXJzaW9uLCBieSBhcHBseWluZyBhIHN1ZmZpeC5cclxuICAgIC8vIFxyXG4gICAgLy8gRm9yIGV4YW1wbGUsIDEwMDAwMDAgbWlnaHQgYmVjb21lIFwiMW1cIi5cclxuICAgIC8vIE9yIDEwMjQgbWlnaHQgYmVjb21lIFwiMUtCXCIgaWYgd2UncmUgZm9ybWF0dGluZyBieXRlIG51bWJlcnMuXHJcbiAgICAvLyBcclxuICAgIC8vIFRoaXMgc2VjdGlvbiBkZWZpbmVzIHN1Y2ggc3VmZml4ZXMgZm9yIGFsbCBzdWNoIGNhc2VzLlxyXG4gICAgXCJfYmlnX251bWJlcl9zdWZmaXhfM1wiOiBcImtcIixcclxuICAgIFwiX2JpZ19udW1iZXJfc3VmZml4XzZcIjogXCJNXCIsXHJcbiAgICBcIl9iaWdfbnVtYmVyX3N1ZmZpeF85XCI6IFwiR1wiLFxyXG4gICAgXCJfYmlnX251bWJlcl9zdWZmaXhfMTJcIjogXCJUXCIsXHJcbiAgICBcIl9iaWdfbnVtYmVyX3N1ZmZpeF8xNVwiOiBcIlBcIixcclxuICAgIFwiX2JpZ19udW1iZXJfc3VmZml4XzE4XCI6IFwiRVwiLFxyXG4gICAgXCJfYmlnX251bWJlcl9zdWZmaXhfMjFcIjogXCJaXCIsXHJcbiAgICBcIl9iaWdfbnVtYmVyX3N1ZmZpeF8yNFwiOiBcIllcIixcclxuICAgIFwiX3NtYWxsX251bWJlcl9zdWZmaXhfM1wiOiBcIm1cIixcclxuICAgIFwiX3NtYWxsX251bWJlcl9zdWZmaXhfNlwiOiBcIs68XCIsXHJcbiAgICBcIl9zbWFsbF9udW1iZXJfc3VmZml4XzlcIjogXCJuXCIsXHJcbiAgICBcIl9zbWFsbF9udW1iZXJfc3VmZml4XzEyXCI6IFwicFwiLFxyXG4gICAgXCJfc21hbGxfbnVtYmVyX3N1ZmZpeF8xNVwiOiBcImZcIixcclxuICAgIFwiX3NtYWxsX251bWJlcl9zdWZmaXhfMThcIjogXCJhXCIsXHJcbiAgICBcIl9zbWFsbF9udW1iZXJfc3VmZml4XzIxXCI6IFwielwiLFxyXG4gICAgXCJfc21hbGxfbnVtYmVyX3N1ZmZpeF8yNFwiOiBcInlcIixcclxuICAgIFwiX2J5dGVfc3VmZml4X0JcIjogXCJCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9LQlwiOiBcIktCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9NQlwiOiBcIk1CXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9HQlwiOiBcIkdCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9UQlwiOiBcIlRCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9QQlwiOiBcIlBCXCIsXHJcbiAgICAvLyBEZWZhdWx0IGRhdGUgZm9ybWF0cyBmb3IgdmFyaW91cyBwZXJpb2RzLlxyXG4gICAgLy8gXHJcbiAgICAvLyBUaGlzIHNob3VsZCByZWZsZWN0IG9mZmljaWFsIG9yIGRlIGZhY3RvIGZvcm1hdHRpbmcgdW5pdmVyc2FsbHkgYWNjZXB0ZWRcclxuICAgIC8vIGluIHRoZSBjb3VudHJ5IHRyYW5zbGF0aW9uIGlzIGJlaW5nIG1hZGUgZm9yXHJcbiAgICAvLyBBdmFpbGFibGUgZm9ybWF0IGNvZGVzIGhlcmU6XHJcbiAgICAvLyBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZGF0ZXMvI0Zvcm1hdF9jb2Rlc1xyXG4gICAgLy8gXHJcbiAgICAvLyBUaGlzIHdpbGwgYmUgdXNlZCB3aGVuIGZvcm1hdHRpbmcgZGF0ZS90aW1lIGZvciBwYXJ0aWN1bGFyIGdyYW51bGFyaXR5LFxyXG4gICAgLy8gZS5nLiBcIl9kYXRlX2hvdXJcIiB3aWxsIGJlIHNob3duIHdoZW5ldmVyIHdlIG5lZWQgdG8gc2hvdyB0aW1lIGFzIGhvdXJzLlxyXG4gICAgLy8gXHJcbiAgICAvLyBcImRhdGVcIiBpcyB1c2VkIGFzIGluIGRlZmF1bHQgZGF0ZSBmb3JtYXQgd2hlbiBzaG93aW5nIHN0YW5kYWxvbmUgZGF0ZXMuXHJcbiAgICBcIl9kYXRlXCI6IFwieXl5eS1NTS1kZFwiLFxyXG4gICAgXCJfZGF0ZV9taWxsaXNlY29uZFwiOiBcIm1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZGF0ZV9taWxsaXNlY29uZF9mdWxsXCI6IFwiSEg6bW06c3MgU1NTXCIsXHJcbiAgICBcIl9kYXRlX3NlY29uZFwiOiBcIkhIOm1tOnNzXCIsXHJcbiAgICBcIl9kYXRlX3NlY29uZF9mdWxsXCI6IFwiSEg6bW06c3NcIixcclxuICAgIFwiX2RhdGVfbWludXRlXCI6IFwiSEg6bW1cIixcclxuICAgIFwiX2RhdGVfbWludXRlX2Z1bGxcIjogXCJISDptbSAtIE1NTSBkZCwgeXl5eVwiLFxyXG4gICAgXCJfZGF0ZV9ob3VyXCI6IFwiSEg6bW1cIixcclxuICAgIFwiX2RhdGVfaG91cl9mdWxsXCI6IFwiSEg6bW0gLSBNTU0gZGQsIHl5eXlcIixcclxuICAgIFwiX2RhdGVfZGF5XCI6IFwiTU1NIGRkXCIsXHJcbiAgICBcIl9kYXRlX2RheV9mdWxsXCI6IFwiTU1NIGRkLCB5eXl5XCIsXHJcbiAgICBcIl9kYXRlX3dlZWtcIjogXCJ3d1wiLFxyXG4gICAgXCJfZGF0ZV93ZWVrX2Z1bGxcIjogXCJNTU0gZGQsIHl5eXlcIixcclxuICAgIFwiX2RhdGVfbW9udGhcIjogXCJNTU1cIixcclxuICAgIFwiX2RhdGVfbW9udGhfZnVsbFwiOiBcIk1NTSwgeXl5eVwiLFxyXG4gICAgXCJfZGF0ZV95ZWFyXCI6IFwieXl5eVwiLFxyXG4gICAgLy8gRGVmYXVsdCBkdXJhdGlvbiBmb3JtYXRzIGZvciB2YXJpb3VzIGJhc2UgdW5pdHMuXHJcbiAgICAvLyBcclxuICAgIC8vIFRoaXMgd2lsbCBiZSB1c2VkIGJ5IER1cmF0aW9uRm9ybWF0dGVyIHRvIGZvcm1hdCBudW1lcmljIHZhbHVlcyBpbnRvXHJcbiAgICAvLyBkdXJhdGlvbi5cclxuICAgIC8vIFxyXG4gICAgLy8gTm90aWNlIGhvdyBlYWNoIGR1cmF0aW9uIHVuaXQgY29tZXMgaW4gc2V2ZXJhbCB2ZXJzaW9ucy4gVGhpcyBpcyB0byBlbnN1cmVcclxuICAgIC8vIHRoYXQgZWFjaCBiYXNlIHVuaXQgaXMgc2hvd24gY29ycmVjdGx5LlxyXG4gICAgLy8gXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgaWYgd2UgaGF2ZSBiYXNlVW5pdCBzZXQgdG8gXCJzZWNvbmRcIiwgbWVhbmluZyBvdXIgZHVyYXRpb24gaXNcclxuICAgIC8vIGluIHNlY29uZHMuXHJcbiAgICAvLyBcclxuICAgIC8vIElmIHdlIHBhc3MgaW4gYDUwYCB0byBmb3JtYXR0ZXIsIGl0IHdpbGwga25vdyB0aGF0IHdlIGhhdmUganVzdCA1MCBzZWNvbmRzXHJcbiAgICAvLyAobGVzcyB0aGFuIGEgbWludXRlKSBzbyBpdCB3aWxsIHVzZSBmb3JtYXQgaW4gYFwiX2R1cmF0aW9uX3NlY29uZFwiYCAoXCJzc1wiKSxcclxuICAgIC8vIGFuZCB0aGUgZm9ybWF0dGVkIHJlc3VsdCB3aWxsIGJlIGluIGxpa2UgYFwiNTBcImAuXHJcbiAgICAvLyBcclxuICAgIC8vIElmIHdlIHBhc3MgaW4gYDcwYCwgd2hpY2ggaXMgbW9yZSB0aGFuIGEgbWludXRlLCB0aGUgZm9ybWF0dGVyIHdpbGwgc3dpdGNoXHJcbiAgICAvLyB0byBgXCJfZHVyYXRpb25fc2Vjb25kX21pbnV0ZVwiYCAoXCJtbTpzc1wiKSwgcmVzdWx0aW5nIGluIFwiMDE6MTBcIiBmb3JtYXR0ZWRcclxuICAgIC8vIHRleHQuXHJcbiAgICAvLyBcclxuICAgIC8vIEF2YWlsYWJsZSBjb2RlcyBoZXJlOlxyXG4gICAgLy8gaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjQvY29uY2VwdHMvZm9ybWF0dGVycy9mb3JtYXR0aW5nLWR1cmF0aW9uLyNBdmFpbGFibGVfQ29kZXNcclxuICAgIFwiX2R1cmF0aW9uX21pbGxpc2Vjb25kXCI6IFwiU1NTXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taWxsaXNlY29uZF9zZWNvbmRcIjogXCJzcy5TU1NcIixcclxuICAgIFwiX2R1cmF0aW9uX21pbGxpc2Vjb25kX21pbnV0ZVwiOiBcIm1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfaG91clwiOiBcImhoOm1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfZGF5XCI6IFwiZCdkJyBtbTpzcyBTU1NcIixcclxuICAgIFwiX2R1cmF0aW9uX21pbGxpc2Vjb25kX3dlZWtcIjogXCJkJ2QnIG1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfbW9udGhcIjogXCJNJ20nIGRkJ2QnIG1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCcgbW06c3MgU1NTXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRcIjogXCJzc1wiLFxyXG4gICAgXCJfZHVyYXRpb25fc2Vjb25kX21pbnV0ZVwiOiBcIm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfaG91clwiOiBcImhoOm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfZGF5XCI6IFwiZCdkJyBoaDptbTpzc1wiLFxyXG4gICAgXCJfZHVyYXRpb25fc2Vjb25kX3dlZWtcIjogXCJkJ2QnIGhoOm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfbW9udGhcIjogXCJNJ20nIGRkJ2QnIGhoOm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCcgaGg6bW06c3NcIixcclxuICAgIFwiX2R1cmF0aW9uX21pbnV0ZVwiOiBcIm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfaG91clwiOiBcImhoOm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfZGF5XCI6IFwiZCdkJyBoaDptbVwiLFxyXG4gICAgXCJfZHVyYXRpb25fbWludXRlX3dlZWtcIjogXCJkJ2QnIGhoOm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfbW9udGhcIjogXCJNJ20nIGRkJ2QnIGhoOm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCcgaGg6bW1cIixcclxuICAgIFwiX2R1cmF0aW9uX2hvdXJcIjogXCJoaCdoJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25faG91cl9kYXlcIjogXCJkJ2QnIGhoJ2gnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9ob3VyX3dlZWtcIjogXCJkJ2QnIGhoJ2gnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9ob3VyX21vbnRoXCI6IFwiTSdtJyBkZCdkJyBoaCdoJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25faG91cl95ZWFyXCI6IFwieSd5JyBNTSdtJyBkZCdkJyBoaCdoJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25fZGF5XCI6IFwiZCdkJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25fZGF5X3dlZWtcIjogXCJkJ2QnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9kYXlfbW9udGhcIjogXCJNJ20nIGRkJ2QnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9kYXlfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCdcIixcclxuICAgIFwiX2R1cmF0aW9uX3dlZWtcIjogXCJ3J3cnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl93ZWVrX21vbnRoXCI6IFwidyd3J1wiLFxyXG4gICAgXCJfZHVyYXRpb25fd2Vla195ZWFyXCI6IFwidyd3J1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbW9udGhcIjogXCJNJ20nXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9tb250aF95ZWFyXCI6IFwieSd5JyBNTSdtJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25feWVhclwiOiBcInkneSdcIixcclxuICAgIC8vIEVyYSB0cmFuc2xhdGlvbnNcclxuICAgIFwiX2VyYV9hZFwiOiBcIkFEXCIsXHJcbiAgICBcIl9lcmFfYmNcIjogXCJCQ1wiLFxyXG4gICAgLy8gRGF5IHBhcnQsIHVzZWQgaW4gMTItaG91ciBmb3JtYXRzLCBlLmcuIDUgUC5NLlxyXG4gICAgLy8gUGxlYXNlIG5vdGUgdGhhdCB0aGVzZSBjb21lIGluIDMgdmFyaWFudHM6XHJcbiAgICAvLyAqIG9uZSBsZXR0ZXIgKGUuZy4gXCJBXCIpXHJcbiAgICAvLyAqIHR3byBsZXR0ZXJzIChlLmcuIFwiQU1cIilcclxuICAgIC8vICogdHdvIGxldHRlcnMgd2l0aCBkb3RzIChlLmcuIFwiQS5NLlwiKVxyXG4gICAgLy8gXHJcbiAgICAvLyBBbGwgdGhyZWUgbmVlZCB0byB0byBiZSB0cmFuc2xhdGVkIGV2ZW4gaWYgdGhleSBhcmUgYWxsIHRoZSBzYW1lLiBTb21lXHJcbiAgICAvLyB1c2VycyBtaWdodCB1c2Ugb25lLCBzb21lIHRoZSBvdGhlci5cclxuICAgIFwiQVwiOiBcIlwiLFxyXG4gICAgXCJQXCI6IFwiXCIsXHJcbiAgICBcIkFNXCI6IFwiXCIsXHJcbiAgICBcIlBNXCI6IFwiXCIsXHJcbiAgICBcIkEuTS5cIjogXCJcIixcclxuICAgIFwiUC5NLlwiOiBcIlwiLFxyXG4gICAgLy8gRGF0ZS1yZWxhdGVkIHN0dWZmLlxyXG4gICAgLy8gXHJcbiAgICAvLyBXaGVuIHRyYW5zbGF0aW5nIG1vbnRocywgaWYgdGhlcmUncyBhIGRpZmZlcmVuY2UsIHVzZSB0aGUgZm9ybSB3aGljaCBpc1xyXG4gICAgLy8gYmVzdCBmb3IgYSBmdWxsIGRhdGUsIGUuZy4gYXMgeW91IHdvdWxkIHVzZSBpdCBpbiBcIjIwMTggSmFudWFyeSAxXCIuXHJcbiAgICAvLyBcclxuICAgIC8vIE5vdGUgdGhhdCBNYXkgaXMgbGlzdGVkIHR3aWNlLiBUaGlzIGlzIGJlY2F1c2UgaW4gRW5nbGlzaCBNYXkgaXMgdGhlIHNhbWVcclxuICAgIC8vIGluIGJvdGggbG9uZyBhbmQgc2hvcnQgZm9ybXMsIHdoaWxlIGluIG90aGVyIGxhbmd1YWdlcyBpdCBtYXkgbm90IGJlIHRoZVxyXG4gICAgLy8gY2FzZS4gVHJhbnNsYXRlIFwiTWF5XCIgdG8gZnVsbCB3b3JkLCB3aGlsZSBcIk1heShzaG9ydClcIiB0byBzaG9ydGVuZWRcclxuICAgIC8vIHZlcnNpb24uXHJcbiAgICAvLyBcclxuICAgIC8vIFNob3VsZCBtb250aCBuYW1lcyBhbmQgd2Vla2RheXMgYmUgY2FwaXRhbGl6ZWQgb3Igbm90P1xyXG4gICAgLy8gXHJcbiAgICAvLyBSdWxlIG9mIHRodW1iIGlzIHRoaXM6IGlmIHRoZSBuYW1lcyBzaG91bGQgYWx3YXlzIGJlIGNhcGl0YWxpemVkLFxyXG4gICAgLy8gcmVnYXJkbGVzcyBvZiBuYW1lIHBvc2l0aW9uIHdpdGhpbiBkYXRlIChcIkphbnVhcnlcIiwgXCIyMXN0IEphbnVhcnkgMjAxOFwiLFxyXG4gICAgLy8gZXRjLikgdXNlIGNhcGl0YWxpemVkIG5hbWVzLiBPdGhlcndpc2UgZW50ZXIgYWxsIGxvd2VyY2FzZS5cclxuICAgIC8vIFxyXG4gICAgLy8gVGhlIGRhdGUgZm9ybWF0dGVyIHdpbGwgYXV0b21hdGljYWxseSBjYXBpdGFsaXplIG5hbWVzIGlmIHRoZXkgYXJlIHRoZVxyXG4gICAgLy8gZmlyc3QgKG9yIG9ubHkpIHdvcmQgaW4gcmVzdWx0aW5nIGRhdGUuXHJcbiAgICBcIkphbnVhcnlcIjogXCJcIixcclxuICAgIFwiRmVicnVhcnlcIjogXCJcIixcclxuICAgIFwiTWFyY2hcIjogXCJcIixcclxuICAgIFwiQXByaWxcIjogXCJcIixcclxuICAgIFwiTWF5XCI6IFwiXCIsXHJcbiAgICBcIkp1bmVcIjogXCJcIixcclxuICAgIFwiSnVseVwiOiBcIlwiLFxyXG4gICAgXCJBdWd1c3RcIjogXCJcIixcclxuICAgIFwiU2VwdGVtYmVyXCI6IFwiXCIsXHJcbiAgICBcIk9jdG9iZXJcIjogXCJcIixcclxuICAgIFwiTm92ZW1iZXJcIjogXCJcIixcclxuICAgIFwiRGVjZW1iZXJcIjogXCJcIixcclxuICAgIFwiSmFuXCI6IFwiXCIsXHJcbiAgICBcIkZlYlwiOiBcIlwiLFxyXG4gICAgXCJNYXJcIjogXCJcIixcclxuICAgIFwiQXByXCI6IFwiXCIsXHJcbiAgICBcIk1heShzaG9ydClcIjogXCJNYXlcIixcclxuICAgIFwiSnVuXCI6IFwiXCIsXHJcbiAgICBcIkp1bFwiOiBcIlwiLFxyXG4gICAgXCJBdWdcIjogXCJcIixcclxuICAgIFwiU2VwXCI6IFwiXCIsXHJcbiAgICBcIk9jdFwiOiBcIlwiLFxyXG4gICAgXCJOb3ZcIjogXCJcIixcclxuICAgIFwiRGVjXCI6IFwiXCIsXHJcbiAgICAvLyBXZWVrZGF5cy5cclxuICAgIFwiU3VuZGF5XCI6IFwiXCIsXHJcbiAgICBcIk1vbmRheVwiOiBcIlwiLFxyXG4gICAgXCJUdWVzZGF5XCI6IFwiXCIsXHJcbiAgICBcIldlZG5lc2RheVwiOiBcIlwiLFxyXG4gICAgXCJUaHVyc2RheVwiOiBcIlwiLFxyXG4gICAgXCJGcmlkYXlcIjogXCJcIixcclxuICAgIFwiU2F0dXJkYXlcIjogXCJcIixcclxuICAgIFwiU3VuXCI6IFwiXCIsXHJcbiAgICBcIk1vblwiOiBcIlwiLFxyXG4gICAgXCJUdWVcIjogXCJcIixcclxuICAgIFwiV2VkXCI6IFwiXCIsXHJcbiAgICBcIlRodVwiOiBcIlwiLFxyXG4gICAgXCJGcmlcIjogXCJcIixcclxuICAgIFwiU2F0XCI6IFwiXCIsXHJcbiAgICAvLyBEYXRlIG9yZGluYWwgZnVuY3Rpb24uXHJcbiAgICAvLyBcclxuICAgIC8vIFRoaXMgaXMgdXNlZCB3aGVuIGFkZGluZyBudW1iZXIgb3JkaW5hbCB3aGVuIGZvcm1hdHRpbmcgZGF5cyBpbiBkYXRlcy5cclxuICAgIC8vIFxyXG4gICAgLy8gRS5nLiBcIkphbnVhcnkgMXN0XCIsIFwiRmVicnVhcnkgMm5kXCIuXHJcbiAgICAvLyBcclxuICAgIC8vIFRoZSBmdW5jdGlvbiBhY2NlcHRzIGRheSBudW1iZXIsIGFuZCByZXR1cm5zIGEgc3RyaW5nIHRvIGJlIGFkZGVkIHRvIHRoZVxyXG4gICAgLy8gZGF5LCBsaWtlIGluIGRlZmF1bHQgRW5nbGlzaCB0cmFuc2xhdGlvbiwgaWYgd2UgcGFzcyBpbiAyLCB3ZSB3aWxsIHJlY2VpdmVcclxuICAgIC8vIFwibmRcIiBiYWNrLlxyXG4gICAgXCJfZGF0ZU9yZFwiOiBmdW5jdGlvbiAoZGF5KSB7XHJcbiAgICAgICAgbGV0IHJlcyA9IFwidGhcIjtcclxuICAgICAgICBpZiAoKGRheSA8IDExKSB8fCAoZGF5ID4gMTMpKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZGF5ICUgMTApIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBcInN0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gXCJuZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IFwicmRcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSxcclxuICAgIC8vIFZhcmlvdXMgY2hhcnQgY29udHJvbHMuXHJcbiAgICAvLyBTaG93biBhcyBhIHRvb2x0aXAgb24gem9vbSBvdXQgYnV0dG9uLlxyXG4gICAgXCJab29tIE91dFwiOiBcIlwiLFxyXG4gICAgLy8gVGltZWxpbmUgYnV0dG9uc1xyXG4gICAgXCJQbGF5XCI6IFwiXCIsXHJcbiAgICBcIlN0b3BcIjogXCJcIixcclxuICAgIC8vIENoYXJ0J3MgTGVnZW5kIHNjcmVlbiByZWFkZXIgdGl0bGUuXHJcbiAgICBcIkxlZ2VuZFwiOiBcIlwiLFxyXG4gICAgLy8gTGVnZW5kJ3MgaXRlbSBzY3JlZW4gcmVhZGVyIGluZGljYXRvci5cclxuICAgIFwiUHJlc3MgRU5URVIgdG8gdG9nZ2xlXCI6IFwiXCIsXHJcbiAgICAvLyBTaG93biB3aGVuIHRoZSBjaGFydCBpcyBidXN5IGxvYWRpbmcgc29tZXRoaW5nLlxyXG4gICAgXCJMb2FkaW5nXCI6IFwiXCIsXHJcbiAgICAvLyBTaG93biBhcyB0aGUgZmlyc3QgYnV0dG9uIGluIHRoZSBicmVhZGNydW1iIG5hdmlnYXRpb24sIGUuZy46XHJcbiAgICAvLyBIb21lID4gRmlyc3QgbGV2ZWwgPiAuLi5cclxuICAgIFwiSG9tZVwiOiBcIlwiLFxyXG4gICAgLy8gQ2hhcnQgdHlwZXMuXHJcbiAgICAvLyBUaG9zZSBhcmUgdXNlZCBhcyBkZWZhdWx0IHNjcmVlbiByZWFkZXIgdGl0bGVzIGZvciB0aGUgbWFpbiBjaGFydCBlbGVtZW50XHJcbiAgICAvLyB1bmxlc3MgZGV2ZWxvcGVyIGhhcyBzZXQgc29tZSBtb3JlIGRlc2NyaXB0aXZlIHRpdGxlLlxyXG4gICAgXCJDaGFydFwiOiBcIlwiLFxyXG4gICAgXCJTZXJpYWwgY2hhcnRcIjogXCJcIixcclxuICAgIFwiWC9ZIGNoYXJ0XCI6IFwiXCIsXHJcbiAgICBcIlBpZSBjaGFydFwiOiBcIlwiLFxyXG4gICAgXCJHYXVnZSBjaGFydFwiOiBcIlwiLFxyXG4gICAgXCJSYWRhciBjaGFydFwiOiBcIlwiLFxyXG4gICAgXCJTYW5rZXkgZGlhZ3JhbVwiOiBcIlwiLFxyXG4gICAgXCJGbG93IGRpYWdyYW1cIjogXCJcIixcclxuICAgIFwiQ2hvcmQgZGlhZ3JhbVwiOiBcIlwiLFxyXG4gICAgXCJUcmVlTWFwIGNoYXJ0XCI6IFwiXCIsXHJcbiAgICBcIkZvcmNlIGRpcmVjdGVkIHRyZWVcIjogXCJcIixcclxuICAgIFwiU2xpY2VkIGNoYXJ0XCI6IFwiXCIsXHJcbiAgICAvLyBTZXJpZXMgdHlwZXMuXHJcbiAgICAvLyBVc2VkIHRvIG5hbWUgc2VyaWVzIGJ5IHR5cGUgZm9yIHNjcmVlbiByZWFkZXJzIGlmIHRoZXkgZG8gbm90IGhhdmUgdGhlaXJcclxuICAgIC8vIG5hbWUgc2V0LlxyXG4gICAgXCJTZXJpZXNcIjogXCJcIixcclxuICAgIFwiQ2FuZGxlc3RpY2sgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIk9ITEMgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIkNvbHVtbiBTZXJpZXNcIjogXCJcIixcclxuICAgIFwiTGluZSBTZXJpZXNcIjogXCJcIixcclxuICAgIFwiUGllIFNsaWNlIFNlcmllc1wiOiBcIlwiLFxyXG4gICAgXCJGdW5uZWwgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIlB5cmFtaWQgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIlgvWSBTZXJpZXNcIjogXCJcIixcclxuICAgIC8vIE1hcC1yZWxhdGVkIHN0dWZmLlxyXG4gICAgXCJNYXBcIjogXCJcIixcclxuICAgIFwiUHJlc3MgRU5URVIgdG8gem9vbSBpblwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiB0byB6b29tIG91dFwiOiBcIlwiLFxyXG4gICAgXCJVc2UgYXJyb3cga2V5cyB0byB6b29tIGluIGFuZCBvdXRcIjogXCJcIixcclxuICAgIFwiVXNlIHBsdXMgYW5kIG1pbnVzIGtleXMgb24geW91ciBrZXlib2FyZCB0byB6b29tIGluIGFuZCBvdXRcIjogXCJcIixcclxuICAgIC8vIEV4cG9ydC1yZWxhdGVkIHN0dWZmLlxyXG4gICAgLy8gVGhlc2UgcHJvbXB0cyBhcmUgdXNlZCBpbiBFeHBvcnQgbWVudSBsYWJlbHMuXHJcbiAgICAvLyBcclxuICAgIC8vIFwiRXhwb3J0XCIgaXMgdGhlIHRvcC1sZXZlbCBtZW51IGl0ZW0uXHJcbiAgICAvLyBcclxuICAgIC8vIFwiSW1hZ2VcIiwgXCJEYXRhXCIsIFwiUHJpbnRcIiBhcyBzZWNvbmQtbGV2ZWwgaW5kaWNhdGluZyB0eXBlIG9mIGV4cG9ydFxyXG4gICAgLy8gb3BlcmF0aW9uLlxyXG4gICAgLy8gXHJcbiAgICAvLyBMZWF2ZSBhY3R1YWwgZm9ybWF0IHVudHJhbnNsYXRlZCwgdW5sZXNzIHlvdSBhYnNvbHV0ZWx5IGtub3cgdGhhdCB0aGV5XHJcbiAgICAvLyB3b3VsZCBjb252ZXkgbW9yZSBtZWFuaW5nIGluIHNvbWUgb3RoZXIgd2F5LlxyXG4gICAgXCJFeHBvcnRcIjogXCJcIixcclxuICAgIFwiSW1hZ2VcIjogXCJcIixcclxuICAgIFwiRGF0YVwiOiBcIlwiLFxyXG4gICAgXCJQcmludFwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiBvciB1c2UgYXJyb3cga2V5cyB0byBuYXZpZ2F0ZVwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiB0byBvcGVuXCI6IFwiXCIsXHJcbiAgICBcIlByZXNzIEVOVEVSIHRvIHByaW50LlwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiB0byBleHBvcnQgYXMgJTEuXCI6IFwiXCIsXHJcbiAgICBcIihQcmVzcyBFU0MgdG8gY2xvc2UgdGhpcyBtZXNzYWdlKVwiOiBcIlwiLFxyXG4gICAgXCJJbWFnZSBFeHBvcnQgQ29tcGxldGVcIjogXCJcIixcclxuICAgIFwiRXhwb3J0IG9wZXJhdGlvbiB0b29rIGxvbmdlciB0aGFuIGV4cGVjdGVkLiBTb21ldGhpbmcgbWlnaHQgaGF2ZSBnb25lIHdyb25nLlwiOiBcIlwiLFxyXG4gICAgXCJTYXZlZCBmcm9tXCI6IFwiXCIsXHJcbiAgICBcIlBOR1wiOiBcIlwiLFxyXG4gICAgXCJKUEdcIjogXCJcIixcclxuICAgIFwiR0lGXCI6IFwiXCIsXHJcbiAgICBcIlNWR1wiOiBcIlwiLFxyXG4gICAgXCJQREZcIjogXCJcIixcclxuICAgIFwiSlNPTlwiOiBcIlwiLFxyXG4gICAgXCJDU1ZcIjogXCJcIixcclxuICAgIFwiWExTWFwiOiBcIlwiLFxyXG4gICAgXCJIVE1MXCI6IFwiXCIsXHJcbiAgICAvLyBTY3JvbGxiYXItcmVsYXRlZCBzdHVmZi5cclxuICAgIC8vIFxyXG4gICAgLy8gU2Nyb2xsYmFyIGlzIGEgY29udHJvbCB3aGljaCBjYW4gem9vbSBhbmQgcGFuIHRoZSBheGVzIG9uIHRoZSBjaGFydC5cclxuICAgIC8vIFxyXG4gICAgLy8gRWFjaCBzY3JvbGxiYXIgaGFzIHR3byBncmlwczogbGVmdCBvciByaWdodCAoZm9yIGhvcml6b250YWwgc2Nyb2xsYmFyKSBvclxyXG4gICAgLy8gdXBwZXIgYW5kIGxvd2VyIChmb3IgdmVydGljYWwgb25lKS5cclxuICAgIC8vIFxyXG4gICAgLy8gUHJvbXB0cyBjaGFuZ2UgaW4gcmVsYXRpb24gdG8gd2hldGhlciBTY3JvbGxiYXIgaXMgdmVydGljYWwgb3IgaG9yaXpvbnRhbC5cclxuICAgIC8vIFxyXG4gICAgLy8gVGhlIGZpbmFsIHNlY3Rpb24gaXMgdXNlZCB0byBpbmRpY2F0ZSB0aGUgY3VycmVudCByYW5nZSBvZiBzZWxlY3Rpb24uXHJcbiAgICBcIlVzZSBUQUIgdG8gc2VsZWN0IGdyaXAgYnV0dG9ucyBvciBsZWZ0IGFuZCByaWdodCBhcnJvd3MgdG8gY2hhbmdlIHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJVc2UgbGVmdCBhbmQgcmlnaHQgYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCI6IFwiXCIsXHJcbiAgICBcIlVzZSBsZWZ0IGFuZCByaWdodCBhcnJvd3MgdG8gbW92ZSBsZWZ0IHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJVc2UgbGVmdCBhbmQgcmlnaHQgYXJyb3dzIHRvIG1vdmUgcmlnaHQgc2VsZWN0aW9uXCI6IFwiXCIsXHJcbiAgICBcIlVzZSBUQUIgc2VsZWN0IGdyaXAgYnV0dG9ucyBvciB1cCBhbmQgZG93biBhcnJvd3MgdG8gY2hhbmdlIHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJVc2UgdXAgYW5kIGRvd24gYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCI6IFwiXCIsXHJcbiAgICBcIlVzZSB1cCBhbmQgZG93biBhcnJvd3MgdG8gbW92ZSBsb3dlciBzZWxlY3Rpb25cIjogXCJcIixcclxuICAgIFwiVXNlIHVwIGFuZCBkb3duIGFycm93cyB0byBtb3ZlIHVwcGVyIHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJGcm9tICUxIHRvICUyXCI6IFwiXCIsXHJcbiAgICBcIkZyb20gJTFcIjogXCJcIixcclxuICAgIFwiVG8gJTFcIjogXCJcIixcclxuICAgIC8vIERhdGEgbG9hZGVyLXJlbGF0ZWQuXHJcbiAgICBcIk5vIHBhcnNlciBhdmFpbGFibGUgZm9yIGZpbGU6ICUxXCI6IFwiXCIsXHJcbiAgICBcIkVycm9yIHBhcnNpbmcgZmlsZTogJTFcIjogXCJcIixcclxuICAgIFwiVW5hYmxlIHRvIGxvYWQgZmlsZTogJTFcIjogXCJcIixcclxuICAgIFwiSW52YWxpZCBkYXRlXCI6IFwiXCIsXHJcbiAgICAvLyBDb21tb24gYWN0aW9uc1xyXG4gICAgXCJDbG9zZVwiOiBcIlwiLFxyXG4gICAgXCJNaW5pbWl6ZVwiOiBcIlwiXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/themes/Animated.js":
/*!*************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/themes/Animated.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _internal_themes_AnimatedTheme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../.internal/themes/AnimatedTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js\");\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_internal_themes_AnimatedTheme__WEBPACK_IMPORTED_MODULE_0__.AnimatedTheme);\r\n//# sourceMappingURL=Animated.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS90aGVtZXMvQW5pbWF0ZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0U7QUFDbEUsaUVBQWUseUVBQWEsRUFBQztBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRkaWUvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS90aGVtZXMvQW5pbWF0ZWQuanM/NzQ1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltYXRlZFRoZW1lIH0gZnJvbSBcIi4uLy5pbnRlcm5hbC90aGVtZXMvQW5pbWF0ZWRUaGVtZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBBbmltYXRlZFRoZW1lO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRlZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/themes/Animated.js\n");

/***/ })

};
;